(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.ChickenPaint = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ChickenPaint;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _engineCPBrushInfo = require("./engine/CPBrushInfo");

var _engineCPBrushInfo2 = _interopRequireDefault(_engineCPBrushInfo);

var _engineCPArtwork = require("./engine/CPArtwork");

var _engineCPArtwork2 = _interopRequireDefault(_engineCPArtwork);

var _engineCPResourceLoader = require("./engine/CPResourceLoader");

var _engineCPResourceLoader2 = _interopRequireDefault(_engineCPResourceLoader);

var _engineCPResourceSaver = require("./engine/CPResourceSaver");

var _engineCPResourceSaver2 = _interopRequireDefault(_engineCPResourceSaver);

var _guiCPSplashScreenJs = require("./gui/CPSplashScreen.js");

var _guiCPSplashScreenJs2 = _interopRequireDefault(_guiCPSplashScreenJs);

var _guiCPMainGUI = require("./gui/CPMainGUI");

var _guiCPMainGUI2 = _interopRequireDefault(_guiCPMainGUI);

var _guiCPAboutDialog = require("./gui/CPAboutDialog");

var _guiCPAboutDialog2 = _interopRequireDefault(_guiCPAboutDialog);

var _guiCPConfirmTransformDialog = require("./gui/CPConfirmTransformDialog");

var _guiCPConfirmTransformDialog2 = _interopRequireDefault(_guiCPConfirmTransformDialog);

var _guiCPShortcutsDialog = require("./gui/CPShortcutsDialog");

var _guiCPShortcutsDialog2 = _interopRequireDefault(_guiCPShortcutsDialog);

var _guiCPBoxBlurDialog = require("./gui/CPBoxBlurDialog");

var _guiCPBoxBlurDialog2 = _interopRequireDefault(_guiCPBoxBlurDialog);

var _guiCPTabletDialog = require("./gui/CPTabletDialog");

var _guiCPTabletDialog2 = _interopRequireDefault(_guiCPTabletDialog);

var _guiCPGridDialog = require("./gui/CPGridDialog");

var _guiCPGridDialog2 = _interopRequireDefault(_guiCPGridDialog);

var _guiCPSendDialog = require("./gui/CPSendDialog");

var _guiCPSendDialog2 = _interopRequireDefault(_guiCPSendDialog);

var _utilCPPolyfill = require("./util/CPPolyfill");

var _utilCPColor = require("./util/CPColor");

var _utilCPColor2 = _interopRequireDefault(_utilCPColor);

var _utilCPWacomTablet = require("./util/CPWacomTablet");

var _utilCPWacomTablet2 = _interopRequireDefault(_utilCPWacomTablet);

var _utilCPRect = require("./util/CPRect");

var _utilCPRect2 = _interopRequireDefault(_utilCPRect);

function isBrowserSupported() {
    return (0, _utilCPPolyfill.isCanvasSupported)() && "Uint8Array" in window;
}

function createDrawingTools() {
    var tools = new Array(ChickenPaint.T_MAX);

    tools[ChickenPaint.T_PENCIL] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_PENCIL,
        size: 16,
        alpha: 255,
        isAA: true,
        minSpacing: 0.5,
        spacing: 0.05,
        pressureSize: false,
        pressureAlpha: true,
        type: _engineCPBrushInfo2["default"].B_ROUND_AA,
        paintMode: _engineCPBrushInfo2["default"].M_PAINT
    });

    tools[ChickenPaint.T_ERASER] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_ERASER,
        size: 16,
        alpha: 255,
        isAA: true,
        minSpacing: 0.5,
        spacing: 0.05,
        pressureSize: false,
        pressureAlpha: false,
        type: _engineCPBrushInfo2["default"].B_ROUND_AA,
        paintMode: _engineCPBrushInfo2["default"].M_ERASE
    });

    tools[ChickenPaint.T_PEN] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_PEN,
        size: 2,
        alpha: 128,
        isAA: true,
        minSpacing: 0.5,
        spacing: 0.05,
        pressureSize: true,
        pressureAlpha: false,
        type: _engineCPBrushInfo2["default"].B_ROUND_AA,
        paintMode: _engineCPBrushInfo2["default"].M_PAINT
    });

    tools[ChickenPaint.T_SOFTERASER] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_SOFTERASER,
        size: 16,
        alpha: 64,
        isAA: false,
        isAirbrush: true,
        minSpacing: 0.5,
        spacing: 0.05,
        pressureSize: false,
        pressureAlpha: true,
        type: _engineCPBrushInfo2["default"].B_ROUND_AIRBRUSH,
        paintMode: _engineCPBrushInfo2["default"].M_ERASE
    });

    tools[ChickenPaint.T_AIRBRUSH] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_AIRBRUSH,
        size: 50,
        alpha: 32,
        isAA: false,
        isAirbrush: true,
        minSpacing: 0.5,
        spacing: 0.05,
        pressureSize: false,
        pressureAlpha: true,
        type: _engineCPBrushInfo2["default"].B_ROUND_AIRBRUSH,
        paintMode: _engineCPBrushInfo2["default"].M_PAINT
    });

    tools[ChickenPaint.T_DODGE] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_DODGE,
        size: 30,
        alpha: 32,
        isAA: false,
        isAirbrush: true,
        minSpacing: 0.5,
        spacing: 0.05,
        pressureSize: false,
        pressureAlpha: true,
        type: _engineCPBrushInfo2["default"].B_ROUND_AIRBRUSH,
        paintMode: _engineCPBrushInfo2["default"].M_DODGE
    });

    tools[ChickenPaint.T_BURN] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_BURN,
        size: 30,
        alpha: 32,
        isAA: false,
        isAirbrush: true,
        minSpacing: 0.5,
        spacing: 0.05,
        pressureSize: false,
        pressureAlpha: true,
        type: _engineCPBrushInfo2["default"].B_ROUND_AIRBRUSH,
        paintMode: _engineCPBrushInfo2["default"].M_BURN
    });

    tools[ChickenPaint.T_WATER] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_WATER,
        size: 30,
        alpha: 70,
        isAA: false,
        isAirbrush: true,
        minSpacing: 0.5,
        spacing: 0.02,
        pressureSize: false,
        pressureAlpha: true,
        type: _engineCPBrushInfo2["default"].B_ROUND_AA,
        paintMode: _engineCPBrushInfo2["default"].M_WATER,
        resat: 0.3,
        bleed: 0.6
    });

    tools[ChickenPaint.T_BLUR] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_BLUR,
        size: 20,
        alpha: 255,
        isAA: false,
        isAirbrush: true,
        minSpacing: 0.5,
        spacing: 0.05,
        pressureSize: false,
        pressureAlpha: true,
        type: _engineCPBrushInfo2["default"].B_ROUND_PIXEL,
        paintMode: _engineCPBrushInfo2["default"].M_BLUR
    });

    tools[ChickenPaint.T_SMUDGE] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_SMUDGE,
        size: 20,
        alpha: 128,
        isAA: false,
        isAirbrush: true,
        minSpacing: 0.5,
        spacing: 0.01,
        pressureSize: false,
        pressureAlpha: true,
        type: _engineCPBrushInfo2["default"].B_ROUND_AIRBRUSH,
        paintMode: _engineCPBrushInfo2["default"].M_SMUDGE,
        resat: 0.0,
        bleed: 1.0
    });

    tools[ChickenPaint.T_BLENDER] = new _engineCPBrushInfo2["default"]({
        toolNb: ChickenPaint.T_BLENDER,
        size: 20,
        alpha: 60,
        isAA: false,
        isAirbrush: true,
        minSpacing: 0.5,
        spacing: 0.1,
        pressureSize: false,
        pressureAlpha: true,
        type: _engineCPBrushInfo2["default"].B_ROUND_AIRBRUSH,
        paintMode: _engineCPBrushInfo2["default"].M_OIL,
        resat: 0.0,
        bleed: 0.07
    });

    return tools;
}

/**
 * Creates an instance of the ChickenPaint drawing app. Options is an object with these keys:
 *
 * uiElem       - DOM element to insert ChickenPaint into (required)
 * canvasWidth  - Width in pixels to use when creating blank canvases (defaults to 800)
 * canvasHeight - Height in pixels to use when creating blank canvases (defaults to 600)
 * rotation     - Integer from [0..3], number of 90 degree right rotations that should be applied to the canvas after
 *                loading
 *
 * saveUrl   - URL to POST the drawing to to save it
 * postUrl   - URL to navigate to after saving is successful and the user chooses to see/publish their finished product
 * exitUrl   - URL to navigate to after saving is successful and the user chooses to exit (optional)
 * testUrl   - URL that ChickenPaint can simulate a drawing upload to to test the user's permissions/connection (optional)
 *
 * loadImageUrl     - URL of PNG/JPEG image to load for editing (optional)
 * loadChibiFileUrl - URL of .chi file to load for editing (optional). Used in preference to loadImage.
 * loadSwatchesUrl  - URL of an .aco palette to load (optional)
 * 
 * allowDownload - Allow the drawing to be saved to the user's computer
 * allowFullScreen - Allow the drawing tool to enter "full screen" mode, where the rest of the page contents will be hidden
 *
 * disableBootstrapAPI - Disable Bootstrap's data API on the root of the document. This speeds up things considerably.
 * 
 * resourcesRoot - URL to the directory that contains the gfx/css etc directories (relative to the page that 
 *                 ChickenPaint is loaded on)
 *
 * @throws ChickenPaint.UnsupportedBrowserException if the web browser does not support ChickenPaint
 */

function ChickenPaint(options) {
    var that = this,
        uiElem = options.uiElem,
        canvas,
        mainGUI,
        curColor = new _utilCPColor2["default"](0),
        curBrush = ChickenPaint.T_PENCIL,
        curMode = ChickenPaint.M_DRAW,
        preTransformMode = curMode,
        curGradient = [0xFF000000, 0xFFFFFFFF],
        fullScreenMode = false,
        tools = createDrawingTools(),
        boxBlurDialog,
        gridDialog,
        actions = {
        // GUI actions

        CPFullScreen: {
            action: function action() {
                fullScreenMode = !fullScreenMode;

                $("body").toggleClass("chickenpaint-full-screen", fullScreenMode);
                $(uiElem).toggleClass("chickenpaint-full-screen", fullScreenMode);

                setTimeout(function () {
                    mainGUI.setFullScreenMode(fullScreenMode);
                }, 200);
            },
            isSupported: function isSupported() {
                return options.allowFullScreen !== false;
            },
            modifies: { gui: true }
        },
        CPZoomIn: {
            action: function action() {
                canvas.zoomIn();
            },
            modifies: { gui: true }
        },
        CPZoomOut: {
            action: function action() {
                canvas.zoomOut();
            },
            modifies: { gui: true }
        },
        CPZoom100: {
            action: function action() {
                canvas.zoom100();
            },
            modifies: { gui: true }
        },

        // History actions

        CPUndo: {
            action: function action() {
                that.artwork.undo();
            },
            modifies: { document: true }
        },
        CPRedo: {
            action: function action() {
                that.artwork.redo();
            },
            modifies: { document: true }
        },
        CPClearHistory: {
            action: function action() {
                if (confirm("You're about to clear the current Undo/Redo history.\nThis operation cannot be undone, are you sure you want to do that?")) {
                    that.artwork.clearHistory();
                }
            },
            modifies: { document: true }
        },

        // Drawing tools

        CPPencil: new ToolChangeAction(ChickenPaint.T_PENCIL),
        CPPen: new ToolChangeAction(ChickenPaint.T_PEN),
        CPEraser: new ToolChangeAction(ChickenPaint.T_ERASER),
        CPSoftEraser: new ToolChangeAction(ChickenPaint.T_SOFTERASER),
        CPAirbrush: new ToolChangeAction(ChickenPaint.T_AIRBRUSH),
        CPDodge: new ToolChangeAction(ChickenPaint.T_DODGE),
        CPBurn: new ToolChangeAction(ChickenPaint.T_BURN),
        CPWater: new ToolChangeAction(ChickenPaint.T_WATER),
        CPBlur: new ToolChangeAction(ChickenPaint.T_BLUR),
        CPSmudge: new ToolChangeAction(ChickenPaint.T_SMUDGE),
        CPBlender: new ToolChangeAction(ChickenPaint.T_BLENDER),

        // Modes

        CPFloodFill: new ModeChangeAction(ChickenPaint.M_FLOODFILL),
        CPGradientFill: new ModeChangeAction(ChickenPaint.M_GRADIENTFILL),
        CPRectSelection: new ModeChangeAction(ChickenPaint.M_RECT_SELECTION),
        CPMoveTool: new ModeChangeAction(ChickenPaint.M_MOVE_TOOL),
        CPRotateCanvas: new ModeChangeAction(ChickenPaint.M_ROTATE_CANVAS),
        CPColorPicker: new ModeChangeAction(ChickenPaint.M_COLOR_PICKER),

        // Layer transform

        CPTransform: {
            action: function action() {
                var layer = that.artwork.getActiveLayer(),
                    layerIndex = that.artwork.getActiveLayerIndex();

                if (!layer.visible) {
                    that.showLayerNotification(layerIndex, "Whoops! This layer is currently hidden", "layer");
                } else if (layer.alpha == 0) {
                    that.showLayerNotification(layerIndex, "Whoops! This layer's opacity is currently 0%", "opacity");
                } else if (that.artwork.transformAffineBegin() == null) {
                    that.showLayerNotification(layerIndex, "Whoops! All of the selected pixels are transparent!", "layer");
                } else {
                    setMode(ChickenPaint.M_TRANSFORM);
                }
            },
            modifies: { mode: true }
        },
        CPTransformAccept: {
            action: function action() {
                if (curMode == ChickenPaint.M_TRANSFORM) {
                    that.artwork.transformAffineFinish();
                    setMode(preTransformMode);
                }
            },
            modifies: { mode: true }
        },
        CPTransformReject: {
            action: function action() {
                if (curMode == ChickenPaint.M_TRANSFORM) {
                    that.artwork.transformAffineAbort();
                    setMode(preTransformMode);
                }
            },
            modifies: { document: true, mode: true }
        },

        // Stroke modes

        CPFreeHand: {
            action: function action() {
                tools[curBrush].strokeMode = _engineCPBrushInfo2["default"].SM_FREEHAND;
                callToolListeners();
            },
            modifies: { tool: true }
        },
        CPLine: {
            action: function action() {
                tools[curBrush].strokeMode = _engineCPBrushInfo2["default"].SM_LINE;
                callToolListeners();
            },
            modifies: { tool: true }
        },
        CPBezier: {
            action: function action() {
                tools[curBrush].strokeMode = _engineCPBrushInfo2["default"].SM_BEZIER;
                callToolListeners();
            },
            modifies: { tool: true }
        },

        // Help dialogs

        CPAbout: {
            action: function action() {
                new _guiCPAboutDialog2["default"](uiElem).show();
            },
            modifies: {}
        },
        CPShortcuts: {
            action: function action() {
                new _guiCPShortcutsDialog2["default"](uiElem).show();
            },
            modifies: {}
        },
        CPTabletSupport: {
            action: function action() {
                new _guiCPTabletDialog2["default"](uiElem).show();
            },
            modifies: {}
        },

        // Layer actions

        CPLayerDuplicate: {
            action: function action() {
                that.artwork.duplicateLayer();
            },
            modifies: { document: true }
        },
        CPLayerMergeDown: {
            action: function action() {
                that.artwork.mergeDown(true);
            },
            modifies: { document: true }
        },
        CPLayerMergeAll: {
            action: function action() {
                that.artwork.mergeAllLayers(true);
            },
            modifies: { document: true }
        },
        CPFill: {
            action: function action() {
                that.artwork.fill(that.getCurColorRgb() | 0xff000000);
            },
            modifies: { document: true }
        },
        CPClear: {
            action: function action() {
                that.artwork.clear();
            },
            modifies: { document: true }
        },
        CPSelectAll: {
            action: function action() {
                that.artwork.rectangleSelection(that.artwork.getBounds());
                canvas.repaintAll();
            },
            modifies: { document: true }
        },
        CPDeselectAll: {
            action: function action() {
                that.artwork.rectangleSelection(new _utilCPRect2["default"](0, 0, 0, 0));
                canvas.repaintAll();
            },
            modifies: { document: true }
        },
        CPHFlip: {
            action: function action() {
                that.artwork.hFlip();
            },
            modifies: { document: true }
        },
        CPVFlip: {
            action: function action() {
                that.artwork.vFlip();
            },
            modifies: { document: true }
        },
        CPMNoise: {
            action: function action() {
                that.artwork.monochromaticNoise();
            },
            modifies: { document: true }
        },
        CPCNoise: {
            action: function action() {
                that.artwork.colorNoise();
            },
            modifies: { document: true }
        },
        CPFXBoxBlur: {
            action: function action() {
                showBoxBlurDialog();
            },
            modifies: { document: true }
        },
        CPFXInvert: {
            action: function action() {
                that.artwork.invert();
            },
            modifies: { document: true }
        },

        CPCut: {
            action: function action() {
                that.artwork.cutSelection(true);
            },
            modifies: { document: true }
        },
        CPCopy: {
            action: function action() {
                that.artwork.copySelection();
            },
            modifies: { document: true }
        },
        CPCopyMerged: {
            action: function action() {
                that.artwork.copySelectionMerged();
            },
            modifies: { document: true }
        },
        CPPaste: {
            action: function action() {
                that.artwork.pasteClipboard(true);
            },
            modifies: { document: true }
        },

        CPToggleGrid: {
            action: function action(e) {
                canvas.showGrid(e.selected);
            },
            modifies: { gui: true }
        },
        CPGridOptions: {
            action: function action() {
                showGridOptionsDialog();
            },
            modifies: { gui: true }
        },

        CPLinearInterpolation: {
            action: function action(e) {
                canvas.setInterpolation(e.selected);
            },
            modifies: { gui: true },
            isSupported: function isSupported() {
                return (0, _utilCPPolyfill.isCanvasInterpolationSupported)();
            }
        },
        CPResetCanvasRotation: {
            action: function action() {
                canvas.resetRotation();
            },
            modifies: { gui: true }
        },

        // Layer palette

        CPAddLayer: {
            action: function action() {
                that.artwork.addLayer();
            },
            modifies: { document: true }
        },
        CPRemoveLayer: {
            action: function action() {
                if (!that.artwork.removeLayer()) {
                    alert("Sorry, you can't remove the last remaining layer in the drawing.");
                }
            },
            modifies: { document: true }
        },
        CPMoveLayer: {
            action: function action(e) {
                that.artwork.moveLayer(e.fromIndex, e.toIndex);
            },
            modifies: { document: true }
        },
        CPSetActiveLayerIndex: {
            action: function action(e) {
                that.artwork.setActiveLayerIndex(e.layerIndex);

                // Since this is a slow GUI operation, this is a good chance to get the canvas ready for drawing
                that.artwork.performIdleTasks();
            },
            modifies: { document: true }
        },
        CPSetLayerVisibility: {
            action: function action(e) {
                that.artwork.setLayerVisibility(e.layerIndex, e.visible);
            },
            modifies: { layerProp: true }
        },
        CPSetLayerName: {
            action: function action(e) {
                that.artwork.setLayerName(e.layerIndex, e.name);
            },
            modifies: { layerProp: true }
        },
        CPSetLayerBlendMode: {
            action: function action(e) {
                that.artwork.setLayerBlendMode(e.layerIndex, e.blendMode);
            },
            modifies: { layerProp: true }
        },
        CPSetLayerAlpha: {
            action: function action(e) {
                that.artwork.setLayerAlpha(e.layerIndex, e.alpha);
            },
            modifies: { layerProp: true }
        },

        // Palettes

        CPPalColor: new PaletteToggleAction("color"),
        CPPalBrush: new PaletteToggleAction("brush"),
        CPPalLayers: new PaletteToggleAction("layers"),
        CPPalStroke: new PaletteToggleAction("stroke"),
        CPPalSwatches: new PaletteToggleAction("swatches"),
        CPPalTool: new PaletteToggleAction("tool"),
        CPPalMisc: new PaletteToggleAction("misc"),
        CPPalTextures: new PaletteToggleAction("textures"),

        CPTogglePalettes: {
            action: function action() {
                mainGUI.togglePalettes();
            },
            modifies: { gui: true }
        },
        CPArrangePalettes: {
            action: function action() {
                mainGUI.arrangePalettes();
            },
            modifies: { gui: true }
        },

        // Saving

        CPSave: {
            action: function action() {
                saveDrawing();
            },
            isSupported: function isSupported() {
                return options.allowDownload !== false;
            },
            modifies: { document: true }
        },
        CPSend: {
            action: function action() {
                sendDrawing();
            },
            isSupported: function isSupported() {
                return !!options.saveUrl;
            },
            modifies: { document: true }
        },
        CPPost: {
            action: function action() {
                window.location = options.postUrl;
            },
            isSupported: function isSupported() {
                return !!options.postUrl;
            },
            modifies: { document: true }
        },
        CPExit: {
            action: function action() {
                // Exit the drawing session without posting the drawing to the forum
                window.location = options.exitUrl;
            },
            isSupported: function isSupported() {
                return !!options.exitUrl;
            },
            modifies: {}
        }
    };

    function PaletteToggleAction(palName) {
        this.palName = palName;
    }

    PaletteToggleAction.prototype.action = function (e) {
        mainGUI.showPalette(this.palName, e.selected);
    };
    PaletteToggleAction.prototype.modifies = { gui: true };

    function ToolChangeAction(toolNum) {
        this.toolNum = toolNum;
    }

    ToolChangeAction.prototype.action = function () {
        setTool(this.toolNum);
    };

    ToolChangeAction.prototype.modifies = { mode: true, tool: true };

    function ModeChangeAction(modeNum) {
        this.modeNum = modeNum;
    }

    ModeChangeAction.prototype.action = function () {
        setMode(this.modeNum);
    };
    ModeChangeAction.prototype.modifies = { mode: true };

    function showBoxBlurDialog() {
        if (!boxBlurDialog) {
            boxBlurDialog = new _guiCPBoxBlurDialog2["default"](uiElem, that);
        }

        boxBlurDialog.show();
    }

    function showGridOptionsDialog() {
        if (!gridDialog) {
            gridDialog = new _guiCPGridDialog2["default"](uiElem, canvas);
        }

        gridDialog.show();
    }

    function callToolListeners() {
        that.emitEvent('toolChange', [curBrush, tools[curBrush]]);
    }

    // TODO make me private
    this.callToolListeners = function () {
        callToolListeners();
    };

    function callModeListeners() {
        that.emitEvent('modeChange', [curMode]);
    }

    function callViewListeners(viewInfo) {
        that.emitEvent('viewChange', [viewInfo]);
    }

    this.getMainGUI = function () {
        return mainGUI;
    };

    this.getArtwork = function () {
        return this.artwork;
    };

    this.setCanvas = function (_canvas) {
        canvas = _canvas;
    };

    /**
        * Change the interpolation mode used by Free Transform operations
        * 
        * @param {string} interpolation - Either "sharp" or "smooth"
        */
    this.setTransformInterpolation = function (interpolation) {
        this.artwork.setTransformInterpolation(interpolation);
    };

    this.setCurColor = function (color) {
        if (!curColor.isEqual(color)) {
            this.artwork.setForegroundColor(color.getRgb());

            curColor.copyFrom(color);

            this.emitEvent('colorChange', [color]);
        }
    };

    this.getCurColor = function () {
        return curColor.clone();
    };

    this.getCurColorRgb = function () {
        return curColor.getRgb();
    };

    this.setCurColorRgb = function (color) {
        this.setCurColor(new _utilCPColor2["default"](color));
    };

    this.setCurGradient = function (gradient) {
        curGradient = gradient.slice(0); // Clone

        this.emitEvent('gradientChange', [curGradient]);
    };

    this.getCurGradient = function () {
        return curGradient.slice(0); // Clone
    };

    this.setBrushSize = function (size) {
        tools[curBrush].size = Math.max(1, Math.min(200, size));
        callToolListeners();
    };

    this.getBrushSize = function () {
        return tools[curBrush].size;
    };

    this.setAlpha = function (alpha) {
        tools[curBrush].alpha = alpha;
        callToolListeners();
    };

    this.getAlpha = function () {
        return tools[curBrush].alpha;
    };

    this.getCurMode = function () {
        return curMode;
    };

    function setMode(newMode) {
        if (curMode != newMode) {
            if (newMode == ChickenPaint.M_TRANSFORM) {
                preTransformMode = curMode;
            }
            curMode = newMode;
            callModeListeners();
        }
    }

    this.getCurTool = function () {
        return curBrush;
    };

    function setTool(tool) {
        setMode(ChickenPaint.M_DRAW);
        curBrush = tool;
        that.artwork.setBrush(tools[tool]);
        callToolListeners();
    }

    this.getBrushInfo = function () {
        return tools[curBrush];
    };

    function saveDrawing() {
        var saver = new _engineCPResourceSaver2["default"]({
            artwork: that.getArtwork(),
            rotation: canvas.getRotation90(),
            swatches: mainGUI.getSwatches()
        });

        saver.on("savingComplete", function () {
            that.artwork.setHasUnsavedChanges(false);
        });

        saver.on("savingFailure", function () {
            alert("An error occured while trying to save your drawing! Please try again!");
        });

        saver.save();
    }

    function sendDrawing() {
        var saver = new _engineCPResourceSaver2["default"]({
            artwork: that.getArtwork(),
            rotation: canvas.getRotation90(),
            swatches: mainGUI.getSwatches(),
            url: options.saveUrl
        }),
            sendDialog = new _guiCPSendDialog2["default"](that, uiElem, saver);

        saver.on("savingComplete", function () {
            that.artwork.setHasUnsavedChanges(false);
        });

        // Allow the dialog to show before we begin serialization
        sendDialog.on("shown", function () {
            saver.save();
        });

        sendDialog.show();
    }

    /**
     * Not all saving actions will be supported (depending on what options we're configured with). Use this function
     * to check for support for a given action.
     */
    this.isActionSupported = function (actionName) {
        if (actions[actionName]) {
            var supportedType = typeof actions[actionName].isSupported;

            if (supportedType == "function") {
                return actions[actionName].isSupported();
            } else if (supportedType == "undefined") {
                // If not otherwise specified, an action defaults to supported
                return true;
            } else {
                return actions[actionName].isSupported;
            }
        }

        return false;
    };

    this.showLayerNotification = function (layerIndex, message, where) {
        this.emitEvent("layerNotification", [layerIndex, message, where]);
    };

    this.actionPerformed = function (e) {
        if (this.artwork == null || canvas == null) {
            return; // this shouldn't happen, but just in case
        }

        var action = actions[e.action];

        if (action) {
            if (curMode == ChickenPaint.M_TRANSFORM && (action.modifies.document || action.modifies.mode) && ["CPTransformAccept", "CPTransformReject"].indexOf(e.action) == -1) {
                if (e.action == "CPUndo") {
                    actions.CPTransformReject.action();
                } else if (e.action == "CPTransform") {
                    // You're already transforming the selection!
                } else {
                        // Prompt the user to finish their transform before starting something else
                        var dialog = new _guiCPConfirmTransformDialog2["default"](uiElem, this);

                        /* If they decide to finish up with the transform, we can apply the original action they
                         * attempted afterwards.
                         */
                        dialog.on("accept", this.actionPerformed.bind(this, e));
                        dialog.on("reject", this.actionPerformed.bind(this, e));

                        dialog.show();
                    }
            } else {
                action.action(e);
            }
        }

        // callCPEventListeners(); TODO
    };

    function installUnsavedWarning() {
        if ((0, _utilCPPolyfill.isEventSupported)("onbeforeunload")) {
            window.addEventListener("beforeunload", function (e) {
                if (that.artwork.getHasUnsavedChanges()) {
                    var confirmMessage = "Your drawing has unsaved changes!";
                    e.returnValue = confirmMessage;
                    return confirmMessage;
                }
            });
        } else {
            // Fall back to just catching links
            $("a").click(function (e) {
                if (this.getAttribute("href") != "#" && that.artwork.getHasUnsavedChanges()) {
                    return confirm("Your drawing has unsaved changes! Are you sure to want to navigate away?");
                }
            });
        }
    }

    function startMainGUI(swatches, initialRotation90) {
        mainGUI = new _guiCPMainGUI2["default"](that, uiElem);

        setTool(ChickenPaint.T_PEN);
        mainGUI.arrangePalettes();

        if (swatches) {
            mainGUI.setSwatches(swatches);
        }

        if (initialRotation90) {
            mainGUI.setRotation(initialRotation90 * Math.PI / 2);
        }

        _utilCPWacomTablet2["default"].getRef().detectTablet();

        installUnsavedWarning();
    }

    this.getResourcesRoot = function () {
        return options.resourcesRoot;
    };

    if (!isBrowserSupported()) {
        throw new ChickenPaint.UnsupportedBrowserException();
    }

    if (typeof document.body.style.flexBasis != "string" && typeof document.body.style.msFlexDirection != "string" || /Presto/.test(navigator.userAgent)) {
        uiElem.className += " no-flexbox";
    }

    uiElem.className += " chickenpaint";

    options.resourcesRoot = options.resourcesRoot || "chickenpaint/";

    if (options.disableBootstrapAPI) {
        $(document).off('.data-api');
    }

    if (options.loadImageUrl || options.loadChibiFileUrl) {
        var loader = new _engineCPResourceLoader2["default"](options);

        new _guiCPSplashScreenJs2["default"](uiElem, loader, options.resourcesRoot);

        loader.on("loadingComplete", function (resources) {
            that.artwork = resources.layers || resources.flat;

            startMainGUI(resources.swatches, options.rotation);
        });

        loader.load();
    } else {
        this.artwork = new _engineCPArtwork2["default"](options.canvasWidth || 800, options.canvasHeight || 600);
        this.artwork.addBackgroundLayer();

        startMainGUI();
    }
}

ChickenPaint.prototype = Object.create(EventEmitter.prototype);
ChickenPaint.prototype.constructor = ChickenPaint;

ChickenPaint.UnsupportedBrowserException = function () {};

ChickenPaint.UnsupportedBrowserException.prototype.toString = function () {
    return "Sorry, your web browser does not support ChickenPaint. Please try a modern browser like Chrome, Safari, Firefox, or Edge";
};

//
// Definition of all the modes available
//

ChickenPaint.M_DRAW = 0;
ChickenPaint.M_FLOODFILL = 1;
ChickenPaint.M_RECT_SELECTION = 2;
ChickenPaint.M_MOVE_TOOL = 3;
ChickenPaint.M_ROTATE_CANVAS = 4;
ChickenPaint.M_COLOR_PICKER = 5;
ChickenPaint.M_GRADIENTFILL = 6;
ChickenPaint.M_TRANSFORM = 7;

//
// Definition of all the standard tools available
//
ChickenPaint.T_PENCIL = 0;
ChickenPaint.T_ERASER = 1;
ChickenPaint.T_PEN = 2;
ChickenPaint.T_SOFTERASER = 3;
ChickenPaint.T_AIRBRUSH = 4;
ChickenPaint.T_DODGE = 5;
ChickenPaint.T_BURN = 6;
ChickenPaint.T_WATER = 7;
ChickenPaint.T_BLUR = 8;
ChickenPaint.T_SMUDGE = 9;
ChickenPaint.T_BLENDER = 10;
ChickenPaint.T_MAX = 11;
module.exports = exports["default"];

},{"./engine/CPArtwork":2,"./engine/CPBrushInfo":5,"./engine/CPResourceLoader":13,"./engine/CPResourceSaver":14,"./gui/CPAboutDialog":16,"./gui/CPBoxBlurDialog":17,"./gui/CPConfirmTransformDialog":25,"./gui/CPGridDialog":27,"./gui/CPMainGUI":29,"./gui/CPSendDialog":35,"./gui/CPShortcutsDialog":36,"./gui/CPSplashScreen.js":38,"./gui/CPTabletDialog":41,"./util/CPColor":47,"./util/CPPolyfill":49,"./util/CPRect":52,"./util/CPWacomTablet":55}],2:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"] = CPArtwork;function _interopRequireDefault(obj){return obj && obj.__esModule?obj:{"default":obj};}var _CPLayer=require("./CPLayer");var _CPLayer2=_interopRequireDefault(_CPLayer);var _CPBlend=require("./CPBlend");var _CPBlend2=_interopRequireDefault(_CPBlend);var _CPGreyBmp=require("./CPGreyBmp");var _CPGreyBmp2=_interopRequireDefault(_CPGreyBmp);var _CPColorBmp=require("./CPColorBmp");var _CPColorBmp2=_interopRequireDefault(_CPColorBmp);var _CPBrushManager=require("./CPBrushManager");var _CPBrushManager2=_interopRequireDefault(_CPBrushManager);var _CPBrushInfo=require("./CPBrushInfo");var _CPBrushInfo2=_interopRequireDefault(_CPBrushInfo);var _CPUndo=require("./CPUndo");var _CPUndo2=_interopRequireDefault(_CPUndo);var _CPClip=require("./CPClip");var _CPClip2=_interopRequireDefault(_CPClip);var _utilCPColorFloat=require("../util/CPColorFloat");var _utilCPColorFloat2=_interopRequireDefault(_utilCPColorFloat);var _utilCPRect=require("../util/CPRect");var _utilCPRect2=_interopRequireDefault(_utilCPRect);var _utilCPRandom=require("../util/CPRandom");var _utilCPRandom2=_interopRequireDefault(_utilCPRandom);var _utilCPTransform=require("../util/CPTransform");var _utilCPTransform2=_interopRequireDefault(_utilCPTransform);var _utilCPPolyfill=require("../util/CPPolyfill"); // Polyfill, used in duplicateLayer
if(!String.prototype.endsWith){String.prototype.endsWith = function(searchString,position){var subjectString=this.toString();if(typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length){position = subjectString.length;}position -= searchString.length;var lastIndex=subjectString.indexOf(searchString,position);return lastIndex !== -1 && lastIndex === position;};}function CPArtwork(_width,_height){_width = _width | 0;_height = _height | 0;var MAX_UNDO=30,EMPTY_BACKGROUND_COLOR=0xFFFFFFFF,EMPTY_LAYER_COLOR=0x00FFFFFF,BURN_CONSTANT=260,BLUR_MIN=64,BLUR_MAX=1;var layers=[],curLayer,hasUnsavedChanges=false,curSelection=new _utilCPRect2["default"](0,0,0,0), /**
         * Our buffer for storing all the layers merged together according to their blending modes.
         *
         * @type {CPLayer}
         */fusionBuffer=new _CPLayer2["default"](_width,_height), /**
         * Points to the buffer which represents all the layers merged together (either fusionBuffer or curLayer
         * depending on if the document is single-layered or not).
         *
         * @type {CPLayer}
         */fusion=fusionBuffer, /**
         * A copy of the current layer's data that can be used for undo operations.
         * 
         * @type {CPLayer}
         */undoBuffer=new _CPLayer2["default"](_width,_height), /**
         * The region of the undoBuffer which is out of date with respect to the content of the layer, and needs updated
         * with prepareForLayerUndo().
         *
         * @type {CPRect}
         */undoBufferInvalidRegion=new _utilCPRect2["default"](0,0,_width,_height), /**
         * We use this buffer so we can accurately accumulate small changes to layer opacity during a brush stroke.
         * 
         * Normally we use it as a 16-bit opacity channel per pixel, but some brushes use the full 32-bits per pixel
         * as ARGB.
         */opacityBuffer=new _CPGreyBmp2["default"](_width,_height,32), /**
         * The area of dirty data contained by opacityBuffer that should be merged by fusionLayers()
         */opacityArea=new _utilCPRect2["default"](0,0,0,0), /**
         * The area of dirty layer data that should be merged into the fusion by fusionLayers().
         */fusionArea=new _utilCPRect2["default"](0,0,_width,_height), /**
         * Used by CPUndoPaint to keep track of the area that has been dirtied by layer operations and should be
         * saved for undo.
         */undoArea=new _utilCPRect2["default"](0,0,0,0),rnd=new _utilCPRandom2["default"](),previewOperation=null,clipboard=null, // A CPClip
undoList=[],redoList=[],curBrush=null,brushManager=new _CPBrushManager2["default"](),lastX=0.0,lastY=0.0,lastPressure=0.0,brushBuffer=null,sampleAllLayers=false,lockAlpha=false,curColor=0x000000, // Black
transformInterpolation="smooth",that=this; // FIXME: 2007-01-13 I'm moving this to the CPRect class
// find where this version is used and change the
// code to use the CPRect version
function clipSourceDest(srcRect,dstRect){ // FIXME:
// /!\ dstRect bottom and right are ignored and instead we clip
// against the width, height of the layer. :/
//
// this version would be enough in most cases (when we don't need
// srcRect bottom and right to be clipped)
// it's left here in case it's needed to make a faster version
// of this function
// dstRect.right = Math.min(width, dstRect.left + srcRect.getWidth());
// dstRect.bottom = Math.min(height, dstRect.top + srcRect.getHeight());
// new dest bottom/right
dstRect.right = dstRect.left + srcRect.getWidth();if(dstRect.right > that.width){srcRect.right -= dstRect.right - that.width;dstRect.right = that.width;}dstRect.bottom = dstRect.top + srcRect.getHeight();if(dstRect.bottom > that.height){srcRect.bottom -= dstRect.bottom - that.height;dstRect.bottom = that.height;} // new src top/left
if(dstRect.left < 0){srcRect.left -= dstRect.left;dstRect.left = 0;}if(dstRect.top < 0){srcRect.top -= dstRect.top;dstRect.top = 0;}}function callListenersUpdateRegion(region){that.emitEvent("updateRegion",[region]);} // layerIndex is optional, provide when only one layer has been updated
function callListenersLayerChange(layerIndex){that.emitEvent("changeLayer",[layerIndex]);} // When the selected rectangle changes
function callListenersSelectionChange(){that.emitEvent("changeSelection",[]);}this.getLayers = function(){return layers;};this.getLayerCount = function(){return layers.length;}; //
// Selection methods
//
/**
     * Gets the current selection rect or a rectangle covering the whole canvas if there are no selections
     * 
     * @returns CPRect
     */this.getSelectionAutoSelect = function(){var r;if(!curSelection.isEmpty()){r = curSelection.clone();}else {r = this.getBounds();}return r;};this.getSelection = function(){return curSelection.clone();}; /**
     * Mark the given rectangle on the canvas as needing to be re-fused (i.e. we've drawn in this region).
     * Listeners are notified about our updated canvas region.
     *
     * @param rect CPRect Rect to invalidate
     */function invalidateFusionRect(rect){fusionArea.union(rect); // This updated area will need to be updated in our undo buffer later
undoBufferInvalidRegion.union(rect);callListenersUpdateRegion(rect);}; /**
     * Mark the entire canvas as needing to be re-fused (we've drawn to the whole canvas)
     */function invalidateFusion(){invalidateFusionRect(new _utilCPRect2["default"](0,0,that.width,that.height));};this.setHasUnsavedChanges = function(value){hasUnsavedChanges = value;};this.getHasUnsavedChanges = function(){return hasUnsavedChanges;};this.setLayerVisibility = function(layerIndex,visible){var layer=this.getLayer(layerIndex);addUndo(new CPUndoLayerVisible(layerIndex,layer.visible,visible));layer.visible = visible;invalidateFusion();callListenersLayerChange(layerIndex);};this.addLayer = function(){var newLayer=new _CPLayer2["default"](this.width,this.height,this.getDefaultLayerName()),activeLayerIndex=this.getActiveLayerIndex();newLayer.clearAll(EMPTY_LAYER_COLOR); // Transparent white
addUndo(new CPUndoAddLayer(activeLayerIndex));layers.splice(activeLayerIndex + 1,0,newLayer);this.setActiveLayerIndex(activeLayerIndex + 1);invalidateFusion();callListenersLayerChange();};this.addLayerObject = function(layer){layers.push(layer);if(layers.length == 1){curLayer = layers[0];}invalidateFusion();callListenersLayerChange();}; /**
     * Remove the currently selected layer.
     * 
     * Returns true if the layer was removed, or false when removal failed because there is currently only one layer in 
     * the document.
     */this.removeLayer = function(){if(layers.length > 1){var activeLayerIndex=this.getActiveLayerIndex();addUndo(new CPUndoRemoveLayer(activeLayerIndex,curLayer));layers.splice(activeLayerIndex,1);this.setActiveLayerIndex(activeLayerIndex < layers.length?activeLayerIndex:activeLayerIndex - 1);invalidateFusion();callListenersLayerChange();return true;}return false;};this.duplicateLayer = function(){var copySuffix=" Copy",newLayer=new _CPLayer2["default"](this.width,this.height),activeLayerIndex=this.getActiveLayerIndex();addUndo(new CPUndoDuplicateLayer(activeLayerIndex));newLayer.copyFrom(layers[activeLayerIndex]);if(!newLayer.name.endsWith(copySuffix)){newLayer.name += copySuffix;}layers.splice(activeLayerIndex + 1,0,newLayer);this.setActiveLayerIndex(activeLayerIndex + 1);invalidateFusion();callListenersLayerChange();};this.mergeDown = function(createUndo){var activeLayerIndex=this.getActiveLayerIndex();if(layers.length > 1 && activeLayerIndex > 0){if(createUndo){addUndo(new CPUndoMergeDownLayer(activeLayerIndex));}_CPBlend2["default"].fuseLayer(layers[activeLayerIndex - 1],true,layers[activeLayerIndex],this.getBounds());layers.splice(activeLayerIndex,1);this.setActiveLayerIndex(activeLayerIndex - 1);invalidateFusion();callListenersLayerChange();}};this.mergeAllLayers = function(createUndo){if(layers.length > 1){if(createUndo){addUndo(new CPUndoMergeAllLayers());}that.fusionLayers();layers = [];var layer=new _CPLayer2["default"](that.width,that.height,this.getDefaultLayerName());layer.copyDataFrom(fusion);layers.push(layer);this.setActiveLayerIndex(0);invalidateFusion();callListenersLayerChange();}};function moveLayerReal(from,to){var layer=layers.splice(from,1)[0];if(to <= from){layers.splice(to,0,layer);that.setActiveLayerIndex(to);}else {layers.splice(to - 1,0,layer);that.setActiveLayerIndex(to - 1);}invalidateFusion();callListenersLayerChange();} /**
     * Move a layer in the stack from one index to another.
     * 
     * @param from int
     * @param to int
     */this.moveLayer = function(from,to){if(from < 0 || from >= this.getLayerCount() || to < 0 || to > this.getLayerCount() || from == to){return;}addUndo(new CPUndoMoveLayer(from,to));moveLayerReal(from,to);};this.setLayerAlpha = function(layerIndex,alpha){var layer=this.getLayer(layerIndex);if(layer.getAlpha() != alpha){addUndo(new CPUndoLayerAlpha(layerIndex,alpha));layer.setAlpha(alpha);invalidateFusion();callListenersLayerChange(layerIndex);}};this.setLayerBlendMode = function(layerIndex,blendMode){var layer=this.getLayer(layerIndex);if(layer.getBlendMode() != blendMode){addUndo(new CPUndoLayerMode(layerIndex,blendMode));layer.setBlendMode(blendMode);invalidateFusion();callListenersLayerChange(layerIndex);}};this.setLayerName = function(layerIndex,name){var layer=this.getLayer(layerIndex);if(layer && layer.name != name){addUndo(new CPUndoLayerRename(layerIndex,name));layer.name = name;callListenersLayerChange(layerIndex);}};function CPBrushToolBase(){}CPBrushToolBase.prototype.beginStroke = function(x,y,pressure){prepareForLayerUndo();undoArea.makeEmpty();opacityBuffer.clearAll(0);opacityArea.makeEmpty();lastX = x;lastY = y;lastPressure = pressure;this.createAndPaintDab(x,y,pressure);};CPBrushToolBase.prototype.continueStroke = function(x,y,pressure){var dist=Math.sqrt((lastX - x) * (lastX - x) + (lastY - y) * (lastY - y)),spacing=Math.max(curBrush.minSpacing,curBrush.curSize * curBrush.spacing);if(dist > spacing){var nx=lastX,ny=lastY,np=lastPressure,df=(spacing - 0.001) / dist;for(var f=df;f <= 1.0;f += df) {nx = f * x + (1.0 - f) * lastX;ny = f * y + (1.0 - f) * lastY;np = f * pressure + (1.0 - f) * lastPressure;this.createAndPaintDab(nx,ny,np);}lastX = nx;lastY = ny;lastPressure = np;}};CPBrushToolBase.prototype.endStroke = function(){undoArea.clip(that.getBounds()); // Did we end up painting anything?
if(!undoArea.isEmpty()){mergeOpacityBuffer(curColor,false);addUndo(new CPUndoPaint()); /* Eagerly update the undo buffer for next time so we can avoid this lengthy
             * prepare at the beginning of a paint stroke
             */prepareForLayerUndo();}brushBuffer = null;}; /**
     * Create a paint dab at the given position using the current brush, and paint it.
     *
     * @param x float
     * @param y float
     * @param pressure float
     */CPBrushToolBase.prototype.createAndPaintDab = function(x,y,pressure){curBrush.applyPressure(pressure);if(curBrush.scattering > 0.0){x += rnd.nextGaussian() * curBrush.curScattering / 4.0;y += rnd.nextGaussian() * curBrush.curScattering / 4.0;}var dab=brushManager.getDab(x,y,curBrush);this.paintDab(dab);}; /**
     * Paint a dab returned by brushManager.getDab()
     *
     * @param dab {byte[] brush; int x, y, alpha, width, height}
     */CPBrushToolBase.prototype.paintDab = function(dab){var srcRect=new _utilCPRect2["default"](0,0,dab.width,dab.height),dstRect=new _utilCPRect2["default"](0,0,dab.width,dab.height);dstRect.translate(dab.x,dab.y);clipSourceDest(srcRect,dstRect); // drawing entirely outside the canvas
if(dstRect.isEmpty()){return;}undoArea.union(dstRect);opacityArea.union(dstRect);this.paintDabImplementation(srcRect,dstRect,dab);invalidateFusionRect(dstRect);};function CPBrushToolSimpleBrush(){}CPBrushToolSimpleBrush.prototype = Object.create(CPBrushToolBase.prototype);CPBrushToolSimpleBrush.prototype.constructor = CPBrushToolSimpleBrush;CPBrushToolSimpleBrush.prototype.paintDabImplementation = function(srcRect,dstRect,dab){ // FIXME: there should be no reference to a specific tool here
// create a new brush parameter instead
if(curBrush.isAirbrush){this.paintFlow(srcRect,dstRect,dab.brush,dab.width,Math.max(1,dab.alpha / 8));}else if(curBrush.toolNb == ChickenPaint.T_PEN){this.paintFlow(srcRect,dstRect,dab.brush,dab.width,Math.max(1,dab.alpha / 2));}else {this.paintOpacity(srcRect,dstRect,dab.brush,dab.width,dab.alpha);}};CPBrushToolSimpleBrush.prototype.mergeOpacityBuf = function(dstRect,color /* int */){var opacityData=opacityBuffer.data,undoData=undoBuffer.data,red=color >> 16 & 0xFF,green=color >> 8 & 0xFF,blue=color & 0xFF,width=dstRect.getWidth() | 0,height=dstRect.getHeight() | 0,dstOffset=curLayer.offsetOfPixel(dstRect.left,dstRect.top),srcOffset=opacityBuffer.offsetOfPixel(dstRect.left,dstRect.top),srcYStride=opacityBuffer.width - width | 0,dstYStride=(curLayer.width - width) * _CPColorBmp2["default"].BYTES_PER_PIXEL | 0;for(var y=0;y < height;y++,srcOffset += srcYStride,dstOffset += dstYStride) {for(var x=0;x < width;x++,srcOffset++,dstOffset += _CPColorBmp2["default"].BYTES_PER_PIXEL) {var opacityAlpha=opacityData[srcOffset] / 255 | 0;if(opacityAlpha > 0){var destAlpha=undoData[dstOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET],newLayerAlpha=opacityAlpha + destAlpha * (255 - opacityAlpha) / 255 | 0,realAlpha=255 * opacityAlpha / newLayerAlpha | 0,invAlpha=255 - realAlpha;curLayer.data[dstOffset] = (red * realAlpha + undoData[dstOffset] * invAlpha) / 255 & 0xff;curLayer.data[dstOffset + 1] = (green * realAlpha + undoData[dstOffset + 1] * invAlpha) / 255 & 0xff;curLayer.data[dstOffset + 2] = (blue * realAlpha + undoData[dstOffset + 2] * invAlpha) / 255 & 0xff;curLayer.data[dstOffset + 3] = newLayerAlpha;}}}}; /**
     *
     * @param srcRect CPRect
     * @param dstRect CPRect
     * @param brush int[]
     * @param brushWidth int
     * @param alpha float
     */CPBrushToolSimpleBrush.prototype.paintOpacity = function(srcRect,dstRect,brush,brushWidth,alpha){var opacityData=opacityBuffer.data,srcOffset=srcRect.left + srcRect.top * brushWidth,dstOffset=opacityBuffer.offsetOfPixel(dstRect.left,dstRect.top),dstWidth=dstRect.getWidth(),srcYStride=brushWidth - dstWidth,dstYStride=that.width - dstWidth;alpha = Math.min(255,alpha);for(var y=dstRect.top;y < dstRect.bottom;y++,srcOffset += srcYStride,dstOffset += dstYStride) {for(var x=0;x < dstWidth;x++,srcOffset++,dstOffset++) {opacityData[dstOffset] = Math.max(brush[srcOffset] * alpha,opacityData[dstOffset]);}}};CPBrushToolSimpleBrush.prototype.paintFlow = function(srcRect,dstRect,brush,brushWidth,alpha){var opacityData=opacityBuffer.data,srcOffset=srcRect.left + srcRect.top * brushWidth,dstOffset=opacityBuffer.offsetOfPixel(dstRect.left,dstRect.top),dstWidth=dstRect.getWidth(),srcYStride=brushWidth - dstWidth,dstYStride=that.width - dstWidth;for(var y=dstRect.top;y < dstRect.bottom;y++,srcOffset += srcYStride,dstOffset += dstYStride) {for(var x=0;x < dstWidth;x++,srcOffset++,dstOffset++) {var brushAlpha=brush[srcOffset] * alpha;if(brushAlpha != 0){var opacityAlpha=Math.min(255 * 255,opacityData[dstOffset] + (255 - opacityData[dstOffset] / 255) * brushAlpha / 255);opacityData[dstOffset] = opacityAlpha;}}}}; /*CPBrushToolSimpleBrush.prototype.paintOpacityFlow = function(srcRect, dstRect, brush, brushWidth, opacity, flow) {
        var 
            opacityData = opacityBuffer.data,

            by = srcRect.top;
        
        for (var y = dstRect.top; y < dstRect.bottom; y++, by++) {
            var 
                srcOffset = srcRect.left + by * brushWidth,
                dstOffset = dstRect.left + y * width;
            
            for (var x = dstRect.left; x < dstRect.right; x++, srcOffset++, dstOffset++) {
                var 
                    brushAlpha = brush[srcOffset] * flow;
                
                if (brushAlpha != 0) {
                    var
                        opacityAlpha = opacityData[dstOffset],
                        newAlpha = Math.min(255 * 255, opacityAlpha + (opacity - opacityAlpha / 255) * brushAlpha / 255);
                    
                    newAlpha = Math.min(opacity * brush[srcOffset], newAlpha);
                    
                    if (newAlpha > opacityAlpha) {
                        opacityData[dstOffset] = newAlpha;
                    }
                }
            }
        }
    };*/function CPBrushToolEraser(){}CPBrushToolEraser.prototype = Object.create(CPBrushToolSimpleBrush.prototype);CPBrushToolEraser.prototype.constructor = CPBrushToolEraser;CPBrushToolEraser.prototype.mergeOpacityBuf = function(dstRect,color){var opacityData=opacityBuffer.data,undoData=undoBuffer.data;for(var y=dstRect.top;y < dstRect.bottom;y++) {var dstOffset=curLayer.offsetOfPixel(dstRect.left,y) + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET,srcOffset=opacityBuffer.offsetOfPixel(dstRect.left,y);for(var x=dstRect.left;x < dstRect.right;x++,dstOffset += _CPColorBmp2["default"].BYTES_PER_PIXEL) {var opacityAlpha=opacityData[srcOffset++] / 255 | 0;if(opacityAlpha > 0){var destAlpha=undoData[dstOffset],realAlpha=destAlpha * (255 - opacityAlpha) / 255;curLayer.data[dstOffset] = realAlpha;}}}};function CPBrushToolDodge(){}CPBrushToolDodge.prototype = Object.create(CPBrushToolSimpleBrush.prototype);CPBrushToolDodge.prototype.constructor = CPBrushToolDodge;CPBrushToolDodge.prototype.mergeOpacityBuf = function(dstRect,color){var opacityData=opacityBuffer.data,undoData=undoBuffer.data;for(var y=dstRect.top;y < dstRect.bottom;y++) {var dstOffset=curLayer.offsetOfPixel(dstRect.left,y),srcOffset=opacityBuffer.offsetOfPixel(dstRect.left,y);for(var x=dstRect.left;x < dstRect.right;x++,srcOffset++,dstOffset += _CPColorBmp2["default"].BYTES_PER_PIXEL) {var opacityAlpha=opacityData[srcOffset] / 255 | 0;if(opacityAlpha > 0 && undoData[dstOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET] != 0){opacityAlpha += 255;for(var i=0;i < 3;i++) {var channel=undoData[dstOffset + i] * opacityAlpha / 255 | 0;if(channel > 255){channel = 255;}curLayer.data[dstOffset + i] = channel;}}}}};function CPBrushToolBurn(){}CPBrushToolBurn.prototype = Object.create(CPBrushToolSimpleBrush.prototype);CPBrushToolBurn.prototype.constructor = CPBrushToolBurn;CPBrushToolBurn.prototype.mergeOpacityBuf = function(dstRect,color){var opacityData=opacityBuffer.data,undoData=undoBuffer.data;for(var y=dstRect.top;y < dstRect.bottom;y++) {var dstOffset=curLayer.offsetOfPixel(dstRect.left,y),srcOffset=opacityBuffer.offsetOfPixel(dstRect.left,y);for(var x=dstRect.left;x < dstRect.right;x++,srcOffset++,dstOffset += _CPColorBmp2["default"].BYTES_PER_PIXEL) {var opacityAlpha=opacityData[srcOffset] / 255 | 0;if(opacityAlpha > 0 && undoData[dstOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET] != 0){for(var i=0;i < 3;i++) {var channel=undoData[dstOffset + i];channel = channel - (BURN_CONSTANT - channel) * opacityAlpha / 255 | 0;if(channel < 0){channel = 0;}curLayer.data[dstOffset + i] = channel;}}}}};function CPBrushToolBlur(){}CPBrushToolBlur.prototype = Object.create(CPBrushToolSimpleBrush.prototype);CPBrushToolBlur.prototype.constructor = CPBrushToolBlur;CPBrushToolBlur.prototype.mergeOpacityBuf = function(dstRect,color){var opacityData=opacityBuffer.data,undoData=undoBuffer.data,dstYStride=undoBuffer.width * _CPColorBmp2["default"].BYTES_PER_PIXEL,r,g,b,a;function addSample(sampleOffset){r += undoData[sampleOffset + _CPColorBmp2["default"].RED_BYTE_OFFSET];g += undoData[sampleOffset + _CPColorBmp2["default"].GREEN_BYTE_OFFSET];b += undoData[sampleOffset + _CPColorBmp2["default"].BLUE_BYTE_OFFSET];a += undoData[sampleOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET];}for(var y=dstRect.top;y < dstRect.bottom;y++) {var dstOffset=undoBuffer.offsetOfPixel(dstRect.left,y),srcOffset=opacityBuffer.offsetOfPixel(dstRect.left,y);for(var x=dstRect.left;x < dstRect.right;x++,dstOffset += _CPColorBmp2["default"].BYTES_PER_PIXEL,srcOffset++) {var opacityAlpha=opacityData[srcOffset] / 255 | 0;if(opacityAlpha > 0){var blur=BLUR_MIN + (BLUR_MAX - BLUR_MIN) * opacityAlpha / 255 | 0,sum=blur + 4;r = blur * undoData[dstOffset + _CPColorBmp2["default"].RED_BYTE_OFFSET];g = blur * undoData[dstOffset + _CPColorBmp2["default"].GREEN_BYTE_OFFSET];b = blur * undoData[dstOffset + _CPColorBmp2["default"].BLUE_BYTE_OFFSET];a = blur * undoData[dstOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET];addSample(y > 0?dstOffset - dstYStride:dstOffset);addSample(y < undoBuffer.height - 1?dstOffset + dstYStride:dstOffset);addSample(x > 0?dstOffset - _CPColorBmp2["default"].BYTES_PER_PIXEL:dstOffset);addSample(x < undoBuffer.width - 1?dstOffset + _CPColorBmp2["default"].BYTES_PER_PIXEL:dstOffset);a /= sum;r /= sum;g /= sum;b /= sum;curLayer.data[dstOffset + _CPColorBmp2["default"].RED_BYTE_OFFSET] = r | 0;curLayer.data[dstOffset + _CPColorBmp2["default"].GREEN_BYTE_OFFSET] = g | 0;curLayer.data[dstOffset + _CPColorBmp2["default"].BLUE_BYTE_OFFSET] = b | 0;curLayer.data[dstOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET] = a | 0;}}}}; /* Brushes derived from this class use the opacity buffer as a simple alpha layer (32-bit pixels in ARGB order) */function CPBrushToolDirectBrush(){}CPBrushToolDirectBrush.prototype = Object.create(CPBrushToolSimpleBrush.prototype);CPBrushToolDirectBrush.prototype.constructor = CPBrushToolDirectBrush;CPBrushToolDirectBrush.prototype.mergeOpacityBuf = function(dstRect,color){var opacityData=opacityBuffer.data,undoData=undoBuffer.data,srcOffset=opacityBuffer.offsetOfPixel(dstRect.left,dstRect.top),dstOffset=curLayer.offsetOfPixel(dstRect.left,dstRect.top),width=dstRect.getWidth() | 0,height=dstRect.getHeight() | 0,srcYStride=opacityBuffer.width - width | 0,dstYStride=(curLayer.width - width) * _CPColorBmp2["default"].BYTES_PER_PIXEL | 0;for(var y=0;y < height;y++,srcOffset += srcYStride,dstOffset += dstYStride) {for(var x=0;x < width;x++,srcOffset++,dstOffset += _CPColorBmp2["default"].BYTES_PER_PIXEL) {var color1=opacityData[srcOffset],alpha1=color1 >>> 24;if(alpha1 == 0){continue;}var  // Pretty sure fusion.alpha is always 100 and the commented section is a copy/paste error
alpha2=undoData[dstOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET], /* * fusion.alpha / 100 */newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0;if(newAlpha > 0){var realAlpha=alpha1 * 255 / newAlpha | 0,invAlpha=255 - realAlpha;curLayer.data[dstOffset] = ((color1 >> 16 & 0xFF) * realAlpha + undoData[dstOffset] * invAlpha) / 255 | 0;curLayer.data[dstOffset + 1] = ((color1 >> 8 & 0xFF) * realAlpha + undoData[dstOffset + 1] * invAlpha) / 255 | 0;curLayer.data[dstOffset + 2] = ((color1 & 0xFF) * realAlpha + undoData[dstOffset + 2] * invAlpha) / 255 | 0;curLayer.data[dstOffset + 3] = newAlpha;}}}};function CPBrushToolWatercolor(){var WCMEMORY=50,WXMAXSAMPLERADIUS=64;var previousSamples=[]; /**
         * Average out a bunch of samples around the given pixel (x, y).
         * 
         * dx, dy controls the spread of the samples.
         * 
         * @returns CPColorFloat
         */function sampleColor(x,y,dx,dy){var samples=[],layerToSample=sampleAllLayers?fusion:that.getActiveLayer();x = x | 0;y = y | 0;samples.push(_utilCPColorFloat2["default"].createFromInt(layerToSample.getPixel(x,y)));for(var r=0.25;r < 1.001;r += .25) {samples.push(_utilCPColorFloat2["default"].createFromInt(layerToSample.getPixel(~ ~(x + r * dx),y)));samples.push(_utilCPColorFloat2["default"].createFromInt(layerToSample.getPixel(~ ~(x - r * dx),y)));samples.push(_utilCPColorFloat2["default"].createFromInt(layerToSample.getPixel(x,~ ~(y + r * dy))));samples.push(_utilCPColorFloat2["default"].createFromInt(layerToSample.getPixel(x,~ ~(y - r * dy))));samples.push(_utilCPColorFloat2["default"].createFromInt(layerToSample.getPixel(~ ~(x + r * 0.7 * dx),~ ~(y + r * 0.7 * dy))));samples.push(_utilCPColorFloat2["default"].createFromInt(layerToSample.getPixel(~ ~(x + r * 0.7 * dx),~ ~(y - r * 0.7 * dy))));samples.push(_utilCPColorFloat2["default"].createFromInt(layerToSample.getPixel(~ ~(x - r * 0.7 * dx),~ ~(y + r * 0.7 * dy))));samples.push(_utilCPColorFloat2["default"].createFromInt(layerToSample.getPixel(~ ~(x - r * 0.7 * dx),~ ~(y - r * 0.7 * dy))));}var average=new _utilCPColorFloat2["default"](0,0,0);for(var i=0;i < samples.length;i++) {var sample=samples[i];average.r += sample.r;average.g += sample.g;average.b += sample.b;}average.r /= samples.length;average.g /= samples.length;average.b /= samples.length;return average;} // Blend the brush stroke with full color into the opacityBuffer
function paintDirect(srcRect,dstRect,brush,brushWidth,alpha,color1){var opacityData=opacityBuffer.data,by=srcRect.top;for(var y=dstRect.top;y < dstRect.bottom;y++,by++) {var srcOffset=srcRect.left + by * brushWidth,dstOffset=opacityBuffer.offsetOfPixel(dstRect.left,y);for(var x=dstRect.left;x < dstRect.right;x++,srcOffset++,dstOffset++) {var alpha1=(brush[srcOffset] & 0xff) * alpha / 255 | 0;if(alpha1 <= 0){continue;}var color2=opacityData[dstOffset],alpha2=color2 >>> 24,newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0;if(newAlpha > 0){var realAlpha=alpha1 * 255 / newAlpha | 0,invAlpha=255 - realAlpha; // The usual alpha blending formula C = A * alpha + B * (1 - alpha)
// has to rewritten in the form C = A + (1 - alpha) * B - (1 - alpha) *A
// that way the rounding up errors won't cause problems
var newColor=newAlpha << 24 | (color1 >>> 16 & 0xff) + ((color2 >>> 16 & 0xff) * invAlpha - (color1 >>> 16 & 0xff) * invAlpha) / 255 << 16 | (color1 >>> 8 & 0xff) + ((color2 >>> 8 & 0xff) * invAlpha - (color1 >>> 8 & 0xff) * invAlpha) / 255 << 8 | (color1 & 0xff) + ((color2 & 0xff) * invAlpha - (color1 & 0xff) * invAlpha) / 255;opacityData[dstOffset] = newColor;}}}}this.beginStroke = function(x,y,pressure){previousSamples = null;CPBrushToolDirectBrush.prototype.beginStroke.call(this,x,y,pressure);};this.paintDabImplementation = function(srcRect,dstRect,dab){if(previousSamples == null){ // Seed the previousSamples list to capacity with a bunch of copies of one sample to get us started
var startColor=sampleColor(~ ~((dstRect.left + dstRect.right) / 2),~ ~((dstRect.top + dstRect.bottom) / 2),Math.max(1,Math.min(WXMAXSAMPLERADIUS,dstRect.getWidth() * 2 / 6)),Math.max(1,Math.min(WXMAXSAMPLERADIUS,dstRect.getHeight() * 2 / 6)));previousSamples = [];for(var i=0;i < WCMEMORY;i++) {previousSamples.push(startColor);}}var wcColor=new _utilCPColorFloat2["default"](0,0,0);for(var i=0;i < previousSamples.length;i++) {var sample=previousSamples[i];wcColor.r += sample.r;wcColor.g += sample.g;wcColor.b += sample.b;}wcColor.r /= previousSamples.length;wcColor.g /= previousSamples.length;wcColor.b /= previousSamples.length; // resaturation
wcColor.mixWith(_utilCPColorFloat2["default"].createFromInt(curColor),curBrush.resat * curBrush.resat);var newColor=wcColor.toInt(); // bleed
wcColor.mixWith(sampleColor((dstRect.left + dstRect.right) / 2,(dstRect.top + dstRect.bottom) / 2,Math.max(1,Math.min(WXMAXSAMPLERADIUS,dstRect.getWidth() * 2 / 6)),Math.max(1,Math.min(WXMAXSAMPLERADIUS,dstRect.getHeight() * 2 / 6))),curBrush.bleed);previousSamples.push(wcColor);previousSamples.shift();paintDirect(srcRect,dstRect,dab.brush,dab.width,Math.max(1,dab.alpha / 4),newColor);mergeOpacityBuffer(0,false);if(sampleAllLayers){that.fusionLayers();}};}CPBrushToolWatercolor.prototype = Object.create(CPBrushToolDirectBrush.prototype);CPBrushToolWatercolor.prototype.constructor = CPBrushToolWatercolor;function CPBrushToolOil(){function oilAccumBuffer(srcRect,dstRect,buffer,w,alpha){var layerToSample=sampleAllLayers?fusion:that.getActiveLayer(),by=srcRect.top;for(var y=dstRect.top;y < dstRect.bottom;y++,by++) {var srcOffset=srcRect.left + by * w,dstOffset=layerToSample.offsetOfPixel(dstRect.left,y);for(var x=dstRect.left;x < dstRect.right;x++,srcOffset++,dstOffset += _CPColorBmp2["default"].BYTES_PER_PIXEL) {var alpha1=layerToSample.data[dstOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET] * alpha / 255 | 0;if(alpha1 <= 0){continue;}var color2=buffer[srcOffset],alpha2=color2 >>> 24,newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0;if(newAlpha > 0){var realAlpha=alpha1 * 255 / newAlpha | 0,invAlpha=255 - realAlpha,color1Red=layerToSample.data[dstOffset + _CPColorBmp2["default"].RED_BYTE_OFFSET],color1Green=layerToSample.data[dstOffset + _CPColorBmp2["default"].GREEN_BYTE_OFFSET],color1Blue=layerToSample.data[dstOffset + _CPColorBmp2["default"].BLUE_BYTE_OFFSET],newColor=newAlpha << 24 | color1Red + ((color2 >>> 16 & 0xff) * invAlpha - color1Red * invAlpha) / 255 << 16 | color1Green + ((color2 >>> 8 & 0xff) * invAlpha - color1Green * invAlpha) / 255 << 8 | color1Blue + ((color2 & 0xff) * invAlpha - color1Blue * invAlpha) / 255;buffer[srcOffset] = newColor;}}}}function oilResatBuffer(srcRect,dstRect,buffer,w,alpha1,color1){var by=srcRect.top;if(alpha1 <= 0){return;}for(var y=dstRect.top;y < dstRect.bottom;y++,by++) {var srcOffset=srcRect.left + by * w;for(var x=dstRect.left;x < dstRect.right;x++,srcOffset++) {var color2=buffer[srcOffset],alpha2=color2 >>> 24,newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0;if(newAlpha > 0){var realAlpha=alpha1 * 255 / newAlpha | 0,invAlpha=255 - realAlpha,newColor=newAlpha << 24 | (color1 >>> 16 & 0xff) + ((color2 >>> 16 & 0xff) * invAlpha - (color1 >>> 16 & 0xff) * invAlpha) / 255 << 16 | (color1 >>> 8 & 0xff) + ((color2 >>> 8 & 0xff) * invAlpha - (color1 >>> 8 & 0xff) * invAlpha) / 255 << 8 | (color1 & 0xff) + ((color2 & 0xff) * invAlpha - (color1 & 0xff) * invAlpha) / 255;buffer[srcOffset] = newColor;}}}}function oilPasteBuffer(srcRect,dstRect,buffer,brush,w,alpha){var opacityData=opacityBuffer.data,by=srcRect.top;for(var y=dstRect.top;y < dstRect.bottom;y++,by++) {var bufferOffset=srcRect.left + by * w, // Brush buffer is 1 integer per pixel
opacityOffset=dstRect.left + y * that.width, // Opacity buffer is 1 integer per pixel
layerOffset=curLayer.offsetOfPixel(dstRect.left,y); // 4 bytes per pixel 
for(var x=dstRect.left;x < dstRect.right;x++,bufferOffset++,layerOffset += _CPColorBmp2["default"].BYTES_PER_PIXEL,opacityOffset++) {var color1=buffer[bufferOffset],alpha1=(color1 >>> 24) * (brush[bufferOffset] & 0xff) * alpha / (255 * 255) | 0;if(alpha1 <= 0){continue;}var alpha2=curLayer.data[layerOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET],newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0;if(newAlpha > 0){var color2Red=curLayer.data[layerOffset + _CPColorBmp2["default"].RED_BYTE_OFFSET],color2Green=curLayer.data[layerOffset + _CPColorBmp2["default"].GREEN_BYTE_OFFSET],color2Blue=curLayer.data[layerOffset + _CPColorBmp2["default"].BLUE_BYTE_OFFSET],realAlpha=alpha1 * 255 / newAlpha | 0,invAlpha=255 - realAlpha,newColor=newAlpha << 24 | (color1 >>> 16 & 0xff) + (color2Red * invAlpha - (color1 >>> 16 & 0xff) * invAlpha) / 255 << 16 | (color1 >>> 8 & 0xff) + (color2Green * invAlpha - (color1 >>> 8 & 0xff) * invAlpha) / 255 << 8 | (color1 & 0xff) + (color2Blue * invAlpha - (color1 & 0xff) * invAlpha) / 255;opacityData[opacityOffset] = newColor;}}}}this.paintDabImplementation = function(srcRect,dstRect,dab){if(brushBuffer == null){brushBuffer = new Uint32Array(dab.width * dab.height); // Initialized to 0 for us by the browser
oilAccumBuffer(srcRect,dstRect,brushBuffer,dab.width,255);}else {oilResatBuffer(srcRect,dstRect,brushBuffer,dab.width,~ ~(curBrush.resat <= 0.0?0:Math.max(1,curBrush.resat * curBrush.resat * 255)),curColor & 0xFFFFFF);oilPasteBuffer(srcRect,dstRect,brushBuffer,dab.brush,dab.width,dab.alpha);oilAccumBuffer(srcRect,dstRect,brushBuffer,dab.width,~ ~(curBrush.bleed * 255));}mergeOpacityBuffer(0,false);if(sampleAllLayers){that.fusionLayers();}};}CPBrushToolOil.prototype = Object.create(CPBrushToolDirectBrush.prototype);CPBrushToolOil.prototype.constructor = CPBrushToolOil;function CPBrushToolSmudge(){ /**
         * 
         * @param srcRect
         * @param dstRect
         * @param buffer Uint32Array
         * @param w int
         * @param alpha int
         */function smudgeAccumBuffer(srcRect,dstRect,buffer,w,alpha){var layerToSample=sampleAllLayers?fusion:that.getActiveLayer(),by=srcRect.top;for(var y=dstRect.top;y < dstRect.bottom;y++,by++) {var srcOffset=srcRect.left + by * w,dstOffset=layerToSample.offsetOfPixel(dstRect.left,y);for(var x=dstRect.left;x < dstRect.right;x++,srcOffset++,dstOffset += _CPColorBmp2["default"].BYTES_PER_PIXEL) {var layerRed=layerToSample.data[dstOffset + _CPColorBmp2["default"].RED_BYTE_OFFSET],layerGreen=layerToSample.data[dstOffset + _CPColorBmp2["default"].GREEN_BYTE_OFFSET],layerBlue=layerToSample.data[dstOffset + _CPColorBmp2["default"].BLUE_BYTE_OFFSET],layerAlpha=layerToSample.data[dstOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET],opacityAlpha=255 - alpha;if(opacityAlpha > 0){var destColor=buffer[srcOffset],destAlpha=255,newLayerAlpha=opacityAlpha + destAlpha * (255 - opacityAlpha) / 255 | 0,realAlpha=255 * opacityAlpha / newLayerAlpha | 0,invAlpha=255 - realAlpha,newColor=(layerAlpha * realAlpha + (destColor >>> 24 & 0xff) * invAlpha) / 255 << 24 & 0xff000000 | (layerRed * realAlpha + (destColor >>> 16 & 0xff) * invAlpha) / 255 << 16 & 0xff0000 | (layerGreen * realAlpha + (destColor >>> 8 & 0xff) * invAlpha) / 255 << 8 & 0xff00 | (layerBlue * realAlpha + (destColor & 0xff) * invAlpha) / 255 & 0xff;if(newColor == destColor){if(layerRed > (destColor & 0xff0000)){newColor += 1 << 16;}else if(layerRed < (destColor & 0xff0000)){newColor -= 1 << 16;}if(layerGreen > (destColor & 0xff00)){newColor += 1 << 8;}else if(layerGreen < (destColor & 0xff00)){newColor -= 1 << 8;}if(layerBlue > (destColor & 0xff)){newColor += 1;}else if(layerBlue < (destColor & 0xff)){newColor -= 1;}}buffer[srcOffset] = newColor;}}}if(srcRect.left > 0){var fill=srcRect.left;for(var y=srcRect.top;y < srcRect.bottom;y++) {var offset=y * w,fillColor=buffer[offset + srcRect.left];for(var x=0;x < fill;x++) {buffer[offset++] = fillColor;}}}if(srcRect.right < w){var fill=w - srcRect.right;for(var y=srcRect.top;y < srcRect.bottom;y++) {var offset=y * w + srcRect.right,fillColor=buffer[offset - 1];for(var x=0;x < fill;x++) {buffer[offset++] = fillColor;}}}for(var y=0;y < srcRect.top;y++) {var srcOffset=srcRect.top * w,dstOffset=y * w;for(var x=0;x < w;x++,srcOffset++,dstOffset++) {buffer[dstOffset] = buffer[srcOffset];}}for(var y=srcRect.bottom;y < w;y++) {var srcOffset=(srcRect.bottom - 1) * w,dstOffset=y * w;for(var x=0;x < w;x++,srcOffset++,dstOffset++) {buffer[dstOffset] = buffer[srcOffset];}}} /**
         * 
         * @param srcRect CPRect
         * @param dstRect CPRect
         * @param buffer Uint32Array
         * @param brush Uint8Array
         * @param w int
         * @param alpha int
         */function smudgePasteBuffer(srcRect,dstRect,buffer,brush,w,alpha){var by=srcRect.top;for(var y=dstRect.top;y < dstRect.bottom;y++,by++) {var srcOffset=srcRect.left + by * w,dstOffset=curLayer.offsetOfPixel(dstRect.left,y);for(var x=dstRect.left;x < dstRect.right;x++,srcOffset++,dstOffset += _CPColorBmp2["default"].BYTES_PER_PIXEL) {var bufferColor=buffer[srcOffset],opacityAlpha=(bufferColor >>> 24) * (brush[srcOffset] & 0xff) / 255;if(opacityAlpha > 0){curLayer.data[dstOffset + _CPColorBmp2["default"].RED_BYTE_OFFSET] = bufferColor >> 16 & 0xff;curLayer.data[dstOffset + _CPColorBmp2["default"].GREEN_BYTE_OFFSET] = bufferColor >> 8 & 0xff;curLayer.data[dstOffset + _CPColorBmp2["default"].BLUE_BYTE_OFFSET] = bufferColor & 0xff;curLayer.data[dstOffset + _CPColorBmp2["default"].ALPHA_BYTE_OFFSET] = bufferColor >> 24 & 0xff;}}}} /**
         * @param srcRect CPRect
         * @param dstRect CPRect
         * @param dab CPBrushDab
         */this.paintDabImplementation = function(srcRect,dstRect,dab){if(brushBuffer == null){brushBuffer = new Uint32Array(dab.width * dab.height);smudgeAccumBuffer(srcRect,dstRect,brushBuffer,dab.width,0);}else {smudgeAccumBuffer(srcRect,dstRect,brushBuffer,dab.width,dab.alpha);smudgePasteBuffer(srcRect,dstRect,brushBuffer,dab.brush,dab.width,dab.alpha);if(lockAlpha){restoreAlpha(dstRect);}}opacityArea.makeEmpty();if(sampleAllLayers){that.fusionLayers();}};}CPBrushToolSmudge.prototype = Object.create(CPBrushToolDirectBrush.prototype);CPBrushToolSmudge.prototype.constructor = CPBrushToolSmudge;CPBrushToolSmudge.prototype.mergeOpacityBuf = function(dstRect,color){};var paintingModes=[new CPBrushToolSimpleBrush(),new CPBrushToolEraser(),new CPBrushToolDodge(),new CPBrushToolBurn(),new CPBrushToolWatercolor(),new CPBrushToolBlur(),new CPBrushToolSmudge(),new CPBrushToolOil()];this.width = _width;this.height = _height;this.getDefaultLayerName = function(){var prefix="Layer ",highestLayerNb=0;for(var i=0;i < layers.length;i++) {var layer=layers[i];if(/^Layer [0-9]+$/.test(layer.name)){highestLayerNb = Math.max(highestLayerNb,parseInt(layer.name.substring(prefix.length),10));}}return prefix + (highestLayerNb + 1);};function restoreAlpha(rect){that.getActiveLayer().copyAlphaFrom(undoBuffer,rect);} /**
     * Merge the opacity buffer from the current drawing operation to the active layer.
     */function mergeOpacityBuffer(color,clear){if(!opacityArea.isEmpty()){if(curBrush.paintMode != _CPBrushInfo2["default"].M_ERASE || !lockAlpha){paintingModes[curBrush.paintMode].mergeOpacityBuf(opacityArea,color);}else { // FIXME: it would be nice to be able to set the paper color
paintingModes[_CPBrushInfo2["default"].M_PAINT].mergeOpacityBuf(opacityArea,EMPTY_LAYER_COLOR);}if(lockAlpha){restoreAlpha(opacityArea);}if(clear){opacityBuffer.clearRect(opacityArea,0);}opacityArea.makeEmpty();}}this.addBackgroundLayer = function(){var layer=new _CPLayer2["default"](that.width,that.height,this.getDefaultLayerName());layer.clearAll(EMPTY_BACKGROUND_COLOR);this.addLayerObject(layer);}; /**
     * Merge together the visible layers and return the resulting ImageData for display to the screen.
     * 
     * The image is cached, so repeat calls are cheap.
     */this.fusionLayers = function(){ // Is there anything to update from last call?
if(!fusionArea.isEmpty()){ // The current brush renders out its buffers to the layer stack for us
mergeOpacityBuffer(curColor,false); // If the drawing is single-layered and opaque, just use the bottom-most layer as our fusion, we don't need to blend anything!
if(layers.length == 1 && layers[0].alpha >= 100 && layers[0].visible){fusion = layers[0];}else { // Fuse into the actual fusion buffer since we need to blend
fusion = fusionBuffer;var fusionIsSemiTransparent=true,first=true;layers.forEach(function(layer){if(!first){fusionIsSemiTransparent = fusionIsSemiTransparent && fusion.hasAlphaInRect(fusionArea);}if(layer.visible && layer.alpha > 0){if(first){first = false;if(layer.alpha == 100){ /*
                                 * Instead of blending the layer onto the empty transparent fusion, we can just copy the
                                 * layer data right into the fusion. This works for all of our blending modes.
                                 */fusion.copyBitmapRect(layer,fusionArea.left,fusionArea.top,fusionArea);return;}fusion.clearRect(fusionArea,0x00FFFFFF); // Transparent white
}_CPBlend2["default"].fuseLayer(fusion,fusionIsSemiTransparent,layer,fusionArea);}});if(first){ // Didn't draw any layers? We have to clear the area, then
fusion.clearRect(fusionArea,0x00FFFFFF); // Transparent white
}}fusionArea.makeEmpty();}return fusion.getImageData();};this.setActiveLayerIndex = function(newIndex){if(newIndex < 0 || newIndex >= layers.length){return;}if(curLayer != layers[newIndex]){var oldIndex=this.getActiveLayerIndex();curLayer = layers[newIndex]; // Was the old layer deleted?
if(oldIndex == -1){callListenersLayerChange();}else {callListenersLayerChange(oldIndex); // Old layer has now been deselected
callListenersLayerChange(newIndex); // New layer has now been selected
}invalidateLayerUndo();}};this.getActiveLayerIndex = function(){for(var i=0;i < layers.length;i++) {if(layers[i] == curLayer){return i;}}return -1;}; /*
     * Get the index of the topmost visible layer, or 0.
     */this.getTopmostVisibleLayer = function(){for(var i=layers.length - 1;i >= 0;i--) {if(layers[i].visible){return i;}}return 0;}; /**
     * Get the layer with the specified index (no bounds checking)
     *
     * @param {int} i
     * @returns {CPLayer}
     */this.getLayer = function(i){return layers[i];}; /**
     * Get the currently active layer (the layer that drawing operations will be applied to))
     *
     * @returns {CPLayer}
     */this.getActiveLayer = function(){return curLayer;};this.getDocMemoryUsed = function(){var total=fusionBuffer.getMemorySize() * (3 + layers.length);if(clipboard != null){total += clipboard.bmp.getMemorySize();}return total;};this.getUndoMemoryUsed = function(){var total=0;for(var i=0;i < redoList.length;i++) {var undo=redoList[i];total += undo.getMemoryUsed(true,null);}for(var i=0;i < undoList.length;i++) {var undo=undoList[i];total += undo.getMemoryUsed(false,null);}return total;};function canUndo(){return undoList.length > 0;}function canRedo(){return redoList.length > 0;} //
// Undo / Redo
//
this.undo = function(){if(!canUndo()){return;}hasUnsavedChanges = true;var undo=undoList.pop();undo.undo();redoList.push(undo);};this.redo = function(){if(!canRedo()){return;}hasUnsavedChanges = true;var redo=redoList.pop();redo.redo();undoList.push(redo);}; /**
     * Ensures that the state of the current layer has been stored in undoBuffer so it can be undone later.
     */function prepareForLayerUndo(){if(!undoBufferInvalidRegion.isEmpty()){ //console.log("Copying " + undoBufferInvalidRegion + " to the undo buffer");
undoBuffer.copyBitmapRect(curLayer,undoBufferInvalidRegion.left,undoBufferInvalidRegion.top,undoBufferInvalidRegion);undoBufferInvalidRegion.makeEmpty();}} /**
     * Call when the undo buffer has become completely worthless (e.g. after the active layer index changes, the undo
     * buffer won't contain any data from the new layer to begin with).
     */function invalidateLayerUndo(){undoBufferInvalidRegion = that.getBounds();} /**
     * The result of some of our operations aren't needed until later, so we can defer them until the user is idle.
     *
     * You may call this routine at any time (or never, if you like) as a hint that the user is idle and we should
     * try to perform pending operations before we will need to block on their results.
     */this.performIdleTasks = function(){prepareForLayerUndo();};function addUndo(undo){hasUnsavedChanges = true;if(redoList.length > 0){redoList = [];}if(undoList.length == 0 || !undoList[undoList.length - 1].merge(undo)){if(undoList.length >= MAX_UNDO){undoList.unshift();}if(undoList.length > 0){undoList[undoList.length - 1].compact();}undoList.push(undo);}else if(undoList[undoList.length - 1].noChange()){ // Two merged changes can mean no change at all
// don't leave a useless undo in the list
undoList.pop();}}this.clearHistory = function(){undoList = [];redoList = [];};this.colorPicker = function(x,y){ // not really necessary and could potentially the repaint
// of the canvas to miss that area
// this.fusionLayers();
return fusion.getPixel(~ ~x,~ ~y) & 0xFFFFFF;};this.setSelection = function(rect){curSelection.set(rect);curSelection.clip(this.getBounds());};this.emptySelection = function(){curSelection.makeEmpty();};this.floodFill = function(x,y){prepareForLayerUndo();undoArea = this.getBounds();curLayer.floodFill(~ ~x,~ ~y,curColor | 0xff000000);addUndo(new CPUndoPaint());invalidateFusion();};this.gradientFill = function(fromX,fromY,toX,toY,gradientPoints){var r=this.getSelectionAutoSelect();prepareForLayerUndo();undoArea = r;curLayer.gradient(r,fromX,fromY,toX,toY,gradientPoints);if(lockAlpha){restoreAlpha(r);}addUndo(new CPUndoPaint());invalidateFusion();};this.fill = function(color){var r=this.getSelectionAutoSelect();prepareForLayerUndo();undoArea = r;curLayer.clearRect(r,color);addUndo(new CPUndoPaint());invalidateFusion();};this.clear = function(){this.fill(0xffffff);};this.hFlip = function(){var r=this.getSelectionAutoSelect();prepareForLayerUndo();undoArea = r;curLayer.copyRegionHFlip(r,undoBuffer);addUndo(new CPUndoPaint());invalidateFusion();};this.vFlip = function(){var r=this.getSelectionAutoSelect();prepareForLayerUndo();undoArea = r;curLayer.copyRegionVFlip(r,undoBuffer);addUndo(new CPUndoPaint());invalidateFusion();};this.monochromaticNoise = function(){var r=this.getSelectionAutoSelect();prepareForLayerUndo();undoArea = r;curLayer.fillWithNoise(r);addUndo(new CPUndoPaint());invalidateFusion();};this.colorNoise = function(){var r=this.getSelectionAutoSelect();prepareForLayerUndo();undoArea = r;curLayer.fillWithColorNoise(r);addUndo(new CPUndoPaint());invalidateFusion();};this.invert = function(){var r=this.getSelectionAutoSelect();prepareForLayerUndo();undoArea = r;curLayer.invert(r);addUndo(new CPUndoPaint());invalidateFusion();};this.boxBlur = function(radiusX,radiusY,iterations){var r=this.getSelectionAutoSelect();prepareForLayerUndo();undoArea = r;for(var i=0;i < iterations;i++) {curLayer.boxBlur(r,radiusX,radiusY);}addUndo(new CPUndoPaint());invalidateFusion();};this.rectangleSelection = function(r){var newSelection=r.clone();newSelection.clip(this.getBounds());addUndo(new CPUndoRectangleSelection(this.getSelection(),newSelection));this.setSelection(newSelection);}; /**
     * Get the most recently completed operation from the undo list, or null if the undo list is empty.
     *
     * @returns {*}
     */function getActiveOperation(){if(undoList.length > 0){return undoList[undoList.length - 1];}return null;} /**
     * Move the currently selected layer data by the given offset.
     *
     * @param {int} offsetX
     * @param {int} offsetY
     * @param {boolean} copy - Make a copy of the selection instead of moving it.
     */this.move = function(offsetX,offsetY,copy){ /*
         * Add rounding to ensure we haven't been given float coordinates (that would cause horrible flow-on effects like
         * the boundary of the undo rectangle having float coordinates)
         */offsetX |= 0;offsetY |= 0;if(offsetX == 0 && offsetY == 0){return;}opacityArea.makeEmpty(); // Prevents a drawing tool being called during layer fusion to draw itself to the layer
var activeOp=getActiveOperation(); // If we've changed layers since our last move, we want to move the new layer, not the old one, so can't amend
if(!copy && activeOp instanceof CPActionMoveSelection && activeOp.layerIndex == this.getActiveLayerIndex()){activeOp.amend(offsetX,offsetY);redoList = [];hasUnsavedChanges = true;}else {activeOp = new CPActionMoveSelection(this.getSelectionAutoSelect(),offsetX,offsetY,copy);addUndo(activeOp);}}; /**
     * Change the interpolation mode used by Free Transform operations
     *
     * @param {string} interpolation - Either "sharp" or "smooth"
     */this.setTransformInterpolation = function(interpolation){transformInterpolation = interpolation;if(previewOperation instanceof CPActionTransformSelection){previewOperation.setInterpolation(interpolation);}}; /**
     * If the current operation is an affine transform, roll it back and remove it from the undo history.
     */this.transformAffineAbort = function(){if(previewOperation instanceof CPActionTransformSelection){previewOperation.undo();previewOperation = null;}}; /**
     * Begins transforming the current selection/layer, and returns the initial source rectangle and initial transform.
     * You can update the transform by calling transformAffine().
     * 
     * You must call transformAffineFinish() or transformAffineAbort() to finish the transformation.
     * 
     * Returns null if the current selection/layer doesn't contain any non-transparent pixels, and doesn't start
     * transforming.
     */this.transformAffineBegin = function(){ // Are we already transforming? Continue that instead
if(previewOperation instanceof CPActionTransformSelection){return {transform:previewOperation.getTransform(),rect:previewOperation.getInitialTransformRect(),selection:previewOperation.getInitialSelectionRect()};} // Only transform the non-transparent pixels
var layer=this.getActiveLayer(),selection=this.getSelectionAutoSelect(),initialRect=layer.getNonTransparentBounds(selection),initialTransform=new _utilCPTransform2["default"]();if(initialRect.isEmpty()){return null;} /* If we introduce other previewOperations, we might want to check we aren't overwriting them here...
         * Though probably ChickenPaint's global exclusive mode will enforce this for us.
         */previewOperation = new CPActionTransformSelection(initialRect,initialTransform,transformInterpolation);opacityArea.makeEmpty(); // Prevents a drawing tool being called during layer fusion to draw itself to the layer
return {transform:initialTransform,rect:initialRect,selection:selection};}; /**
     * Finish and save the transform that is currently in progress.
     */this.transformAffineFinish = function(){if(previewOperation instanceof CPActionTransformSelection){addUndo(previewOperation);previewOperation = null;}}; /**
     * Transform the currently selected layer data using the given AffineTransform.
     *
     * @param {CPTransform} affineTransform
     */this.transformAffineAmend = function(affineTransform){if(previewOperation instanceof CPActionTransformSelection){previewOperation.amend(affineTransform);}}; // Copy/Paste functions
this.cutSelection = function(createUndo){var selection=this.getSelection();if(selection.isEmpty()){return;}clipboard = new _CPClip2["default"](curLayer.cloneRect(selection),selection.left,selection.top);if(createUndo){addUndo(new CPUndoCut(clipboard.bmp,this.getActiveLayerIndex(),selection));}curLayer.clearRect(selection,EMPTY_LAYER_COLOR);invalidateFusionRect(selection);};this.copySelection = function(){var selection=that.getSelection();if(selection.isEmpty()){return;}clipboard = new _CPClip2["default"](curLayer.cloneRect(selection),selection.left,selection.top);};this.copySelectionMerged = function(){var selection=that.getSelection();if(selection.isEmpty()){return;} // make sure the fusioned picture is up to date
this.fusionLayers();clipboard = new _CPClip2["default"](fusion.cloneRect(selection),selection.left,selection.top);}; /**
     *
     * @param createUndo boolean
     * @param clip CPClip
     */function pasteClip(createUndo,clip){var activeLayerIndex=that.getActiveLayerIndex();if(createUndo){addUndo(new CPUndoPaste(clip,activeLayerIndex,that.getSelection()));}var newLayer=new _CPLayer2["default"](that.width,that.height,that.getDefaultLayerName()),sourceRect=clip.bmp.getBounds(),x,y;layers.splice(activeLayerIndex + 1,0,newLayer);that.setActiveLayerIndex(activeLayerIndex + 1);if(sourceRect.isInside(that.getBounds())){x = clip.x;y = clip.y;}else {x = (that.width - clip.bmp.width) / 2 | 0;y = (that.height - clip.bmp.height) / 2 | 0;}curLayer.copyBitmapRect(clip.bmp,x,y,sourceRect);that.emptySelection();invalidateFusion();callListenersLayerChange();}this.pasteClipboard = function(createUndo){if(clipboard != null){pasteClip(createUndo,clipboard);}};this.setSampleAllLayers = function(b){sampleAllLayers = b;};this.setLockAlpha = function(b){lockAlpha = b;};this.setForegroundColor = function(color){curColor = color;};this.setBrush = function(brush){curBrush = brush;};this.setBrushTexture = function(texture){brushManager.setTexture(texture);}; // ///////////////////////////////////////////////////////////////////////////////////
// Paint engine
// ///////////////////////////////////////////////////////////////////////////////////
this.beginStroke = function(x,y,pressure){if(curBrush == null){return;}paintingModes[curBrush.paintMode].beginStroke(x,y,pressure);};this.continueStroke = function(x,y,pressure){if(curBrush == null){return;}paintingModes[curBrush.paintMode].continueStroke(x,y,pressure);};this.endStroke = function(){if(curBrush == null){return;}paintingModes[curBrush.paintMode].endStroke();};this.hasAlpha = function(){return fusion.hasAlpha();}; /**
     * Get the artwork as a single flat PNG image.
     * 
     * Rotation is [0..3] and selects a multiple of 90 degrees of clockwise rotation to be applied to the drawing before
     * saving.
     * 
     * @return A binary string of the PNG file data.
     */this.getFlatPNG = function(rotation){this.fusionLayers();return fusion.getAsPNG(rotation);}; /**
     * Returns true if this artwork can be exactly represented as a simple transparent PNG (i.e. doesn't have multiple 
     * layers, and base layer's opacity is set to 100%).
     */this.isSimpleDrawing = function(){return this.getLayerCount() == 1 && this.getLayer(0).getAlpha() == 100;}; // ////////////////////////////////////////////////////
// Undo classes
/**
     * Save the difference between the current layer and the undoBuffer (within the undoArea) for undo, and clear
     * the undoArea.
     *
     * @constructor
     */function CPUndoPaint(){var rect=undoArea.clone(),data=undoBuffer.copyRectXOR(curLayer,rect);this.layer = that.getActiveLayerIndex();undoArea.makeEmpty();this.undo = function(){that.getLayer(this.layer).setRectXOR(data,rect);invalidateFusionRect(rect);};this.redo = function(){that.getLayer(this.layer).setRectXOR(data,rect);invalidateFusionRect(rect);};this.getMemoryUsed = function(undone,param){return data.length;};}CPUndoPaint.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoPaint.prototype.constructor = CPUndoPaint;function CPUndoLayerVisible(_layerIndex,_oldVis,_newVis){this.layerIndex = _layerIndex;this.oldVis = _oldVis;this.newVis = _newVis;}CPUndoLayerVisible.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoLayerVisible.prototype.constructor = CPUndoLayerVisible;CPUndoLayerVisible.prototype.redo = function(){that.getLayer(this.layerIndex).visible = this.newVis;invalidateFusion();callListenersLayerChange(this.layerIndex);};CPUndoLayerVisible.prototype.undo = function(){that.getLayer(this.layerIndex).visible = this.oldVis;invalidateFusion();callListenersLayerChange(this.layerIndex);};CPUndoLayerVisible.prototype.merge = function(u){if(u instanceof CPUndoLayerVisible && this.layerIndex == u.layerIndex){this.newVis = u.newVis;return true;}return false;};CPUndoLayerVisible.prototype.noChange = function(){return this.oldVis == this.newVis;};function CPUndoAddLayer(layerIndex){this.undo = function(){layers.splice(layerIndex + 1,1);that.setActiveLayerIndex(layerIndex);invalidateFusion();callListenersLayerChange();};this.redo = function(){var newLayer=new _CPLayer2["default"](that.width,that.height,that.getDefaultLayerName());newLayer.clearAll(EMPTY_LAYER_COLOR);layers.splice(layerIndex + 1,0,newLayer);that.setActiveLayerIndex(layerIndex + 1);invalidateFusion();callListenersLayerChange();};}CPUndoAddLayer.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoAddLayer.prototype.constructor = CPUndoAddLayer;function CPUndoDuplicateLayer(layerIndex){this.undo = function(){layers.splice(layerIndex + 1,1);that.setActiveLayerIndex(layerIndex);invalidateFusion();callListenersLayerChange();};this.redo = function(){var copySuffix=" Copy",sourceLayer=layers[layerIndex],newLayer=new _CPLayer2["default"](that.width,that.height),newLayerName=sourceLayer.name;if(!newLayerName.endsWith(copySuffix)){newLayerName += copySuffix;}newLayer.copyFrom(sourceLayer);newLayer.name = newLayerName;layers.splice(layerIndex + 1,0,newLayer);that.setActiveLayerIndex(layerIndex + 1);invalidateFusion();callListenersLayerChange();};}CPUndoDuplicateLayer.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoDuplicateLayer.prototype.constructor = CPUndoDuplicateLayer; /**
     * @param layerIndex int
     * @param layer CPLayer
     */function CPUndoRemoveLayer(layerIndex,layer){this.undo = function(){layers.splice(layerIndex,0,layer);that.setActiveLayerIndex(layerIndex);invalidateFusion();callListenersLayerChange();};this.redo = function(){layers.splice(layerIndex,1);that.setActiveLayerIndex(layerIndex < layers.length?layerIndex:layerIndex - 1);invalidateFusion();callListenersLayerChange();};this.getMemoryUsed = function(undone){return undone?0:layer.width * layer.height * _CPColorBmp2["default"].BYTES_PER_PIXEL;};}CPUndoRemoveLayer.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoRemoveLayer.prototype.constructor = CPUndoRemoveLayer;function CPUndoMergeDownLayer(layerIndex){var layerBottom=new _CPLayer2["default"](that.width,that.height),layerTop;layerBottom.copyFrom(layers[layerIndex - 1]);layerTop = layers[layerIndex];this.undo = function(){layers[layerIndex - 1].copyFrom(layerBottom);layers.splice(layerIndex,0,layerTop);that.setActiveLayerIndex(layerIndex);layerBottom = layerTop = null;invalidateFusion();callListenersLayerChange();};this.redo = function(){layerBottom = new _CPLayer2["default"](that.width,that.height);layerBottom.copyFrom(layers[layerIndex - 1]);layerTop = layers[layerIndex];that.setActiveLayerIndex(layerIndex);that.mergeDown(false);};this.getMemoryUsed = function(undone,param){return undone?0:that.width * that.height * _CPColorBmp2["default"].BYTES_PER_PIXEL * 2;};}CPUndoMergeDownLayer.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoMergeDownLayer.prototype.constructor = CPUndoMergeDownLayer;function CPUndoMergeAllLayers(){var oldActiveLayerIndex=that.getActiveLayerIndex(),oldLayers=layers.slice(0); // Clone old layers array
this.undo = function(){layers = oldLayers.slice(0);that.setActiveLayerIndex(oldActiveLayerIndex);invalidateFusion();callListenersLayerChange();};this.redo = function(){that.mergeAllLayers(false);};this.getMemoryUsed = function(undone,param){return undone?0:oldLayers.length * width * height * _CPColorBmp2["default"].BYTES_PER_PIXEL;};}CPUndoMergeAllLayers.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoMergeAllLayers.prototype.constructor = CPUndoMergeAllLayers;function CPUndoMoveLayer(from,to){this.undo = function(){if(to <= from){moveLayerReal(to,from + 1);}else {moveLayerReal(to - 1,from);}};this.redo = function(){moveLayerReal(from,to);};}CPUndoMoveLayer.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoMoveLayer.prototype.constructor = CPUndoMoveLayer;function CPUndoLayerAlpha(layerIndex,alpha){this.from = that.getLayer(layerIndex).getAlpha();this.to = alpha;this.layerIndex = layerIndex;}CPUndoLayerAlpha.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoLayerAlpha.prototype.constructor = CPUndoLayerAlpha;CPUndoLayerAlpha.prototype.undo = function(){that.getLayer(this.layerIndex).setAlpha(this.from);invalidateFusion();callListenersLayerChange(this.layerIndex);};CPUndoLayerAlpha.prototype.redo = function(){that.getLayer(this.layerIndex).setAlpha(this.to);invalidateFusion();callListenersLayerChange(this.layerIndex);};CPUndoLayerAlpha.prototype.merge = function(u){if(u instanceof CPUndoLayerAlpha && this.layerIndex == u.layerIndex){this.to = u.to;return true;}return false;};CPUndoLayerAlpha.prototype.noChange = function(){return this.from == this.to;};function CPUndoLayerMode(layerIndex,to){this.layerIndex = layerIndex;this.from = that.getLayer(layerIndex).getBlendMode();this.to = to;}CPUndoLayerMode.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoLayerMode.prototype.constructor = CPUndoLayerMode;CPUndoLayerMode.prototype.undo = function(){that.getLayer(this.layerIndex).setBlendMode(this.from);invalidateFusion();callListenersLayerChange();};CPUndoLayerMode.prototype.redo = function(){that.getLayer(this.layerIndex).setBlendMode(this.to);invalidateFusion();callListenersLayerChange();};CPUndoLayerMode.prototype.merge = function(u){if(u instanceof CPUndoLayerMode && this.layerIndex == u.layerIndex){this.to = u.to;return true;}return false;};CPUndoLayerMode.prototype.noChange = function(){return this.from == this.to;};function CPUndoLayerRename(layerIndex,to){this.layerIndex = layerIndex;this.to = to;this.from = that.getLayer(layerIndex).name;}CPUndoLayerRename.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoLayerRename.prototype.constructor = CPUndoLayerRename;CPUndoLayerRename.prototype.undo = function(){that.getLayer(this.layerIndex).name = this.from;callListenersLayerChange(this.layerIndex);};CPUndoLayerRename.prototype.redo = function(){that.getLayer(this.layerIndex).name = this.to;callListenersLayerChange(this.layerIndex);};CPUndoLayerRename.prototype.merge = function(u){if(u instanceof CPUndoLayerRename && this.layerIndex == u.layerIndex){this.to = u.to;return true;}return false;};CPUndoLayerRename.prototype.noChange = function(){return this.from == this.to;}; /**
     * @param from CPRect
     * @param to CPRect
     */function CPUndoRectangleSelection(from,to){from = from.clone();to = to.clone();this.undo = function(){that.setSelection(from);callListenersUpdateRegion(that.getBounds());};this.redo = function(){that.setSelection(to);callListenersUpdateRegion(that.getBounds());};this.noChange = function(){return from.equals(to);};}CPUndoRectangleSelection.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoRectangleSelection.prototype.constructor = CPUndoRectangleSelection; /**
     * Upon creation, transforms the currently selected region of the current layer by the given affine transform.
     *
     * @param {CPRect} srcRect - Rectangle to transform
     * @param {CPTransform} affineTransform - Transform to apply
     * @param {string} interpolation - "smooth" or "sharp"
     */function CPActionTransformSelection(srcRect,affineTransform,interpolation){var fromSelection=that.getSelection(),dstRect=null,tempCanvas=document.createElement("canvas"),tempCanvasContext=tempCanvas.getContext("2d"),undoData, // A copy of the original layer within the undoDataRect
undoDataRect, // A canvas for composing the transform onto
fullUndoCanvas=document.createElement("canvas"),fullUndoCanvasContext=fullUndoCanvas.getContext("2d");affineTransform = affineTransform.clone();interpolation = interpolation || "smooth";this.undo = function(){var layer=that.getLayer(this.layerIndex),invalidateRegion=dstRect.clone(),undoSrcRegion;invalidateRegion.union(srcRect);undoSrcRegion = invalidateRegion.clone();undoSrcRegion.translate(-undoDataRect.left,-undoDataRect.top);layer.copyBitmapRect(undoData,invalidateRegion.left,invalidateRegion.top,undoSrcRegion);that.setSelection(fromSelection);that.setActiveLayerIndex(this.layerIndex);invalidateFusionRect(invalidateRegion); /*
             * Required because in the case of a copy, we don't invalidate the source rect in the fusion, so the canvas
             * won't end up repainting the selection rectangle there.
             */callListenersSelectionChange();};this.redo = function(){var layer=that.getLayer(this.layerIndex); // Make a fresh copy of the layer into a Canvas to compose onto
fullUndoCanvasContext.putImageData(layer.getImageData(),0,0); // Erase the region we moved from
fullUndoCanvasContext.clearRect(srcRect.left,srcRect.top,srcRect.getWidth(),srcRect.getHeight());(0,_utilCPPolyfill.setCanvasInterpolation)(fullUndoCanvasContext,interpolation == "smooth");fullUndoCanvasContext.save(); // Apply the transform when drawing the transformed fragment
fullUndoCanvasContext.setTransform(affineTransform.m[0],affineTransform.m[1],affineTransform.m[2],affineTransform.m[3],affineTransform.m[4],affineTransform.m[5]);fullUndoCanvasContext.drawImage(tempCanvas,srcRect.left,srcRect.top);fullUndoCanvasContext.restore(); // Copy back to the layer data
layer.setImageData(fullUndoCanvasContext.getImageData(0,0,layer.width,layer.height)); // Invalidate the source and destination regions we touched
var invalidateRegion=srcRect.clone(),dstCorners=srcRect.toPoints();affineTransform.transformPoints(dstCorners);dstRect = _utilCPRect2["default"].createBoundingBox(dstCorners);dstRect.roundContain();layer.getBounds().clip(dstRect);invalidateRegion.union(dstRect);invalidateFusionRect(invalidateRegion); // Transform the selection rect to enclose the transformed selection
if(!fromSelection.isEmpty()){var toSelectionPoints=fromSelection.toPoints(),toSelectionRect;affineTransform.transformPoints(toSelectionPoints);toSelectionRect = _utilCPRect2["default"].createBoundingBox(toSelectionPoints);toSelectionRect.roundNearest();layer.getBounds().clip(toSelectionRect);that.setSelection(toSelectionRect);callListenersSelectionChange();}}; /**
         * Replace the transform with the given one.
         *
         * @param {CPTransform} _affineTransform
         */this.amend = function(_affineTransform){var layer=that.getLayer(this.layerIndex);this.undo();if(undoDataRect.getWidth() < layer.width || undoDataRect.getHeight() < layer.height){ /*
                 * We need a complete copy of the layer in undoData to support further redo(). (As we probably previously
                 * only made a backup copy of the areas we erased using the old transform).
                 */undoData = layer.clone();undoDataRect = layer.getBounds();}affineTransform = _affineTransform.clone();this.redo();};this.setInterpolation = function(newInterpolation){if(newInterpolation != interpolation){interpolation = newInterpolation;this.undo();this.redo();}}; /**
         * Called when we're no longer the top operation in the undo stack, so that we can optimize for lower memory
         * usage instead of faster revision speed
         */this.compact = function(){var layer=that.getLayer(this.layerIndex); // If we have a full undo, and we don't need very much area for undo, trim it to just the area we need
if(undoDataRect.getWidth() == layer.width && undoDataRect.getHeight() == layer.height){var dirtyRect=srcRect.getUnion(dstRect);if(dirtyRect.getArea() * 2 < layer.width * layer.height){undoDataRect = dirtyRect;undoData = undoData.cloneRect(undoDataRect);}}};this.getMemoryUsed = function(undone,param){return undoData.getMemorySize();}; /**
         * Get a copy of the affine transform.
         */this.getTransform = function(){return affineTransform.clone();}; /**
         * Get a copy of the initial document rectangle (before the transform was applied)
         *
         * @returns {CPRect}
         */this.getInitialTransformRect = function(){return srcRect.clone();}; /**
         * Get a copy of the initial user selection rectangle (before the transform was applied). Can be empty if
         * the user didn't have anything selected before the transform began.
         *
         * @returns {CPRect}
         */this.getInitialSelectionRect = function(){return fromSelection.clone();};this.layerIndex = that.getActiveLayerIndex();var layer=that.getLayer(this.layerIndex);undoData = layer.clone();undoDataRect = layer.getBounds();fullUndoCanvas.width = layer.width;fullUndoCanvas.height = layer.height; // Make a copy of just the source rectangle in its own canvas so we have it as an image to be drawn later
tempCanvas.width = srcRect.getWidth();tempCanvas.height = srcRect.getHeight();tempCanvasContext.putImageData(undoData.getImageData(),-srcRect.left,-srcRect.top,srcRect.left,srcRect.top,srcRect.getWidth(),srcRect.getHeight());this.redo();}CPActionTransformSelection.prototype = Object.create(_CPUndo2["default"].prototype);CPActionTransformSelection.prototype.constructor = CPActionTransformSelection; /**
     * Upon creation, moves the currently selected region of the current layer by the given offset (or copies it if
     * 'copy' is true).
     *
     * @param srcRect
     * @param offsetX
     * @param offsetY
     * @param copy
     * @constructor
     */function CPActionMoveSelection(srcRect,offsetX,offsetY,copy){var fromSelection=that.getSelection(),dstRect=null,fullUndo, // A copy of the entire layer
srcData=null, // A copy of the original pixels at the srcRect, or null if we use a fullUndo instead
dstData=null // A copy of the original pixels at the dstRect, or null
;this.undo = function(){var layer=that.getLayer(this.layerIndex),invalidateRegion=dstRect.clone();if(!copy){invalidateRegion.union(srcRect);}if(fullUndo){layer.copyBitmapRect(fullUndo,invalidateRegion.left,invalidateRegion.top,invalidateRegion);}else {layer.copyBitmapRect(srcData,srcRect.left,srcRect.top,srcData.getBounds());if(dstData){layer.copyBitmapRect(dstData,dstRect.left,dstRect.top,dstData.getBounds());}}that.setSelection(fromSelection);that.setActiveLayerIndex(this.layerIndex);invalidateFusionRect(invalidateRegion); /*
             * Required because in the case of a copy, we don't invalidate the source rect in the fusion, so the canvas
             * won't end up repainting the selection rectangle there.
             */callListenersSelectionChange();};this.redo = function(){var layer=that.getLayer(this.layerIndex),invalidateRegion=new _utilCPRect2["default"](0,0,0,0);if(!copy){layer.clearRect(srcRect,0);invalidateRegion.set(srcRect);}dstRect = srcRect.clone();dstRect.translate(offsetX,offsetY);layer.getBounds().clip(dstRect); /* Note that while we could copy image data from the layer itself onto the layer (instead of sourcing that
             * data from the undo buffers), this would require that pasteAlphaRect do the right thing when source and
             * dest rects overlap, which it doesn't.
             */if(fullUndo){layer.pasteAlphaRect(fullUndo,srcRect,dstRect.left,dstRect.top);}else {layer.pasteAlphaRect(srcData,srcData.getBounds(),dstRect.left,dstRect.top);}invalidateRegion.union(dstRect);invalidateFusionRect(invalidateRegion);if(!fromSelection.isEmpty()){var toSelection=fromSelection.clone();toSelection.translate(offsetX,offsetY);that.setSelection(toSelection);callListenersSelectionChange();}}; /**
         * Move further by the given offset on top of the current offset.
         *
         * @param _offsetX {int}
         * @param _offsetY {int}
         */this.amend = function(_offsetX,_offsetY){var layer=that.getLayer(this.layerIndex);if(fullUndo){if(copy){this.undo();}else { /*
                     * We don't need to restore the image at the *source* location as a full undo would do, since
                     * we'll only erase that area again once we redo(). So just restore the data at the dest.
                     */layer.copyBitmapRect(fullUndo,dstRect.left,dstRect.top,dstRect);invalidateFusionRect(dstRect);}}else { /*
                 * We want to make a complete copy of the layer in fullUndo to support fast further amend() calls.
                 */this.undo();fullUndo = layer.clone();srcData = null;dstData = null;}offsetX += _offsetX;offsetY += _offsetY;this.redo();}; /**
         * Called when we're no longer the top operation in the undo stack, so that we can optimize for lower memory
         * usage instead of faster revision speed
         */this.compact = function(){if(fullUndo && srcRect.getArea() * 2 < that.width * that.height){ // Replace our copy of the entire layer with just a copy of the areas we damaged
srcData = fullUndo.cloneRect(srcRect);if(!copy && dstRect.isInside(srcRect)){dstData = null;}else {dstData = fullUndo.cloneRect(dstRect);}fullUndo = null;}};this.getMemoryUsed = function(){var size=0;if(fullUndo){size += fullUndo.getMemorySize();}if(srcData){size += srcData.getMemorySize();}if(dstData){size += dstData.getMemorySize();}return size;};this.layerIndex = that.getActiveLayerIndex();fullUndo = that.getLayer(this.layerIndex).clone();this.redo();}CPActionMoveSelection.prototype = Object.create(_CPUndo2["default"].prototype);CPActionMoveSelection.prototype.constructor = CPActionMoveSelection; /**
     * Used to encapsulate multiple undo operation as one
     * 
     * @param undoes CPUndo[] List of undo operations to encapsulate
     */function CPMultiUndo(undoes){this.undoes = undoes;}CPMultiUndo.prototype = Object.create(_CPUndo2["default"].prototype);CPMultiUndo.prototype.constructor = CPMultiUndo;CPMultiUndo.prototype.undo = function(){for(var i=this.undoes.length - 1;i >= 0;i--) {this.undoes[i].undo();}};CPMultiUndo.prototype.redo = function(){for(var i=0;i < this.undoes.length;i++) {this.undoes[i].redo();}};CPMultiUndo.prototype.noChange = function(){for(var i=0;i < undoes.length;i++) {if(!undoes[i].noChange()){return false;}}return true;};CPMultiUndo.prototype.getMemoryUsed = function(undone,param){var total=0;for(var i=0;i < undoes.length;i++) {total += undoes[i].getMemoryUsed(undone,param);}return total;}; /**
     * Store data to undo a cut operation
     * 
     * @param bmp CPColorBmp The rectangle of image data that was cut
     * @param layerIndex int Index of the layer the cut came from
     * @param selection CPRect The cut rectangle co-ordinates
     */function CPUndoCut(bmp,layerIndex,selection){selection = selection.clone();this.undo = function(){that.setActiveLayerIndex(layerIndex);curLayer.copyBitmapRect(bmp,selection.left,selection.top,bmp.getBounds());that.setSelection(selection);invalidateFusionRect(selection);};this.redo = function(){that.setActiveLayerIndex(layerIndex);curLayer.clearRect(selection,EMPTY_LAYER_COLOR);that.emptySelection();invalidateFusionRect(selection);};this.getMemoryUsed = function(undone,param){return bmp == param?0:bmp.width * bmp.height * _CPColorBmp2["default"].BYTES_PER_PIXEL;};}CPUndoCut.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoCut.prototype.constructor = CPUndoCut; /**
     * Store data to undo a paste operation
     * 
     * @param clip CPClip
     * @param layerIndex int
     * @param selection CPRect
     */function CPUndoPaste(clip,layerIndex,selection){selection = selection.clone();this.undo = function(){layers.splice(layerIndex + 1,1);that.setActiveLayerIndex(layerIndex);that.setSelection(selection);invalidateFusionRect(selection);callListenersLayerChange();};this.redo = function(){that.setActiveLayerIndex(layerIndex);pasteClip(false,clip);};this.getMemoryUsed = function(undone,param){return clip.bmp == param?0:clip.bmp.width * clip.bmp.height * 4;};}CPUndoPaste.prototype = Object.create(_CPUndo2["default"].prototype);CPUndoPaste.prototype.constructor = CPUndoPaste;};CPArtwork.prototype = Object.create(EventEmitter.prototype);CPArtwork.prototype.constructor = CPArtwork;CPArtwork.prototype.getBounds = function(){return new _utilCPRect2["default"](0,0,this.width,this.height);};CPArtwork.prototype.isPointWithin = function(x,y){return x >= 0 && y >= 0 && x < this.width && y < this.height;};module.exports = exports["default"];

},{"../util/CPColorFloat":48,"../util/CPPolyfill":49,"../util/CPRandom":51,"../util/CPRect":52,"../util/CPTransform":53,"./CPBlend":4,"./CPBrushInfo":5,"./CPBrushManager":6,"./CPClip":8,"./CPColorBmp":9,"./CPGreyBmp":10,"./CPLayer":11,"./CPUndo":15}],3:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPBitmap;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _utilCPRect = require("../util/CPRect");

var _utilCPRect2 = _interopRequireDefault(_utilCPRect);

function CPBitmap(width, height) {
    // Width and height forced to integers
    this.width = width | 0;
    this.height = height | 0;
}

CPBitmap.prototype.getBounds = function () {
    return new _utilCPRect2["default"](0, 0, this.width, this.height);
};

CPBitmap.prototype.isInside = function (x, y) {
    return x >= 0 && y >= 0 && x < this.width && y < this.height;
};
module.exports = exports["default"];

},{"../util/CPRect":52}],4:[function(require,module,exports){
// This file is generated, please see codegenerator/BlendGenerator.js!
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"] = CPBlend;function CPBlend(){}var BYTES_PER_PIXEL=4,ALPHA_BYTE_OFFSET=3,BLEND_MODE_NAMES=["normal","multiply","add","screen","lighten","darken","subtract","dodge","burn","overlay","hardLight","softLight","vividLight","linearLight","pinLight"],softLightLUTSquare=new Array(256),softLightLUTSquareRoot=new Array(256); /**
 * Blend the given layer onto the fusion using the multiply blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.multiplyOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){color2 = fusion.data[pixIndex];fusion.data[pixIndex] = color2 - (layer.data[pixIndex] ^ 0xFF) * color2 * alpha1 / (255 * 255) | 0;color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = color2 - (layer.data[pixIndex + 1] ^ 0xFF) * color2 * alpha1 / (255 * 255) | 0;color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = color2 - (layer.data[pixIndex + 2] ^ 0xFF) * color2 * alpha1 / (255 * 255) | 0;}}}}; /**
 * Blend the given layer onto the fusion using the multiply blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.multiplyOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){color2 = fusion.data[pixIndex];fusion.data[pixIndex] = color2 - (layer.data[pixIndex] ^ 0xFF) * color2 * alpha1 / (255 * 255) | 0;color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = color2 - (layer.data[pixIndex + 1] ^ 0xFF) * color2 * alpha1 / (255 * 255) | 0;color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = color2 - (layer.data[pixIndex + 2] ^ 0xFF) * color2 * alpha1 / (255 * 255) | 0;}}}}; /**
 * Blend the given layer onto the fusion using the multiply blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.multiplyOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xFF) / 255 | 0,alphan12=(alpha1 ^ 0xFF) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color1 * alpha1n2 + color2 * alphan12 + color1 * color2 * alpha12 / 255) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color1 * alpha1n2 + color2 * alphan12 + color1 * color2 * alpha12 / 255) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color1 * alpha1n2 + color2 * alphan12 + color1 * color2 * alpha12 / 255) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the multiply blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.multiplyOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xFF) / 255 | 0,alphan12=(alpha1 ^ 0xFF) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color1 * alpha1n2 + color2 * alphan12 + color1 * color2 * alpha12 / 255) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color1 * alpha1n2 + color2 * alphan12 + color1 * color2 * alpha12 / 255) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color1 * alpha1n2 + color2 * alphan12 + color1 * color2 * alpha12 / 255) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the normal blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.normalOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){if(alpha1 == 255){fusion.data[pixIndex] = layer.data[pixIndex];fusion.data[pixIndex + 1] = layer.data[pixIndex + 1];fusion.data[pixIndex + 2] = layer.data[pixIndex + 2];}else {var invAlpha1=255 - alpha1;color1 = layer.data[pixIndex];fusion.data[pixIndex] = (color1 * alpha1 + fusion.data[pixIndex] * invAlpha1) / 255 | 0;color1 = layer.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color1 * alpha1 + fusion.data[pixIndex + 1] * invAlpha1) / 255 | 0;color1 = layer.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color1 * alpha1 + fusion.data[pixIndex + 2] * invAlpha1) / 255 | 0;}}}}}; /**
 * Blend the given layer onto the fusion using the normal blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.normalOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){if(alpha1 == 255){fusion.data[pixIndex] = layer.data[pixIndex];fusion.data[pixIndex + 1] = layer.data[pixIndex + 1];fusion.data[pixIndex + 2] = layer.data[pixIndex + 2];}else {var invAlpha1=255 - alpha1;color1 = layer.data[pixIndex];fusion.data[pixIndex] = (color1 * alpha1 + fusion.data[pixIndex] * invAlpha1) / 255 | 0;color1 = layer.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color1 * alpha1 + fusion.data[pixIndex + 1] * invAlpha1) / 255 | 0;color1 = layer.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color1 * alpha1 + fusion.data[pixIndex + 2] * invAlpha1) / 255 | 0;}}}}}; /**
 * Blend the given layer onto the fusion using the normal blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.normalOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,realAlpha=alpha1 * 255 / newAlpha | 0,invAlpha=255 - realAlpha;fusion.data[pixIndex] = (layer.data[pixIndex] * realAlpha + fusion.data[pixIndex] * invAlpha) / 255;fusion.data[pixIndex + 1] = (layer.data[pixIndex + 1] * realAlpha + fusion.data[pixIndex + 1] * invAlpha) / 255;fusion.data[pixIndex + 2] = (layer.data[pixIndex + 2] * realAlpha + fusion.data[pixIndex + 2] * invAlpha) / 255;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the normal blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.normalOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,realAlpha=alpha1 * 255 / newAlpha | 0,invAlpha=255 - realAlpha;fusion.data[pixIndex] = (layer.data[pixIndex] * realAlpha + fusion.data[pixIndex] * invAlpha) / 255;fusion.data[pixIndex + 1] = (layer.data[pixIndex + 1] * realAlpha + fusion.data[pixIndex + 1] * invAlpha) / 255;fusion.data[pixIndex + 2] = (layer.data[pixIndex + 2] * realAlpha + fusion.data[pixIndex + 2] * invAlpha) / 255;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the add blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.addOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){fusion.data[pixIndex] = fusion.data[pixIndex] + alpha1 * layer.data[pixIndex] / 255 | 0;fusion.data[pixIndex + 1] = fusion.data[pixIndex + 1] + alpha1 * layer.data[pixIndex + 1] / 255 | 0;fusion.data[pixIndex + 2] = fusion.data[pixIndex + 2] + alpha1 * layer.data[pixIndex + 2] / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the add blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.addOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){fusion.data[pixIndex] = fusion.data[pixIndex] + alpha1 * layer.data[pixIndex] / 255 | 0;fusion.data[pixIndex + 1] = fusion.data[pixIndex + 1] + alpha1 * layer.data[pixIndex + 1] / 255 | 0;fusion.data[pixIndex + 2] = fusion.data[pixIndex + 2] + alpha1 * layer.data[pixIndex + 2] / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the add blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.addOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0; // No need to clamp the color to 0...255 since we're writing to a clamped array anyway
fusion.data[pixIndex] = (alpha2 * fusion.data[pixIndex] + alpha1 * layer.data[pixIndex]) / newAlpha | 0;fusion.data[pixIndex + 1] = (alpha2 * fusion.data[pixIndex + 1] + alpha1 * layer.data[pixIndex + 1]) / newAlpha | 0;fusion.data[pixIndex + 2] = (alpha2 * fusion.data[pixIndex + 2] + alpha1 * layer.data[pixIndex + 2]) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the add blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.addOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0; // No need to clamp the color to 0...255 since we're writing to a clamped array anyway
fusion.data[pixIndex] = (alpha2 * fusion.data[pixIndex] + alpha1 * layer.data[pixIndex]) / newAlpha | 0;fusion.data[pixIndex + 1] = (alpha2 * fusion.data[pixIndex + 1] + alpha1 * layer.data[pixIndex + 1]) / newAlpha | 0;fusion.data[pixIndex + 2] = (alpha2 * fusion.data[pixIndex + 2] + alpha1 * layer.data[pixIndex + 2]) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the subtract blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.subtractOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){fusion.data[pixIndex] = fusion.data[pixIndex] + alpha1 * layer.data[pixIndex] / 255 - alpha1 | 0;fusion.data[pixIndex + 1] = fusion.data[pixIndex + 1] + alpha1 * layer.data[pixIndex + 1] / 255 - alpha1 | 0;fusion.data[pixIndex + 2] = fusion.data[pixIndex + 2] + alpha1 * layer.data[pixIndex + 2] / 255 - alpha1 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the subtract blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.subtractOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){fusion.data[pixIndex] = fusion.data[pixIndex] + alpha1 * layer.data[pixIndex] / 255 - alpha1 | 0;fusion.data[pixIndex + 1] = fusion.data[pixIndex + 1] + alpha1 * layer.data[pixIndex + 1] / 255 - alpha1 | 0;fusion.data[pixIndex + 2] = fusion.data[pixIndex + 2] + alpha1 * layer.data[pixIndex + 2] / 255 - alpha1 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the subtract blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.subtractOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2; // No need to clamp the color to 255 since we're writing to a clamped array anyway
fusion.data[pixIndex] = (alpha2 * fusion.data[pixIndex] + alpha1 * layer.data[pixIndex] - alpha12) / newAlpha | 0;fusion.data[pixIndex + 1] = (alpha2 * fusion.data[pixIndex + 1] + alpha1 * layer.data[pixIndex + 1] - alpha12) / newAlpha | 0;fusion.data[pixIndex + 2] = (alpha2 * fusion.data[pixIndex + 2] + alpha1 * layer.data[pixIndex + 2] - alpha12) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the subtract blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.subtractOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2; // No need to clamp the color to 255 since we're writing to a clamped array anyway
fusion.data[pixIndex] = (alpha2 * fusion.data[pixIndex] + alpha1 * layer.data[pixIndex] - alpha12) / newAlpha | 0;fusion.data[pixIndex + 1] = (alpha2 * fusion.data[pixIndex + 1] + alpha1 * layer.data[pixIndex + 1] - alpha12) / newAlpha | 0;fusion.data[pixIndex + 2] = (alpha2 * fusion.data[pixIndex + 2] + alpha1 * layer.data[pixIndex + 2] - alpha12) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the screen blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.screenOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color2 = fusion.data[pixIndex];fusion.data[pixIndex] = 0xFF ^ ((color2 ^ 0xFF) * invAlpha1 + (layer.data[pixIndex] ^ 0xFF) * (color2 ^ 0xFF) * alpha1 / 255) / 255;color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = 0xFF ^ ((color2 ^ 0xFF) * invAlpha1 + (layer.data[pixIndex + 1] ^ 0xFF) * (color2 ^ 0xFF) * alpha1 / 255) / 255;color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = 0xFF ^ ((color2 ^ 0xFF) * invAlpha1 + (layer.data[pixIndex + 2] ^ 0xFF) * (color2 ^ 0xFF) * alpha1 / 255) / 255;}}}}; /**
 * Blend the given layer onto the fusion using the screen blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.screenOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color2 = fusion.data[pixIndex];fusion.data[pixIndex] = 0xFF ^ ((color2 ^ 0xFF) * invAlpha1 + (layer.data[pixIndex] ^ 0xFF) * (color2 ^ 0xFF) * alpha1 / 255) / 255;color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = 0xFF ^ ((color2 ^ 0xFF) * invAlpha1 + (layer.data[pixIndex + 1] ^ 0xFF) * (color2 ^ 0xFF) * alpha1 / 255) / 255;color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = 0xFF ^ ((color2 ^ 0xFF) * invAlpha1 + (layer.data[pixIndex + 2] ^ 0xFF) * (color2 ^ 0xFF) * alpha1 / 255) / 255;}}}}; /**
 * Blend the given layer onto the fusion using the screen blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.screenOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xFF) / 255 | 0,alphan12=(alpha1 ^ 0xFF) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = 0xFF ^ ((color1 ^ 0xFF) * alpha1n2 + (color2 ^ 0xFF) * alphan12 + (color1 ^ 0xFF) * (color2 ^ 0xFF) * alpha12 / 255) / newAlpha;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = 0xFF ^ ((color1 ^ 0xFF) * alpha1n2 + (color2 ^ 0xFF) * alphan12 + (color1 ^ 0xFF) * (color2 ^ 0xFF) * alpha12 / 255) / newAlpha;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = 0xFF ^ ((color1 ^ 0xFF) * alpha1n2 + (color2 ^ 0xFF) * alphan12 + (color1 ^ 0xFF) * (color2 ^ 0xFF) * alpha12 / 255) / newAlpha;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the screen blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.screenOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xFF) / 255 | 0,alphan12=(alpha1 ^ 0xFF) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = 0xFF ^ ((color1 ^ 0xFF) * alpha1n2 + (color2 ^ 0xFF) * alphan12 + (color1 ^ 0xFF) * (color2 ^ 0xFF) * alpha12 / 255) / newAlpha;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = 0xFF ^ ((color1 ^ 0xFF) * alpha1n2 + (color2 ^ 0xFF) * alphan12 + (color1 ^ 0xFF) * (color2 ^ 0xFF) * alpha12 / 255) / newAlpha;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = 0xFF ^ ((color1 ^ 0xFF) * alpha1n2 + (color2 ^ 0xFF) * alphan12 + (color1 ^ 0xFF) * (color2 ^ 0xFF) * alpha12 / 255) / newAlpha;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the lighten blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.lightenOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = color2 >= color1?color2:(color2 * invAlpha1 + color1 * alpha1) / 255;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = color2 >= color1?color2:(color2 * invAlpha1 + color1 * alpha1) / 255;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = color2 >= color1?color2:(color2 * invAlpha1 + color1 * alpha1) / 255;}}}}; /**
 * Blend the given layer onto the fusion using the lighten blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.lightenOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = color2 >= color1?color2:(color2 * invAlpha1 + color1 * alpha1) / 255;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = color2 >= color1?color2:(color2 * invAlpha1 + color1 * alpha1) / 255;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = color2 >= color1?color2:(color2 * invAlpha1 + color1 * alpha1) / 255;}}}}; /**
 * Blend the given layer onto the fusion using the lighten blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.lightenOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0, // This alpha is used when color1 > color2
alpha12=alpha2 * (alpha1 ^ 0xFF) / newAlpha | 0,invAlpha12=alpha12 ^ 0xFF | 0, // This alpha is used when color2 > color1
alpha21=alpha1 * (alpha2 ^ 0xFF) / newAlpha | 0,invAlpha21=alpha21 ^ 0xFF | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color2 >= color1?color1 * alpha21 + color2 * invAlpha21:color2 * alpha12 + color1 * invAlpha12) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color2 >= color1?color1 * alpha21 + color2 * invAlpha21:color2 * alpha12 + color1 * invAlpha12) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color2 >= color1?color1 * alpha21 + color2 * invAlpha21:color2 * alpha12 + color1 * invAlpha12) / 255 | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the lighten blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.lightenOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0, // This alpha is used when color1 > color2
alpha12=alpha2 * (alpha1 ^ 0xFF) / newAlpha | 0,invAlpha12=alpha12 ^ 0xFF | 0, // This alpha is used when color2 > color1
alpha21=alpha1 * (alpha2 ^ 0xFF) / newAlpha | 0,invAlpha21=alpha21 ^ 0xFF | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color2 >= color1?color1 * alpha21 + color2 * invAlpha21:color2 * alpha12 + color1 * invAlpha12) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color2 >= color1?color1 * alpha21 + color2 * invAlpha21:color2 * alpha12 + color1 * invAlpha12) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color2 >= color1?color1 * alpha21 + color2 * invAlpha21:color2 * alpha12 + color1 * invAlpha12) / 255 | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the darken blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.darkenOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = color2 >= color1?(color2 * invAlpha1 + color1 * alpha1) / 255:color2;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = color2 >= color1?(color2 * invAlpha1 + color1 * alpha1) / 255:color2;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = color2 >= color1?(color2 * invAlpha1 + color1 * alpha1) / 255:color2;}}}}; /**
 * Blend the given layer onto the fusion using the darken blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.darkenOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = color2 >= color1?(color2 * invAlpha1 + color1 * alpha1) / 255:color2;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = color2 >= color1?(color2 * invAlpha1 + color1 * alpha1) / 255:color2;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = color2 >= color1?(color2 * invAlpha1 + color1 * alpha1) / 255:color2;}}}}; /**
 * Blend the given layer onto the fusion using the darken blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.darkenOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0, // This alpha is used when color1 > color2
alpha12=alpha1 * (alpha2 ^ 0xFF) / newAlpha | 0,invAlpha12=alpha12 ^ 0xFF | 0, // This alpha is used when color2 > color1
alpha21=alpha2 * (alpha1 ^ 0xFF) / newAlpha | 0,invAlpha21=alpha21 ^ 0xFF | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color2 >= color1?color2 * alpha21 + color1 * invAlpha21:color1 * alpha12 + color2 * invAlpha12) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color2 >= color1?color2 * alpha21 + color1 * invAlpha21:color1 * alpha12 + color2 * invAlpha12) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color2 >= color1?color2 * alpha21 + color1 * invAlpha21:color1 * alpha12 + color2 * invAlpha12) / 255 | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the darken blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.darkenOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0, // This alpha is used when color1 > color2
alpha12=alpha1 * (alpha2 ^ 0xFF) / newAlpha | 0,invAlpha12=alpha12 ^ 0xFF | 0, // This alpha is used when color2 > color1
alpha21=alpha2 * (alpha1 ^ 0xFF) / newAlpha | 0,invAlpha21=alpha21 ^ 0xFF | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color2 >= color1?color2 * alpha21 + color1 * invAlpha21:color1 * alpha12 + color2 * invAlpha12) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color2 >= color1?color2 * alpha21 + color1 * invAlpha21:color1 * alpha12 + color2 * invAlpha12) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color2 >= color1?color2 * alpha21 + color1 * invAlpha21:color1 * alpha12 + color2 * invAlpha12) / 255 | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the dodge blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.dodgeOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color2 * invAlpha1 + alpha1 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color2 * invAlpha1 + alpha1 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color2 * invAlpha1 + alpha1 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the dodge blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.dodgeOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color2 * invAlpha1 + alpha1 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color2 * invAlpha1 + alpha1 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color2 * invAlpha1 + alpha1 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the dodge blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.dodgeOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xFF) / 255 | 0,alphan12=(alpha1 ^ 0xFF) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the dodge blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.dodgeOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xFF) / 255 | 0,alphan12=(alpha1 ^ 0xFF) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 255?255:Math.min(255,255 * color2 / (color1 ^ 0xFF) | 0))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the burn blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.burnOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color2 * invAlpha1 + alpha1 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color2 * invAlpha1 + alpha1 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color2 * invAlpha1 + alpha1 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the burn blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.burnOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color2 * invAlpha1 + alpha1 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color2 * invAlpha1 + alpha1 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color2 * invAlpha1 + alpha1 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the burn blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.burnOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xFF) / 255 | 0,alphan12=(alpha1 ^ 0xFF) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the burn blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.burnOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xFF) / 255 | 0,alphan12=(alpha1 ^ 0xFF) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (color1 * alpha1n2 + color2 * alphan12 + alpha12 * (color1 == 0?0:Math.min(255,255 * (color2 ^ 0xFF) / color1) ^ 0xFF)) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the overlay blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.overlayOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + (color2 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + (color2 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + (color2 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the overlay blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.overlayOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xFF;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + (color2 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + (color2 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + (color2 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the overlay blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.overlayOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + (color2 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + (color2 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + (color2 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the overlay blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.overlayOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + (color2 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + (color2 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + (color2 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the hardLight blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.hardLightOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xff;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the hardLight blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.hardLightOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xff;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * 2 * color1 * color2 / 255:alpha1 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the hardLight blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.hardLightOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the hardLight blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.hardLightOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * 2 * color1 * color2 / 255:alpha12 * (2 * (color1 ^ 0xff) * (color2 ^ 0xff) / 255 ^ 0xff))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the softLight blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.softLightOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xff;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + alpha1 * (color1 <= 127?(2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2:(2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2)) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + alpha1 * (color1 <= 127?(2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2:(2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2)) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + alpha1 * (color1 <= 127?(2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2:(2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2)) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the softLight blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.softLightOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xff;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + alpha1 * (color1 <= 127?(2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2:(2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2)) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + alpha1 * (color1 <= 127?(2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2:(2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2)) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + alpha1 * (color1 <= 127?(2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2:(2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2)) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the softLight blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.softLightOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * ((2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2):alpha12 * ((2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * ((2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2):alpha12 * ((2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * ((2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2):alpha12 * ((2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the softLight blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.softLightOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * ((2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2):alpha12 * ((2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * ((2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2):alpha12 * ((2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * ((2 * color1 - 255) * softLightLUTSquare[color2] / 255 + color2):alpha12 * ((2 * color1 - 255) * softLightLUTSquareRoot[color2] / 255 + color2))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the vividLight blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.vividLightOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xff;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha1 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha1 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha1 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the vividLight blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.vividLightOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xff;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha1 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha1 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + (color1 <= 127?alpha1 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha1 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the vividLight blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.vividLightOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha12 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha12 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha12 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the vividLight blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.vividLightOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha12 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha12 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + (color1 <= 127?alpha12 * (color1 == 0?0:255 - Math.min(255,(255 - color2) * 255 / (2 * color1))):alpha12 * (color1 == 255?255:Math.min(255,color2 * 255 / (2 * (255 - color1)))))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the linearLight blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.linearLightOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xff;color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + alpha1 * Math.min(255,Math.max(0,color2 + 2 * layer.data[pixIndex] - 255))) / 255 | 0;color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + alpha1 * Math.min(255,Math.max(0,color2 + 2 * layer.data[pixIndex + 1] - 255))) / 255 | 0;color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + alpha1 * Math.min(255,Math.max(0,color2 + 2 * layer.data[pixIndex + 2] - 255))) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the linearLight blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.linearLightOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xff;color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + alpha1 * Math.min(255,Math.max(0,color2 + 2 * layer.data[pixIndex] - 255))) / 255 | 0;color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + alpha1 * Math.min(255,Math.max(0,color2 + 2 * layer.data[pixIndex + 1] - 255))) / 255 | 0;color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + alpha1 * Math.min(255,Math.max(0,color2 + 2 * layer.data[pixIndex + 2] - 255))) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the linearLight blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.linearLightOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * Math.min(255,Math.max(0,color2 + 2 * color1 - 255))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * Math.min(255,Math.max(0,color2 + 2 * color1 - 255))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * Math.min(255,Math.max(0,color2 + 2 * color1 - 255))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the linearLight blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.linearLightOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * Math.min(255,Math.max(0,color2 + 2 * color1 - 255))) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * Math.min(255,Math.max(0,color2 + 2 * color1 - 255))) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * Math.min(255,Math.max(0,color2 + 2 * color1 - 255))) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the pinLight blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.pinLightOntoOpaqueFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){var invAlpha1=alpha1 ^ 0xff;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + alpha1 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + alpha1 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + alpha1 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the pinLight blending operator.
 * 
 * Fusion pixels must be opaque, and the fusion layer's opacity must be set to 100.
 */CPBlend.pinLightOntoOpaqueFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){var invAlpha1=alpha1 ^ 0xff;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (invAlpha1 * color2 + alpha1 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / 255 | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (invAlpha1 * color2 + alpha1 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / 255 | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (invAlpha1 * color2 + alpha1 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / 255 | 0;}}}}; /**
 * Blend the given layer onto the fusion using the pinLight blending operator.
 * 
 * The layer must have its layer alpha set to 100
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.pinLightOntoTransparentFusionWithOpaqueLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET];if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}}; /**
 * Blend the given layer onto the fusion using the pinLight blending operator.
 * 
 * Fusion can contain transparent pixels, but the fusion layer's opacity must be set to 100.
 */CPBlend.pinLightOntoTransparentFusionWithTransparentLayer = function(layer,fusion,rect){var h=rect.getHeight() | 0,w=rect.getWidth() | 0,yStride=(layer.width - w) * BYTES_PER_PIXEL | 0,pixIndex=layer.offsetOfPixel(rect.left,rect.top) | 0;for(var y=0;y < h;y++,pixIndex += yStride) {for(var x=0;x < w;x++,pixIndex += BYTES_PER_PIXEL) {var alpha1,alpha2,color1,color2;alpha1 = layer.data[pixIndex + ALPHA_BYTE_OFFSET] * layer.alpha / 100 | 0;if(alpha1){alpha2 = fusion.data[pixIndex + ALPHA_BYTE_OFFSET];var newAlpha=alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0,alpha12=alpha1 * alpha2 / 255 | 0,alpha1n2=alpha1 * (alpha2 ^ 0xff) / 255 | 0,alphan12=(alpha1 ^ 0xff) * alpha2 / 255 | 0;color1 = layer.data[pixIndex];color2 = fusion.data[pixIndex];fusion.data[pixIndex] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / newAlpha | 0;color1 = layer.data[pixIndex + 1];color2 = fusion.data[pixIndex + 1];fusion.data[pixIndex + 1] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / newAlpha | 0;color1 = layer.data[pixIndex + 2];color2 = fusion.data[pixIndex + 2];fusion.data[pixIndex + 2] = (alpha1n2 * color1 + alphan12 * color2 + alpha12 * (color2 >= 2 * color1?2 * color1:color2 <= 2 * color1 - 255?2 * color1 - 255:color2)) / newAlpha | 0;fusion.data[pixIndex + ALPHA_BYTE_OFFSET] = newAlpha;}}}};CPBlend.LM_NORMAL = 0;CPBlend.LM_MULTIPLY = 1;CPBlend.LM_ADD = 2;CPBlend.LM_SCREEN = 3;CPBlend.LM_LIGHTEN = 4;CPBlend.LM_DARKEN = 5;CPBlend.LM_SUBTRACT = 6;CPBlend.LM_DODGE = 7;CPBlend.LM_BURN = 8;CPBlend.LM_OVERLAY = 9;CPBlend.LM_HARDLIGHT = 10;CPBlend.LM_SOFTLIGHT = 11;CPBlend.LM_VIVIDLIGHT = 12;CPBlend.LM_LINEARLIGHT = 13;CPBlend.LM_PINLIGHT = 14; /**
 * Fuse the given layer on top of the given fusion layer, using the blending operation defined in the layer.
 *
 * @param {CPLayer} fusion - Layer to fuse on top of
 * @param {boolean} fusionHasTransparency - True if the fusion layer has alpha < 100, or any transparent pixels.
 * @param {CPLayer} layer - Layer that should be drawn on top of the fusion
 * @param {CPRect} rect - The rectangle of pixels that should be fused.
 */CPBlend.fuseLayer = function(fusion,fusionHasTransparency,layer,rect){if(layer.alpha <= 0){return;}var funcName=BLEND_MODE_NAMES[layer.blendMode] + "Onto";if(fusion.alpha < 100){throw "Fusion layer alpha < 100 not supported.";}if(fusionHasTransparency){funcName += "TransparentFusion";}else {funcName += "OpaqueFusion";}if(layer.alpha == 100){funcName += "WithOpaqueLayer";}else {funcName += "WithTransparentLayer";}fusion.getBounds().clip(rect);this[funcName](layer,fusion,rect);};function makeLookupTables(){ // V - V^2 table
for(var i=0;i < 256;i++) {var v=i / 255;softLightLUTSquare[i] = (v - v * v) * 255 | 0;} // sqrt(V) - V table
for(var i=0;i < 256;i++) {var v=i / 255;softLightLUTSquareRoot[i] = (Math.sqrt(v) - v) * 255 | 0;}}makeLookupTables();module.exports = exports["default"];

},{}],5:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPBrushInfo;

function CPBrushInfo(properties) {
    // Set brush setting fields with default values, then apply the supplied 'properties' on top
    for (var propName in CPBrushInfo.DEFAULTS) {
        if (CPBrushInfo.DEFAULTS.hasOwnProperty(propName)) {
            this[propName] = CPBrushInfo.DEFAULTS[propName];
        }
    }

    for (var propName in properties) {
        if (properties.hasOwnProperty(propName)) {
            this[propName] = properties[propName];
        }
    }
}

// Stroke modes
CPBrushInfo.SM_FREEHAND = 0;
CPBrushInfo.SM_LINE = 1;
CPBrushInfo.SM_BEZIER = 2;

// Brush dab types
CPBrushInfo.B_ROUND_PIXEL = 0;
CPBrushInfo.B_ROUND_AA = 1;
CPBrushInfo.B_ROUND_AIRBRUSH = 2;
CPBrushInfo.B_SQUARE_PIXEL = 3;
CPBrushInfo.B_SQUARE_AA = 4;

// painting modes
CPBrushInfo.M_PAINT = 0;
CPBrushInfo.M_ERASE = 1;
CPBrushInfo.M_DODGE = 2;
CPBrushInfo.M_BURN = 3;
CPBrushInfo.M_WATER = 4;
CPBrushInfo.M_BLUR = 5;
CPBrushInfo.M_SMUDGE = 6;
CPBrushInfo.M_OIL = 7;

CPBrushInfo.DEFAULTS = {
    isAA: false, isAirbrush: false,
    minSpacing: 0, spacing: 0,

    pressureSize: true,
    pressureAlpha: false,
    pressureScattering: false,

    type: 0, paintMode: 0,
    strokeMode: CPBrushInfo.SM_FREEHAND,
    resat: 1.0, bleed: 0.0,

    texture: 1.0,

    // "cur" values are current brush settings (once tablet pressure and stuff is applied)
    size: 0, curSize: 0,
    alpha: 0, curAlpha: 0,
    scattering: 0.0, curScattering: 0,
    squeeze: 0.0, curSqueeze: 0,
    angle: Math.PI, curAngle: 0,

    smoothing: 0.0
};

CPBrushInfo.prototype.applyPressure = function (pressure) {
    // FIXME: no variable size for smudge and oil :(
    if (this.pressureSize && this.paintMode != CPBrushInfo.M_SMUDGE && this.paintMode != CPBrushInfo.M_OIL) {
        this.curSize = Math.max(0.1, this.size * pressure);
    } else {
        this.curSize = Math.max(0.1, this.size);
    }

    // FIXME: what is the point of doing that?
    if (this.curSize > 16) {
        this.curSize = Math.floor(this.curSize);
    }

    this.curAlpha = this.pressureAlpha ? Math.floor(this.alpha * Math.min(pressure, 1.0)) : this.alpha;
    this.curSqueeze = this.squeeze;
    this.curAngle = this.angle;
    this.curScattering = this.scattering * this.curSize * (this.pressureScattering ? pressure : 1.0);
};

CPBrushInfo.prototype.clone = function () {
    return new CPBrushInfo(this);
};
module.exports = exports["default"];

},{}],6:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPBrushManager;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _CPBrushInfo = require("./CPBrushInfo");

var _CPBrushInfo2 = _interopRequireDefault(_CPBrushInfo);

function CPBrushManager() {
    var MAX_SQUEEZE = 10,
        BRUSH_MAX_DIM = 201,
        BRUSH_AA_MAX_DIM = 202;

    /*CPBrushDab {
        // the brush
        Uint8Array brush;
        int width, height;
        
        // and where and how to apply it
        int x, y, alpha;
    }*/

    var brush = new Uint8Array(BRUSH_MAX_DIM * BRUSH_MAX_DIM),
        brushAA = new Uint8Array(BRUSH_AA_MAX_DIM * BRUSH_AA_MAX_DIM),
        cacheBrush = null,
        cacheSize,
        cacheSqueeze,
        cacheAngle,
        cacheType,
        that = this;

    /**
     * Shift a brush by a positive sub-pixel amount (dx, dy) [0..1), and return the new brush. 
     * 
     * The resulting brush array is 1 pixel larger than the original one in both dimensions.
     */
    function getBrushWithAA(brushInfo, dx, dy) {
        var nonAABrush = getBrush(brushInfo),
            intSize = Math.ceil(brushInfo.curSize),
            intSizeAA = Math.ceil(brushInfo.curSize) + 1;

        for (var x = 0; x < intSizeAA * intSizeAA; x++) {
            brushAA[x] = 0;
        }

        var invdx_invdy = (1 - dx) * (1 - dy),
            dx_invdy = dx * (1 - dy),
            dx_dy = dx * dy,
            invdx_dy = (1 - dx) * dy,
            srcIndex = 0,
            dstIndex = 0;

        for (var y = 0; y < intSize; y++) {
            for (var x = 0; x < intSize; x++) {
                var brushAlpha = nonAABrush[srcIndex];

                /* 
                 * Use a weighted sum to shift the source pixels's position by a sub-pixel amount dx, dy and accumulate
                 * it into the final brushAA array.
                 */
                brushAA[dstIndex] += ~ ~(brushAlpha * invdx_invdy);
                brushAA[dstIndex + 1] += ~ ~(brushAlpha * dx_invdy);
                brushAA[dstIndex + 1 + intSizeAA] += ~ ~(brushAlpha * dx_dy);
                brushAA[dstIndex + intSizeAA] += ~ ~(brushAlpha * invdx_dy);

                srcIndex++;
                dstIndex++;
            }
            dstIndex += intSizeAA - intSize;
        }

        return brushAA;
    }

    function buildBrush(brush, brushInfo) {
        var intSize = Math.ceil(brushInfo.curSize),
            center = intSize / 2.0,
            sqrRadius = brushInfo.curSize / 2 * (brushInfo.curSize / 2),
            xFactor = 1.0 + brushInfo.curSqueeze * MAX_SQUEEZE,
            cosA = Math.cos(brushInfo.curAngle),
            sinA = Math.sin(brushInfo.curAngle),
            offset = 0;

        for (var j = 0; j < intSize; j++) {
            for (var i = 0; i < intSize; i++) {
                var x = i + 0.5 - center,
                    y = j + 0.5 - center,
                    dx = (x * cosA - y * sinA) * xFactor,
                    dy = y * cosA + x * sinA,
                    sqrDist = dx * dx + dy * dy;

                if (sqrDist <= sqrRadius) {
                    brush[offset++] = 0xFF;
                } else {
                    brush[offset++] = 0;
                }
            }
        }

        return brush;
    }

    function buildBrushAA(brush, brushInfo) {
        var intSize = Math.ceil(brushInfo.curSize),
            center = intSize / 2.0,
            sqrRadius = brushInfo.curSize / 2 * (brushInfo.curSize / 2),
            sqrRadiusInner = (brushInfo.curSize - 2) / 2 * ((brushInfo.curSize - 2) / 2),
            sqrRadiusOuter = (brushInfo.curSize + 2) / 2 * ((brushInfo.curSize + 2) / 2),
            xFactor = 1.0 + brushInfo.curSqueeze * MAX_SQUEEZE,
            cosA = Math.cos(brushInfo.curAngle),
            sinA = Math.sin(brushInfo.curAngle),
            offset = 0;

        for (var j = 0; j < intSize; j++) {
            for (var i = 0; i < intSize; i++) {
                var x = i + 0.5 - center,
                    y = j + 0.5 - center,
                    dx = (x * cosA - y * sinA) * xFactor,
                    dy = y * cosA + x * sinA,
                    sqrDist = dx * dx + dy * dy;

                if (sqrDist <= sqrRadiusInner) {
                    brush[offset++] = 0xFF;
                } else if (sqrDist > sqrRadiusOuter) {
                    brush[offset++] = 0;
                } else {
                    var count = 0;

                    for (var oy = 0; oy < 4; oy++) {
                        for (var ox = 0; ox < 4; ox++) {
                            x = i + ox * (1.0 / 4.0) - center;
                            y = j + oy * (1.0 / 4.0) - center;
                            dx = (x * cosA - y * sinA) * xFactor;
                            dy = y * cosA + x * sinA;

                            sqrDist = dx * dx + dy * dy;
                            if (sqrDist <= sqrRadius) {
                                count += 1;
                            }
                        }
                    }
                    brush[offset++] = Math.min(count * 16, 255);
                }
            }
        }

        return brush;
    }

    function buildBrushSquare(brush, brushInfo) {
        var intSize = Math.ceil(brushInfo.curSize),
            center = intSize / 2.0,
            size = brushInfo.curSize * Math.sin(Math.PI / 4),
            sizeX = size / 2 / (1.0 + brushInfo.curSqueeze * MAX_SQUEEZE),
            sizeY = size / 2,
            cosA = Math.cos(brushInfo.curAngle),
            sinA = Math.sin(brushInfo.curAngle),
            offset = 0;

        for (var j = 0; j < intSize; j++) {
            for (var i = 0; i < intSize; i++) {
                var x = i + 0.5 - center,
                    y = j + 0.5 - center,
                    dx = Math.abs(x * cosA - y * sinA),
                    dy = Math.abs(y * cosA + x * sinA);

                if (dx <= sizeX && dy <= sizeY) {
                    brush[offset++] = 0xFF;
                } else {
                    brush[offset++] = 0;
                }
            }
        }

        return brush;
    }

    function buildBrushSquareAA(brush, brushInfo) {
        var intSize = Math.ceil(brushInfo.curSize),
            center = intSize / 2.0,
            size = brushInfo.curSize * Math.sin(Math.PI / 4),
            sizeX = size / 2 / (1.0 + brushInfo.curSqueeze * MAX_SQUEEZE),
            sizeY = size / 2,
            sizeXInner = sizeX - 1,
            sizeYInner = sizeY - 1,
            sizeXOuter = sizeX + 1,
            sizeYOuter = sizeY + 1,
            cosA = Math.cos(brushInfo.curAngle),
            sinA = Math.sin(brushInfo.curAngle),
            offset = 0;

        for (var j = 0; j < intSize; j++) {
            for (var i = 0; i < intSize; i++) {
                var x = i + 0.5 - center,
                    y = j + 0.5 - center,
                    dx = Math.abs(x * cosA - y * sinA),
                    dy = Math.abs(y * cosA + x * sinA);

                if (dx <= sizeXInner && dy <= sizeYInner) {
                    brush[offset++] = 0xFF;
                } else if (dx > sizeXOuter || dy > sizeYOuter) {
                    brush[offset++] = 0;
                } else {
                    var count = 0;

                    for (var oy = 0; oy < 4; oy++) {
                        for (var ox = 0; ox < 4; ox++) {
                            x = i + ox * (1.0 / 4.0) - center;
                            y = j + oy * (1.0 / 4.0) - center;
                            dx = Math.abs(x * cosA - y * sinA);
                            dy = Math.abs(y * cosA + x * sinA);

                            if (dx <= sizeX && dy <= sizeY) {
                                count++;
                            }
                        }
                    }
                    brush[offset++] = Math.min(count * 16, 255);
                }
            }
        }

        return brush;
    }

    function buildBrushSoft(brush, brushInfo) {
        var intSize = Math.ceil(brushInfo.curSize),
            center = intSize / 2.0,
            sqrRadius = brushInfo.curSize / 2 * (brushInfo.curSize / 2),
            xFactor = 1.0 + brushInfo.curSqueeze * MAX_SQUEEZE,
            cosA = Math.cos(brushInfo.curAngle),
            sinA = Math.sin(brushInfo.curAngle),
            offset = 0;

        for (var j = 0; j < intSize; j++) {
            for (var i = 0; i < intSize; i++) {
                var x = i + 0.5 - center,
                    y = j + 0.5 - center,
                    dx = (x * cosA - y * sinA) * xFactor,
                    dy = y * cosA + x * sinA,
                    sqrDist = dx * dx + dy * dy;

                if (sqrDist <= sqrRadius) {
                    brush[offset++] = ~ ~(255 * (1 - sqrDist / sqrRadius));
                } else {
                    brush[offset++] = 0;
                }
            }
        }

        return brush;
    }

    /**
     * Build and return a brush that conforms to the given brush settings.
     * 
     * @returns a Uint8Array
     */
    function getBrush(brushInfo) {
        if (cacheBrush != null && brushInfo.curSize == cacheSize && brushInfo.curSqueeze == cacheSqueeze && brushInfo.curAngle == cacheAngle && brushInfo.type == cacheType) {
            return cacheBrush;
        }

        switch (brushInfo.type) {
            case _CPBrushInfo2["default"].B_ROUND_AIRBRUSH:
                brush = buildBrushSoft(brush, brushInfo);
                break;
            case _CPBrushInfo2["default"].B_ROUND_AA:
                brush = buildBrushAA(brush, brushInfo);
                break;
            case _CPBrushInfo2["default"].B_ROUND_PIXEL:
                brush = buildBrush(brush, brushInfo);
                break;
            case _CPBrushInfo2["default"].B_SQUARE_AA:
                brush = buildBrushSquareAA(brush, brushInfo);
                break;
            case _CPBrushInfo2["default"].B_SQUARE_PIXEL:
                brush = buildBrushSquare(brush, brushInfo);
                break;
        }

        cacheBrush = brush;
        cacheSize = brushInfo.curSize;
        cacheType = brushInfo.type;
        cacheSqueeze = brushInfo.curSqueeze;
        cacheAngle = brushInfo.curAngle;

        return brush;
    }

    function applyTexture(dab, textureAmount) {
        var amount = Math.floor(textureAmount * 255),
            texture = that.texture,
            textureX = dab.x % texture.width,
            textureY = dab.y % texture.height,
            brushPos = 0,
            texturePos,
            textureEOL;

        if (textureX < 0) {
            textureX += texture.width;
        }

        if (textureY < 0) {
            textureY += texture.height;
        }

        for (var y = 0; y < dab.height; y++) {
            texturePos = textureY * texture.width + textureX;
            textureEOL = textureY * texture.width + texture.width;

            for (var x = 0; x < dab.width; x++) {
                var brushValue = dab.brush[brushPos],
                    textureValue = texture.data[texturePos];

                dab.brush[brushPos] = ~ ~(brushValue * (textureValue * amount / 255 ^ 0xff) / 255);

                brushPos++;

                texturePos++;
                if (texturePos == textureEOL) {
                    // Wrap to left side of texture
                    texturePos -= texture.width;
                }
            }

            textureY++;
            if (textureY == texture.height) {
                textureY = 0;
            }
        }
    }

    /**
     * @param x float
     * @param y float
     * brushInfo - a CPBrushInfo object
     */
    this.getDab = function (x, y, brushInfo) {
        var dab = {
            alpha: brushInfo.curAlpha,
            width: Math.ceil(brushInfo.curSize),
            height: Math.ceil(brushInfo.curSize)
        };

        // FIXME: I don't like this special case for ROUND_PIXEL
        // it would be better to have brush presets for working with pixels
        var useAA = brushInfo.isAA && brushInfo.type != _CPBrushInfo2["default"].B_ROUND_PIXEL;

        if (useAA) {
            dab.width++;
            dab.height++;
        }

        var nx = x - dab.width / 2.0 + 0.5,
            ny = y - dab.height / 2.0 + 0.5;

        // this is necessary as Java uses convert towards zero float to int conversion
        if (nx < 0) {
            nx -= 1;
        }
        if (ny < 0) {
            ny -= 1;
        }

        if (useAA) {
            var dx = Math.abs(nx - ~ ~nx),
                dy = Math.abs(ny - ~ ~ny);

            dab.brush = getBrushWithAA(brushInfo, dx, dy);
        } else {
            dab.brush = getBrush(brushInfo);
        }

        dab.x = ~ ~nx;
        dab.y = ~ ~ny;

        if (brushInfo.texture > 0.0 && this.texture != null) {
            // we need a brush bitmap that can be modified everytime
            // the one in "brush" can be kept in cache so if we are using it, make a copy
            if (dab.brush == brush) {
                brushAA.set(brush);
                dab.brush = brushAA;
            }
            applyTexture(dab, brushInfo.texture);
        }

        return dab;
    };

    this.setTexture = function (texture) {
        this.texture = texture;
    };
}

module.exports = exports["default"];

},{"./CPBrushInfo":5}],7:[function(require,module,exports){
/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPChibiFile;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _CPArtwork = require("./CPArtwork");

var _CPArtwork2 = _interopRequireDefault(_CPArtwork);

var _CPLayer = require("./CPLayer");

var _CPLayer2 = _interopRequireDefault(_CPLayer);

var _CPColorBmp = require("./CPColorBmp");

var _CPColorBmp2 = _interopRequireDefault(_CPColorBmp);

var _utilArrayDataStream = require("../util/ArrayDataStream");

var _utilArrayDataStream2 = _interopRequireDefault(_utilArrayDataStream);

function CPChibiFile() {

    function CPChibiHeader(stream, chunk) {
        this.version = stream.readU32BE();
        this.width = stream.readU32BE();
        this.height = stream.readU32BE();
        this.layersNb = stream.readU32BE();
    }

    CPChibiHeader.FIXED_HEADER_LENGTH = 4 * 4;

    function CPChibiChunkHeader(stream) {
        var chunkType = new Array(4);

        for (var i = 0; i < chunkType.length; i++) {
            chunkType[i] = String.fromCharCode(stream.readByte());
        }

        this.chunkType = chunkType.join("");
        this.chunkSize = stream.readU32BE();

        if (stream.eof) {
            throw "Truncated chunk";
        }
    }

    function CPChibiLayerChunkHeader() {
        var payloadOffset, titleLength;

        this.readFixedHeader = function (stream) {
            payloadOffset = stream.readU32BE();

            this.blendMode = stream.readU32BE();
            this.alpha = stream.readU32BE();
            this.visible = (stream.readU32BE() & 1) != 0;

            titleLength = stream.readU32BE();
        };

        /* 
         * After reading the fixed header, use this function to find out how many more bytes of header
         * need to be read.
         */
        this.getVariableHeaderLen = function () {
            return payloadOffset - CPChibiLayerChunkHeader.FIXED_HEADER_LENGTH;
        };

        this.getTotalHeaderLen = function () {
            return CPChibiLayerChunkHeader.FIXED_HEADER_LENGTH + this.getVariableHeaderLen();
        };

        this.readVariableHeader = function (stream) {
            this.name = stream.readString(titleLength);

            // Skip to the pixel data (allows additional header fields to be added that we don't yet support)
            stream.skip(payloadOffset - titleLength - CPChibiLayerChunkHeader.FIXED_HEADER_LENGTH);
        };
    }

    // The size of the initial, fixed-length portion of the header
    CPChibiLayerChunkHeader.FIXED_HEADER_LENGTH = 4 * 5;

    var CHI_MAGIC = "CHIBIOEK",
        CHUNK_TAG_HEAD = "HEAD",
        CHUNK_TAG_LAYER = "LAYR",
        CHUNK_TAG_END = "ZEND",
        BYTES_PER_PIXEL = _CPColorBmp2["default"].BYTES_PER_PIXEL,
        ALPHA_BYTE_OFFSET = _CPColorBmp2["default"].ALPHA_BYTE_OFFSET,
        RED_BYTE_OFFSET = _CPColorBmp2["default"].RED_BYTE_OFFSET,
        GREEN_BYTE_OFFSET = _CPColorBmp2["default"].GREEN_BYTE_OFFSET,
        BLUE_BYTE_OFFSET = _CPColorBmp2["default"].BLUE_BYTE_OFFSET;

    function serializeEndChunk() {
        var buffer = new Uint8Array(CHUNK_TAG_END.length + 4),
            stream = new _utilArrayDataStream2["default"](buffer);

        stream.writeString(CHUNK_TAG_END);
        stream.writeU32BE(0);

        return stream.getAsDataArray();
    }

    function serializeHeaderChunk(artwork) {
        var buffer = new Uint8Array(CHUNK_TAG_HEAD.length + 4 * 5),
            stream = new _utilArrayDataStream2["default"](buffer);

        stream.writeString(CHUNK_TAG_HEAD);
        stream.writeU32BE(16); // ChunkSize

        stream.writeU32BE(0); // Current Version: Major: 0 Minor: 0
        stream.writeU32BE(artwork.width);
        stream.writeU32BE(artwork.height);
        stream.writeU32BE(artwork.getLayerCount());

        return stream.getAsDataArray();
    }

    function serializeLayerChunk(layer) {
        var chunkSize = 20 + layer.name.length + layer.data.length,
            buffer = new Uint8Array(CHUNK_TAG_LAYER.length + 4 + chunkSize),
            stream = new _utilArrayDataStream2["default"](buffer),
            pos;

        stream.writeString(CHUNK_TAG_LAYER); // Chunk ID
        stream.writeU32BE(chunkSize); // ChunkSize

        stream.writeU32BE(20 + layer.name.length); // Offset to layer data from start of header

        stream.writeU32BE(layer.blendMode);
        stream.writeU32BE(layer.alpha);
        stream.writeU32BE(layer.visible ? 1 : 0); // layer visibility and future flags

        stream.writeU32BE(layer.name.length);
        stream.writeString(layer.name);

        // Convert layer bytes from RGBA to ARGB order to match the Chibi specs
        pos = stream.pos;
        for (var i = 0; i < layer.data.length; i += BYTES_PER_PIXEL) {
            buffer[pos++] = layer.data[i + ALPHA_BYTE_OFFSET];
            buffer[pos++] = layer.data[i + RED_BYTE_OFFSET];
            buffer[pos++] = layer.data[i + GREEN_BYTE_OFFSET];
            buffer[pos++] = layer.data[i + BLUE_BYTE_OFFSET];
        }

        return buffer;
    }

    /**
     * Serialize the given artwork to Chibifile format. Returns a promise which resolves to the serialized Blob.
     */
    this.serialize = function (artwork) {
        return new Promise(function (resolve, reject) {
            var deflator = new window.pako.Deflate({
                level: 7
            }),
                blobParts = [],
                magic = new Uint8Array(CHI_MAGIC.length);

            // The magic file signature is not ZLIB compressed:
            for (var i = 0; i < CHI_MAGIC.length; i++) {
                magic[i] = CHI_MAGIC.charCodeAt(i);
            }
            blobParts.push(magic);

            // The rest gets compressed
            deflator.push(serializeHeaderChunk(artwork), false);

            var layers = artwork.getLayers(),
                i = 0;

            // Insert a settimeout between each serialized layer, so we can maintain browser responsiveness

            function serializeLayer() {
                if (i == layers.length) {
                    deflator.push(serializeEndChunk(artwork), true);

                    blobParts.push(deflator.result);

                    resolve(new Blob(blobParts, { type: "application/octet-stream" }));
                } else {
                    deflator.push(serializeLayerChunk(layers[i++]), false);

                    setTimeout(serializeLayer, 10);
                }
            }

            setTimeout(serializeLayer, 10);
        });
    };

    function hasChibiMagicMarker(array) {
        for (var i = 0; i < CHI_MAGIC.length; i++) {
            if (array[i] != CHI_MAGIC.charCodeAt(i)) {
                return false;
            }
        }

        return true;
    }

    /**
     * Concat two Uint8Arrays to make a new one and return it.
     * 
     * Either one may be set to null. If either one is null, the other is returned. If both are null, null is
     * returned.
     */
    function concatBuffers(one, two) {
        if (one == null || one.length == 0) {
            return two;
        }
        if (two == null || two.length == 0) {
            return one;
        }

        var result = new Uint8Array(one.length + two.length);

        result.set(one, 0);
        result.set(two, one.length);

        return result;
    }

    /**
     * Attempt to load a chibifile from the given arraybuffer.
     *
     * @returns A CPArtwork on success, or null on failure.
     */
    this.read = function (arrayBuffer) {
        var STATE_WAIT_FOR_CHUNK = 0,
            STATE_DECODE_IMAGE_HEADER = 1,
            STATE_DECODE_LAYER_HEADER_FIXED = 2,
            STATE_DECODE_LAYER_HEADER_VARIABLE = 3,
            STATE_DECODE_LAYER = 4,
            STATE_SKIP_TRAILING_CHUNK_BYTES = 5,
            STATE_SUCCESS = 6,
            STATE_FATAL = 10;

        var pako = new window.pako.Inflate({}),
            state = STATE_WAIT_FOR_CHUNK,
            artwork = null,
            layerHeader,
            layer,
            layerBytesRead,
            layerBytesTotal,
            skipCount,
            headerChunk = null,
            header = null,
            chunk = null,
            buffer = null;

        /**
         * Decode A,R,G,B pixels from the given buffer into the R,G,B,A pixel array given by layerPix.
         * 
         * The layerBytesRead and layerBytesTotal variables are used to keep track of the decode process and to 
         * limit the number of bytes read, respectively.
         * 
         * Returns the buffer with the read bytes removed from the front, or null if the buffer was read in its entirety.
         */
        function decodePixels(buffer, layerPix) {
            var subpixel = layerBytesRead % BYTES_PER_PIXEL,
                dstPixelStartOffset = layerBytesRead - subpixel,
                bufferPos = 0,

            // Map from source channel order to CPLayer's dest order
            channelMap = [ALPHA_BYTE_OFFSET, RED_BYTE_OFFSET, GREEN_BYTE_OFFSET, BLUE_BYTE_OFFSET];

            // The first pixel might be a partial one since we might be continuing a pixel split over buffers
            for (; subpixel < BYTES_PER_PIXEL && bufferPos < buffer.length; subpixel++) {
                layerPix[dstPixelStartOffset + channelMap[subpixel]] = buffer[bufferPos];
                layerBytesRead++;
                bufferPos++;
            }

            // How many more pixels are we to read in this buffer?
            var bytesRemain = Math.min(buffer.length - bufferPos, layerBytesTotal - layerBytesRead) | 0,
                fullPixelsRemain = bytesRemain / BYTES_PER_PIXEL | 0,
                subpixelsRemain = bytesRemain % BYTES_PER_PIXEL;

            for (var i = 0; i < fullPixelsRemain; i++) {
                layerPix[layerBytesRead + ALPHA_BYTE_OFFSET] = buffer[bufferPos];
                layerPix[layerBytesRead + RED_BYTE_OFFSET] = buffer[bufferPos + 1];
                layerPix[layerBytesRead + GREEN_BYTE_OFFSET] = buffer[bufferPos + 2];
                layerPix[layerBytesRead + BLUE_BYTE_OFFSET] = buffer[bufferPos + 3];
                layerBytesRead += BYTES_PER_PIXEL;
                bufferPos += BYTES_PER_PIXEL;
            }

            // Read a fractional pixel at the end of the buffer
            dstPixelStartOffset = layerBytesRead;
            for (subpixel = 0; subpixel < subpixelsRemain; subpixel++) {
                layerPix[dstPixelStartOffset + channelMap[subpixel]] = buffer[bufferPos];
                layerBytesRead++;
                bufferPos++;
            }

            if (bufferPos < buffer.length) {
                // Layer was completed before the end of the buffer, there is buffer left over for someone else to use
                return buffer.subarray(bufferPos);
            } else {
                // Buffer exhausted
                return null;
            }
        }

        function processBlock(block) {
            var stream;

            // Add a loop here so we can re-enter the switch with 'continue'
            while (true) {
                switch (state) {
                    case STATE_WAIT_FOR_CHUNK:
                        buffer = concatBuffers(buffer, block);
                        block = null;

                        // Wait for whole chunk header to become available
                        if (buffer.length < 8) {
                            break;
                        }

                        // Decode chunk header
                        stream = new _utilArrayDataStream2["default"](buffer);
                        chunk = new CPChibiChunkHeader(stream);

                        // Remove the chunk header from the start of the buffer
                        buffer = buffer.subarray(stream.pos);

                        if (headerChunk) {
                            if (chunk.chunkType == CHUNK_TAG_END) {
                                state = STATE_SUCCESS;
                                break;
                            } else if (chunk.chunkType == CHUNK_TAG_LAYER) {
                                state = STATE_DECODE_LAYER_HEADER_FIXED;
                            } else {
                                console.log("Unknown chunk type '" + chunk.chunkType + "', attempting to skip...");

                                block = buffer;
                                buffer = null;

                                skipCount = chunk.chunkSize;
                                state = STATE_SKIP_TRAILING_CHUNK_BYTES;
                            }
                        } else if (chunk.chunkType == CHUNK_TAG_HEAD) {
                            headerChunk = chunk;

                            // Try to decode the header
                            state = STATE_DECODE_IMAGE_HEADER;
                            continue;
                        } else {
                            // File didn't start with image header chunk
                            state = STATE_FATAL;
                        }
                        break;
                    case STATE_DECODE_IMAGE_HEADER:
                        buffer = concatBuffers(buffer, block);
                        block = null;

                        // Wait for whole chunk to be available
                        if (buffer.length < headerChunk.chunkSize) {
                            break;
                        }

                        stream = new _utilArrayDataStream2["default"](buffer);
                        header = new CPChibiHeader(stream, headerChunk);

                        if (header.version >>> 16 > 0) {
                            state = STATE_FATAL; // the file version is higher than what we can deal with, bail out
                            break;
                        }

                        artwork = new _CPArtwork2["default"](header.width, header.height);

                        block = buffer;
                        buffer = null;

                        skipCount = headerChunk.chunkSize; // Skip the header chunk along with any trailing bytes
                        state = STATE_SKIP_TRAILING_CHUNK_BYTES;
                        continue;
                        break;
                    case STATE_DECODE_LAYER_HEADER_FIXED:
                        buffer = concatBuffers(buffer, block);
                        block = null;

                        // Wait for first part of header to arrive
                        if (buffer.length < CPChibiLayerChunkHeader.FIXED_HEADER_LENGTH) {
                            break;
                        }

                        layerHeader = new CPChibiLayerChunkHeader();

                        stream = new _utilArrayDataStream2["default"](buffer);
                        layerHeader.readFixedHeader(stream);

                        buffer = buffer.subarray(stream.pos);

                        state = STATE_DECODE_LAYER_HEADER_VARIABLE;
                        continue;
                        break;
                    case STATE_DECODE_LAYER_HEADER_VARIABLE:
                        buffer = concatBuffers(buffer, block);
                        block = null;

                        // Wait for variable part of header to arrive
                        if (buffer.length < layerHeader.getVariableHeaderLen()) {
                            break;
                        }

                        stream = new _utilArrayDataStream2["default"](buffer);
                        layerHeader.readVariableHeader(stream);

                        buffer = buffer.subarray(stream.pos);

                        layer = new _CPLayer2["default"](header.width, header.height, layerHeader.name);
                        layer.blendMode = layerHeader.blendMode;
                        layer.alpha = layerHeader.alpha;
                        layer.visible = layerHeader.visible;

                        layerBytesRead = 0;
                        layerBytesTotal = header.width * header.height * BYTES_PER_PIXEL;

                        /* 
                         * While decoding layers, we won't keep a persistent buffer around, so if we have any
                         * bytes left over, provide them to the next state as if they were a newly inflated block.
                         */
                        block = buffer;
                        buffer = null;

                        state = STATE_DECODE_LAYER;
                        continue;
                        break;
                    case STATE_DECODE_LAYER:
                        /* 
                         * When decoding layer data, we never concat blocks together, we are capable of decoding
                         * partial pixels that get split over block boundaries. So we don't use 'buffer' to accumulate
                         * data, and only read from incoming 'block's.
                         */
                        if (block != null) {
                            block = decodePixels(block, layer.data);

                            if (layerBytesRead >= layerBytesTotal) {
                                artwork.addLayerObject(layer);

                                // Skip any trailing bytes in the layer chunk
                                skipCount = chunk.chunkSize - layerHeader.getTotalHeaderLen() - layerBytesTotal;
                                state = STATE_SKIP_TRAILING_CHUNK_BYTES;
                                continue;
                            }
                        }
                        break;
                    case STATE_SKIP_TRAILING_CHUNK_BYTES:
                        if (block) {
                            if (skipCount < block.length) {
                                block = block.subarray(skipCount);
                                skipCount = 0;
                            } else {
                                skipCount -= block.length;
                                block = null;
                            }
                        }

                        if (skipCount == 0) {
                            state = STATE_WAIT_FOR_CHUNK;
                            continue;
                        }
                        break;
                }

                break;
            }
        }

        arrayBuffer = new Uint8Array(arrayBuffer);

        if (!hasChibiMagicMarker(arrayBuffer)) {
            return null; // not a ChibiPaint file
        }

        // Remove the magic header
        arrayBuffer = arrayBuffer.subarray(CHI_MAGIC.length);

        pako.onData = processBlock;

        pako.onEnd = function (status) {
            if (status === 0 && state == STATE_SUCCESS) {
                artwork.setActiveLayerIndex(artwork.getTopmostVisibleLayer());

                this.result = artwork;
            } else {
                console.log("Fatal error decoding ChibiFile");

                this.result = null;
            }
        };

        // Begin decompression/decoding
        pako.push(arrayBuffer);

        return pako.result;
    };
}

module.exports = exports["default"];

},{"../util/ArrayDataStream":45,"./CPArtwork":2,"./CPColorBmp":9,"./CPLayer":11}],8:[function(require,module,exports){
/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPClip;

function CPClip(bmp, x, y) {
    this.bmp = bmp;

    this.x = x;
    this.y = y;
}

;
module.exports = exports["default"];

},{}],9:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPColorBmp;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _CPBitmap = require("./CPBitmap");

var _CPBitmap2 = _interopRequireDefault(_CPBitmap);

var _utilCPRect = require("../util/CPRect");

var _utilCPRect2 = _interopRequireDefault(_utilCPRect);

function createImageData(width, height) {
    // return new ImageData(this.width, this.height); // Doesn't work on old IE
    var canvas = document.createElement("canvas"),
        context = canvas.getContext("2d");

    return context.createImageData(width, height);
}

//
// A 32bpp bitmap class (one byte per channel in RGBA order)
//

function CPColorBmp(width, height) {
    _CPBitmap2["default"].call(this, width, height);

    // The ImageData object that holds the image data
    this.imageData = createImageData(this.width, this.height);

    // The bitmap data array (one byte per channel in RGBA order)
    this.data = this.imageData.data;
}

CPColorBmp.prototype = Object.create(_CPBitmap2["default"].prototype);
CPColorBmp.prototype.constructor = CPColorBmp;

CPColorBmp.BYTES_PER_PIXEL = 4;
CPColorBmp.RED_BYTE_OFFSET = 0;
CPColorBmp.GREEN_BYTE_OFFSET = 1;
CPColorBmp.BLUE_BYTE_OFFSET = 2;
CPColorBmp.ALPHA_BYTE_OFFSET = 3;

// Creates a CPBitmap from a portion of this bitmap
CPColorBmp.prototype.cloneRect = function (rect) {
    var result = new CPColorBmp(rect.getWidth(), rect.getHeight());

    result.copyBitmapRect(this, 0, 0, rect);

    return result;
};

//
// Pixel access with friendly clipping. Pixel will be 32-bit integer in ARGB format
//
CPColorBmp.prototype.getPixel = function (x, y) {
    x = Math.max(0, Math.min(this.width - 1, x));
    y = Math.max(0, Math.min(this.height - 1, y));

    var pixIndex = this.offsetOfPixel(x, y);

    return this.data[pixIndex + CPColorBmp.ALPHA_BYTE_OFFSET] << 24 | this.data[pixIndex + CPColorBmp.RED_BYTE_OFFSET] << 16 | this.data[pixIndex + CPColorBmp.GREEN_BYTE_OFFSET] << 8 | this.data[pixIndex + CPColorBmp.BLUE_BYTE_OFFSET];
};

/**
 * Get an r,g,b,a array of the xor of this bitmap and the given one, within the given rectangle
 *
 * @returns {Uint8Array}
 */
CPColorBmp.prototype.copyRectXOR = function (bmp, rect) {
    rect = this.getBounds().clip(rect);

    var w = rect.getWidth(),
        h = rect.getHeight(),
        buffer = new Uint8Array(w * h * CPColorBmp.BYTES_PER_PIXEL),
        outputIndex = 0,
        bmp1Index = this.offsetOfPixel(rect.left, rect.top),
        bmp2Index = bmp.offsetOfPixel(rect.left, rect.top),
        bmp1YSkip = (this.width - w) * CPColorBmp.BYTES_PER_PIXEL,
        bmp2YSkip = (bmp.width - w) * CPColorBmp.BYTES_PER_PIXEL,
        widthBytes = w * CPColorBmp.BYTES_PER_PIXEL;

    for (var y = rect.top; y < rect.bottom; y++, bmp1Index += bmp1YSkip, bmp2Index += bmp2YSkip) {
        for (var x = 0; x < widthBytes; x++, outputIndex++, bmp1Index++, bmp2Index++) {
            buffer[outputIndex] = this.data[bmp1Index] ^ bmp.data[bmp2Index];
        }
    }

    return buffer;
};

CPColorBmp.prototype.setRectXOR = function (buffer, rect) {
    rect = this.getBounds().clip(rect);

    var w = rect.getWidth(),
        h = rect.getHeight(),
        bmp1Index = this.offsetOfPixel(rect.left, rect.top),
        bufferIndex = 0,
        bmp1YSkip = (this.width - w) * CPColorBmp.BYTES_PER_PIXEL,
        widthBytes = w * CPColorBmp.BYTES_PER_PIXEL;

    for (var y = 0; y < h; y++) {
        for (var x = 0; x < widthBytes; x++) {
            this.data[bmp1Index++] ^= buffer[bufferIndex++];
        }
        bmp1Index += bmp1YSkip;
    }
};

//
// Copy another bitmap into this one using alpha blending
//
CPColorBmp.prototype.pasteAlphaRect = function (bmp, srcRect, x, y) {
    var srcRectCpy = srcRect.clone(),
        dstRect = new _utilCPRect2["default"](x, y, 0, 0);

    this.getBounds().clipSourceDest(srcRectCpy, dstRect);

    var srcYStride = (bmp.width - dstRect.getWidth()) * CPColorBmp.BYTES_PER_PIXEL,
        dstYStride = (this.width - dstRect.getWidth()) * CPColorBmp.BYTES_PER_PIXEL,
        srcOffset = bmp.offsetOfPixel(srcRectCpy.left, srcRectCpy.top),
        dstOffset = this.offsetOfPixel(dstRect.left, dstRect.top);

    for (var y = dstRect.top; y < dstRect.bottom; y++, srcOffset += srcYStride, dstOffset += dstYStride) {
        for (var x = dstRect.left; x < dstRect.right; x++) {
            var alpha1 = bmp.data[srcOffset + CPColorBmp.ALPHA_BYTE_OFFSET];

            if (alpha1 <= 0) {
                dstOffset += CPColorBmp.BYTES_PER_PIXEL;
                srcOffset += CPColorBmp.BYTES_PER_PIXEL;
                continue;
            }

            if (alpha1 == 255) {
                for (var i = 0; i < CPColorBmp.BYTES_PER_PIXEL; i++) {
                    this.data[dstOffset++] = bmp.data[srcOffset++];
                }
                continue;
            }

            var alpha2 = this.data[dstOffset + CPColorBmp.ALPHA_BYTE_OFFSET],
                newAlpha = alpha1 + alpha2 - alpha1 * alpha2 / 255 | 0;

            if (newAlpha > 0) {
                var realAlpha = alpha1 * 255 / newAlpha | 0,
                    invAlpha = 255 - realAlpha;

                for (var i = 0; i < 3; i++, dstOffset++, srcOffset++) {
                    this.data[dstOffset] = bmp.data[srcOffset] + (this.data[dstOffset] * invAlpha - bmp.data[srcOffset] * invAlpha) / 255 | 0;
                }
                this.data[dstOffset++] = newAlpha;
                srcOffset++;
            } else {
                dstOffset += CPColorBmp.BYTES_PER_PIXEL;
                srcOffset += CPColorBmp.BYTES_PER_PIXEL;
            }
        }
    }
};

/** 
 * Copy the rectangle at srcRect from bmp onto this image at (dstX, dstY).
 */
CPColorBmp.prototype.copyBitmapRect = function (bmp, dstX, dstY, srcRect) {
    var srcRect = srcRect.clone(),
        dstRect = new _utilCPRect2["default"](dstX, dstY, 0, 0);

    this.getBounds().clipSourceDest(srcRect, dstRect);

    var w = dstRect.getWidth() | 0,
        h = dstRect.getHeight() | 0;

    // Are we just trying to duplicate the bitmap?
    if (dstRect.left == 0 && dstRect.top == 0 && w == this.width && h == this.height && w == bmp.width && h == bmp.height) {
        this.copyDataFrom(bmp);
    } else {
        var dstIndex = this.offsetOfPixel(dstRect.left, dstRect.top),
            srcIndex = bmp.offsetOfPixel(srcRect.left, srcRect.top),
            dstYSkip = (this.width - w) * CPColorBmp.BYTES_PER_PIXEL,
            srcYSkip = (bmp.width - w) * CPColorBmp.BYTES_PER_PIXEL;

        for (var y = 0; y < h; y++) {
            for (var x = 0; x < w; x++) {
                this.data[dstIndex] = bmp.data[srcIndex];
                this.data[dstIndex + 1] = bmp.data[srcIndex + 1];
                this.data[dstIndex + 2] = bmp.data[srcIndex + 2];
                this.data[dstIndex + 3] = bmp.data[srcIndex + 3];
                dstIndex += 4;
                srcIndex += 4;
            }
            srcIndex += srcYSkip;
            dstIndex += dstYSkip;
        }
    }
};

//
// Copies the Alpha channel from another bitmap. Assumes both bitmaps are the same width.
//
CPColorBmp.prototype.copyAlphaFrom = function (bmp, rect) {
    rect = this.getBounds().clip(rect);

    var w = rect.getWidth(),
        h = rect.getHeight(),
        pixIndex = this.offsetOfPixel(rect.left, rect.top) + CPColorBmp.ALPHA_BYTE_OFFSET,
        /* Apply offset here so we don't have to do it per-pixel*/
    ySkip = (this.width - w) * CPColorBmp.BYTES_PER_PIXEL;

    for (var y = 0; y < h; y++) {
        for (var x = 0; x < w; x++) {
            this.data[pixIndex] = bmp.data[pixIndex];
            pixIndex += CPColorBmp.BYTES_PER_PIXEL;
        }
        pixIndex += ySkip;
    }
};

CPColorBmp.prototype.copyDataFrom = function (bmp) {
    if (bmp.width != this.width || bmp.height != this.height) {
        this.width = bmp.width;
        this.height = bmp.height;

        this.imageData = createImageData(this.width, this.height);
        this.data = this.imageData.data;
    }

    if ("set" in this.data) {
        this.data.set(bmp.data);
    } else {
        // IE doesn't use Uint8ClampedArray for ImageData, so set() isn't available
        for (var i = 0; i < this.data.length; i++) {
            this.data[i] = bmp.data[i];
        }
    }
};

/**
 * Flood fill the given color starting from the given point
 * @param x int
 * @param y int
 * @param color int
 */
CPColorBmp.prototype.floodFill = function (x, y, color) {
    if (!this.isInside(x, y)) {
        return;
    }

    var oldColor = this.getPixel(x, y),
        oldAlpha = oldColor >> 24 & 0xFF,
        oldRed = oldColor >> 16 & 0xFF,
        oldGreen = oldColor >> 8 & 0xFF,
        oldBlue = oldColor & 0xFF,
        colorAlpha = color >> 24 & 0xFF,
        colorRed = color >> 16 & 0xFF,
        colorGreen = color >> 8 & 0xFF,
        colorBlue = color & 0xFF,
        stack = [],
        clip = this.getBounds(),
        data = this.data;

    // Change the left and right bounds from pixel indexes into byte indexes for easy clipping
    clip.left *= CPColorBmp.BYTES_PER_PIXEL;
    clip.right *= CPColorBmp.BYTES_PER_PIXEL;

    stack.push({ x1: x * CPColorBmp.BYTES_PER_PIXEL, x2: x * CPColorBmp.BYTES_PER_PIXEL, y: y, dy: -1 });
    stack.push({ x1: x * CPColorBmp.BYTES_PER_PIXEL, x2: x * CPColorBmp.BYTES_PER_PIXEL, y: y + 1, dy: 1 });

    /* 
     * If we are filling 100% transparent areas then we need to ignore the residual color information
     * (it would also be possible to clear it when erasing, but then the performance impact would be on the eraser 
     * rather than on this low importance flood fill)
     */
    if (oldAlpha == 0) {
        if (colorAlpha == 0) {
            return;
        }

        while (stack.length > 0) {
            var line = stack.pop();

            if (line.y < clip.top || line.y >= clip.bottom) {
                continue;
            }

            var lineOffset = this.offsetOfPixel(0, line.y),
                left = line.x1,
                next;

            while (left >= clip.left && data[left + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] == 0) {
                data[left + lineOffset + CPColorBmp.RED_BYTE_OFFSET] = colorRed;
                data[left + lineOffset + CPColorBmp.GREEN_BYTE_OFFSET] = colorGreen;
                data[left + lineOffset + CPColorBmp.BLUE_BYTE_OFFSET] = colorBlue;
                data[left + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] = colorAlpha;

                left -= CPColorBmp.BYTES_PER_PIXEL;
            }

            if (left >= line.x1) {
                while (left <= line.x2 && data[left + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] != oldAlpha) {
                    left += CPColorBmp.BYTES_PER_PIXEL;
                }
                next = left + CPColorBmp.BYTES_PER_PIXEL;
                if (left > line.x2) {
                    continue;
                }
            } else {
                left += CPColorBmp.BYTES_PER_PIXEL;
                if (left < line.x1) {
                    stack.push({ x1: left, x2: line.x1 - CPColorBmp.BYTES_PER_PIXEL, y: line.y - line.dy, dy: -line.dy });
                }
                next = line.x1 + CPColorBmp.BYTES_PER_PIXEL;
            }

            do {
                data[left + lineOffset + CPColorBmp.RED_BYTE_OFFSET] = colorRed;
                data[left + lineOffset + CPColorBmp.GREEN_BYTE_OFFSET] = colorGreen;
                data[left + lineOffset + CPColorBmp.BLUE_BYTE_OFFSET] = colorBlue;
                data[left + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] = colorAlpha;

                while (next < clip.right && data[next + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] == oldAlpha) {
                    data[next + lineOffset + CPColorBmp.RED_BYTE_OFFSET] = colorRed;
                    data[next + lineOffset + CPColorBmp.GREEN_BYTE_OFFSET] = colorGreen;
                    data[next + lineOffset + CPColorBmp.BLUE_BYTE_OFFSET] = colorBlue;
                    data[next + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] = colorAlpha;

                    next += CPColorBmp.BYTES_PER_PIXEL;
                }
                stack.push({ x1: left, x2: next - CPColorBmp.BYTES_PER_PIXEL, y: line.y + line.dy, dy: line.dy });

                if (next - CPColorBmp.BYTES_PER_PIXEL > line.x2) {
                    stack.push({ x1: line.x2 + CPColorBmp.BYTES_PER_PIXEL, x2: next - CPColorBmp.BYTES_PER_PIXEL, y: line.y - line.dy, dy: -line.dy });
                }

                left = next + CPColorBmp.BYTES_PER_PIXEL;
                while (left <= line.x2 && data[left + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] != oldAlpha) {
                    left += CPColorBmp.BYTES_PER_PIXEL;
                }

                next = left + CPColorBmp.BYTES_PER_PIXEL;
            } while (left <= line.x2);
        }
    } else {
        if (color == oldColor) {
            return;
        }

        while (stack.length > 0) {
            var line = stack.pop();

            if (line.y < clip.top || line.y >= clip.bottom) {
                continue;
            }

            var lineOffset = this.offsetOfPixel(0, line.y),
                left = line.x1,
                next;

            while (left >= clip.left && data[left + lineOffset + CPColorBmp.RED_BYTE_OFFSET] == oldRed && data[left + lineOffset + CPColorBmp.GREEN_BYTE_OFFSET] == oldGreen && data[left + lineOffset + CPColorBmp.BLUE_BYTE_OFFSET] == oldBlue && data[left + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] == oldAlpha) {
                data[left + lineOffset + CPColorBmp.RED_BYTE_OFFSET] = colorRed;
                data[left + lineOffset + CPColorBmp.GREEN_BYTE_OFFSET] = colorGreen;
                data[left + lineOffset + CPColorBmp.BLUE_BYTE_OFFSET] = colorBlue;
                data[left + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] = colorAlpha;

                left -= CPColorBmp.BYTES_PER_PIXEL;
            }

            if (left >= line.x1) {
                while (left <= line.x2 && !(data[left + lineOffset + CPColorBmp.RED_BYTE_OFFSET] == oldRed && data[left + lineOffset + CPColorBmp.GREEN_BYTE_OFFSET] == oldGreen && data[left + lineOffset + CPColorBmp.BLUE_BYTE_OFFSET] == oldBlue && data[left + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] == oldAlpha)) {
                    left += CPColorBmp.BYTES_PER_PIXEL;
                }
                next = left + CPColorBmp.BYTES_PER_PIXEL;
                if (left > line.x2) {
                    continue;
                }
            } else {
                left += CPColorBmp.BYTES_PER_PIXEL;
                if (left < line.x1) {
                    stack.push({ x1: left, x2: line.x1 - CPColorBmp.BYTES_PER_PIXEL, y: line.y - line.dy, dy: -line.dy });
                }
                next = line.x1 + CPColorBmp.BYTES_PER_PIXEL;
            }

            do {
                data[left + lineOffset + CPColorBmp.RED_BYTE_OFFSET] = colorRed;
                data[left + lineOffset + CPColorBmp.GREEN_BYTE_OFFSET] = colorGreen;
                data[left + lineOffset + CPColorBmp.BLUE_BYTE_OFFSET] = colorBlue;
                data[left + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] = colorAlpha;

                while (next < clip.right && data[next + lineOffset + CPColorBmp.RED_BYTE_OFFSET] == oldRed && data[next + lineOffset + CPColorBmp.GREEN_BYTE_OFFSET] == oldGreen && data[next + lineOffset + CPColorBmp.BLUE_BYTE_OFFSET] == oldBlue && data[next + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] == oldAlpha) {
                    data[next + lineOffset + CPColorBmp.RED_BYTE_OFFSET] = colorRed;
                    data[next + lineOffset + CPColorBmp.GREEN_BYTE_OFFSET] = colorGreen;
                    data[next + lineOffset + CPColorBmp.BLUE_BYTE_OFFSET] = colorBlue;
                    data[next + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] = colorAlpha;

                    next += CPColorBmp.BYTES_PER_PIXEL;
                }
                stack.push({ x1: left, x2: next - CPColorBmp.BYTES_PER_PIXEL, y: line.y + line.dy, dy: line.dy });

                if (next - CPColorBmp.BYTES_PER_PIXEL > line.x2) {
                    stack.push({ x1: line.x2 + CPColorBmp.BYTES_PER_PIXEL, x2: next - CPColorBmp.BYTES_PER_PIXEL, y: line.y - line.dy, dy: -line.dy });
                }

                left = next + CPColorBmp.BYTES_PER_PIXEL;
                while (left <= line.x2 && !(data[left + lineOffset + CPColorBmp.RED_BYTE_OFFSET] == oldRed && data[left + lineOffset + CPColorBmp.GREEN_BYTE_OFFSET] == oldGreen && data[left + lineOffset + CPColorBmp.BLUE_BYTE_OFFSET] == oldBlue && data[left + lineOffset + CPColorBmp.ALPHA_BYTE_OFFSET] == oldAlpha)) {
                    left += CPColorBmp.BYTES_PER_PIXEL;
                }

                next = left + CPColorBmp.BYTES_PER_PIXEL;
            } while (left <= line.x2);
        }
    }
};

/**
 * Premultiply the RGB channels in the given R,G,B,A channel buffer with the alpha channel.
 * 
 * @param buffer R,G,B,A channel array
 * @param len Number of pixels in buffer to modify
 */
function multiplyAlpha(buffer, len) {
    var pixIndex = 0;

    for (var i = 0; i < len; i++) {
        var alpha = buffer[pixIndex + CPColorBmp.ALPHA_BYTE_OFFSET];

        // Multiply the RGB channels by alpha
        for (var j = 0; j < 3; j++, pixIndex++) {
            buffer[pixIndex] = Math.round(buffer[pixIndex] * alpha / 255);
        }
        pixIndex++; // Don't modify alpha channel
    }
}

/**
 * Inverse of multiplyAlpha()
 */
function separateAlpha(buffer, len) {
    var pixIndex = 0;

    for (var i = 0; i < len; i++) {
        var alpha = buffer[pixIndex + CPColorBmp.ALPHA_BYTE_OFFSET];

        if (alpha != 0) {
            var invAlpha = 255 / alpha;

            for (var j = 0; j < 3; j++, pixIndex++) {
                buffer[pixIndex] = Math.min(Math.round(buffer[pixIndex] * invAlpha), 255);
            }
            // Don't modify alpha channel
            pixIndex++;
        } else {
            pixIndex += CPColorBmp.BYTES_PER_PIXEL;
        }
    }
}

function boxBlurLine(src, dst, len, radius) {
    var totalPixels = 0,
        totalChannels = [0, 0, 0, 0],
        pixIndex,
        dstIndex;

    pixIndex = 0;
    for (var i = 0; i < radius && i < len; i++) {
        for (var j = 0; j < CPColorBmp.BYTES_PER_PIXEL; j++) {
            totalChannels[j] += src[pixIndex++];
        }
        totalPixels++;
    }

    dstIndex = 0;
    for (var i = 0; i < len; i++) {
        // New pixel joins the window at the right
        if (i + radius < len) {
            pixIndex = (i + radius) * CPColorBmp.BYTES_PER_PIXEL;

            for (var j = 0; j < CPColorBmp.BYTES_PER_PIXEL; j++) {
                totalChannels[j] += src[pixIndex++];
            }
            totalPixels++;
        }

        for (var j = 0; j < CPColorBmp.BYTES_PER_PIXEL; j++) {
            dst[dstIndex++] = Math.round(totalChannels[j] / totalPixels);
        }

        // Old pixel leaves the window at the left
        if (i - radius >= 0) {
            pixIndex = (i - radius) * CPColorBmp.BYTES_PER_PIXEL;

            for (var j = 0; j < CPColorBmp.BYTES_PER_PIXEL; j++) {
                totalChannels[j] -= src[pixIndex++];
            }
            totalPixels--;
        }
    }
}

/**
 * Copy a column of pixels in the bitmap to the given R,G,B,A buffer.
 * 
 * @param x X-coordinate of column
 * @param y Y-coordinate of top of column to copy
 * @param len Number of pixels to copy
 * @param buffer R,G,B,A array
 */
CPColorBmp.prototype.copyPixelColumnToArray = function (x, y, len, buffer) {
    var yJump = (this.width - 1) * CPColorBmp.BYTES_PER_PIXEL,
        dstOffset = 0,
        srcOffset = this.offsetOfPixel(x, y);

    for (var i = 0; i < len; i++) {
        for (var j = 0; j < CPColorBmp.BYTES_PER_PIXEL; j++) {
            buffer[dstOffset++] = this.data[srcOffset++];
        }

        srcOffset += yJump;
    }
};

/**
 * Copy the pixels from the given R,G,B,A buffer to a column of pixels in the bitmap.
 * 
 * @param x X-coordinate of column
 * @param y Y-coordinate of top of column to copy
 * @param len Number of pixels to copy
 * @param buffer R,G,B,A array to copy from
 */
CPColorBmp.prototype.copyArrayToPixelColumn = function (x, y, len, buffer) {
    var yJump = (this.width - 1) * CPColorBmp.BYTES_PER_PIXEL,
        srcOffset = 0,
        dstOffset = this.offsetOfPixel(x, y);

    for (var i = 0; i < len; i++) {
        for (var j = 0; j < CPColorBmp.BYTES_PER_PIXEL; j++) {
            this.data[dstOffset++] = buffer[srcOffset++];
        }

        dstOffset += yJump;
    }
};

CPColorBmp.prototype.boxBlur = function (rect, radiusX, radiusY) {
    rect = this.getBounds().clip(rect);

    var rectWidth = rect.getWidth(),
        rectWidthBytes = rectWidth * CPColorBmp.BYTES_PER_PIXEL,
        rectHeight = rect.getHeight(),
        rectLength = Math.max(rectWidth, rectHeight),
        src = new Uint8Array(rectLength * CPColorBmp.BYTES_PER_PIXEL),
        dst = new Uint8Array(rectLength * CPColorBmp.BYTES_PER_PIXEL);

    for (var y = rect.top; y < rect.bottom; y++) {
        var pixOffset = this.offsetOfPixel(rect.left, y);

        for (var x = 0; x < rectWidthBytes; x++) {
            src[x] = this.data[pixOffset++];
        }

        multiplyAlpha(src, rectWidth);
        boxBlurLine(src, dst, rectWidth, radiusX);

        pixOffset = this.offsetOfPixel(rect.left, y);

        for (var x = 0; x < rectWidthBytes; x++) {
            this.data[pixOffset++] = dst[x];
        }
    }

    for (var x = rect.left; x < rect.right; x++) {
        this.copyPixelColumnToArray(x, rect.top, rectHeight, src);

        boxBlurLine(src, dst, rectHeight, radiusY);
        separateAlpha(dst, rectHeight);

        this.copyArrayToPixelColumn(x, rect.top, rectHeight, dst);
    }
};

CPColorBmp.prototype.offsetOfPixel = function (x, y) {
    return (y * this.width + x) * CPColorBmp.BYTES_PER_PIXEL | 0;
};

CPColorBmp.prototype.getMemorySize = function () {
    return this.data.length;
};

// Load from a loaded HTML Image object
CPColorBmp.prototype.loadFromImage = function (image) {
    var imageCanvas = document.createElement("canvas"),
        imageContext = imageCanvas.getContext("2d");

    imageCanvas.width = image.width;
    imageCanvas.height = image.height;

    imageContext.globalCompositeOperation = "copy";
    imageContext.drawImage(image, 0, 0);

    this.imageData = imageContext.getImageData(0, 0, this.width, this.height);
    this.data = this.imageData.data;
};

CPColorBmp.prototype.getImageData = function () {
    return this.imageData;
};

/**
 * Replace the image data with the provided ImageData object (i.e. use it by reference).
 *
 * @param imageData {ImageData}
 */
CPColorBmp.prototype.setImageData = function (imageData) {
    this.width = imageData.width;
    this.height = imageData.height;
    this.imageData = imageData;
    this.data = imageData.data;
};
module.exports = exports["default"];

},{"../util/CPRect":52,"./CPBitmap":3}],10:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPGreyBmp;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _CPBitmap = require("./CPBitmap");

var _CPBitmap2 = _interopRequireDefault(_CPBitmap);

function CPGreyBmp(width, height, bitDepth) {

    _CPBitmap2["default"].call(this, width, height);

    this.bitDepth = bitDepth;

    switch (bitDepth) {
        case 32:
            this.data = new Uint32Array(width * height);
            break;
        case 16:
            this.data = new Uint16Array(width * height);
            break;
        case 8:
        default:
            this.data = new Uint8Array(width * height);
    }

    this.clone = function () {
        var result = new CPGreyBmp(this.width, this.height, this.bitDepth);

        result.data.set(this.data);

        return result;
    };

    this.clearAll = function (value) {
        for (var i = 0; i < this.data.length; i++) {
            this.data[i] = value;
        }
    };

    this.clearRect = function (rect, value) {
        var rect = this.getBounds().clip(rect),
            yStride = this.width - rect.getWidth(),
            pixIndex = this.offsetOfPixel(rect.left, rect.top);

        for (var y = rect.top; y < rect.bottom; y++, pixIndex += yStride) {
            for (var x = rect.left; x < rect.right; x++, pixIndex++) {
                this.data[pixIndex] = value;
            }
        }
    };

    this.mirrorHorizontally = function () {
        var newData = new Uint8Array(width * height);

        for (var y = 0; y < height; y++) {
            for (var x = 0; x < width; x++) {
                newData[y * width + x] = this.data[y * width + width - x - 1];
            }
        }

        this.data = newData;
    };

    this.applyLUT = function (lut) {
        for (var i = 0; i < this.data.length; i++) {
            this.data[i] = lut.table[this.data[i]];
        }
    };

    this.toCanvas = function () {
        var imageData = this.toImageData(),
            canvas = document.createElement("canvas"),
            context = canvas.getContext("2d");

        canvas.width = this.width;
        canvas.height = this.height;

        context.putImageData(imageData, 0, 0);

        return canvas;
    };

    this.toImageData = function () {
        var canvas = document.createElement("canvas"),
            context = canvas.getContext("2d"),
            imageData = context.createImageData(this.width, this.height),
            srcIndex = 0,
            dstIndex = 0;

        for (var y = 0; y < this.height; y++) {
            for (var x = 0; x < this.width; x++) {
                imageData.data[dstIndex++] = this.data[srcIndex];
                imageData.data[dstIndex++] = this.data[srcIndex];
                imageData.data[dstIndex++] = this.data[srcIndex];
                imageData.data[dstIndex++] = 0xFF;
                srcIndex++;
            }
        }

        return imageData;
    };
}

CPGreyBmp.prototype.offsetOfPixel = function (x, y) {
    return y * this.width + x;
};
module.exports = exports["default"];

},{"./CPBitmap":3}],11:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CPLayer;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _CPColorBmp = require('./CPColorBmp');

var _CPColorBmp2 = _interopRequireDefault(_CPColorBmp);

var _CPBlend = require('./CPBlend');

var _CPBlend2 = _interopRequireDefault(_CPBlend);

/**
 * Note layer is not cleared to any specific values upon initial creation, use clearAll().
 */

function CPLayer(width, height, name) {
    // Super-constructor
    _CPColorBmp2['default'].call(this, width, height);

    this.name = name || "";

    this.alpha = 100;
    this.visible = true;
    this.blendMode = _CPBlend2['default'].LM_NORMAL;
}

CPLayer.prototype = Object.create(_CPColorBmp2['default'].prototype);
CPLayer.prototype.constructor = CPLayer;

var BYTES_PER_PIXEL = 4,
    ALPHA_BYTE_OFFSET = 3;

CPLayer.prototype.clearAll = function (color) {
    var a = color >> 24 & 0xFF,
        r = color >> 16 & 0xFF,
        g = color >> 8 & 0xFF,
        b = color & 0xFF;

    for (var i = 0; i < this.width * this.height * BYTES_PER_PIXEL;) {
        this.data[i++] = r;
        this.data[i++] = g;
        this.data[i++] = b;
        this.data[i++] = a;
    }
};

CPLayer.prototype.clearRect = function (rect, color) {
    var a = color >> 24 & 0xFF,
        r = color >> 16 & 0xFF,
        g = color >> 8 & 0xFF,
        b = color & 0xFF;

    var rect = this.getBounds().clip(rect),
        yStride = (this.width - rect.getWidth()) * BYTES_PER_PIXEL,
        pixIndex = this.offsetOfPixel(rect.left, rect.top);

    for (var y = rect.top; y < rect.bottom; y++, pixIndex += yStride) {
        for (var x = rect.left; x < rect.right; x++) {
            this.data[pixIndex++] = r;
            this.data[pixIndex++] = g;
            this.data[pixIndex++] = b;
            this.data[pixIndex++] = a;
        }
    }
};

/**
 * @param rect CPRect
 * @param source CPLayer
 */
CPLayer.prototype.copyRegionHFlip = function (rect, source) {
    rect = this.getBounds().clip(rect);

    for (var y = rect.top; y < rect.bottom; y++) {
        var dstOffset = this.offsetOfPixel(rect.left, y),
            srcOffset = source.offsetOfPixel(rect.right - 1, y);

        for (var x = rect.left; x < rect.right; x++, srcOffset -= _CPColorBmp2['default'].BYTES_PER_PIXEL * 2) {
            for (var i = 0; i < _CPColorBmp2['default'].BYTES_PER_PIXEL; i++) {
                this.data[dstOffset++] = source.data[srcOffset++];
            }
        }
    }
};

/**
 * @param rect CPRect
 * @param source CPLayer
 */
CPLayer.prototype.copyRegionVFlip = function (rect, source) {
    rect = this.getBounds().clip(rect);

    var widthBytes = rect.getWidth() * _CPColorBmp2['default'].BYTES_PER_PIXEL;

    for (var y = rect.top; y < rect.bottom; y++) {
        var dstOffset = this.offsetOfPixel(rect.left, y),
            srcOffset = source.offsetOfPixel(rect.left, rect.bottom - 1 - (y - rect.top));

        for (var x = 0; x < widthBytes; x++) {
            this.data[dstOffset++] = source.data[srcOffset++];
        }
    }
};

/**
 * @param r CPRect
 */
CPLayer.prototype.fillWithNoise = function (rect) {
    rect = this.getBounds().clip(rect);

    var value,
        yStride = (this.width - rect.getWidth()) * _CPColorBmp2['default'].BYTES_PER_PIXEL,
        pixIndex = this.offsetOfPixel(rect.left, rect.top);

    for (var y = rect.top; y < rect.bottom; y++, pixIndex += yStride) {
        for (var x = rect.left; x < rect.right; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            value = Math.random() * 0x100 | 0;

            this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] = value;
            this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] = value;
            this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] = value;
            this.data[pixIndex + _CPColorBmp2['default'].ALPHA_BYTE_OFFSET] = 0xFF;
        }
    }
};

/**
 * Replace the pixels in the given rect with the given horizontal gradient.
 *
 * @param rect CPRect
 * @param fromX int
 * @param toX int
 * @param gradientPoints int[]
 */
CPLayer.prototype.gradientHorzReplace = function (rect, fromX, toX, gradientPoints) {
    var fromColor = {
        r: gradientPoints[0] >> 16 & 0xFF,
        g: gradientPoints[0] >> 8 & 0xFF,
        b: gradientPoints[0] & 0xFF,
        a: gradientPoints[0] >> 24 & 0xFF
    },
        toColor = {
        r: gradientPoints[1] >> 16 & 0xFF,
        g: gradientPoints[1] >> 8 & 0xFF,
        b: gradientPoints[1] & 0xFF,
        a: gradientPoints[1] >> 24 & 0xFF
    },
        yStride = (this.width - rect.getWidth()) * _CPColorBmp2['default'].BYTES_PER_PIXEL,
        pixIndex = this.offsetOfPixel(rect.left, rect.top) | 0,
        h = rect.bottom - rect.top | 0;

    if (toX < fromX) {
        var temp = toX;
        toX = fromX;
        fromX = temp;

        temp = fromColor;
        fromColor = toColor;
        toColor = temp;
    }

    var gradientRange = toX - fromX | 0,
        rStep = (toColor.r - fromColor.r) / gradientRange,
        gStep = (toColor.g - fromColor.g) / gradientRange,
        bStep = (toColor.b - fromColor.b) / gradientRange,
        aStep = (toColor.a - fromColor.a) / gradientRange,
        jump = Math.max(rect.left - fromX, 0);

    for (var y = 0; y < h; y++, pixIndex += yStride) {
        // The solid color section before the gradient
        var x = rect.left;

        for (var xEnd = Math.min(fromX, rect.right) | 0; x < xEnd; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] = fromColor.r;
            this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] = fromColor.g;
            this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] = fromColor.b;
            this.data[pixIndex + _CPColorBmp2['default'].ALPHA_BYTE_OFFSET] = fromColor.a;
        }

        // In the gradient
        var r = fromColor.r + rStep * jump,
            g = fromColor.g + gStep * jump,
            b = fromColor.b + bStep * jump,
            a = fromColor.a + aStep * jump;

        for (xEnd = Math.min(toX, rect.right) | 0; x < xEnd; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] = r;
            this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] = g;
            this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] = b;
            this.data[pixIndex + _CPColorBmp2['default'].ALPHA_BYTE_OFFSET] = a;

            r += rStep;
            g += gStep;
            b += bStep;
            a += aStep;
        }

        // The section after the end of the gradient
        for (; x < rect.right; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] = toColor.r;
            this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] = toColor.g;
            this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] = toColor.b;
            this.data[pixIndex + _CPColorBmp2['default'].ALPHA_BYTE_OFFSET] = toColor.a;
        }
    }
};

/**
 * Replace the pixels in the given rect with the given vertical gradient.
 *
 * @param {CPRect} rect
 * @param fromY int
 * @param toY int
 * @param gradientPoints int[]
 */
CPLayer.prototype.gradientVertReplace = function (rect, fromY, toY, gradientPoints) {
    var fromColor = {
        r: gradientPoints[0] >> 16 & 0xFF,
        g: gradientPoints[0] >> 8 & 0xFF,
        b: gradientPoints[0] & 0xFF,
        a: gradientPoints[0] >> 24 & 0xFF
    },
        toColor = {
        r: gradientPoints[1] >> 16 & 0xFF,
        g: gradientPoints[1] >> 8 & 0xFF,
        b: gradientPoints[1] & 0xFF,
        a: gradientPoints[1] >> 24 & 0xFF
    },
        yStride = (this.width - rect.getWidth()) * _CPColorBmp2['default'].BYTES_PER_PIXEL,
        pixIndex = this.offsetOfPixel(rect.left, rect.top) | 0,
        w = rect.right - rect.left | 0;

    if (toY < fromY) {
        var temp = toY;
        toY = fromY;
        fromY = temp;

        temp = fromColor;
        fromColor = toColor;
        toColor = temp;
    }

    var y = rect.top;

    // The solid color section before the start of the gradient
    for (var yEnd = Math.min(rect.bottom, fromY) | 0; y < yEnd; y++, pixIndex += yStride) {
        for (var x = 0; x < w; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] = fromColor.r;
            this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] = fromColor.g;
            this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] = fromColor.b;
            this.data[pixIndex + _CPColorBmp2['default'].ALPHA_BYTE_OFFSET] = fromColor.a;
        }
    }

    // Inside the gradient
    var gradientRange = toY - fromY | 0,
        rStep = (toColor.r - fromColor.r) / gradientRange,
        gStep = (toColor.g - fromColor.g) / gradientRange,
        bStep = (toColor.b - fromColor.b) / gradientRange,
        aStep = (toColor.a - fromColor.a) / gradientRange,
        jump = Math.max(y - fromY, 0),
        r = fromColor.r + rStep * jump,
        g = fromColor.g + gStep * jump,
        b = fromColor.b + bStep * jump,
        a = fromColor.a + aStep * jump;

    for (var yEnd = Math.min(rect.bottom, toY) | 0; y < yEnd; y++, pixIndex += yStride) {
        for (var x = 0; x < w; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] = r;
            this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] = g;
            this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] = b;
            this.data[pixIndex + _CPColorBmp2['default'].ALPHA_BYTE_OFFSET] = a;
        }

        r += rStep;
        g += gStep;
        b += bStep;
        a += aStep;
    }

    // The section after the end of the gradient
    for (; y < rect.bottom; y++, pixIndex += yStride) {
        for (var x = 0; x < w; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] = toColor.r;
            this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] = toColor.g;
            this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] = toColor.b;
            this.data[pixIndex + _CPColorBmp2['default'].ALPHA_BYTE_OFFSET] = toColor.a;
        }
    }
};

/**
 * Replace the pixels in the given rect with the given gradient.
 *
 * @param rect CPRect
 * @param fromX int
 * @param fromY int
 * @param toX int
 * @param toY int
 * @param gradientPoints int[]
 */
CPLayer.prototype.gradientReplace = function (rect, fromX, fromY, toX, toY, gradientPoints) {
    var yStride = (this.width - rect.getWidth()) * _CPColorBmp2['default'].BYTES_PER_PIXEL,
        pixIndex = this.offsetOfPixel(rect.left, rect.top) | 0,
        w = rect.right - rect.left | 0,
        fromColor = {
        r: gradientPoints[0] >> 16 & 0xFF,
        g: gradientPoints[0] >> 8 & 0xFF,
        b: gradientPoints[0] & 0xFF,
        a: gradientPoints[0] >> 24 & 0xFF
    },
        toColor = {
        r: gradientPoints[1] >> 16 & 0xFF,
        g: gradientPoints[1] >> 8 & 0xFF,
        b: gradientPoints[1] & 0xFF,
        a: gradientPoints[1] >> 24 & 0xFF
    },

    // How many pixels vertically does the gradient sequence complete over (+infinity for horizontal gradients!)
    vertRange = toY - fromY + (toX - fromX) * (toX - fromX) / (toY - fromY),

    // Same for horizontal
    horzRange = toX - fromX + (toY - fromY) * (toY - fromY) / (toX - fromX),
        horzStep = 1 / horzRange;

    for (var y = rect.top; y < rect.bottom; y++, pixIndex += yStride) {
        var
        // The position the row starts at in the gradient [0.0 ... 1.0)
        prop = (rect.left - fromX) / horzRange + (y - fromY) / vertRange;

        for (var x = 0; x < w; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            var propClamped = Math.min(Math.max(prop, 0.0), 1.0),
                invPropClamped = 1 - propClamped;

            this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] = fromColor.r * invPropClamped + toColor.r * propClamped;
            this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] = fromColor.g * invPropClamped + toColor.g * propClamped;
            this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] = fromColor.b * invPropClamped + toColor.b * propClamped;
            this.data[pixIndex + _CPColorBmp2['default'].ALPHA_BYTE_OFFSET] = fromColor.a * invPropClamped + toColor.a * propClamped;

            prop += horzStep;
        }
    }
};

/**
 * Alpha blend the given gradient onto the pixels in the given rect.
 *
 * @param rect CPRect
 * @param fromX int
 * @param fromY int
 * @param toX int
 * @param toY int
 * @param gradientPoints int[]
 */
CPLayer.prototype.gradientAlpha = function (rect, fromX, fromY, toX, toY, gradientPoints) {
    var yStride = (this.width - rect.getWidth()) * _CPColorBmp2['default'].BYTES_PER_PIXEL,
        pixIndex = this.offsetOfPixel(rect.left, rect.top) | 0,
        w = rect.right - rect.left | 0,
        fromColor = {
        r: gradientPoints[0] >> 16 & 0xFF,
        g: gradientPoints[0] >> 8 & 0xFF,
        b: gradientPoints[0] & 0xFF,
        a: gradientPoints[0] >> 24 & 0xFF
    },
        toColor = {
        r: gradientPoints[1] >> 16 & 0xFF,
        g: gradientPoints[1] >> 8 & 0xFF,
        b: gradientPoints[1] & 0xFF,
        a: gradientPoints[1] >> 24 & 0xFF
    },

    // How many pixels vertically does the gradient sequence complete over (+infinity for horizontal gradients!)
    vertRange = toY - fromY + (toX - fromX) * (toX - fromX) / (toY - fromY),

    // Same for horizontal
    horzRange = toX - fromX + (toY - fromY) * (toY - fromY) / (toX - fromX),
        horzStep = 1 / horzRange;

    for (var y = rect.top; y < rect.bottom; y++, pixIndex += yStride) {
        var
        // The position the row starts at in the gradient [0.0 ... 1.0)
        prop = (rect.left - fromX) / horzRange + (y - fromY) / vertRange;

        for (var x = 0; x < w; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            var propClamped = Math.min(Math.max(prop, 0.0), 1.0),
                invPropClamped = 1 - propClamped,

            // The gradient color to draw
            r = fromColor.r * invPropClamped + toColor.r * propClamped,
                g = fromColor.g * invPropClamped + toColor.g * propClamped,
                b = fromColor.b * invPropClamped + toColor.b * propClamped,
                a = fromColor.a * invPropClamped + toColor.a * propClamped,
                alpha2 = this.data[pixIndex + ALPHA_BYTE_OFFSET],
                newAlpha = a + alpha2 - a * alpha2 / 255 | 0;

            if (newAlpha > 0) {
                var realAlpha = a * 255 / newAlpha | 0,
                    invAlpha = 255 - realAlpha;

                this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] = (r * realAlpha + this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] * invAlpha) / 255 | 0;
                this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] = (g * realAlpha + this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] * invAlpha) / 255 | 0;
                this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] = (b * realAlpha + this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] * invAlpha) / 255 | 0;
                this.data[pixIndex + _CPColorBmp2['default'].ALPHA_BYTE_OFFSET] = newAlpha;
            }

            prop += horzStep;
        }
    }
};

/**
 * Draw a gradient which begins at fromX, fromY and ends at toX, toY, clipped to the given rect, on top of the
 * pixels in the layer.
 *
 * @param gradientPoints Array with gradient colors (ARGB integers)
 * @param rect CPRect
 * @param replace Set to true to replace the pixels in the layer rather than blending the gradient on top of them.
 */
CPLayer.prototype.gradient = function (rect, fromX, fromY, toX, toY, gradientPoints, replace) {
    rect = this.getBounds().clip(rect);

    // Degenerate case
    if (fromX == toX && fromY == toY) {
        return;
    }

    // Opaque blend if possible
    if (replace || gradientPoints[0] >>> 24 == 255 && gradientPoints[1] >>> 24 == 255) {
        if (fromX == toX) {
            this.gradientVertReplace(rect, fromY, toY, gradientPoints);
        } else if (fromY == toY) {
            this.gradientHorzReplace(rect, fromX, toX, gradientPoints);
        } else {
            this.gradientReplace(rect, fromX, fromY, toX, toY, gradientPoints);
        }
    } else {
        this.gradientAlpha(rect, fromX, fromY, toX, toY, gradientPoints);
    }
};

/**
 * @param r CPRect
 */
CPLayer.prototype.fillWithColorNoise = function (rect) {
    rect = this.getBounds().clip(rect);

    var value,
        yStride = (this.width - rect.getWidth()) * _CPColorBmp2['default'].BYTES_PER_PIXEL,
        pixIndex = this.offsetOfPixel(rect.left, rect.top);

    for (var y = rect.top; y < rect.bottom; y++, pixIndex += yStride) {
        for (var x = rect.left; x < rect.right; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            value = Math.random() * 0x1000000 | 0;

            this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] = value >> 16 & 0xFF;
            this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] = value >> 8 & 0xFF;
            this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] = value & 0xFF;
            this.data[pixIndex + _CPColorBmp2['default'].ALPHA_BYTE_OFFSET] = 0xFF;
        }
    }
};

/**
 * @param r CPRect
 */
CPLayer.prototype.invert = function (rect) {
    rect = this.getBounds().clip(rect);

    var yStride = (this.width - rect.getWidth()) * _CPColorBmp2['default'].BYTES_PER_PIXEL,
        pixIndex = this.offsetOfPixel(rect.left, rect.top);

    for (var y = rect.top; y < rect.bottom; y++, pixIndex += yStride) {
        for (var x = rect.left; x < rect.right; x++, pixIndex += _CPColorBmp2['default'].BYTES_PER_PIXEL) {
            this.data[pixIndex + _CPColorBmp2['default'].RED_BYTE_OFFSET] ^= 0xFF;
            this.data[pixIndex + _CPColorBmp2['default'].GREEN_BYTE_OFFSET] ^= 0xFF;
            this.data[pixIndex + _CPColorBmp2['default'].BLUE_BYTE_OFFSET] ^= 0xFF;
        }
    }
};

CPLayer.prototype.getAlpha = function () {
    return this.alpha;
};

CPLayer.prototype.getBlendMode = function () {
    return this.blendMode;
};

CPLayer.prototype.clone = function () {
    var result = new CPLayer(this.width, this.height, "");

    result.copyFrom(this);

    return result;
};

CPLayer.prototype.copyFrom = function (layer) {
    this.name = layer.name;
    this.blendMode = layer.blendMode;
    this.alpha = layer.alpha;
    this.visible = layer.visible;

    this.copyDataFrom(layer);
};

// Do we have any non-opaque pixels in the entire layer?
CPLayer.prototype.hasAlpha = function () {
    if (this.alpha != 100) {
        return true;
    }

    var pixIndex = ALPHA_BYTE_OFFSET;

    for (var y = 0; y < height; y++) {
        var alphaAnded = 0xFF;

        for (var x = 0; x < this.width; x++, pixIndex += BYTES_PER_PIXEL) {
            alphaAnded &= this.data[pixIndex];
        }

        // Only check once per row in order to reduce branching in the inner loop
        if (alphaAnded != 0xFF) {
            return true;
        }
    }

    return false;
};

// Do we have any semi-transparent pixels in the given rectangle?
CPLayer.prototype.hasAlphaInRect = function (rect) {
    if (this.alpha != 100) {
        return true;
    }

    rect = this.getBounds().clip(rect);

    var yStride = (this.width - rect.getWidth()) * BYTES_PER_PIXEL,
        pixIndex = this.offsetOfPixel(rect.left, rect.top) + ALPHA_BYTE_OFFSET;

    for (var y = rect.top; y < rect.bottom; y++, pixIndex += yStride) {
        var alphaAnded = 0xFF;

        for (var x = rect.left; x < rect.right; x++, pixIndex += BYTES_PER_PIXEL) {
            alphaAnded &= this.data[pixIndex];
        }

        // Only check once per row in order to reduce branching in the inner loop
        if (alphaAnded != 0xFF) {
            return true;
        }
    }

    return false;
};

/**
 * Get a rectangle that encloses any non-transparent pixels in the layer within the given initialBounds (or an empty
 * rect if the pixels inside the given bounds are 100% transparent).
 *
 * @param {CPRect} initialBounds - The rect to search within (pass getBounds() to search the whole layer)
 *
 * @returns {CPRect}
 */
CPLayer.prototype.getNonTransparentBounds = function (initialBounds) {
    var pixIndex,
        result = initialBounds.clone(),
        x,
        y,
        alphaOred,
        yStride;

    // Find the first non-transparent row
    yStride = (this.width - result.getWidth()) * BYTES_PER_PIXEL;
    pixIndex = this.offsetOfPixel(result.left, result.top) + ALPHA_BYTE_OFFSET;

    for (y = result.top; y < result.bottom; y++, pixIndex += yStride) {
        alphaOred = 0x00;

        for (var x = result.left; x < result.right; x++, pixIndex += BYTES_PER_PIXEL) {
            alphaOred |= this.data[pixIndex];
        }

        // Only check once per row in order to reduce branching in the inner loop
        if (alphaOred != 0x00) {
            break;
        }
    }

    result.top = y;

    if (result.top == result.bottom) {
        // Rect is empty, no opaque pixels in the initialBounds
        return result;
    }

    // Now the last non-transparent row
    pixIndex = this.offsetOfPixel(result.right - 1, result.bottom - 1) + ALPHA_BYTE_OFFSET;
    for (y = result.bottom - 1; y >= result.top; y--, pixIndex -= yStride) {
        alphaOred = 0x00;

        for (var x = result.right - 1; x >= result.left; x--, pixIndex -= BYTES_PER_PIXEL) {
            alphaOred |= this.data[pixIndex];
        }

        // Only check once per row in order to reduce branching in the inner loop
        if (alphaOred != 0x00) {
            break;
        }
    }

    result.bottom = y + 1; /* +1 since the bottom/right edges of the rect are exclusive */

    // Now columns from the left
    yStride = BYTES_PER_PIXEL * this.width;
    for (x = result.left; x < result.right; x++) {
        pixIndex = this.offsetOfPixel(x, result.top) + ALPHA_BYTE_OFFSET;
        alphaOred = 0x00;

        for (y = result.top; y < result.bottom; y++, pixIndex += yStride) {
            alphaOred |= this.data[pixIndex];
        }

        if (alphaOred != 0x00) {
            break;
        }
    }

    result.left = x;

    // And columns from the right
    for (x = result.right - 1; x >= result.left; x--) {
        pixIndex = this.offsetOfPixel(x, result.top) + ALPHA_BYTE_OFFSET;
        alphaOred = 0x00;

        for (y = result.top; y < result.bottom; y++, pixIndex += yStride) {
            alphaOred |= this.data[pixIndex];
        }

        if (alphaOred != 0x00) {
            break;
        }
    }

    result.right = x + 1;

    return result;
};

CPLayer.prototype.setAlpha = function (alpha) {
    this.alpha = alpha;
};

CPLayer.prototype.setBlendMode = function (blendMode) {
    this.blendMode = blendMode;
};

CPLayer.prototype.getAlpha = function () {
    return this.alpha;
};

CPLayer.prototype.getBlendMode = function () {
    return this.blendMode;
};

/**
 * Returns a new canvas with a rotated version of the given canvas.
 * 
 * Rotation is [0..3] and selects a multiple of 90 degrees of clockwise rotation to be applied.
 */
function getRotatedCanvas(canvas, rotation) {
    rotation = rotation % 4;

    if (rotation == 0) {
        return canvas;
    }

    var rotatedCanvas = document.createElement("canvas"),
        rotatedCanvasContext = rotatedCanvas.getContext("2d");

    if (rotation % 2 == 0) {
        rotatedCanvas.width = canvas.width;
        rotatedCanvas.height = canvas.height;
    } else {
        rotatedCanvas.width = canvas.height;
        rotatedCanvas.height = canvas.width;
    }

    switch (rotation) {
        case 1:
            // 90 degree clockwise:
            rotatedCanvasContext.rotate(Math.PI / 2);
            rotatedCanvasContext.drawImage(canvas, 0, -canvas.height);
            break;
        case 2:
            rotatedCanvasContext.rotate(Math.PI);
            rotatedCanvasContext.drawImage(canvas, -canvas.width, -canvas.height);
            break;
        case 3:
            // 90 degree counter-clockwise:
            rotatedCanvasContext.rotate(-Math.PI / 2);
            rotatedCanvasContext.drawImage(canvas, -canvas.width, 0);
            break;
        case 0:
        default:
            return canvas;
    }

    return rotatedCanvas;
}

function decodeBase64PNGDataURL(url) {
    if (typeof url !== "string" || !url.match(/^data:image\/png;base64,/i)) {
        return false;
    }

    return window.atob(url.substring("data:image\/png;base64,".length));
}

/**
 * Get the layer as a PNG image.
 * 
 * Rotation is [0..3] and selects a multiple of 90 degrees of clockwise rotation to be applied, or 0 to leave
 * unrotated.
 */
CPLayer.prototype.getAsPNG = function (rotation) {
    var canvas = document.createElement("canvas"),
        canvasContext = canvas.getContext("2d");

    // First draw our image data onto a canvas...
    canvas.width = this.imageData.width;
    canvas.height = this.imageData.height;

    canvasContext.putImageData(this.imageData, 0, 0);

    // Rotate it if needed
    canvas = getRotatedCanvas(canvas, rotation || 0);

    return decodeBase64PNGDataURL(canvas.toDataURL('image/png'));
};
module.exports = exports['default'];

},{"./CPBlend":4,"./CPColorBmp":9}],12:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPLookUpTable;

function CPLookUpTable() {
    this.table = new Uint8Array(256);

    this.loadIdentity = function () {
        for (var i = 0; i < 256; i++) {
            this.table[i] = i;
        }
    };

    this.loadBrightnessContrast = function (brightness, contrast) {
        var slope = contrast > 0.0 ? 1.0 / (1.0001 - contrast) : 1.0 + contrast,
            offset = 0.5 - slope * 0.5 + brightness;

        for (var i = 0; i < 256; i++) {
            var x = i / 255.0,
                y = x * slope + offset;

            this.table[i] = Math.min(255, Math.max(~ ~(y * 255.0), 0));
        }
    };

    this.invert = function () {
        for (var i = 0; i < 256; i++) {
            this.table[i] = 255 - this.table[i];
        }
    };
}

module.exports = exports["default"];

},{}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPResourceLoader;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _CPChibiFile = require("./CPChibiFile");

var _CPChibiFile2 = _interopRequireDefault(_CPChibiFile);

var _CPArtwork = require("./CPArtwork");

var _CPArtwork2 = _interopRequireDefault(_CPArtwork);

var _CPLayer = require("./CPLayer");

var _CPLayer2 = _interopRequireDefault(_CPLayer);

var _utilAdobeColorTable = require("../util/AdobeColorTable");

var _utilAdobeColorTable2 = _interopRequireDefault(_utilAdobeColorTable);

/**
 * Loads ChickenPaint resources from a remote server and emits progress events.
 *
 * loadImageURL - URL of PNG/JPEG image to load for editing (optional)
 * loadChibiFileURL - URL of .chi file to load for editing (optional). Used in preference to loadImage.
 * loadSwatchesURL - URL of an .aco palette to load (optional)
 */

function CPResourceLoader(options) {
    var resources = [],
        completed = {},
        that = this;

    if (options.loadChibiFileUrl && ("" + options.loadChibiFileUrl).length > 0) {
        resources.push({
            url: options.loadChibiFileUrl,
            friendly: "drawing layers",
            name: "layers",
            required: true
        });
    } else {
        if (options.loadImageUrl && ("" + options.loadImageUrl).length > 0) {
            resources.push({
                url: options.loadImageUrl,
                friendly: "drawing",
                name: "flat",
                required: true
            });
        }
    }

    if (options.loadSwatchesUrl) {
        resources.push({
            url: options.loadSwatchesUrl,
            friendly: "color swatches",
            name: "swatches",
            required: false,
            noProgress: true // So short that we may as well keep the smoothie drained
        });
    }

    function decodeResource(resource, resourceData) {
        return new Promise(function (resolve, reject) {
            switch (resource.name) {
                case "flat":
                    var blob = new Blob([resourceData], { type: "image/png" }),
                        imageUrl = window.URL.createObjectURL(blob);

                    if (imageUrl) {
                        var image = new Image();

                        image.onload = function () {
                            var artwork = new _CPArtwork2["default"](this.width, this.height),
                                layer = new _CPLayer2["default"](this.width, this.height, "Layer 1");

                            layer.loadFromImage(image);
                            artwork.addLayerObject(layer);

                            image = null;
                            window.URL.revokeObjectURL(imageUrl);

                            resolve(artwork);
                        };

                        image.src = imageUrl;
                    } else {
                        resolve(null);
                    }
                    break;
                case "swatches":
                    var reader = new _utilAdobeColorTable2["default"](),
                        colors = reader.read(resourceData);

                    resolve(colors);
                    break;
                case "layers":
                    var reader = new _CPChibiFile2["default"](),
                        artwork = reader.read(resourceData);

                    resolve(artwork);
                    break;
                default:
                    resolve(null);
                    break;
            }
        });
    }

    function reportProgress(resource, progress) {
        if (progress === null) {
            that.emitEvent("loadingProgress", [1.0, "Loading your " + resource.friendly + "..."]);
        } else {
            that.emitEvent("loadingProgress", [progress, "Loading your " + resource.friendly + " (" + Math.round(progress * 100) + "%)..."]);
        }
    }

    this.load = function () {
        if (resources.length == 0) {
            that.emitEvent("loadingComplete", [completed]);
            return;
        }

        var resource = resources.shift(),
            xhr = new XMLHttpRequest();

        xhr.addEventListener("progress", function (evt) {
            var progress;

            if (evt.lengthComputable && !resource.noProgress) {
                progress = evt.loaded / evt.total;
            } else {
                progress = null;
            }

            reportProgress(resource, progress);
        }, false);

        function handleFatal() {
            if (resource.required) {
                that.emitEvent("loadingFailure", ["Failed to load your " + resource.friendly + ", please try again later."]);
            } else {
                // Skip unimportant resources
                that.load();
            }
        }

        xhr.addEventListener("load", function (evt) {
            if (this.status == 200) {
                var response = this.response;

                that.emitEvent("loadingProgress", [1.0, "Starting ChickenPaint..."]);

                // Yield to the DOM to give it a chance to paint the loaded message before we begin decoding
                setTimeout(function () {
                    decodeResource(resource, response).then(function (decoded) {
                        if (decoded) {
                            completed[resource.name] = decoded;

                            // Move on to the next file
                            that.load();
                        } else {
                            that.emitEvent("loadingFailure", ["Failed to read your " + resource.friendly]);
                        }
                    });
                }, 0);
            } else {
                handleFatal();
            }
        }, false);

        xhr.addEventListener("error", handleFatal);

        reportProgress(resource, resource.noProgress ? null : 0.0);

        xhr.open("GET", resource.url, true);

        xhr.responseType = 'arraybuffer';

        xhr.send();
    };
}

CPResourceLoader.prototype = Object.create(EventEmitter.prototype);
CPResourceLoader.prototype.constructor = CPResourceLoader;
module.exports = exports["default"];

},{"../util/AdobeColorTable":44,"./CPArtwork":2,"./CPChibiFile":7,"./CPLayer":11}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.binaryStringToByteArray = binaryStringToByteArray;
exports["default"] = CPResourceSaver;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _CPChibiFile = require("./CPChibiFile");

var _CPChibiFile2 = _interopRequireDefault(_CPChibiFile);

var _CPArtwork = require("./CPArtwork");

var _CPArtwork2 = _interopRequireDefault(_CPArtwork);

var _utilAdobeColorTable = require("../util/AdobeColorTable");

var _utilAdobeColorTable2 = _interopRequireDefault(_utilAdobeColorTable);

/**
 * We generally can't do much with binary strings because various methods will try to UTF-8 mangle them.
 * This function converts such a string to a Uint8Array instead.
 */

function binaryStringToByteArray(s) {
    var result = new Uint8Array(s.length);

    for (var i = 0; i < s.length; i++) {
        result[i] = s.charCodeAt(i);
    }

    return result;
}

/**
 * Saves ChickenPaint resources to a remote server or to the disk and emits progress events.
 *
 * Options:
 *     url - URL to send to. If omitted, will save to the disk instead.
 *     artwork - Artwork to send
 *     rotation - Integer [0..3] of the number of 90 degree rotation steps that should be applied to canvas upon opening.
 *     swatches - Array of ARGB integer colors to save as the image swatches (optional)
 */

function CPResourceSaver(options) {
    var that = this,
        cancelled = false;

    options.rotation = options.rotation || 0;

    function reportProgress(progress) {
        if (progress === null) {
            that.emitEvent("savingProgress", [1.0, "Saving your drawing to the server..."]);
        } else {
            that.emitEvent("savingProgress", [progress, "Saving your drawing to the server...  (" + Math.round(progress * 100) + "%)"]);
        }
    }

    function reportFatal(serverMessage) {
        that.emitEvent("savingFailure", [serverMessage]);
    }

    function postDrawing(formData) {
        var xhr = new XMLHttpRequest();

        xhr.upload.addEventListener("progress", function (evt) {
            var progress;

            if (evt.lengthComputable) {
                progress = evt.loaded / evt.total;
            } else {
                progress = null;
            }

            reportProgress(progress);
        }, false);

        xhr.addEventListener("load", function (evt) {
            reportProgress(1.0);

            if (this.status == 200 && /^CHIBIOK/.test(this.response)) {
                that.emitEvent("savingComplete");
            } else {
                reportFatal(this.response);
            }
        }, false);

        xhr.addEventListener("error", function () {
            reportFatal(this.response);
        }, false);

        reportProgress(0);

        xhr.open("POST", options.url, true);

        xhr.responseType = "text";

        xhr.send(formData);
    }

    /**
     * Begin saving the data provided in the constructor. Returns immediately, and fires these events to report the
     * saving progress:
     * 
     * savingProgress(progress) - Progress is [0.0 ... 1.0] and reports how much has uploaded so far, or null if the 
     *                            total progress could not be determined.
     * savingFailure(error)     - When saving fails, along with a string error message to display to the user. 
     * savingComplete()         - When saving completes succesfully
     */
    this.save = function () {
        var flat, flatBlob, swatchesBlob;

        flat = binaryStringToByteArray(options.artwork.getFlatPNG(options.rotation));
        flatBlob = new Blob([flat], { type: "image/png" });
        flat = null; // Don't need this any more

        var serializeLayers;

        if (false) {
            serializeLayers = Promise.resolve(null);
        } else {
            serializeLayers = new _CPChibiFile2["default"]().serialize(options.artwork);
        }

        serializeLayers.then(function (chibiBlob) {
            if (cancelled) {
                that.emitEvent("savingFailure");
                return;
            }

            if (options.swatches) {
                var aco = new _utilAdobeColorTable2["default"]();

                swatchesBlob = new Blob([aco.write(options.swatches)], { type: "application/octet-stream" });
            } else {
                swatchesBlob = null;
            }

            if (options.url) {
                var marker = "This marker ensures the upload wasn't truncated",
                    formData = new FormData();

                formData.append("beginMarker", marker);

                formData.append("picture", flatBlob);
                flatBlob = null;

                if (chibiBlob) {
                    formData.append("chibifile", chibiBlob);
                    chibiBlob = null;

                    // Layers will need to be rotated upon opening
                    formData.append("rotation", "" + options.rotation);
                } else {
                    /*
                     * Because the image is a flat PNG, we rotate it before we saved it and it doesn't need further
                     * rotation upon opening.
                     */
                    formData.append("rotation", "0");
                }

                if (swatchesBlob) {
                    formData.append("swatches", swatchesBlob);
                    swatchesBlob = null;
                }

                formData.append("endMarker", marker);

                postDrawing(formData);
            } else {
                window.saveAs(flatBlob, "oekaki.png");

                if (chibiBlob) {
                    window.saveAs(chibiBlob, "oekaki.chi");
                }
                if (swatchesBlob) {
                    window.saveAs(swatchesBlob, "oekaki.aco");
                }
            }
        });
    };

    this.cancel = function () {
        cancelled = true;
    };
}

CPResourceSaver.prototype = Object.create(EventEmitter.prototype);
CPResourceSaver.prototype.constructor = CPResourceSaver;

},{"../util/AdobeColorTable":44,"./CPArtwork":2,"./CPChibiFile":7}],15:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPUndo;

function CPUndo() {}

/**
 * Attempt to merge the given undo into this one, and return true if successful.
 *
 * @param undo
 * @returns {boolean}
 */
CPUndo.prototype.merge = function (undo) {
    return false;
};

/**
 * Return true if this undo didn't modify the document.
 *
 * @returns {boolean}
 */
CPUndo.prototype.noChange = function () {
    return false;
};

/**
 * Return the number of bytes of memory used by this undo, or 0 if it cannot be estimated.
 *
 * @param undone
 * @param param
 * @returns {number}
 */
CPUndo.prototype.getMemoryUsed = function (undone, param) {
    return 0;
};

/**
 * Call when this undo is no longer on the top of the stack, so it can optimize its memory usage.
 */
CPUndo.prototype.compact = function () {};
module.exports = exports["default"];

},{}],16:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPAboutDialog;

function CPAboutDialog(parent) {
    var dialog = $("<div class=\"modal fade chickenpaint-about-dialog\" tabindex=\"-1\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            <h4 class=\"modal-title\">About ChickenPaint</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                            <p>\n                                This app is adapted from ChickenPaint, a translation of <a href=\"http://www.chibipaint.com/\" target=\"_blank\">ChibiPaint</a>\n                                from Java to JavaScript by Nicholas Sherlock / Chicken Smoothie\n                            </p>\n                            <p>\n                                ChibiPaint is Copyright (c) 2006-2008 Marc Schefer. All Rights Reserved\n                            </p>\n                            <p>\n                                ChickenPaint is free software: you can redistribute it and/or modify\n                                it under the terms of the GNU General Public License as published by\n                                the Free Software Foundation, either version 3 of the License, or\n                                (at your option) any later version.\n                            </p>\n        \n                            <p>\n\n                                <a target=\"_blank\" href=\"http://www.gnu.org/licenses/\">GNU General Public License</a>\n                            </p>\n        \n                            <pre class=\"pre-scrollable chickenpaint-third-party-licenses\">Includes icons from the <a href=\"http://tango.freedesktop.org/\" target=\"_blank\">Tango Desktop Project</a>\n\nIncludes these MIT-licensed libraries:\n\n    Includes the <a target=\"_blank\" href=\"https://github.com/eligrey/FileSaver.js\">FileSaver.js library</a>\n    FileSaver.js Copyright © 2015 <a target=\"_blank\" href=\"http://eligrey.com/\">Eli Grey</a>\n\n    Includes the <a target=\"_blank\" href=\"https://github.com/nodeca/pako\">Pako zlib compression library</a>\n    Copyright (C) 2014-2015 by Vitaly Puzrin\n    \n    Includes the <a target=\"_blank\" href=\"https://github.com/madrobby/keymaster\">keymaster.js</a> keyboard library\n    Copyright (c) 2011-2013 Thomas Fuchs\n\n    Includes the <a target=\"_blank\" href=\"https://github.com/stefanpenner/es6-promise\">es6-promise</a> library\n    Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n\n    Includes the <a target=\"_blank\" href=\"http://benalman.com/projects/jquery-throttle-debounce-plugin/\">jQuery throttle-debounce</a> library\n    Copyright (c) 2010 \"Cowboy\" Ben Alman\n\n    Permission is hereby granted, free of charge, to any person\n    obtaining a copy of this software and associated documentation\n    files (the \"Software\"), to deal in the Software without\n    restriction, including without limitation the rights to use,\n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n\n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT \n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n\nIncludes the <a href=\"http://www.jquery.com/\" target=\"_blank\">JQuery library</a>\nCopyright <a href=\"https://jquery.org/\" target=\"_blank\">jQuery Foundation and other contributors</a>\n    \n    This software consists of voluntary contributions made by many\n    individuals. For exact contribution history, see the revision \n    history available at https://github.com/jquery/jquery\n    \n    The following license applies to all parts of this software \n    except as documented below:\n    \n    Permission is hereby granted, free of charge, to any person \n    obtaining a copy of this software and associated documentation\n    files (the \"Software\"), to deal in the Software without\n    restriction, including without limitation the rights to use, \n    copy, modify, merge, publish, distribute, sublicense, and/or\n    sell copies of the Software, and to permit persons to whom the\n    Software is furnished to do so, subject to the following\n    conditions:\n    \n    The above copyright notice and this permission notice shall be\n    included in all copies or substantial portions of the Software.\n    \n    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n    OTHER DEALINGS IN THE SOFTWARE.\n                    </pre>\n                </div>\n            </div>\n        </div>\n    ");

    // Destroy the modal upon close
    dialog.on("hidden.bs.modal", function (e) {
        dialog.remove();
    });

    dialog.modal({
        show: false
    });

    // Fix the backdrop location in the DOM by reparenting it to the chickenpaint container
    dialog.data("bs.modal").$body = $(parent);

    parent.appendChild(dialog[0]);

    this.show = function () {
        dialog.modal("show");
    };
}

module.exports = exports["default"];

},{}],17:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPBoxBlurDialog;

function CPBoxBlurDialog(parent, controller) {
    var dialog = $("<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            <h4 class=\"modal-title\">Box blur</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                            <form>\n                                <div class=\"form-group\">\n                                    <label>Blur amount (pixels)</label>\n                                    <input type=\"text\" class=\"form-control chickenpaint-blur-amount\" value=\"3\">\n                                </div>\n                                <div class=\"form-group\">\n                                    <label>Iterations (1-8, larger gives smoother blur)</label>\n                                    <input type=\"text\" class=\"form-control chickenpaint-blur-iterations\" value=\"1\">\n                                </div>\n                            </form>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancel</button>\n                            <button type=\"button\" class=\"btn btn-primary chickenpaint-apply-box-blur\" data-dismiss=\"modal\">Ok</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        "),
        blurAmountElem = $(".chickenpaint-blur-amount", dialog),
        blurIterationsElem = $(".chickenpaint-blur-iterations", dialog),
        applyButton = $(".chickenpaint-apply-box-blur", dialog);

    this.show = function () {
        dialog.modal("show");
    };

    applyButton.click(function (e) {
        var blur = Math.max(parseInt(blurAmountElem.val(), 10), 1),
            iterations = Math.min(Math.max(parseInt(blurIterationsElem.val(), 10), 1), 8);

        controller.getArtwork().boxBlur(blur, blur, iterations);
    });

    dialog.modal({
        show: false
    }).on('shown.bs.modal', function () {
        blurAmountElem.focus();
    }).on('keypress', function (e) {
        if (e.keyCode == 13) {
            applyButton.click();
        }
    });

    // Fix the backdrop location in the DOM by reparenting it to the chickenpaint container
    dialog.data("bs.modal").$body = $(parent);

    parent.appendChild(dialog[0]);

    /* TODO
    panel.add(new JLabel("Blur amount:"));
    SpinnerModel blurXSM = new SpinnerNumberModel(3, 1, 100, 1);
    
    panel.add(new JLabel("Iterations:"));
    SpinnerModel iterSM = new SpinnerNumberModel(1, 1, 8, 1);
    */
}

module.exports = exports["default"];

},{}],18:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPBrushPalette;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _ChickenPaint = require("../ChickenPaint");

var _ChickenPaint2 = _interopRequireDefault(_ChickenPaint);

var _CPPalette = require("./CPPalette");

var _CPPalette2 = _interopRequireDefault(_CPPalette);

var _CPCheckbox = require("./CPCheckbox");

var _CPCheckbox2 = _interopRequireDefault(_CPCheckbox);

var _CPColorSwatch = require("./CPColorSwatch");

var _CPColorSwatch2 = _interopRequireDefault(_CPColorSwatch);

var _CPSlider = require("./CPSlider");

var _CPSlider2 = _interopRequireDefault(_CPSlider);

var _CPGUIUtils = require("./CPGUIUtils");

var _engineCPLayer = require("../engine/CPLayer");

var _engineCPLayer2 = _interopRequireDefault(_engineCPLayer);

var _utilCPColor = require("../util/CPColor");

var _utilCPColor2 = _interopRequireDefault(_utilCPColor);

var _utilCPPolyfill = require("../util/CPPolyfill");

function sliderCheckboxGroup(checkbox, slider) {
    var group = document.createElement("div");

    group.className = "chickenpaint-checkbox-slider-group";

    group.appendChild(checkbox.getElement());
    group.appendChild(slider.getElement());

    return group;
}

function fillCombobox(combo, optionNames) {
    for (var key in optionNames) {
        var option = document.createElement("option");

        option.appendChild(document.createTextNode(optionNames[key]));
        option.value = key;

        combo.appendChild(option);
    }
}

function CPGradientPreview(controller) {
    var that = this,
        w = 150,
        h = 32,
        canvas = document.createElement("canvas"),
        canvasContext = canvas.getContext("2d"),
        checkerboard = (0, _CPGUIUtils.createCheckerboardPattern)(canvasContext),
        image = new _engineCPLayer2["default"](w, h, ""),
        imageCanvas = document.createElement("canvas"),
        imageCanvasContext = imageCanvas.getContext("2d"),
        gradient = controller.getCurGradient();

    function paint() {
        image.gradient(image.getBounds(), 0, 0, image.width, 0, gradient, true);
        imageCanvasContext.putImageData(image.imageData, 0, 0, 0, 0, w, h);

        canvasContext.fillRect(0, 0, canvas.width, canvas.height);
        canvasContext.drawImage(imageCanvas, 0, 0);
    }

    this.getElement = function () {
        return canvas;
    };

    controller.on("gradientChange", function (_gradient) {
        gradient = _gradient;

        paint();
    });

    canvas.width = imageCanvas.width = w;
    canvas.height = imageCanvas.height = h;

    canvas.className = 'chickenpaint-gradient-preview';

    canvasContext.fillStyle = checkerboard;

    paint();
}

function CPBrushPalette(controller) {
    _CPPalette2["default"].call(this, controller, "brush", "Tool options");

    var brushPanel = new CPBrushPanel(controller),
        gradientPanel = new CPGradientPanel(controller),
        transformPanel = new CPTransformPanel(controller),
        body = this.getBodyElement();

    body.appendChild(brushPanel.getElement());
    body.appendChild(gradientPanel.getElement());
    body.appendChild(transformPanel.getElement());

    controller.on('modeChange', function (mode) {
        brushPanel.getElement().style.display = "none";
        gradientPanel.getElement().style.display = "none";
        transformPanel.getElement().style.display = "none";

        switch (mode) {
            case _ChickenPaint2["default"].M_GRADIENTFILL:
                gradientPanel.getElement().style.display = "block";
                break;
            case _ChickenPaint2["default"].M_TRANSFORM:
                transformPanel.getElement().style.display = "block";
                break;
            default:
                brushPanel.getElement().style.display = "block";
                break;
        }
    });
}

CPBrushPalette.prototype = Object.create(_CPPalette2["default"].prototype);
CPBrushPalette.prototype.constructor = CPBrushPalette;

function CPBrushPanel(controller) {
    var TIP_NAMES = ["Round Pixelated", "Round Hard Edge", "Round Soft", "Square Pixelated", "Square Hard Edge"],
        BRUSH_SIZES = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 15, 20, 25, 30, 35, 40, 45, 50, 60, 70, 80, 90, 100, 125, 150, 175, 200];

    var panel = document.createElement("div"),
        tipCombo = document.createElement("select"),
        alphaCB = new _CPCheckbox2["default"](false, "Control brush opacity with pen pressure"),
        alphaSlider = new _CPSlider2["default"](1, 255),
        sizeCB = new _CPCheckbox2["default"](true, "Control brush size with pen pressure"),
        sizeSlider = new _CPSlider2["default"](1, 200, false, true),
        scatteringCB = new _CPCheckbox2["default"](false, "Control brush scattering with pen pressure"),
        scatteringSlider = new _CPSlider2["default"](0, 1000, false, true),
        resatSlider = new _CPSlider2["default"](0, 100, false, true),
        bleedSlider = new _CPSlider2["default"](0, 100, false, true),
        spacingSlider = new _CPSlider2["default"](0, 100, false, true),
        smoothingSlider = new _CPSlider2["default"](0, 100, false, true),
        brushPreview = new CPBrushPalette.CPBrushPreview(controller);

    function fillWithInitialValues() {
        alphaCB.setValue(controller.getBrushInfo().pressureAlpha);
        alphaSlider.setValue(controller.getAlpha());

        sizeCB.setValue(controller.getBrushInfo().pressureSize);
        sizeSlider.setValue(controller.getBrushSize());

        scatteringCB.setValue(controller.getBrushInfo().pressureScattering);
        scatteringSlider.setValue(~ ~(controller.getBrushInfo().scattering * 100));

        tipCombo.value = controller.getBrushInfo().type;

        resatSlider.setValue(~ ~(controller.getBrushInfo().resat * 100));
        bleedSlider.setValue(~ ~(controller.getBrushInfo().bleed * 100));
        spacingSlider.setValue(~ ~(controller.getBrushInfo().spacing * 100));
        smoothingSlider.setValue(~ ~(controller.getBrushInfo().smoothing * 100));
    }

    this.getElement = function () {
        return panel;
    };

    alphaSlider.title = function (value) {
        return "Opacity: " + value;
    };

    alphaSlider.on('valueChange', function (value) {
        controller.setAlpha(value);
    });

    sizeSlider.title = function (value) {
        return "Brush size: " + value;
    };

    sizeSlider.on('valueChange', function (value) {
        controller.setBrushSize(value);
    });

    resatSlider.title = function (value) {
        return "Color: " + value + "%";
    };

    resatSlider.on('valueChange', function (value) {
        controller.getBrushInfo().resat = value / 100.0;
        controller.callToolListeners();
    });

    bleedSlider.title = function (value) {
        return "Blend: " + value + "%";
    };

    bleedSlider.on('valueChange', function (value) {
        controller.getBrushInfo().bleed = value / 100.0;
        controller.callToolListeners();
    });

    spacingSlider.title = function (value) {
        return "Spacing: " + value + "%";
    };

    spacingSlider.on('valueChange', function (value) {
        controller.getBrushInfo().spacing = value / 100.0;
        controller.callToolListeners();
    });

    scatteringSlider.title = function (value) {
        return "Scattering: " + value + "%";
    };

    scatteringSlider.on('valueChange', function (value) {
        controller.getBrushInfo().scattering = value / 100.0;
        controller.callToolListeners();
    });

    smoothingSlider.title = function (value) {
        return "Smoothing: " + value + "%";
    };

    smoothingSlider.on('valueChange', function (value) {
        controller.getBrushInfo().smoothing = value / 100.0;
        controller.callToolListeners();
    });

    scatteringCB.on('valueChange', function (state) {
        controller.getBrushInfo().pressureScattering = state;
        controller.callToolListeners();
    });

    alphaCB.on('valueChange', function (state) {
        controller.getBrushInfo().pressureAlpha = state;
        controller.callToolListeners();
    });

    sizeCB.on('valueChange', function (state) {
        controller.getBrushInfo().pressureSize = state;
        controller.callToolListeners();
    });

    tipCombo.addEventListener("change", function (e) {
        controller.getBrushInfo().type = parseInt(tipCombo.value, 10);
    });

    tipCombo.className = 'form-control';
    fillCombobox(tipCombo, TIP_NAMES);

    panel.appendChild(tipCombo);

    panel.appendChild(brushPreview.getElement());

    panel.appendChild(sliderCheckboxGroup(sizeCB, sizeSlider));
    panel.appendChild(sliderCheckboxGroup(alphaCB, alphaSlider));
    panel.appendChild(resatSlider.getElement());
    panel.appendChild(bleedSlider.getElement());
    panel.appendChild(spacingSlider.getElement());
    panel.appendChild(sliderCheckboxGroup(scatteringCB, scatteringSlider));
    panel.appendChild(smoothingSlider.getElement());

    fillWithInitialValues();

    controller.on('toolChange', function (tool, toolInfo) {
        alphaSlider.setValue(toolInfo.alpha);
        sizeSlider.setValue(toolInfo.size);
        sizeCB.setValue(toolInfo.pressureSize);
        alphaCB.setValue(toolInfo.pressureAlpha);
        tipCombo.value = toolInfo.type;
        scatteringCB.setValue(toolInfo.pressureScattering);

        if (~ ~(toolInfo.resat * 100.0) != resatSlider.value) {
            resatSlider.setValue(~ ~(toolInfo.resat * 100.0));
        }

        if (~ ~(toolInfo.bleed * 100.0) != bleedSlider.value) {
            bleedSlider.setValue(~ ~(toolInfo.bleed * 100.0));
        }

        if (~ ~(toolInfo.spacing * 100.0) != spacingSlider.value) {
            spacingSlider.setValue(~ ~(toolInfo.spacing * 100.0));
        }

        if (~ ~(toolInfo.scattering * 100.0) != scatteringSlider.value) {
            scatteringSlider.setValue(~ ~(toolInfo.scattering * 100.0));
        }

        if (~ ~(toolInfo.smoothing * 100.0) != smoothingSlider.value) {
            smoothingSlider.setValue(~ ~(toolInfo.smoothing * 100.0));
        }
    });

    key("1,2,3,4,5,6,7,8,9,0", function (event, handler) {
        var shortcut = parseInt(handler.shortcut, 10);

        if (shortcut == 0) {
            shortcut = 10;
        }

        controller.setAlpha(Math.round(shortcut / 10 * 255));
    });

    key("{,[", function () {
        var size = controller.getBrushSize();

        for (var i = BRUSH_SIZES.length - 1; i >= 0; i--) {
            if (size > BRUSH_SIZES[i]) {
                controller.setBrushSize(BRUSH_SIZES[i]);
                break;
            }
        }
    });

    key("},]", function () {
        var size = controller.getBrushSize();

        for (var i = 0; i < BRUSH_SIZES.length; i++) {
            if (size < BRUSH_SIZES[i]) {
                controller.setBrushSize(BRUSH_SIZES[i]);
                break;
            }
        }
    });
}

CPBrushPalette.CPBrushPreview = function (controller) {
    var size = 16,
        canvas = document.createElement("canvas"),
        canvasContext = canvas.getContext("2d"),
        mouseCaptured = false;

    function paint() {
        canvasContext.clearRect(0, 0, canvas.width, canvas.height);

        canvasContext.beginPath();
        canvasContext.arc(canvas.width / 2, canvas.height / 2, size / 2 * window.devicePixelRatio, 0, Math.PI * 2);
        canvasContext.stroke();
    }

    function handleMouseDrag(e) {
        var offset = $(canvas).offset(),
            pt = { x: e.pageX - offset.left, y: e.pageY - offset.top },
            x = pt.x - $(canvas).width() / 2,
            y = pt.y - $(canvas).height() / 2,
            newSize = Math.round(Math.sqrt(x * x + y * y) * 2);

        size = Math.max(1, Math.min(200, newSize));

        paint();
        controller.setBrushSize(size);
    }

    function handleMouseUp(e) {
        if (mouseCaptured) {
            mouseCaptured = false;
            window.removeEventListener('mouseup', handleMouseUp);
            window.removeEventListener('mousemove', handleMouseDrag);
        }
    }

    this.getElement = function () {
        return canvas;
    };

    canvas.addEventListener('mousedown', function (e) {
        if (!mouseCaptured) {
            mouseCaptured = true;

            window.addEventListener('mouseup', handleMouseUp);
            window.addEventListener('mousemove', handleMouseDrag);

            handleMouseDrag(e);
        }
    });

    controller.on("toolChange", function (tool, toolInfo) {
        if (toolInfo.size != size) {
            size = toolInfo.size;
            paint();
        }
    });

    canvas.width = 64;
    canvas.height = 64;

    if (window.devicePixelRatio > 1) {
        canvas.style.width = canvas.width + 'px';
        canvas.style.height = canvas.height + 'px';

        canvas.width = canvas.width * window.devicePixelRatio;
        canvas.height = canvas.height * window.devicePixelRatio;
    }

    canvas.className = 'chickenpaint-brush-preview';

    canvasContext.strokeStyle = 'black';
    canvasContext.lineWidth = 1.0 * window.devicePixelRatio;

    paint();
};

function CPGradientPanel(controller) {
    var gradientPanel = document.createElement("div"),
        gradientPreview = new CPGradientPreview(controller),
        gradientStartSwatch = new _CPColorSwatch2["default"](new _utilCPColor2["default"](controller.getCurGradient()[0] & 0xFFFFFF)),
        gradientEndSwatch = new _CPColorSwatch2["default"](new _utilCPColor2["default"](controller.getCurGradient()[1] & 0xFFFFFF));

    function updateGradient() {
        var gradient = new Array(2);

        gradient[0] = gradientStartSwatch.getAlpha() << 24 | gradientStartSwatch.getColorRgb();
        gradient[1] = gradientEndSwatch.getAlpha() << 24 | gradientEndSwatch.getColorRgb();

        controller.setCurGradient(gradient);
    }

    this.getElement = function () {
        return gradientPanel;
    };

    gradientPanel.className = "chickenpaint-gradient-panel";
    gradientPanel.style.display = "none";

    gradientStartSwatch.on("colorChange", updateGradient);
    gradientStartSwatch.on("alphaChange", updateGradient);
    gradientEndSwatch.on("colorChange", updateGradient);
    gradientEndSwatch.on("alphaChange", updateGradient);

    var title, colorsGroup, colorGroup;

    title = document.createElement("p");
    title.innerHTML = "Gradient";

    gradientPanel.appendChild(title);
    gradientPanel.appendChild(gradientPreview.getElement());

    colorsGroup = document.createElement("div");
    colorsGroup.className = "chickenpaint-gradient-colors";

    colorGroup = document.createElement("div");
    colorGroup.className = "chickenpaint-gradient-start-color";

    colorGroup.appendChild(gradientStartSwatch.getElement());

    colorsGroup.appendChild(colorGroup);

    colorGroup = document.createElement("div");
    colorGroup.className = "chickenpaint-gradient-end-color";

    colorGroup.appendChild(gradientEndSwatch.getElement());

    colorsGroup.appendChild(colorGroup);

    gradientPanel.appendChild(colorsGroup);
}

function CPTransformPanel(controller) {
    var TRANSFORM_INTERPOLATION = { smooth: "Smooth", sharp: "Sharp" };

    var panel = document.createElement("div"),
        acceptButton = document.createElement("button"),
        rejectButton = document.createElement("button"),
        interpCombo = document.createElement("select");

    this.getElement = function () {
        return panel;
    };

    panel.className = "chickenpaint-transform-panel";
    panel.style.display = "none";

    acceptButton.type = "button";
    rejectButton.type = "button";

    acceptButton.className = "btn btn-primary btn-block";
    rejectButton.className = "btn btn-default btn-block";

    acceptButton.innerHTML = "Apply transform";
    rejectButton.innerHTML = "Cancel";

    interpCombo.addEventListener("change", function (e) {
        controller.setTransformInterpolation(this.value);
    });

    interpCombo.className = 'form-control chickenpaint-transform-interpolation';
    fillCombobox(interpCombo, TRANSFORM_INTERPOLATION);

    if ((0, _utilCPPolyfill.isCanvasInterpolationSupported)()) {
        var interpGroup = document.createElement("div"),
            interpLabel = document.createElement("label");

        interpLabel.innerHTML = "Transform style";

        interpGroup.className = "form-group";
        interpGroup.appendChild(interpLabel);
        interpGroup.appendChild(interpCombo);

        panel.appendChild(interpGroup);
    }

    var buttonGroup = document.createElement("div");

    buttonGroup.appendChild(acceptButton);
    buttonGroup.appendChild(rejectButton);

    buttonGroup.className = "form-group";

    panel.appendChild(buttonGroup);

    acceptButton.addEventListener("click", function (e) {
        controller.actionPerformed({ action: "CPTransformAccept" });
        e.preventDefault();
    });

    rejectButton.addEventListener("click", function (e) {
        controller.actionPerformed({ action: "CPTransformReject" });
        e.preventDefault();
    });
}
module.exports = exports["default"];

},{"../ChickenPaint":1,"../engine/CPLayer":11,"../util/CPColor":47,"../util/CPPolyfill":49,"./CPCheckbox":20,"./CPColorSwatch":24,"./CPGUIUtils":26,"./CPPalette":32,"./CPSlider":37}],19:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPCanvas;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _utilCPRect = require("../util/CPRect");

var _utilCPRect2 = _interopRequireDefault(_utilCPRect);

var _utilCPTransform = require("../util/CPTransform");

var _utilCPTransform2 = _interopRequireDefault(_utilCPTransform);

var _utilCPWacomTablet = require("../util/CPWacomTablet");

var _utilCPWacomTablet2 = _interopRequireDefault(_utilCPWacomTablet);

var _utilCPBezier = require("../util/CPBezier");

var _utilCPBezier2 = _interopRequireDefault(_utilCPBezier);

var _utilThrottleDebounce = require("../util/throttle-debounce");

var _utilCPPolygon = require("../util/CPPolygon");

var _utilCPPolygon2 = _interopRequireDefault(_utilCPPolygon);

var _utilCPPolyfill = require("../util/CPPolyfill");

var _ChickenPaint = require("../ChickenPaint");

var _ChickenPaint2 = _interopRequireDefault(_ChickenPaint);

var _engineCPBrushInfo = require("../engine/CPBrushInfo");

var _engineCPBrushInfo2 = _interopRequireDefault(_engineCPBrushInfo);

var _CPGUIUtils = require("./CPGUIUtils");

var _CPScrollbar = require("./CPScrollbar");

var _CPScrollbar2 = _interopRequireDefault(_CPScrollbar);

var _utilCPVector = require("../util/CPVector");

var _utilCPVector2 = _interopRequireDefault(_utilCPVector);

function CPModeStack() {
    this.modes = [];
}

/* We have two distinguished mode indexes which correspond to the CPDefaultMode and the mode that the user has selected
 * in the tool palette (the global drawing mode). On top of that are other transient modes.
 */
CPModeStack.MODE_INDEX_DEFAULT = 0;
CPModeStack.MODE_INDEX_USER = 1;

CPModeStack.prototype.setMode = function (index, newMode) {
    var oldMode = this.modes[index];

    if (oldMode == newMode) {
        return;
    }

    if (oldMode) {
        oldMode.leave();
    }

    this.modes[index] = newMode;
    newMode.enter();
};

CPModeStack.prototype.setDefaultMode = function (newMode) {
    newMode.transient = false;
    newMode.capture = false;

    this.setMode(CPModeStack.MODE_INDEX_DEFAULT, newMode);
};

CPModeStack.prototype.setUserMode = function (newMode) {
    // Leave any transient modes that were on top of the user mode
    for (var i = this.modes.length - 1; i > CPModeStack.MODE_INDEX_USER; i--) {
        this.modes[i].leave();
        this.modes.splice(i, 1);
    }

    newMode.transient = false;
    newMode.capture = false;

    this.setMode(CPModeStack.MODE_INDEX_USER, newMode);
};

/**
 * Deliver the event with the given name and array of parameters to the mode stack.
 *
 * @param event
 * @param params
 * @returns {boolean} True if any mode captured the event
 */
CPModeStack.prototype.deliverEvent = function (event, params) {
    for (var i = this.modes.length - 1; i >= 0; i--) {
        var mode = this.modes[i];

        if (mode[event].apply(mode, params) || mode.capture && event != "paint") {
            /* If the event was handled, don't try to deliver it to anything further up the stack */
            return true;
        }
    }

    return false;
};

// We can call these routines to deliver events that bubble up the mode stack
var _arr = ["mouseDown", "mouseUp"];

var _loop = function () {
    var eventName = _arr[_i];
    CPModeStack.prototype[eventName] = function (e, button, pressure) {
        this.deliverEvent(eventName, [e, button, pressure]);
    };
};

for (var _i = 0; _i < _arr.length; _i++) {
    _loop();
}

var _arr2 = ["mouseDrag", "mouseMove"];

var _loop2 = function () {
    var eventName = _arr2[_i2];
    CPModeStack.prototype[eventName] = function (e, pressure) {
        this.deliverEvent(eventName, [e, pressure]);
    };
};

for (var _i2 = 0; _i2 < _arr2.length; _i2++) {
    _loop2();
}

var _arr3 = ["keyDown", "keyUp"];

var _loop3 = function () {
    var eventName = _arr3[_i3];
    CPModeStack.prototype[eventName] = function (e) {
        if (this.deliverEvent(eventName, [e])) {
            // Swallow handled keypresses
            e.preventDefault();
        }
    };
};

for (var _i3 = 0; _i3 < _arr3.length; _i3++) {
    _loop3();
}

CPModeStack.prototype.paint = function (context) {
    this.deliverEvent("paint", [context]);
};

/**
 * Add a mode to the top of the mode stack.
 *
 * @param mode {CPMode}
 * @param transient {boolean} Set to true if the mode is expected to remove itself from stack upon completion.
 */
CPModeStack.prototype.push = function (mode, transient) {
    var previousTop = this.peek();

    if (previousTop) {
        previousTop.suspend();
    }

    mode.transient = transient;
    mode.capture = false;

    mode.enter();

    this.modes.push(mode);
};

CPModeStack.prototype.peek = function () {
    if (this.modes.length > 0) {
        return this.modes[this.modes.length - 1];
    } else {
        return null;
    }
};

/**
 * Remove the node at the top of the stack and return the new top of the stack.
 *
 * @returns {*}
 */
CPModeStack.prototype.pop = function () {
    var outgoingMode = this.modes.pop(),
        newTop = this.peek();

    if (outgoingMode) {
        outgoingMode.leave();
    }

    if (newTop) {
        newTop.resume();
    }

    return newTop;
};

function CPCanvas(controller) {
    var BUTTON_PRIMARY = 0,
        BUTTON_WHEEL = 1,
        BUTTON_SECONDARY = 2,
        MIN_ZOOM = 0.10,
        MAX_ZOOM = 16.0,
        CURSOR_DEFAULT = "default",
        CURSOR_PANNABLE = "grab",
        CURSOR_PANNING = "grabbing",
        CURSOR_CROSSHAIR = "crosshair",
        CURSOR_MOVE = "move",
        CURSOR_NESW_RESIZE = "nesw-resize",
        CURSOR_NWSE_RESIZE = "nwse-resize",
        CURSOR_NS_RESIZE = "ns-resize",
        CURSOR_EW_RESIZE = "ew-resize";

    var that = this,
        canvasContainer = document.createElement("div"),
        canvasContainerTop = document.createElement("div"),
        canvasContainerBottom = document.createElement("div"),

    // Our canvas that fills the entire screen
    canvas = document.createElement("canvas"),
        canvasContext = canvas.getContext("2d"),

    // Our cache of the artwork's fusion to be drawn onto our main canvas using our current transform
    artworkCanvas = document.createElement("canvas"),
        artworkCanvasContext = artworkCanvas.getContext("2d"),
        checkerboardPattern = (0, _CPGUIUtils.createCheckerboardPattern)(canvasContext),
        artwork = controller.getArtwork(),

    // Canvas transformations
    zoom = 1,
        offsetX = 0,
        offsetY = 0,
        canvasRotation = 0.0,
        transform = new _utilCPTransform2["default"](),
        interpolation = false,

    // Grid options
    showGrid = false,
        gridSize = 32,
        mouseX = 0,
        mouseY = 0,
        mouseIn = false,
        mouseDown = [false, false, false],
        /* Track each button independently */wacomPenDown = false,

    /* The area of the document that should have its layers fused and repainted to the screen
     * (i.e. an area modified by drawing tools). 
     * 
     * Initially set to the size of the artwork so we can repaint the whole thing.
     */
    artworkUpdateRegion = new _utilCPRect2["default"](0, 0, artwork.width, artwork.height),

    /**
     * The area of the canvas that should be repainted to the screen during the next repaint internal (in canvas
     * coordinates).
     */
    repaintRegion = new _utilCPRect2["default"](0, 0, 0, 0),
        scheduledRepaint = false,

    //
    // Modes system: modes control the way the GUI is reacting to the user input
    // All the tools are implemented through modes
    //

    defaultMode,
        colorPickerMode,
        panMode,
        rotateCanvasMode,
        floodFillMode,
        gradientFillMode,
        rectSelectionMode,
        moveToolMode,
        transformMode,

    // this must correspond to the stroke modes defined in CPToolInfo
    drawingModes = [],
        modeStack = new CPModeStack(),
        curDrawMode,
        curSelectedMode,
        horzScroll = new _CPScrollbar2["default"](false),
        vertScroll = new _CPScrollbar2["default"](true),
        tablet = _utilCPWacomTablet2["default"].getRef();

    Math.sign = Math.sign || function (x) {
        x = +x; // convert to a number
        if (x === 0 || isNaN(x)) {
            return x;
        }
        return x > 0 ? 1 : -1;
    };

    // Parent class with empty event handlers for those drawing modes that don't need every event
    function CPMode() {}

    /**
        * True if this mode will be exiting the mode stack as soon as the current interation is complete.
        *
        * @type {boolean}
        */
    CPMode.prototype.transient = false;

    /**
        * If true, no input events will be sent to any modes underneath this one (event stream is captured).
        *
        * Painting events will continue to bubble.
        *
        * @type {boolean}
        */
    CPMode.prototype.capture = false;

    CPMode.prototype.enter = function () {
        setCursor(CURSOR_DEFAULT);
    };

    CPMode.prototype.leave = function () {
        this.capture = false;
    };

    CPMode.prototype.mouseMove = CPMode.prototype.paint = CPMode.prototype.mouseDown = CPMode.prototype.mouseDrag = CPMode.prototype.mouseUp = CPMode.prototype.keyDown = CPMode.prototype.suspend = CPMode.prototype.resume = CPMode.prototype.keyUp = function () {};

    //
    // Default UI Mode when not doing anything: used to start the other modes
    //

    function CPDefaultMode() {}

    CPDefaultMode.prototype = Object.create(CPMode.prototype);
    CPDefaultMode.prototype.constructor = CPDefaultMode;

    CPDefaultMode.prototype.mouseDown = function (e, button, pressure) {
        var spacePressed = key.isPressed("space");

        if (!spacePressed && (button == BUTTON_SECONDARY || button == BUTTON_PRIMARY && e.altKey)) {
            modeStack.push(colorPickerMode, true);
            // Avoid infinite recursion by only delivering the event to the new mode (don't let it bubble back to us!)
            modeStack.peek().mouseDown(e, button, pressure);
        } else if (button == BUTTON_WHEEL || spacePressed && button == BUTTON_PRIMARY) {
            if (e.altKey) {
                modeStack.push(rotateCanvasMode, true);
                modeStack.peek().mouseDown(e, button, pressure);
            } else {
                modeStack.push(panMode, true);
                modeStack.peek().mouseDown(e, button, pressure);
            }
        }
    };

    CPDefaultMode.prototype.keyDown = function (e) {
        if (e.keyCode == 32 /* Space */) {
                if (e.altKey) {
                    modeStack.push(rotateCanvasMode, true);
                    modeStack.peek().keyDown(e);
                } else {
                    // We can start the pan mode before the mouse button is even pressed, so that the "grabbable" cursor appears
                    modeStack.push(panMode, true);
                    modeStack.peek().keyDown(e);
                }
                return true;
            }
    };

    /**
        * A base for the three drawing modes, so they can all share the same brush-preview-circle drawing behaviour.
        *
        * @constructor
        */
    function CPDrawingMode() {
        this.shouldPaintBrushPreview = false;

        /* The last rectangle we dirtied with a brush preview circle, or null if one hasn't been drawn yet */
        this.oldPreviewRect = null;
    }

    CPDrawingMode.prototype = Object.create(CPMode.prototype);
    CPDrawingMode.prototype.constructor = CPDrawingMode;

    /**
     * Get a rectangle that encloses the preview brush, in screen coordinates.
     */
    CPDrawingMode.prototype.getBrushPreviewOval = function () {
        var brushSize = controller.getBrushSize() * zoom;

        return new _utilCPRect2["default"](mouseX - brushSize / 2, mouseY - brushSize / 2, mouseX + brushSize / 2, mouseY + brushSize / 2);
    };

    /**
     * Queues up the brush preview oval to be drawn.
     */
    CPDrawingMode.prototype.queueBrushPreview = function () {
        /* If we're not the top-most mode, it's unlikely that left clicking will drawing for us, so don't consider
         * painting the brush preview
         */
        if (modeStack.peek() != this) {
            return;
        }

        this.shouldPaintBrushPreview = true;

        var rect = this.getBrushPreviewOval();

        rect.grow(2, 2);

        // If a brush preview was drawn previously, stretch the repaint region to remove that old copy
        if (this.oldPreviewRect != null) {
            rect.union(this.oldPreviewRect);
            this.oldPreviewRect = null;
        }

        repaintRect(rect);
    };

    /**
        * Erase the brush preview if one had been drawn
        */
    CPDrawingMode.prototype.eraseBrushPreview = function () {
        this.shouldPaintBrushPreview = false;

        if (this.oldPreviewRect != null) {
            repaintRect(this.oldPreviewRect);
            this.oldPreviewRect = null;
        }
    };

    CPDrawingMode.prototype.mouseMove = function (e, pressure) {
        this.queueBrushPreview();
    };

    CPDrawingMode.prototype.enter = function () {
        CPMode.prototype.enter.call(this);

        if (mouseIn) {
            this.queueBrushPreview();
        }
    };

    CPDrawingMode.prototype.leave = function () {
        CPMode.prototype.leave.call(this);
        this.eraseBrushPreview();
    };

    CPDrawingMode.prototype.suspend = CPDrawingMode.prototype.leave;
    CPDrawingMode.prototype.resume = CPDrawingMode.prototype.enter;

    CPDrawingMode.prototype.paint = function () {
        if (this.shouldPaintBrushPreview) {
            this.shouldPaintBrushPreview = false;

            var r = this.getBrushPreviewOval();

            canvasContext.beginPath();

            canvasContext.arc((r.left + r.right) / 2, (r.top + r.bottom) / 2, r.getWidth() / 2, 0, Math.PI * 2);

            canvasContext.stroke();

            r.grow(2, 2);

            if (this.oldPreviewRect == null) {
                this.oldPreviewRect = r;
            } else {
                this.oldPreviewRect.union(r);
            }
        }
    };

    function CPFreehandMode() {
        CPDrawingMode.call(this);

        this.smoothMouse = { x: 0.0, y: 0.0 };
    }

    CPFreehandMode.prototype = Object.create(CPDrawingMode.prototype);
    CPFreehandMode.prototype.constructor = CPFreehandMode;

    CPFreehandMode.prototype.mouseDown = function (e, button, pressure) {
        if (!this.capture && button == BUTTON_PRIMARY && !e.altKey && !key.isPressed("space") && shouldDrawToThisLayer()) {
            var pf = coordToDocument({ x: mouseX, y: mouseY });

            this.eraseBrushPreview();

            this.capture = true;
            artwork.beginStroke(pf.x, pf.y, pressure);

            this.smoothMouse = pf;

            return true;
        }
    };

    CPFreehandMode.prototype.mouseDrag = function (e, pressure) {
        if (this.capture) {
            var pf = coordToDocument({ x: mouseX, y: mouseY }),
                smoothing = Math.min(0.999, Math.pow(controller.getBrushInfo().smoothing, 0.3));

            this.smoothMouse.x = (1.0 - smoothing) * pf.x + smoothing * this.smoothMouse.x;
            this.smoothMouse.y = (1.0 - smoothing) * pf.y + smoothing * this.smoothMouse.y;

            artwork.continueStroke(this.smoothMouse.x, this.smoothMouse.y, pressure);

            return true;
        } else {
            this.mouseMove(e);
        }
    };

    CPFreehandMode.prototype.mouseUp = function (e, button, pressure) {
        if (this.capture) {
            if (button == BUTTON_PRIMARY) {
                this.capture = false;
                artwork.endStroke();
            }
            return true;
        }
    };

    function CPLineMode() {
        var dragLineFrom,
            dragLineTo,
            LINE_PREVIEW_WIDTH = 1;

        this.mouseDown = function (e, button, pressure) {
            if (!this.capture && button == BUTTON_PRIMARY && !e.altKey && !key.isPressed("space") && shouldDrawToThisLayer()) {
                this.capture = true;
                dragLineFrom = dragLineTo = { x: mouseX + 0.5, y: mouseY + 0.5 };

                this.eraseBrushPreview();

                return true;
            }
        };

        this.mouseDrag = function (e) {
            if (this.capture) {
                var
                // The old line position that we'll invalidate for redraw
                invalidateRect = new _utilCPRect2["default"](Math.min(dragLineFrom.x, dragLineTo.x) - LINE_PREVIEW_WIDTH - 1, Math.min(dragLineFrom.y, dragLineTo.y) - LINE_PREVIEW_WIDTH - 1, Math.max(dragLineFrom.x, dragLineTo.x) + LINE_PREVIEW_WIDTH + 1 + 1, Math.max(dragLineFrom.y, dragLineTo.y) + LINE_PREVIEW_WIDTH + 1 + 1);

                dragLineTo = { x: mouseX + 0.5, y: mouseY + 0.5 }; // Target centre of pixel

                if (e.shiftKey) {
                    // Snap to nearest 45 degrees
                    var snap = Math.PI / 4,
                        angle = Math.round(Math.atan2(dragLineTo.y - dragLineFrom.y, dragLineTo.x - dragLineFrom.x) / snap);

                    switch (angle) {
                        case 0:
                        case 4:
                            dragLineTo.y = dragLineFrom.y;
                            break;

                        case 2:
                        case 6:
                            dragLineTo.x = dragLineFrom.x;
                            break;

                        default:
                            angle *= snap;

                            var length = Math.sqrt((dragLineTo.y - dragLineFrom.y) * (dragLineTo.y - dragLineFrom.y) + (dragLineTo.x - dragLineFrom.x) * (dragLineTo.x - dragLineFrom.x));

                            dragLineTo.x = dragLineFrom.x + length * Math.cos(angle);
                            dragLineTo.y = dragLineFrom.y + length * Math.sin(angle);
                    }
                }

                // The new line position
                invalidateRect.union(new _utilCPRect2["default"](Math.min(dragLineFrom.x, dragLineTo.x) - LINE_PREVIEW_WIDTH - 1, Math.min(dragLineFrom.y, dragLineTo.y) - LINE_PREVIEW_WIDTH - 1, Math.max(dragLineFrom.x, dragLineTo.x) + LINE_PREVIEW_WIDTH + 1 + 1, Math.max(dragLineFrom.y, dragLineTo.y) + LINE_PREVIEW_WIDTH + 1 + 1));

                repaintRect(invalidateRect);

                return true;
            } else {
                this.mouseMove.call(this, e);
            }
        };

        this.mouseUp = function (e, button, pressure) {
            if (this.capture && button == BUTTON_PRIMARY) {
                var from = coordToDocument(dragLineFrom),
                    to = coordToDocument(dragLineTo);

                this.capture = false;

                this.drawLine(from, to);

                var invalidateRect = new _utilCPRect2["default"](Math.min(dragLineFrom.x, dragLineTo.x) - LINE_PREVIEW_WIDTH - 1, Math.min(dragLineFrom.y, dragLineTo.y) - LINE_PREVIEW_WIDTH - 1, Math.max(dragLineFrom.x, dragLineTo.x) + LINE_PREVIEW_WIDTH + 1 + 1, Math.max(dragLineFrom.y, dragLineTo.y) + LINE_PREVIEW_WIDTH + 1 + 1);

                repaintRect(invalidateRect);

                return true;
            }
        };

        this.paint = function () {
            if (this.capture) {
                canvasContext.lineWidth = LINE_PREVIEW_WIDTH;
                canvasContext.beginPath();
                canvasContext.moveTo(dragLineFrom.x, dragLineFrom.y);
                canvasContext.lineTo(dragLineTo.x, dragLineTo.y);
                canvasContext.stroke();
            } else {
                // Draw the regular brush preview circle
                CPDrawingMode.prototype.paint.call(this);
            }
        };

        CPDrawingMode.call(this);
    }

    CPLineMode.prototype = Object.create(CPDrawingMode.prototype);
    CPLineMode.prototype.constructor = CPLineMode;

    CPLineMode.prototype.drawLine = function (from, to) {
        artwork.beginStroke(from.x, from.y, 1);
        artwork.continueStroke(to.x, to.y, 1);
        artwork.endStroke();
    };

    function CPBezierMode() {
        var BEZIER_POINTS = 500,
            BEZIER_POINTS_PREVIEW = 100;

        var dragBezierMode = 0,
            // 0 Initial drag, 1 first control point, 2 second point
        dragBezierP0,
            dragBezierP1,
            dragBezierP2,
            dragBezierP3;

        this.mouseDown = function (e, button, pressure) {
            if (!this.capture && button == BUTTON_PRIMARY && !e.altKey && !key.isPressed("space") && shouldDrawToThisLayer()) {
                var p = coordToDocument({ x: mouseX, y: mouseY });

                dragBezierMode = 0;
                dragBezierP0 = dragBezierP1 = dragBezierP2 = dragBezierP3 = p;
                this.capture = true;

                this.eraseBrushPreview();

                return true;
            }
        };

        // Handles the first part of the Bezier where the user drags out a straight line
        this.mouseDrag = function (e) {
            if (this.capture && dragBezierMode == 0) {
                var p = coordToDocument({ x: mouseX, y: mouseY });

                dragBezierP2 = dragBezierP3 = p;

                that.repaintAll();

                return true;
            } else {
                this.mouseMove.call(this, e);
            }
        };

        this.mouseUp = function (e, button, pressure) {
            if (this.capture && button == BUTTON_PRIMARY) {
                if (dragBezierMode == 0) {
                    dragBezierMode = 1;
                } else if (dragBezierMode == 1) {
                    dragBezierMode = 2;
                } else if (dragBezierMode == 2) {
                    this.capture = false;

                    var p0 = dragBezierP0,
                        p1 = dragBezierP1,
                        p2 = dragBezierP2,
                        p3 = dragBezierP3,
                        bezier = new _utilCPBezier2["default"]();

                    bezier.x0 = p0.x;
                    bezier.y0 = p0.y;
                    bezier.x1 = p1.x;
                    bezier.y1 = p1.y;
                    bezier.x2 = p2.x;
                    bezier.y2 = p2.y;
                    bezier.x3 = p3.x;
                    bezier.y3 = p3.y;

                    var x = new Array(BEZIER_POINTS),
                        y = new Array(BEZIER_POINTS);

                    bezier.compute(x, y, BEZIER_POINTS);

                    artwork.beginStroke(x[0], y[0], 1);
                    for (var i = 1; i < BEZIER_POINTS; i++) {
                        artwork.continueStroke(x[i], y[i], 1);
                    }
                    artwork.endStroke();
                    that.repaintAll();
                }

                return true;
            }
        };

        this.mouseMove = function (e, pressure) {
            if (this.capture) {
                var p = coordToDocument({ x: mouseX, y: mouseY });

                if (dragBezierMode == 1) {
                    dragBezierP1 = p;
                } else if (dragBezierMode == 2) {
                    dragBezierP2 = p;
                }
                that.repaintAll(); // FIXME: repaint only the bezier region

                return true;
            } else {
                // Draw the normal brush preview while not in the middle of a bezier operation
                CPDrawingMode.prototype.mouseMove.call(this, e, pressure);
            }
        };

        this.paint = function () {
            if (this.capture) {
                var bezier = new _utilCPBezier2["default"](),
                    p0 = coordToDisplay(dragBezierP0),
                    p1 = coordToDisplay(dragBezierP1),
                    p2 = coordToDisplay(dragBezierP2),
                    p3 = coordToDisplay(dragBezierP3);

                bezier.x0 = p0.x;
                bezier.y0 = p0.y;
                bezier.x1 = p1.x;
                bezier.y1 = p1.y;
                bezier.x2 = p2.x;
                bezier.y2 = p2.y;
                bezier.x3 = p3.x;
                bezier.y3 = p3.y;

                var x = new Array(BEZIER_POINTS_PREVIEW),
                    y = new Array(BEZIER_POINTS_PREVIEW);

                bezier.compute(x, y, BEZIER_POINTS_PREVIEW);

                canvasContext.beginPath();

                canvasContext.moveTo(x[0], y[0]);
                for (var i = 1; i < BEZIER_POINTS_PREVIEW; i++) {
                    canvasContext.lineTo(x[i], y[i]);
                }

                canvasContext.moveTo(~ ~p0.x, ~ ~p0.y);
                canvasContext.lineTo(~ ~p1.x, ~ ~p1.y);

                canvasContext.moveTo(~ ~p2.x, ~ ~p2.y);
                canvasContext.lineTo(~ ~p3.x, ~ ~p3.y);

                canvasContext.stroke();
            } else {
                // Paint the regular brush preview
                CPDrawingMode.prototype.paint.call(this);
            }
        };

        CPDrawingMode.call(this);
    }

    CPBezierMode.prototype = Object.create(CPDrawingMode.prototype);
    CPBezierMode.prototype.constructor = CPBezierMode;

    function CPColorPickerMode() {
        var mouseButton;

        this.mouseDown = function (e, button, pressure) {
            if (this.capture) {
                return true;
            } else if (!key.isPressed("space") && (button == BUTTON_PRIMARY && (!this.transient || e.altKey) || button == BUTTON_SECONDARY)) {
                mouseButton = button;
                this.capture = true;

                setCursor(CURSOR_CROSSHAIR);

                this.mouseDrag(e);

                return true;
            } else if (this.transient) {
                // If we're not sampling and we get a button not intended for us, we probably shouldn't be on the stack
                modeStack.pop();
            }
        };

        this.mouseDrag = function (e) {
            if (this.capture) {
                var pf = coordToDocument({ x: mouseX, y: mouseY });

                if (artwork.isPointWithin(pf.x, pf.y)) {
                    controller.setCurColorRgb(artwork.colorPicker(pf.x, pf.y));
                }

                return true;
            }
        };

        this.mouseUp = function (e, button, pressure) {
            if (this.capture && button == mouseButton) {
                mouseButton = -1;
                this.capture = false;
                setCursor(CURSOR_DEFAULT);

                if (this.transient) {
                    modeStack.pop();
                }

                return true;
            }
        };

        this.enter = function () {
            CPMode.prototype.enter.call(this);
            mouseButton = -1;
        };
    }

    CPColorPickerMode.prototype = Object.create(CPMode.prototype);
    CPColorPickerMode.prototype.constructor = CPColorPickerMode;

    function CPPanMode() {
        var panningX, panningY, panningOffset, panningButton;

        this.keyDown = function (e) {
            if (e.keyCode == 32 /* Space */) {
                    // If we're not already panning, then advertise that a left-click would pan
                    if (!this.capture) {
                        setCursor(CURSOR_PANNABLE);
                    }

                    return true;
                }
        };

        this.keyUp = function (e) {
            if (this.transient && panningButton != BUTTON_WHEEL && e.keyCode == 32 /* Space */) {
                    setCursor(CURSOR_DEFAULT);

                    modeStack.pop(); // yield control to the default mode

                    return true;
                }
        };

        this.mouseDown = function (e, button, pressure) {
            if (this.capture) {
                return true;
            } else if (button == BUTTON_WHEEL || key.isPressed("space") && button == BUTTON_PRIMARY) {
                this.capture = true;
                panningButton = button;
                panningX = e.pageX;
                panningY = e.pageY;
                panningOffset = that.getOffset();
                setCursor(CURSOR_PANNING);

                return true;
            } else if (this.transient) {
                // If we're not panning and we get a button not intended for us, we probably shouldn't be on the stack
                modeStack.pop();
            }
        };

        this.mouseDrag = function (e) {
            if (this.capture) {
                that.setOffset(panningOffset.x + e.pageX - panningX, panningOffset.y + e.pageY - panningY);

                return true;
            }
        };

        this.mouseUp = function (e, button, pressure) {
            if (this.capture && button == panningButton) {
                panningButton = -1;
                this.capture = false;

                if (this.transient && !key.isPressed("space")) {
                    setCursor(CURSOR_DEFAULT);

                    modeStack.pop();
                }

                return true;
            }
        };

        this.enter = function () {
            setCursor(CURSOR_PANNABLE);
        };
    }

    CPPanMode.prototype = Object.create(CPMode.prototype);
    CPPanMode.prototype.constructor = CPFloodFillMode;

    function CPFloodFillMode() {}

    CPFloodFillMode.prototype = Object.create(CPMode.prototype);
    CPFloodFillMode.prototype.constructor = CPFloodFillMode;

    CPFloodFillMode.prototype.mouseDown = function (e, button, pressure) {
        if (button == BUTTON_PRIMARY && !e.altKey && !key.isPressed("space") && shouldDrawToThisLayer()) {
            var pf = coordToDocument({ x: mouseX, y: mouseY });

            if (artwork.isPointWithin(pf.x, pf.y)) {
                artwork.floodFill(pf.x, pf.y);
                that.repaintAll();
            }

            return true;
        }
    };

    function CPRectSelectionMode() {
        var firstClick,
            curRect = new _utilCPRect2["default"](0, 0, 0, 0),
            selectingButton = -1;

        this.mouseDown = function (e, button, pressure) {
            if (!this.capture && button == BUTTON_PRIMARY && !e.altKey && !key.isPressed("space")) {
                var p = coordToDocumentInt({ x: mouseX, y: mouseY });

                selectingButton = button;

                curRect.makeEmpty();
                firstClick = p;

                that.repaintAll();

                this.capture = true;

                return true;
            }
        };

        this.mouseDrag = function (e) {
            if (!this.capture) return false;

            var p = coordToDocumentInt({ x: mouseX, y: mouseY }),
                square = e.shiftKey,
                squareDist = ~ ~Math.max(Math.abs(p.x - firstClick.x), Math.abs(p.y - firstClick.y));

            if (p.x >= firstClick.x) {
                curRect.left = firstClick.x;
                curRect.right = (square ? firstClick.x + squareDist : p.x) + 1;
            } else {
                curRect.left = square ? firstClick.x - squareDist : p.x;
                curRect.right = firstClick.x + 1;
            }

            if (p.y >= firstClick.y) {
                curRect.top = firstClick.y;
                curRect.bottom = (square ? firstClick.y + squareDist : p.y) + 1;
            } else {
                curRect.top = square ? firstClick.y - squareDist : p.y;
                curRect.bottom = firstClick.y + 1;
            }

            that.repaintAll();

            return true;
        };

        this.mouseUp = function (e, button, pressure) {
            if (this.capture && button == selectingButton) {
                artwork.rectangleSelection(curRect);
                curRect.makeEmpty();

                that.repaintAll();

                this.capture = false;
                selectingButton = -1;

                return true;
            }
        };

        this.paint = function () {
            if (!curRect.isEmpty()) {
                canvasContext.lineWidth = 1;
                plotSelectionRect(canvasContext, curRect);
            }
        };
    }

    CPRectSelectionMode.prototype = Object.create(CPMode.prototype);
    CPRectSelectionMode.prototype.constructor = CPRectSelectionMode;

    function CPMoveToolMode() {
        var lastPoint,
            copyMode,
            firstMove = false;

        this.mouseDown = function (e, button, pressure) {
            if (!this.capture && button == BUTTON_PRIMARY && !key.isPressed("space") && shouldDrawToThisLayer()) {
                lastPoint = coordToDocument({ x: mouseX, y: mouseY });

                copyMode = e.altKey;
                firstMove = true;
                this.capture = true;

                return true;
            }
        };

        this.mouseDrag = (0, _utilThrottleDebounce.throttle)(25, function (e) {
            if (this.capture) {
                var p = coordToDocument({ x: mouseX, y: mouseY }),
                    moveFloat = { x: p.x - lastPoint.x, y: p.y - lastPoint.y },
                    moveInt = { x: ~ ~moveFloat.x, y: ~ ~moveFloat.y }; // Round towards zero

                artwork.move(moveInt.x, moveInt.y, copyMode && firstMove);

                firstMove = false;

                /*
                 * Nudge the last point by the remainder we weren't able to move this iteration (due to move() only
                 * accepting integer offsets). This'll carry that fractional part of the move over for next iteration.
                 */
                lastPoint.x = p.x - (moveFloat.x - moveInt.x);
                lastPoint.y = p.y - (moveFloat.y - moveInt.y);

                return true;
            }
        });

        this.mouseUp = function (e, button, pressure) {
            if (this.capture && button == BUTTON_PRIMARY) {
                this.capture = false;
                if (this.transient) {
                    modeStack.pop();
                }
                return true;
            }
        };
    }

    CPMoveToolMode.prototype = Object.create(CPMode.prototype);
    CPMoveToolMode.prototype.constructor = CPMoveToolMode;

    CPMoveToolMode.prototype.mouseMove = function (e) {
        if (!key.isPressed("space") && !e.altKey) {
            setCursor(CURSOR_MOVE);
            return true;
        }
    };

    CPMoveToolMode.prototype.enter = function () {
        setCursor(CURSOR_MOVE);
    };

    function CPTransformMode() {
        var HANDLE_RADIUS = 3,
            DRAG_NONE = -1,
            DRAG_ROTATE = -2,
            DRAG_MOVE = -3,
            DRAG_NW_CORNER = 0,
            DRAG_N_EDGE = 1,
            DRAG_NE_CORNER = 2,
            DRAG_E_EDGE = 3,
            DRAG_SE_CORNER = 4,
            DRAG_S_EDGE = 5,
            DRAG_SW_CORNER = 6,
            DRAG_W_EDGE = 7;

        var
        /** @type {CPTransform} The current transformation */
        affine,

        /** @type {CPRect} The initial document rectangle to transform */
        srcRect,

        /** @type {CPPolygon} The initial transform rect */
        origCornerPoints,

        /** @type {CPPolygon} The current corners of the transform rect in document space */
        cornerPoints,
            draggingMode = DRAG_NONE,
            lastDragPointDisplay,
            lastDragPointDoc,

        // Keep track of how many degrees we've rotated so far during this transformation
        rotationAccumulator;

        /**
               * Get the polygon that represents the current transform result area in display coordinates.
               *
               * @returns {CPPolygon}
               */
        function cornersToDisplayPolygon() {
            return cornerPoints.getTransformed(transform);
        }

        function averagePoints(p1, p2) {
            return { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };
        }

        function roundPoint(p) {
            return { x: Math.round(p.x), y: Math.round(p.y) };
        }

        /**
               * Decide which drag action should be taken if our mouse was pressed in the given position.
               *
               * @param {CPPolygon} corners - The corners of the current transform area
               * @param mouse - The mouse point
               * @returns {number} A DRAG_* constant
               */
        function classifyDragAction(corners, mouse) {
            var HANDLE_CAPTURE_RADIUS = 7,
                HANDLE_CAPTURE_RADIUS_SQR = HANDLE_CAPTURE_RADIUS * HANDLE_CAPTURE_RADIUS,
                EDGE_CAPTURE_RADIUS = HANDLE_CAPTURE_RADIUS,
                EDGE_CAPTURE_RADIUS_SQR = EDGE_CAPTURE_RADIUS * EDGE_CAPTURE_RADIUS;

            // Are we dragging a corner?
            for (var i = 0; i < corners.points.length; i++) {
                if ((mouse.x - corners.points[i].x) * (mouse.x - corners.points[i].x) + (mouse.y - corners.points[i].y) * (mouse.y - corners.points[i].y) <= HANDLE_CAPTURE_RADIUS_SQR) {
                    return i * 2;
                }
            }

            // Are we dragging an edge?
            for (var i = 0; i < corners.points.length; i++) {
                var edgeP1 = corners.points[i],
                    edgeP2 = corners.points[(i + 1) % corners.points.length],
                    vEdge = new _utilCPVector2["default"](edgeP2.x - edgeP1.x, edgeP2.y - edgeP1.y),
                    vMouse = new _utilCPVector2["default"](mouse.x - edgeP1.x, mouse.y - edgeP1.y),
                    vEdgeLen = vEdge.getLength(),
                    vEdgeScaled = vEdge.getScaled(1 / vEdgeLen),
                    vMouseScaled = vMouse.getScaled(1 / vEdgeLen),
                    mousePropOnLine = vEdgeScaled.getDotProduct(vMouseScaled);

                // If we're within the ends of the line (perpendicularly speaking)
                if (mousePropOnLine >= 0.0 && mousePropOnLine <= 1.0) {
                    // This gives us the point on the line closest to the mouse
                    vEdge.scale(mousePropOnLine);

                    if ((vEdge.x - vMouse.x) * (vEdge.x - vMouse.x) + (vEdge.y - vMouse.y) * (vEdge.y - vMouse.y) <= EDGE_CAPTURE_RADIUS_SQR) {
                        return i * 2 + 1;
                    }
                }
            }

            if (corners.containsPoint(mouse)) {
                return DRAG_MOVE;
            }

            return DRAG_ROTATE;
        }

        function setCursorForHandles() {
            var corners = cornersToDisplayPolygon(),
                mouse = { x: mouseX, y: mouseY },
                dragAction = classifyDragAction(corners, mouse);

            switch (dragAction) {
                case DRAG_NW_CORNER:
                case DRAG_NE_CORNER:
                case DRAG_SE_CORNER:
                case DRAG_SW_CORNER:
                    // Choose a cursor for a 45-degree resize from this corner
                    var cornerIndex = ~ ~(dragAction / 2),
                        cornerBefore = corners.points[(cornerIndex + 3) % 4],
                        corner = corners.points[cornerIndex],
                        cornerAfter = corners.points[(cornerIndex + 1) % 4],

                    // Get a vector which points 45 degrees toward the center of the box, this'll do for cursor direction
                    v45 = _utilCPVector2["default"].subtractPoints(cornerBefore, corner).normalize().add(_utilCPVector2["default"].subtractPoints(cornerAfter, corner).normalize());

                    setResizeCursorForVector(v45);
                    break;
                case DRAG_N_EDGE:
                case DRAG_E_EDGE:
                case DRAG_S_EDGE:
                case DRAG_W_EDGE:
                    // Resizing from here will move edge perpendicularly
                    var corner1 = corners.points[~ ~(dragAction / 2)],
                        corner2 = corners.points[(~ ~(dragAction / 2) + 1) % 4],
                        vPerp = _utilCPVector2["default"].subtractPoints(corner2, corner1).getPerpendicular();

                    setResizeCursorForVector(vPerp);
                    break;
                case DRAG_MOVE:
                    setCursor(CURSOR_MOVE);
                    break;
                case DRAG_ROTATE:
                    setCursor(CURSOR_DEFAULT); // TODO add a custom rotation cursor
                    break;
                default:
                    setCursor(CURSOR_DEFAULT);
            }
        }

        this.mouseDown = function (e, button, pressure) {
            if (!this.capture && button == BUTTON_PRIMARY && !e.altKey && !key.isPressed("space")) {
                var corners = cornersToDisplayPolygon();

                draggingMode = classifyDragAction(corners, { x: mouseX, y: mouseY });

                lastDragPointDisplay = { x: mouseX, y: mouseY };
                lastDragPointDoc = coordToDocument(lastDragPointDisplay);

                this.capture = true;

                setCursorForHandles();

                return true;
            }
        };

        this.mouseDrag = (0, _utilThrottleDebounce.throttle)(40, function (e) {
            var MIN_SCALE = 0.001;

            if (this.capture) {
                var dragPointDisplay = { x: mouseX, y: mouseY };

                switch (draggingMode) {
                    case DRAG_MOVE:
                        var dragPointDoc = roundPoint(coordToDocument(dragPointDisplay)),
                            translation = _utilCPVector2["default"].subtractPoints(dragPointDoc, lastDragPointDoc),

                        // Only translate in whole-pixel increments (in document space not canvas space)
                        translationRounded = translation.getTruncated(),
                            translationRemainder = translation.subtract(translationRounded),
                            translateInstance = new _utilCPTransform2["default"]();

                        /*
                         * Apply the translate *after* the current affine is applied.
                         */
                        translateInstance.translate(translationRounded.x, translationRounded.y);

                        affine.preMultiply(translateInstance);

                        // Accumulate the fractional move that we didn't apply for next time
                        lastDragPointDoc = _utilCPVector2["default"].subtractPoints(dragPointDoc, translationRemainder);
                        break;
                    case DRAG_ROTATE:
                        var DRAG_ROTATE_SNAP_ANGLE = Math.PI / 4;

                        var centerDoc = cornerPoints.getCenter(),
                            centerDisplay = coordToDisplay(centerDoc),
                            oldMouseAngle = Math.atan2(lastDragPointDisplay.y - centerDisplay.y, lastDragPointDisplay.x - centerDisplay.x),
                            newMouseAngle = Math.atan2(dragPointDisplay.y - centerDisplay.y, dragPointDisplay.x - centerDisplay.x),
                            deltaMouseAngle = newMouseAngle - oldMouseAngle,
                            rotateAngle = undefined,
                            rotateInstance = new _utilCPTransform2["default"]();

                        rotationAccumulator += deltaMouseAngle;

                        if (e.shiftKey) {
                            /*
                             * The rotation in the decomposition was made about the origin. We want to rotate about the
                             * center of the selection, so first rotate the selection to square it up with the axes,
                             * then we'll pivot the selection about its center to the new angle.
                             */
                            rotateAngle = -affine.decompose().rotate + Math.round(rotationAccumulator / DRAG_ROTATE_SNAP_ANGLE) * DRAG_ROTATE_SNAP_ANGLE;
                        } else {
                            rotateAngle = deltaMouseAngle;
                        }

                        /* Apply the rotation *after* the current affine instead of before it, so that we don't
                         * end up scaling on top of the rotated selection later (which would cause an unwanted shear)
                         */
                        rotateInstance.rotateAroundPoint(rotateAngle, centerDoc.x, centerDoc.y);

                        affine.preMultiply(rotateInstance);

                        lastDragPointDisplay = dragPointDisplay;
                        break;
                    case DRAG_NW_CORNER:
                    case DRAG_NE_CORNER:
                    case DRAG_SE_CORNER:
                    case DRAG_SW_CORNER:
                        {
                            var draggingCorner = ~ ~(draggingMode / 2),
                                oldCorner = origCornerPoints.points[draggingCorner],

                            // The corner we dragged will move into its new position
                            newCorner = affine.getInverted().getTransformedPoint(roundPoint(coordToDocument(dragPointDisplay))),

                            // The opposite corner to the one we dragged must not move
                            fixCorner = origCornerPoints.points[(draggingCorner + 2) % 4],

                            /* Now we can see how much we'd need to scale the original rectangle about the fixed corner
                             * for the other corner to reach the new position.
                             */
                            scaleX = (newCorner.x - fixCorner.x) / (oldCorner.x - fixCorner.x),
                                scaleY = (newCorner.y - fixCorner.y) / (oldCorner.y - fixCorner.y);

                            /*
                             * If the user resized it until it was zero-sized, just ignore that position and assume they'll move
                             * past it in a msec.
                             */
                            if (Math.abs(scaleX) < MIN_SCALE || Math.abs(scaleY) < MIN_SCALE || isNaN(scaleX) || isNaN(scaleY)) {
                                return true;
                            }

                            // Does user want proportional resize?
                            if (e.shiftKey) {
                                var largestScale = Math.max(scaleX, scaleY);

                                scaleX = largestScale;
                                scaleY = largestScale;
                            }

                            // The transform we do here will be performed first before any of the other transforms (scale, rotate, etc)
                            affine.scaleAroundPoint(scaleX, scaleY, fixCorner.x, fixCorner.y);
                        }
                        break;
                    case DRAG_N_EDGE:
                    case DRAG_S_EDGE:
                    case DRAG_E_EDGE:
                    case DRAG_W_EDGE:
                        {
                            var cornerIndex = ~ ~(draggingMode / 2),
                                oldHandle = averagePoints(origCornerPoints.points[cornerIndex], origCornerPoints.points[(cornerIndex + 1) % 4]),

                            // The handle we dragged will move into its new position
                            newHandle = affine.getInverted().getTransformedPoint(roundPoint(coordToDocument(dragPointDisplay))),

                            // The opposite handle to the one we dragged must not move
                            fixHandle = averagePoints(origCornerPoints.points[(cornerIndex + 2) % 4], origCornerPoints.points[(cornerIndex + 3) % 4]),
                                scaleX = undefined,
                                scaleY = undefined,
                                oldVector = _utilCPVector2["default"].subtractPoints(oldHandle, fixHandle),
                                newVector = _utilCPVector2["default"].subtractPoints(newHandle, fixHandle),
                                oldLength = oldVector.getLength(),

                            // We only take the length in the perpendicular direction to the transform edge:
                            newLength = oldVector.getDotProduct(newVector) / oldLength,
                                newScale = newLength / oldLength;

                            /*
                             * If the user resized it until it was zero-sized, just ignore that position and assume they'll move
                             * past it in a msec.
                             */
                            if (Math.abs(newScale) < MIN_SCALE || isNaN(newScale)) {
                                return true;
                            }

                            if (draggingMode == DRAG_N_EDGE || draggingMode == DRAG_S_EDGE) {
                                scaleX = 1.0;
                                scaleY = newScale;
                            } else {
                                scaleX = newScale;
                                scaleY = 1.0;
                            }

                            affine.scaleAroundPoint(scaleX, scaleY, fixHandle.x, fixHandle.y);
                        }
                        break;
                }

                cornerPoints = origCornerPoints.getTransformed(affine);

                artwork.transformAffineAmend(affine);

                // TODO make me more specific
                that.repaintAll();

                return true;
            }
        });

        this.mouseUp = function (e, button, pressure) {
            if (this.capture && button == BUTTON_PRIMARY) {
                this.capture = false;
                draggingMode = DRAG_NONE;
                return true;
            }
        };

        /*
         * Set an appropriate resize cursor for the specified vector from the center to the handle.
         */
        function setResizeCursorForVector(v) {
            var angle = Math.atan2(-v.y, v.x),

            /*
                 * Slice up into 45 degrees slices so that there are +-22.5 degrees centered around each corner,
                 * and a 45 degree segment for each edge
                 */
            slice = Math.floor(angle / (Math.PI / 4) + 0.5),
                cursor = undefined;

            // Wrap angles below the x-axis wrap to positive ones...
            if (slice < 0) {
                slice += 4;
            }

            switch (slice) {
                case 0:
                default:
                    cursor = CURSOR_EW_RESIZE;
                    break;
                case 1:
                    cursor = CURSOR_NESW_RESIZE;
                    break;
                case 2:
                    cursor = CURSOR_NS_RESIZE;
                    break;
                case 3:
                    cursor = CURSOR_NWSE_RESIZE;
                    break;
            }

            setCursor(cursor);
        }

        this.mouseMove = function () {
            // We want to stick with our choice of cursor throughout the drag operation
            if (!this.capture) {
                setCursorForHandles();
            }
        };

        this.paint = function () {
            var corners = cornersToDisplayPolygon().points,
                handles = new Array(corners.length * 2);

            // Collect the positions of the edge and corner handles...
            for (var i = 0; i < corners.length; i++) {
                handles[i] = corners[i];
            }

            for (var i = 0; i < corners.length; i++) {
                var edgeP1 = corners[i],
                    edgeP2 = corners[(i + 1) % corners.length],
                    midWay = { x: (edgeP1.x + edgeP2.x) / 2, y: (edgeP1.y + edgeP2.y) / 2 };

                handles[i + corners.length] = midWay;
            }

            setContrastingDrawStyle(canvasContext, "fill");
            for (var i = 0; i < handles.length; i++) {
                canvasContext.fillRect(handles[i].x - HANDLE_RADIUS, handles[i].y - HANDLE_RADIUS, HANDLE_RADIUS * 2 + 1, HANDLE_RADIUS * 2 + 1);
            }

            strokePolygon(canvasContext, corners);
        };

        this.keyDown = function (e) {
            if (e.keyCode == 13 /* Enter */) {
                    controller.actionPerformed({ action: "CPTransformAccept" });

                    return true;
                } else if (e.keyCode == 27 /* Escape */) {
                    controller.actionPerformed({ action: "CPTransformReject" });

                    return true;
                }
        };

        this.enter = function () {
            CPMode.prototype.enter.call(this);

            // Start off with the identity transform
            var initial = artwork.transformAffineBegin(),
                initialSelection;

            affine = initial.transform;
            srcRect = initial.rect;

            // Decide on the rectangle we'll show as the boundary of the transform area
            initialSelection = initial.selection;

            /* If the user didn't have anything selected, we'll use the actual shrink-wrapped transform area instead. */
            if (initialSelection.isEmpty()) {
                initialSelection = initial.rect.clone();
            }

            origCornerPoints = new _utilCPPolygon2["default"](initialSelection.toPoints());
            cornerPoints = origCornerPoints.getTransformed(affine);

            draggingMode = -1;
            rotationAccumulator = 0;

            that.repaintAll();
        };

        this.leave = function () {
            CPMode.prototype.leave.call(this);
            that.repaintAll();
        };
    }

    CPTransformMode.prototype = Object.create(CPMode.prototype);
    CPTransformMode.prototype.constructor = CPTransformMode;

    function CPRotateCanvasMode() {
        var firstClick,
            initAngle = 0.0,
            initTransform,
            dragged = false,
            rotateButton = -1;

        this.mouseDown = function (e, button, pressure) {
            if (this.capture) {
                return true;
            } else if (!this.transient && button == BUTTON_PRIMARY && !e.altKey && !key.isPressed("space") || e.altKey && (button == BUTTON_WHEEL || button == BUTTON_PRIMARY && key.isPressed("space"))) {
                firstClick = { x: mouseX, y: mouseY };

                initAngle = that.getRotation();
                initTransform = transform.clone();

                dragged = false;

                this.capture = true;
                rotateButton = button;

                return true;
            } else if (this.transient) {
                modeStack.pop();
            }
        };

        this.mouseDrag = function (e) {
            if (this.capture) {
                var p = { x: mouseX, y: mouseY },
                    displayCenter = { x: $(canvas).width() / 2, y: $(canvas).height() / 2 },
                    canvasCenter = { x: canvas.width / 2, y: canvas.height / 2 },
                    deltaAngle = Math.atan2(p.y - displayCenter.y, p.x - displayCenter.x) - Math.atan2(firstClick.y - displayCenter.y, firstClick.x - displayCenter.x),
                    rotTrans = new _utilCPTransform2["default"]();

                rotTrans.rotateAroundPoint(deltaAngle, canvasCenter.x, canvasCenter.y);

                rotTrans.multiply(initTransform);

                that.setRotation(initAngle + deltaAngle);
                that.setOffset(~ ~rotTrans.getTranslateX(), ~ ~rotTrans.getTranslateY());

                dragged = true;

                return true;
            }
        };

        /**
         * When the mouse is released after rotation, we might want to snap our angle to the nearest 90 degree mark.
         */
        function finishRotation() {
            var ROTATE_SNAP_DEGREES = 5;

            var nearest90 = Math.round(canvasRotation / (Math.PI / 2)) * Math.PI / 2;

            if (Math.abs(canvasRotation - nearest90) < ROTATE_SNAP_DEGREES / 180 * Math.PI) {
                var deltaAngle = nearest90 - initAngle,
                    center = { x: canvas.width / 2, y: canvas.height / 2 },
                    rotTrans = new _utilCPTransform2["default"]();

                rotTrans.rotateAroundPoint(deltaAngle, center.x, center.y);

                rotTrans.multiply(initTransform);

                that.setRotation(initAngle + deltaAngle);
                that.setOffset(~ ~rotTrans.getTranslateX(), ~ ~rotTrans.getTranslateY());

                that.repaintAll();
            }
        }

        this.mouseUp = function (e, button, pressure) {
            if (this.capture && button == rotateButton) {
                if (dragged) {
                    finishRotation();
                } else {
                    that.resetRotation();
                }

                this.capture = false;

                if (this.transient && !(key.isPressed("space") && key.alt)) {
                    modeStack.pop();
                }

                return true;
            }
        };

        this.keyUp = function (e) {
            if (this.transient && rotateButton != BUTTON_WHEEL && e.keyCode == 32 /* Space */) {
                    setCursor(CURSOR_DEFAULT);

                    modeStack.pop(); // yield control to the default mode

                    return true;
                }
        };

        this.keyDown = function (e) {
            if (e.keyCode == 32 /* Space */ && e.altKey) {
                // That's our hotkey, so stay in this mode (don't forward to CPDefaultMode)
                return true;
            }
        };
    }

    CPRotateCanvasMode.prototype = Object.create(CPMode.prototype);
    CPRotateCanvasMode.prototype.constructor = CPRotateCanvasMode;

    function CPGradientFillMode() {
        // Super constructor
        CPLineMode.call(this);
    }

    CPGradientFillMode.prototype = Object.create(CPLineMode.prototype);
    CPGradientFillMode.prototype.constructor = CPGradientFillMode;

    CPGradientFillMode.prototype.drawLine = function (from, to) {
        artwork.gradientFill(Math.round(from.x), Math.round(from.y), Math.round(to.x), Math.round(to.y), controller.getCurGradient());
    };

    CPGradientFillMode.prototype.queueBrushPreview = function () {
        //Suppress the drawing of the brush preview (inherited from CPDrawingMode)
    };

    function setCursor(cursor) {
        if (canvas.getAttribute("data-cursor") != cursor) {
            canvas.setAttribute("data-cursor", cursor);
        }
    }

    /**
        * Check that we should be drawing to the current layer, and let the user know if they are being blocked by the
        * layer settings.
        *
        * @returns {boolean} True if we should draw to the current layer
        */
    function shouldDrawToThisLayer() {
        var activeLayer = artwork.getActiveLayer();

        if (!activeLayer.visible) {
            controller.showLayerNotification(artwork.getActiveLayerIndex(), "Whoops! This layer is currently hidden", "layer");

            return false;
        } else if (activeLayer.alpha == 0) {
            controller.showLayerNotification(artwork.getActiveLayerIndex(), "Whoops! This layer's opacity is currently 0%", "opacity");

            return false;
        }

        return true;
    }

    /**
     * Update the scrollbar's range/position to match the current view settings for the document.
     *
     * @param scrollbar {CPScrollbar}
     * @param visMin The smallest coordinate in this axis in which the drawing appears
     * @param visWidth The extent of the drawing in this axis
     * @param viewSize The extent of the screen canvas in this axis
     * @param offset The present pixel offset of the drawing in this axis
     */
    function updateScrollBar(scrollbar, visMin, visWidth, viewSize, offset) {
        var xMin = visMin - viewSize - offset + visWidth / 4,
            xMax = visMin + visWidth - offset - visWidth / 4;

        scrollbar.setValues(-offset, viewSize, xMin, xMax);

        scrollbar.setBlockIncrement(Math.max(1, ~ ~(viewSize * .66)));
        scrollbar.setUnitIncrement(Math.max(1, ~ ~(viewSize * .05)));
    }

    function updateScrollBars() {
        if (horzScroll == null || vertScroll == null || horzScroll.getValueIsAdjusting() || vertScroll.getValueIsAdjusting()) {
            return;
        }

        var visibleRect = getRefreshArea(new _utilCPRect2["default"](0, 0, artworkCanvas.width, artworkCanvas.height));

        updateScrollBar(horzScroll, visibleRect.left, visibleRect.getWidth(), $(canvas).width(), that.getOffset().x);
        updateScrollBar(vertScroll, visibleRect.top, visibleRect.getHeight(), $(canvas).height(), that.getOffset().y);
    }

    function updateTransform() {
        transform.setToIdentity();
        transform.translate(offsetX, offsetY);
        transform.scale(zoom, zoom);
        transform.rotate(canvasRotation);

        updateScrollBars();
        that.repaintAll();
    }

    /**
     * Convert a canvas-relative coordinate into document coordinates and return the new coordinate.
     */
    function coordToDocument(coord) {
        // TODO cache inverted transform
        return transform.getInverted().getTransformedPoint(coord);
    }

    /**
     * Convert a canvas-relative coordinate into document coordinates.
     */
    function coordToDocumentInt(coord) {
        var result = coordToDocument(coord);

        result.x = Math.floor(result.x);
        result.y = Math.floor(result.y);

        return result;
    }

    /**
     * Convert a {x: pageX, y: pageY} co-ordinate pair from a mouse event to canvas-relative coordinates.
     */
    function mouseCoordToCanvas(coord) {
        var rect = canvas.getBoundingClientRect();

        return { x: coord.x - rect.left - window.pageXOffset, y: coord.y - rect.top - window.pageYOffset };
    }

    function coordToDisplay(p) {
        return transform.getTransformedPoint(p);
    }

    function coordToDisplayInt(p) {
        var result = coordToDisplay(p);

        result.x = Math.round(result.x);
        result.y = Math.round(result.y);

        return result;
    }

    /**
        * Convert a rectangle that encloses the given document pixels into a rectangle in display coordinates.
        *
        * @param rect {CPRect}
        * @returns {*[]}
        */
    function rectToDisplay(rect) {
        var center = coordToDisplay({ x: (rect.left + rect.right) / 2, y: (rect.top + rect.bottom) / 2 }),
            coords = rect.toPoints();

        for (var i = 0; i < coords.length; i++) {
            coords[i] = coordToDisplayInt(coords[i]);

            // Need to inset the co-ordinates by 0.5 display pixels for the line to pass through the middle of the display pixel
            coords[i].x += Math.sign(center.x - coords[i].x) * 0.5;
            coords[i].y += Math.sign(center.y - coords[i].y) * 0.5;
        }

        return coords;
    }

    function strokePolygon(context, coords) {
        context.beginPath();

        context.moveTo(coords[0].x, coords[0].y);
        for (var i = 1; i < coords.length; i++) {
            context.lineTo(coords[i].x, coords[i].y);
        }
        context.lineTo(coords[0].x, coords[0].y);

        context.stroke();
    }

    /**
     * Stroke a selection rectangle that encloses the pixels in the given rectangle (in document co-ordinates).
     */
    function plotSelectionRect(context, rect) {
        strokePolygon(context, rectToDisplay(rect));
    }

    /**
     * Take a CPRect of document coordinates and return a CPRect of canvas coordinates to repaint for that region.
     */
    function getRefreshArea(r) {
        var p1 = coordToDisplayInt({ x: r.left - 1, y: r.top - 1 }),
            p2 = coordToDisplayInt({ x: r.left - 1, y: r.bottom }),
            p3 = coordToDisplayInt({ x: r.right, y: r.top - 1 }),
            p4 = coordToDisplayInt({ x: r.right, y: r.bottom }),
            r2 = new _utilCPRect2["default"](Math.min(Math.min(p1.x, p2.x), Math.min(p3.x, p4.x)), Math.min(Math.min(p1.y, p2.y), Math.min(p3.y, p4.y)), Math.max(Math.max(p1.x, p2.x), Math.max(p3.x, p4.x)) + 1, Math.max(Math.max(p1.y, p2.y), Math.max(p3.y, p4.y)) + 1);

        r2.grow(2, 2); // to be sure to include everything

        return r2;
    }

    /**
     * Adjust the current offset to bring the center of the artwork to the center of the canvas
     */
    function centerCanvas() {
        var width = canvas.width,
            height = canvas.height,
            artworkCenter = coordToDisplay({ x: artwork.width / 2, y: artwork.height / 2 });

        that.setOffset(Math.round(offsetX + width / 2.0 - artworkCenter.x), Math.round(offsetY + height / 2.0 - artworkCenter.y));
    }

    this.setZoom = function (_zoom) {
        zoom = _zoom;
        updateTransform();
    };

    this.getZoom = function () {
        return zoom;
    };

    this.setGridSize = function (_gridSize) {
        gridSize = Math.max(Math.round(_gridSize), 1);
        this.repaintAll();
    };

    this.getGridSize = function () {
        return gridSize;
    };

    this.setOffset = function (x, y) {
        if (isNaN(x) || isNaN(y)) {
            console.log("Bad offset");
        } else {
            offsetX = x;
            offsetY = y;
            updateTransform();
        }
    };

    this.getOffset = function () {
        return { x: offsetX, y: offsetY };
    };

    this.setInterpolation = function (enabled) {
        interpolation = enabled;

        (0, _utilCPPolyfill.setCanvasInterpolation)(canvasContext, enabled);

        this.repaintAll();
    };

    this.setRotation = function (angle) {
        canvasRotation = angle % (2 * Math.PI);
        updateTransform();
    };

    /**
     * Get canvas rotation in radians.
     * 
     * @return {number}
     */
    this.getRotation = function () {
        return canvasRotation;
    };

    /**
     * Get the rotation as the nearest number of whole 90 degree clockwise rotations ([0..3])
     */
    this.getRotation90 = function () {
        var rotation = Math.round(this.getRotation() / Math.PI * 2);

        // Just in case:
        rotation %= 4;

        // We want [0..3] as output
        if (rotation < 0) {
            rotation += 4;
        }

        return rotation;
    };

    /**
     *
     * @param zoom float
     * @param centerX float X co-ordinate in the canvas space
     * @param centerY float Y co-ordinate in the canvas space
     */
    function zoomOnPoint(zoom, centerX, centerY) {
        zoom = Math.max(MIN_ZOOM, Math.min(MAX_ZOOM, zoom));

        if (that.getZoom() != zoom) {
            var offset = that.getOffset();

            that.setOffset(offset.x + ~ ~((centerX - offset.x) * (1 - zoom / that.getZoom())), offset.y + ~ ~((centerY - offset.y) * (1 - zoom / that.getZoom())));

            that.setZoom(zoom);

            /*CPController.CPViewInfo viewInfo = new CPController.CPViewInfo();
            viewInfo.zoom = zoom;
            viewInfo.offsetX = offsetX;
            viewInfo.offsetY = offsetY;
            controller.callViewListeners(viewInfo); TODO */

            that.repaintAll();
        }
    }

    // More advanced zoom methods
    function zoomOnCenter(zoom) {
        var width = $(canvas).width(),
            height = $(canvas).height();

        zoomOnPoint(zoom, width / 2, height / 2);
    }

    this.zoomIn = function () {
        zoomOnCenter(this.getZoom() * 2);
    };

    this.zoomOut = function () {
        zoomOnCenter(this.getZoom() * 0.5);
    };

    this.zoom100 = function () {
        zoomOnCenter(1);
        centerCanvas();
    };

    this.resetRotation = function () {
        var center = { x: canvas.width / 2, y: canvas.height / 2 },
            rotTrans = new _utilCPTransform2["default"]();

        rotTrans.rotateAroundPoint(-this.getRotation(), center.x, center.y);
        rotTrans.multiply(transform);

        this.setOffset(~ ~rotTrans.getTranslateX(), ~ ~rotTrans.getTranslateY());
        this.setRotation(0);
    };

    /**
     * Add the pointer pressure field to the given pointer event.
     */
    function getPointerPressure(e) {
        // Use Wacom pressure in preference to pointer event pressure (if present)
        if (wacomPenDown) {
            return tablet.getPressure();
        } else {
            /* In the Pointer Events API, mice have a default pressure of 0.5, but we want 1.0. Since we can't 
             * distinguish between mice and pens at this point, we don't have any better options:
             */
            return e.pressure * 2;
        }
    }

    var mouseWheelDebounce = false;

    function handleMouseWheel(e) {
        if (e.deltaY != 0) {
            if (!mouseWheelDebounce || Math.abs(e.deltaY) > 20) {
                var factor;

                if (e.deltaY > 0) {
                    factor = 1 / 1.15;
                } else {
                    factor = 1.15;
                }

                var canvasPoint = mouseCoordToCanvas({ x: e.pageX, y: e.pageY }),
                    docPoint = coordToDocument(canvasPoint);

                if (artwork.isPointWithin(docPoint.x, docPoint.y)) {
                    zoomOnPoint(that.getZoom() * factor, canvasPoint.x, canvasPoint.y);
                } else {
                    zoomOnPoint(that.getZoom() * factor, offsetX + ~ ~(artwork.width * zoom / 2), offsetY + ~ ~(artwork.height * zoom / 2));
                }

                mouseWheelDebounce = mouseWheelDebounce || setTimeout(function () {
                    mouseWheelDebounce = false;
                }, 50);
            }

            e.preventDefault();
        }
    }

    var canvasClientRect;

    function handlePointerMove(e) {
        // Use the cached position of the canvas on the page if possible
        if (!canvasClientRect) {
            canvasClientRect = canvas.getBoundingClientRect();
        }

        /* Store these globally for the event handlers to refer to (we'd write to the event itself but some browsers
         * don't enjoy that)
         */
        mouseX = e.clientX - canvasClientRect.left;
        mouseY = e.clientY - canvasClientRect.top;

        // Flags used by e.buttons
        var FLAG_PRIMARY = 1,
            FLAG_SECONDARY = 2,
            FLAG_WHEEL = 4;

        var isDragging = e.buttons != 0,
            pressure = getPointerPressure(e);

        // Did any of our buttons change state?
        if ((e.buttons & FLAG_PRIMARY) != 0 != mouseDown[BUTTON_PRIMARY]) {
            mouseDown[BUTTON_PRIMARY] = !mouseDown[BUTTON_PRIMARY];

            if (mouseDown[BUTTON_PRIMARY]) {
                modeStack.mouseDown(e, BUTTON_PRIMARY, pressure);
            } else {
                modeStack.mouseUp(e, BUTTON_PRIMARY, pressure);
            }
        }

        if ((e.buttons & FLAG_SECONDARY) != 0 != mouseDown[BUTTON_SECONDARY]) {
            mouseDown[BUTTON_SECONDARY] = !mouseDown[BUTTON_SECONDARY];

            if (mouseDown[BUTTON_SECONDARY]) {
                modeStack.mouseDown(e, BUTTON_SECONDARY, pressure);
            } else {
                modeStack.mouseUp(e, BUTTON_SECONDARY, pressure);
            }
        }

        if ((e.buttons & FLAG_WHEEL) != 0 != mouseDown[BUTTON_WHEEL]) {
            mouseDown[BUTTON_WHEEL] = !mouseDown[BUTTON_WHEEL];

            if (mouseDown[BUTTON_WHEEL]) {
                modeStack.mouseDown(e, BUTTON_WHEEL, pressure);
            } else {
                modeStack.mouseUp(e, BUTTON_WHEEL, pressure);
            }
        }

        if (isDragging) {
            modeStack.mouseDrag(e, pressure);
        } else {
            modeStack.mouseMove(e, pressure);
        }
    }

    // Called when all mouse/pointer buttons are released
    function handlePointerUp(e) {
        mouseDown[BUTTON_PRIMARY] = false;
        mouseDown[BUTTON_SECONDARY] = false;
        mouseDown[BUTTON_WHEEL] = false;

        wacomPenDown = false;
        modeStack.mouseUp(e, e.button, 0.0);
        canvas.releasePointerCapture(e.pointerId);
    }

    // Called when the first button on the pointer is depressed / pen touches the surface
    function handlePointerDown(e) {
        canvas.setPointerCapture(e.pointerId);

        canvasClientRect = canvas.getBoundingClientRect();

        // Store these globally for the event handlers to refer to
        mouseX = e.clientX - canvasClientRect.left;
        mouseY = e.clientY - canvasClientRect.top;

        wacomPenDown = tablet.isPen();

        mouseDown[BUTTON_PRIMARY] = false;
        mouseDown[BUTTON_SECONDARY] = false;
        mouseDown[BUTTON_WHEEL] = false;

        mouseDown[e.button] = true;

        modeStack.mouseDown(e, e.button, getPointerPressure(e));
    }

    function handleKeyDown(e) {
        modeStack.keyDown(e);
    }

    function handleKeyUp(e) {
        modeStack.keyUp(e);
    }

    // Get the DOM element for the canvas area
    this.getElement = function () {
        return canvasContainer;
    };

    /**
     * Schedule a repaint for the current repaint region.
     */
    function repaint() {
        if (!scheduledRepaint) {
            scheduledRepaint = true;
            window.requestAnimationFrame(function () {
                that.paint();
            });
        }
    }

    /**
     * Schedule a repaint for the entire screen.
     */
    this.repaintAll = function () {
        repaintRegion.left = 0;
        repaintRegion.top = 0;
        repaintRegion.right = canvas.width;
        repaintRegion.bottom = canvas.height;

        repaint();
    };

    /**
     * Schedule a repaint for an area of the screen for later.
     * 
     * @param rect CPRect Region that should be repainted using display coordinates
     */
    function repaintRect(rect) {
        repaintRegion.union(rect);

        repaint();
    }

    /**
        * Set the globalCompositeOperation and fill/stroke color up to maximize contrast for the drawn items
        * against arbitrary backgrounds.
        *
        * @param canvasContext
        * @param {string} kind - "stroke" or "fill" depending on which colour you'd like to set
        */
    function setContrastingDrawStyle(canvasContext, kind) {
        kind = kind + "Style";
        canvasContext.globalCompositeOperation = 'exclusion';

        if (canvasContext.globalCompositeOperation == "exclusion") {
            // White + exclusion inverts the colors underneath, giving us good contrast
            canvasContext[kind] = 'white';
        } else {
            // IE Edge doesn't support Exclusion, so how about Difference with mid-grey instead
            // This is visible on black and white, but disappears on a grey background
            canvasContext.globalCompositeOperation = 'difference';
            canvasContext[kind] = '#888';

            // For super dumb browsers (only support source-over), at least don't make the cursor invisible on a white BG!
            if (canvasContext.globalCompositeOperation != "difference") {
                canvasContext[kind] = 'black';
            }
        }
    }

    this.paint = function () {
        var drawingWasClipped = false;

        scheduledRepaint = false;

        /* Clip drawing to the area of the screen we want to repaint */
        if (!repaintRegion.isEmpty()) {
            canvasContext.save();

            if (canvasContext.clip) {
                canvasContext.beginPath();

                repaintRegion.left = repaintRegion.left | 0;
                repaintRegion.top = repaintRegion.top | 0;

                canvasContext.rect(repaintRegion.left, repaintRegion.top, Math.ceil(repaintRegion.getWidth()), Math.ceil(repaintRegion.getHeight()));

                canvasContext.clip();
            }

            drawingWasClipped = true;
        }

        /* Copy pixels that changed in the document into our local fused image cache */
        if (!artworkUpdateRegion.isEmpty()) {
            var imageData = artwork.fusionLayers();

            artworkCanvasContext.putImageData(imageData, 0, 0, artworkUpdateRegion.left, artworkUpdateRegion.top, artworkUpdateRegion.getWidth(), artworkUpdateRegion.getHeight());

            artworkUpdateRegion.makeEmpty();
        }

        canvasContext.fillStyle = '#606060';
        canvasContext.fillRect(0, 0, canvas.width, canvas.height);

        // Transform the coordinate system to bring the document into the right position on the screen (translate/zoom/etc)
        canvasContext.save();
        {
            canvasContext.setTransform(transform.m[0], transform.m[1], transform.m[2], transform.m[3], transform.m[4], transform.m[5]);

            canvasContext.fillStyle = checkerboardPattern;
            canvasContext.fillRect(0, 0, artwork.width, artwork.height);

            canvasContext.drawImage(artworkCanvas, 0, 0, artworkCanvas.width, artworkCanvas.height);
        }
        canvasContext.restore();

        // The rest of the drawing happens using the original screen coordinate system
        setContrastingDrawStyle(canvasContext, "stroke");

        canvasContext.lineWidth = 1.0;

        // Draw the artwork selection so long as we're not in the middle of selecting a new rectangle
        if (!artwork.getSelection().isEmpty() && !(modeStack.peek() instanceof CPRectSelectionMode && modeStack.peek().capture)) {
            canvasContext.setLineDash([3, 2]);

            plotSelectionRect(canvasContext, artwork.getSelection());

            canvasContext.setLineDash([]);
        }

        // Draw grid
        if (showGrid) {
            var bounds = artwork.getBounds(),
                gridVisualPitch = zoom * gridSize;

            /* If the grid is going to be miniscule on the screen (basically just covering/inverting the entire artwork,
             * do not paint it.
             */
            if (gridVisualPitch > 2) {
                canvasContext.beginPath();

                // Vertical lines
                for (var i = gridSize - 1; i < bounds.right; i += gridSize) {
                    var p1 = coordToDisplay({ x: i, y: bounds.top }),
                        p2 = coordToDisplay({ x: i, y: bounds.bottom });

                    canvasContext.moveTo(p1.x + 0.5, p1.y + 0.5);
                    canvasContext.lineTo(p2.x + 0.5, p2.y + 0.5);
                }

                // Horizontal lines
                for (var i = gridSize - 1; i < bounds.bottom; i += gridSize) {
                    var p1 = coordToDisplay({ x: 0, y: i }),
                        p2 = coordToDisplay({ x: bounds.right, y: i });

                    canvasContext.moveTo(p1.x + 0.5, p1.y + 0.5);
                    canvasContext.lineTo(p2.x + 0.5, p2.y + 0.5);
                }

                canvasContext.stroke();
            }
        }

        // Additional drawing by the current mode
        modeStack.paint(canvasContext);

        canvasContext.globalCompositeOperation = 'source-over';

        if (drawingWasClipped) {
            repaintRegion.makeEmpty();

            canvasContext.restore();
        }
    };

    this.showGrid = function (show) {
        showGrid = show;
        this.repaintAll();
    };

    /**
     * Resize the canvas area to the given height (in pixels)
     *
     * @param {int} height New canvas area height in CSS pixels
     * @param {boolean} skipCenter True if the canvas should not be re-centered
     */
    this.resize = function (height, skipCenter) {
        // Leave room for the bottom scrollbar
        height -= $(canvasContainerBottom).outerHeight();

        $(canvas).css('height', height + "px");

        canvas.width = $(canvas).width();
        canvas.height = height;

        canvasClientRect = null;

        if (!skipCenter) {
            centerCanvas();
        }

        // Interpolation property gets reset when canvas resizes
        this.setInterpolation(interpolation);

        this.repaintAll();
    };

    controller.on("toolChange", function (tool, toolInfo) {
        var newMode = drawingModes[toolInfo.strokeMode];

        // If we currently have any drawing modes active, switch them to the drawing mode of the new tool
        for (var i = 0; i < modeStack.modes.length; i++) {
            if (modeStack.modes[i] instanceof CPDrawingMode) {
                modeStack.modes[i].leave();
                modeStack.modes[i] = newMode;
                modeStack.modes[i].enter();

                break;
            }
        }

        curDrawMode = newMode;
    });

    controller.on("modeChange", function (mode) {
        var newMode;

        switch (mode) {
            case _ChickenPaint2["default"].M_DRAW:
                newMode = curDrawMode;
                break;

            case _ChickenPaint2["default"].M_FLOODFILL:
                newMode = floodFillMode;
                break;

            case _ChickenPaint2["default"].M_GRADIENTFILL:
                newMode = gradientFillMode;
                break;

            case _ChickenPaint2["default"].M_RECT_SELECTION:
                newMode = rectSelectionMode;
                break;

            case _ChickenPaint2["default"].M_MOVE_TOOL:
                newMode = moveToolMode;
                break;

            case _ChickenPaint2["default"].M_ROTATE_CANVAS:
                newMode = rotateCanvasMode;
                break;

            case _ChickenPaint2["default"].M_COLOR_PICKER:
                newMode = colorPickerMode;
                break;

            case _ChickenPaint2["default"].M_TRANSFORM:
                newMode = transformMode;
                break;
        }

        modeStack.setUserMode(newMode);
    });

    //
    // Modes system: modes control the way the GUI is reacting to the user input
    // All the tools are implemented through modes
    //

    defaultMode = new CPDefaultMode();
    colorPickerMode = new CPColorPickerMode();
    panMode = new CPPanMode();
    rotateCanvasMode = new CPRotateCanvasMode();
    floodFillMode = new CPFloodFillMode();
    gradientFillMode = new CPGradientFillMode();
    rectSelectionMode = new CPRectSelectionMode();
    moveToolMode = new CPMoveToolMode();
    transformMode = new CPTransformMode();

    // this must correspond to the stroke modes defined in CPToolInfo
    drawingModes = [new CPFreehandMode(), new CPLineMode(), new CPBezierMode()];

    curDrawMode = drawingModes[_engineCPBrushInfo2["default"].SM_FREEHAND];

    // The default mode will handle the events that no other modes are interested in
    modeStack.setDefaultMode(defaultMode);
    modeStack.setUserMode(curDrawMode);

    artworkCanvas.width = artwork.width;
    artworkCanvas.height = artwork.height;

    canvas.width = 800;
    canvas.height = 900;
    canvas.className = "chickenpaint-canvas";
    canvas.setAttribute("touch-action", "none");

    if (!canvasContext.setLineDash) {
        canvasContext.setLineDash = function () {}; // For IE 10 and older
    }

    canvas.addEventListener("contextmenu", function (e) {
        e.preventDefault();
    });

    canvas.addEventListener("mouseenter", function () {
        mouseIn = true;
    });

    canvas.addEventListener("mouseleave", function () {
        mouseIn = false;

        if (!mouseDown[BUTTON_PRIMARY] && !mouseDown[BUTTON_SECONDARY] && !mouseDown[BUTTON_WHEEL]) {
            that.repaintAll();
        }
    });

    canvas.addEventListener("pointerdown", handlePointerDown);
    canvas.addEventListener("pointermove", handlePointerMove);
    canvas.addEventListener("pointerup", handlePointerUp);
    canvas.addEventListener("wheel", handleMouseWheel);

    document.addEventListener("keydown", handleKeyDown);
    document.addEventListener("keyup", handleKeyUp);

    /* Workaround for Chrome Mac bug that causes canvas to be disposed and never recreated when tab is switched into the 
     * background https://bugs.chromium.org/p/chromium/issues/detail?id=588434
     */
    document.addEventListener("visibilitychange", function () {
        var oldHeight = canvas.height + $(canvasContainerBottom).outerHeight();

        canvas.width = 1;
        canvas.height = 1;

        that.resize(oldHeight, true);
    }, false);

    window.addEventListener("scroll", function () {
        canvasClientRect = null;
    });

    canvas.addEventListener("mousedown", function (e) {
        if (e.button == BUTTON_WHEEL) {
            // Prevent middle-mouse scrolling in Firefox
            e.preventDefault();
        }
    });

    artwork.on("changeSelection", function () {
        // We could keep track of our last-painted selection rect and only invalidate that here
        that.repaintAll();
    });

    artwork.on("updateRegion", function (region) {
        artworkUpdateRegion.union(region);

        repaintRect(getRefreshArea(artworkUpdateRegion));
    });

    horzScroll.on("valueChanged", function (value) {
        var p = that.getOffset();

        that.setOffset(-value, p.y);
    });

    vertScroll.on("valueChanged", function (value) {
        var p = that.getOffset();

        that.setOffset(p.x, -value);
    });

    this.setInterpolation(false);

    var canvasSpacingWrapper = document.createElement("div");

    canvasSpacingWrapper.className = 'chickenpaint-canvas-container-wrapper';
    canvasSpacingWrapper.appendChild(canvas);

    canvasContainerTop.className = 'chickenpaint-canvas-container-top';
    canvasContainerTop.appendChild(canvasSpacingWrapper);
    canvasContainerTop.appendChild(vertScroll.getElement());

    canvasContainerBottom.className = 'chickenpaint-canvas-container-bottom';
    canvasContainerBottom.appendChild(horzScroll.getElement());

    canvasContainer.appendChild(canvasContainerTop);
    canvasContainer.appendChild(canvasContainerBottom);

    controller.setCanvas(this);
}

module.exports = exports["default"];

},{"../ChickenPaint":1,"../engine/CPBrushInfo":5,"../util/CPBezier":46,"../util/CPPolyfill":49,"../util/CPPolygon":50,"../util/CPRect":52,"../util/CPTransform":53,"../util/CPVector":54,"../util/CPWacomTablet":55,"../util/throttle-debounce":56,"./CPGUIUtils":26,"./CPScrollbar":34}],20:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CPCheckbox;

function CPCheckbox(state, title) {
    var canvas = document.createElement('canvas'),
        canvasContext = canvas.getContext('2d'),
        that = this;

    this.state = state || false;

    function paint() {
        var width = canvas.width,
            height = canvas.height;

        canvasContext.clearRect(0, 0, width, height);

        canvasContext.beginPath();
        canvasContext.arc(width / 2 + 1, width / 2 + 1, Math.max(width / 2, 1) - 2, 0, Math.PI * 2);

        if (that.state) {
            canvasContext.fill();
        } else {
            canvasContext.stroke();
        }
    }

    this.setValue = function (b) {
        if (this.state != b) {
            this.state = b;

            this.emitEvent('valueChange', [b]);

            paint();
        }
    };

    this.getElement = function () {
        return canvas;
    };

    canvas.addEventListener("mousedown", function (e) {
        that.setValue(!that.state);
    });

    canvas.title = title || "";
    canvas.className = 'chickenpaint-checkbox';

    canvas.width = 20;
    canvas.height = 20;

    canvas.fillStyle = 'black';
    canvas.strokeStyle = 'black';

    paint();
}

;

CPCheckbox.prototype = Object.create(EventEmitter.prototype);
CPCheckbox.prototype.constructor = CPCheckbox;
module.exports = exports['default'];

},{}],21:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CPColorPalette;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _CPPalette = require('./CPPalette');

var _CPPalette2 = _interopRequireDefault(_CPPalette);

var _CPColorSelect = require('./CPColorSelect');

var _CPColorSelect2 = _interopRequireDefault(_CPColorSelect);

var _CPColorSlider = require('./CPColorSlider');

var _CPColorSlider2 = _interopRequireDefault(_CPColorSlider);

var _utilCPColor = require("../util/CPColor");

var _utilCPColor2 = _interopRequireDefault(_utilCPColor);

function CPColorPalette(cpController) {
    _CPPalette2['default'].call(this, cpController, "color", "Color");

    var colorSelect = new _CPColorSelect2['default'](cpController),
        colorSlider = new _CPColorSlider2['default'](cpController, colorSelect),
        colorShow = new CPColorShow(cpController),
        body = this.getBodyElement(),
        topSection = document.createElement("div");

    topSection.className = 'chickenpaint-colorpicker-top';

    topSection.appendChild(colorSelect.getElement());
    topSection.appendChild(colorSlider.getElement());

    body.appendChild(topSection);
    body.appendChild(colorShow.getElement());
}

function CPColorShow(cpController) {
    var color = 0,
        element = document.createElement("div");

    function padLeft(string, padding, len) {
        while (string.length < len) {
            string = padding + string;
        }
        return string;
    }

    function paint() {
        element.style.backgroundColor = '#' + padLeft(Number(color).toString(16), "0", 6);
    }

    function mouseClick(e) {
        e.preventDefault();

        var colHex = "#" + padLeft(Number(color).toString(16), "0", 6);

        colHex = window.prompt("Please enter a color in hex format", colHex);

        if (colHex != null) {
            try {
                if (colHex.match(/^#/) || colHex.match(/^$/)) {
                    colHex = colHex.substring(1);
                }

                var newColor = parseInt(colHex, 16);

                cpController.setCurColor(new _utilCPColor2['default'](newColor));
            } catch (e) {}
        }
    }

    this.getElement = function () {
        return element;
    };

    cpController.on("colorChange", function (_color) {
        color = _color.getRgb();
        paint();
    });

    element.className = 'chickenpaint-colorpicker-show';

    element.addEventListener("click", mouseClick);

    paint();
}

CPColorPalette.prototype = Object.create(_CPPalette2['default'].prototype);
CPColorPalette.prototype.constructor = CPColorPalette;
module.exports = exports['default'];

},{"../util/CPColor":47,"./CPColorSelect":22,"./CPColorSlider":23,"./CPPalette":32}],22:[function(require,module,exports){
/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPColorSelect;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _utilCPColor = require("../util/CPColor");

var _utilCPColor2 = _interopRequireDefault(_utilCPColor);

var _engineCPColorBmp = require("../engine/CPColorBmp");

var _engineCPColorBmp2 = _interopRequireDefault(_engineCPColorBmp);

function CPColorSelect(cpController, initialColor) {
    var w = 128,
        h = 128,
        canvas = document.createElement("canvas"),
        canvasContext = canvas.getContext("2d"),
        imageData = canvasContext.createImageData(w, h),
        data = imageData.data,
        color = new _utilCPColor2["default"](),
        needRefresh = true,
        capturedMouse = false;

    function makeBitmap() {
        var col = color.clone(),
            pixIndex = 0;

        for (var y = 0; y < h; y++) {
            col.setValue(255 - y * 255 / h);

            for (var x = 0; x < w; x++) {
                col.setSaturation(x * 255 / w);

                data[pixIndex + _engineCPColorBmp2["default"].RED_BYTE_OFFSET] = col.rgb >> 16 & 0xFF;
                data[pixIndex + _engineCPColorBmp2["default"].GREEN_BYTE_OFFSET] = col.rgb >> 8 & 0xFF;
                data[pixIndex + _engineCPColorBmp2["default"].BLUE_BYTE_OFFSET] = col.rgb & 0xFF;
                data[pixIndex + _engineCPColorBmp2["default"].ALPHA_BYTE_OFFSET] = 0xFF;

                pixIndex += _engineCPColorBmp2["default"].BYTES_PER_PIXEL;
            }
        }

        needRefresh = false;
    }

    function paint() {
        if (needRefresh) {
            makeBitmap();
        }

        canvasContext.putImageData(imageData, 0, 0, 0, 0, w, h);

        var x = color.getSaturation() * w / 255,
            y = (255 - color.getValue()) * h / 255;

        canvasContext.globalCompositeOperation = 'exclusion';
        canvasContext.strokeStyle = 'white';
        canvasContext.lineWidth = 1.5;

        canvasContext.beginPath();
        canvasContext.arc(x, y, 5, 0, Math.PI * 2);
        canvasContext.stroke();

        canvasContext.globalCompositeOperation = 'source-over';
    }

    function mousePickColor(e) {
        var x = e.pageX - $(canvas).offset().left,
            y = e.pageY - $(canvas).offset().top,
            sat = x * 255 / w,
            value = 255 - y * 255 / h;

        color.setSaturation(Math.max(0, Math.min(255, sat)));
        color.setValue(Math.max(0, Math.min(255, value)));

        paint();
        cpController.setCurColor(color);
    }

    function continueDrag(e) {
        mousePickColor(e);
    }

    function endDrag(e) {
        canvas.releasePointerCapture(e.pointerId);
        capturedMouse = false;
        canvas.removeEventListener("pointerup", endDrag);
        canvas.removeEventListener("pointermove", continueDrag);
    }

    function startDrag(e) {
        if (!capturedMouse) {
            capturedMouse = true;
            canvas.setPointerCapture(e.pointerId);
            canvas.addEventListener("pointerup", endDrag);
            canvas.addEventListener("pointermove", continueDrag);
        }

        mousePickColor(e);
    }

    this.setHue = function (hue) {
        if (color.getHue() != hue) {
            color.setHue(hue);
            cpController.setCurColor(color);
        }
    };

    this.getElement = function () {
        return canvas;
    };

    cpController.on("colorChange", function (c) {
        color.copyFrom(c);

        needRefresh = true;
        paint();
    });

    canvas.addEventListener("pointerdown", startDrag);

    canvas.className = 'chickenpaint-colorpicker-select';
    canvas.setAttribute("touch-action", "none");

    canvas.width = w;
    canvas.height = h;

    if (initialColor) {
        color.copyFrom(initialColor);
    }

    paint();
}

module.exports = exports["default"];

},{"../engine/CPColorBmp":9,"../util/CPColor":47}],23:[function(require,module,exports){
/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPColorSlider;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _utilCPColor = require("../util/CPColor");

var _utilCPColor2 = _interopRequireDefault(_utilCPColor);

var _engineCPColorBmp = require("../engine/CPColorBmp");

var _engineCPColorBmp2 = _interopRequireDefault(_engineCPColorBmp);

function CPColorSlider(cpController, selecter, initialHue) {
    var that = this,
        w = 24,
        h = 128,
        canvas = document.createElement("canvas"),
        canvasContext = canvas.getContext("2d"),
        imageData = canvasContext.createImageData(w, h),
        data = imageData.data,
        capturedMouse = false,
        hue = initialHue || 0;

    function makeBitmap() {
        var color = new _utilCPColor2["default"](),
            pixIndex = 0;

        color.setRgbComponents(0, 255, 255);

        for (var y = 0; y < h; y++) {
            color.setHue(y * 359 / h);

            for (var x = 0; x < w; x++) {
                data[pixIndex + _engineCPColorBmp2["default"].RED_BYTE_OFFSET] = color.rgb >> 16 & 0xFF;
                data[pixIndex + _engineCPColorBmp2["default"].GREEN_BYTE_OFFSET] = color.rgb >> 8 & 0xFF;
                data[pixIndex + _engineCPColorBmp2["default"].BLUE_BYTE_OFFSET] = color.rgb & 0xFF;
                data[pixIndex + _engineCPColorBmp2["default"].ALPHA_BYTE_OFFSET] = 0xFF;

                pixIndex += _engineCPColorBmp2["default"].BYTES_PER_PIXEL;
            }
        }
    }

    function paint() {
        canvasContext.putImageData(imageData, 0, 0, 0, 0, w, h);

        var y = hue * h / 360;

        canvasContext.globalCompositeOperation = 'exclusion';
        canvasContext.strokeStyle = 'white';
        canvasContext.lineWidth = 1.5;

        canvasContext.beginPath();
        canvasContext.moveTo(0, y);
        canvasContext.lineTo(w, y);
        canvasContext.stroke();

        canvasContext.globalCompositeOperation = 'source-over';
    }

    function mousePickColor(e) {
        var y = e.pageY - $(canvas).offset().top,
            _hue = ~ ~(y * 360 / h);

        hue = Math.max(0, Math.min(359, _hue));
        paint();

        if (selecter != null) {
            selecter.setHue(hue);
        }
    }

    function continueDrag(e) {
        mousePickColor(e);
    }

    function endDrag(e) {
        canvas.releasePointerCapture(e.pointerId);
        capturedMouse = false;
        canvas.removeEventListener("pointerup", endDrag);
        canvas.removeEventListener("pointermove", continueDrag);
    }

    function startDrag(e) {
        if (!capturedMouse) {
            capturedMouse = true;
            canvas.setPointerCapture(e.pointerId);
            canvas.addEventListener("pointerup", endDrag);
            canvas.addEventListener("pointermove", continueDrag);
        }

        mousePickColor(e);
    }

    this.getElement = function () {
        return canvas;
    };

    this.setHue = function (h) {
        hue = h;
        paint();
    };

    cpController.on("colorChange", function (color) {
        that.setHue(color.getHue());
    });

    canvas.setAttribute("touch-action", "none");

    canvas.addEventListener("pointerdown", startDrag);

    canvas.width = w;
    canvas.height = h;

    canvas.className = 'chickenpaint-colorpicker-slider';

    makeBitmap();
    paint();
}

module.exports = exports["default"];

},{"../engine/CPColorBmp":9,"../util/CPColor":47}],24:[function(require,module,exports){
/*
    ChickenPaint

    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.

    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CPColorSwatch;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _utilCPColor = require('../util/CPColor');

var _utilCPColor2 = _interopRequireDefault(_utilCPColor);

var _CPSlider = require('./CPSlider');

var _CPSlider2 = _interopRequireDefault(_CPSlider);

var _CPColorSelect = require('./CPColorSelect');

var _CPColorSelect2 = _interopRequireDefault(_CPColorSelect);

var _CPColorSlider = require('./CPColorSlider');

var _CPColorSlider2 = _interopRequireDefault(_CPColorSlider);

function CPColorSwatch(initialColor, initialAlpha) {
    var that = this,
        color = new _utilCPColor2['default'](0),
        alpha = 255,
        element = document.createElement("div");

    function padLeft(string, padding, len) {
        while (string.length < len) {
            string = padding + string;
        }
        return string;
    }

    function paint() {
        element.style.backgroundColor = '#' + padLeft(Number(color.getRgb()).toString(16), "0", 6);
    }

    function mouseClick(e) {
        e.preventDefault();
    }

    this.getElement = function () {
        return element;
    };

    this.setColor = function (_color) {
        if (!color.isEqual(_color)) {
            color.copyFrom(_color);

            paint();

            this.emitEvent("colorChange", [color]);
        }
    };

    this.setAlpha = function (_alpha) {
        if (_alpha != alpha) {
            alpha = _alpha;

            paint();

            this.emitEvent("alphaChange", [alpha]);
        }
    };

    this.getColorRgb = function () {
        return color.getRgb();
    };

    this.getAlpha = function () {
        return alpha;
    };

    this.setCurColor = this.setColor;

    function buildColorEditPanel() {
        var panel = document.createElement("div"),
            group = document.createElement("div"),
            select = new _CPColorSelect2['default'](that, color),
            slider = new _CPColorSlider2['default'](that, select, color.getHue()),
            alphaSlider = new _CPSlider2['default'](0, 255);

        panel.className = "chickenpaint-color-pick-panel";

        group.className = "chickenpaint-colorpicker-top";

        group.appendChild(select.getElement());
        group.appendChild(slider.getElement());

        panel.appendChild(group);

        alphaSlider.value = alpha;
        alphaSlider.title = function (alpha) {
            return "Opacity: " + alpha;
        };
        alphaSlider.on("valueChange", function (alpha) {
            that.setAlpha(alpha);
        });

        panel.appendChild(alphaSlider.getElement());

        setTimeout(function () {
            alphaSlider.resize();
        }, 0);

        return panel;
    }

    element.className = 'chickenpaint-color-pick-swatch';

    element.addEventListener("click", mouseClick);

    if (initialColor) {
        color.copyFrom(initialColor);
    }

    if (initialAlpha) {
        alpha = initialAlpha;
    }

    // Clicking outside the popover will dismiss it
    function closeClickHandler(e) {
        if ($(e.target).closest(".popover").length == 0 && $(e.target).closest(".chickenpaint-color-pick-swatch")[0] != element) {
            $(element).popover("hide");
        }
    }

    $(element).popover({
        html: true,
        content: function content() {
            window.addEventListener("mousedown", closeClickHandler);

            return buildColorEditPanel();
        },
        trigger: "manual",
        placement: "bottom"

    }).on("click", function () {
        $(this).popover("toggle");
    }).on("hidden.bs.popover", function () {
        window.removeEventListener("mousedown", closeClickHandler);
    });

    paint();
}

CPColorSwatch.prototype = Object.create(EventEmitter.prototype);
CPColorSwatch.prototype.constructor = CPColorSwatch;
module.exports = exports['default'];

},{"../util/CPColor":47,"./CPColorSelect":22,"./CPColorSlider":23,"./CPSlider":37}],25:[function(require,module,exports){
/*
	ChickenPaint

	ChickenPaint is a translation of ChibiPaint from Java to JavaScript
	by Nicholas Sherlock / Chicken Smoothie.

	ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

	ChickenPaint is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	ChickenPaint is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = CPConfirmTransformDialog;

function CPConfirmTransformDialog(parent, controller) {
	var dialog = $("<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\">\n\t            <div class=\"modal-dialog\">\n\t                <div class=\"modal-content\">\n\t                    <div class=\"modal-header\">\n\t                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n\t                            <span aria-hidden=\"true\">&times;</span>\n\t                        </button>\n\t                        <h4 class=\"modal-title\">Complete transform</h4>\n\t                    </div>\n\t                    <div class=\"modal-body\">\n\t                        <p>\n\t                            You need to finish transforming this layer before you can do that. What would you like to do with the transform?\n\t\t\t\t\t\t\t</p>\n\t                    </div>\n\t                    <div class=\"modal-footer\">\n\t                        <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancel</button>\n\t                        <button type=\"button\" class=\"btn btn-default chickenpaint-reject-transform\" data-dismiss=\"modal\">Undo transform</button>\n\t                        <button type=\"button\" class=\"btn btn-primary chickenpaint-accept-transform\" data-dismiss=\"modal\">Apply transform</button>\n\t                    </div>\n\t                </div>\n\t            </div>\n\t        </div>\n\t    "),
	    that = this,
	    applyButton = $(".chickenpaint-accept-transform", dialog),
	    rejectButton = $(".chickenpaint-reject-transform", dialog);

	applyButton.click(function (e) {
		controller.actionPerformed({ action: "CPTransformAccept" });
		that.emitEvent("accept");
	});

	rejectButton.click(function (e) {
		controller.actionPerformed({ action: "CPTransformReject" });
		that.emitEvent("reject");
	});

	dialog.modal({
		show: false
	}).on('shown.bs.modal', function () {
		applyButton.focus();
	}).on("hidden.bs.modal", function (e) {
		// Destroy the modal upon close
		dialog.remove();
	}).on('keypress', function (e) {
		if (e.keyCode == 13) {
			applyButton.click();
		}
	});

	// Fix the backdrop location in the DOM by reparenting it to the chickenpaint container
	dialog.data("bs.modal").$body = $(parent);

	parent.appendChild(dialog[0]);

	this.show = function () {
		dialog.modal("show");
	};
}

CPConfirmTransformDialog.prototype = Object.create(EventEmitter.prototype);
CPConfirmTransformDialog.prototype.constructor = CPConfirmTransformDialog;
module.exports = exports["default"];

},{}],26:[function(require,module,exports){
/**
 * Create a checkerboard HTML5 CanvasPattern (which can be used for fillStyle) using the given canvas context.
 * 
 * @param canvasContext
 * @returns {CanvasPattern}
 */
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.createCheckerboardPattern = createCheckerboardPattern;

function createCheckerboardPattern(canvasContext) {
    var checkerboardCanvas = document.createElement("canvas"),
        checkerboardContext = checkerboardCanvas.getContext("2d"),
        imageData = checkerboardContext.createImageData(64, 64),
        data = imageData.data,
        pixelOffset = 0;

    for (var j = 0; j < 64; j++) {
        for (var i = 0; i < 64; i++) {
            if ((i & 0x8) != 0 ^ (j & 0x8) != 0) {
                // White
                data[pixelOffset++] = 0xff;
                data[pixelOffset++] = 0xff;
                data[pixelOffset++] = 0xff;
                data[pixelOffset++] = 0xff;
            } else {
                // Grey
                data[pixelOffset++] = 0xcc;
                data[pixelOffset++] = 0xcc;
                data[pixelOffset++] = 0xcc;
                data[pixelOffset++] = 0xff;
            }
        }
    }

    checkerboardCanvas.width = 64;
    checkerboardCanvas.height = 64;
    checkerboardContext.putImageData(imageData, 0, 0);

    return canvasContext.createPattern(checkerboardCanvas, 'repeat');
}

},{}],27:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPGridDialog;

function CPGridDialog(parent, canvas) {
    var dialog = $("<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            <h4 class=\"modal-title\">Grid options</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                            <form>\n                                <div class=\"form-group\">\n                                    <label>Grid size</label>\n                                    <input type=\"text\" class=\"form-control chickenpaint-grid-size\" value=\"\" autofocus>\n                                </div>\n                            </form>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancel</button>\n                            <button type=\"button\" class=\"btn btn-primary chickenpaint-apply-grid-settings\" data-dismiss=\"modal\">Ok</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        "),
        gridSizeElem = $(".chickenpaint-grid-size", dialog),
        applyButton = $(".chickenpaint-apply-grid-settings", dialog);

    gridSizeElem.val(canvas.getGridSize());

    $(".chickenpaint-apply-grid-settings", dialog).click(function (e) {
        var gridSize = parseInt(gridSizeElem.val(), 10);

        canvas.setGridSize(gridSize);
    });

    dialog.modal({
        show: false
    }).on('shown.bs.modal', function () {
        gridSizeElem.focus();
    }).on('keypress', function (e) {
        if (e.keyCode == 13) {
            applyButton.click();
        }
    });

    // Fix the backdrop location in the DOM by reparenting it to the chickenpaint container
    dialog.data("bs.modal").$body = $(parent);

    parent.appendChild(dialog[0]);

    this.show = function () {
        dialog.modal("show");
    };
}

module.exports = exports["default"];

},{}],28:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPLayersPalette;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _CPPalette = require("./CPPalette");

var _CPPalette2 = _interopRequireDefault(_CPPalette);

var _CPSlider = require("./CPSlider");

var _CPSlider2 = _interopRequireDefault(_CPSlider);

function CPLayersPalette(controller) {
    _CPPalette2["default"].call(this, controller, "layers", "Layers", true);

    var MODE_NAMES = ["Normal", "Multiply", "Add", "Screen", "Lighten", "Darken", "Subtract", "Dodge", "Burn", "Overlay", "Hard Light", "Soft Light", "Vivid Light", "Linear Light", "Pin Light"];

    var palette = this,
        layerH = 32,
        eyeW = 24,
        body = this.getBodyElement(),
        layerWidget = new CPLayerWidget(),
        alphaSlider = new _CPSlider2["default"](0, 100),
        blendCombo = document.createElement("select"),
        renameField = new CPRenameField(),
        cbSampleAllLayers = document.createElement("input"),
        cbLockAlpha = document.createElement("input"),
        addButton = document.createElement("li"),
        removeButton = document.createElement("li");

    function fillCombobox(combo, optionNames) {
        for (var i = 0; i < optionNames.length; i++) {
            var option = document.createElement("option");

            option.appendChild(document.createTextNode(optionNames[i]));
            option.value = i;

            combo.appendChild(option);
        }
    }

    function wrapCheckboxWithLabel(checkbox, title) {
        var div = document.createElement("div"),
            label = document.createElement("label");

        div.className = "checkbox";

        label.appendChild(checkbox);
        label.appendChild(document.createTextNode(title));

        div.appendChild(label);

        return div;
    }

    function showRenameControl(layerIndex) {
        var d = layerWidget.getCSSSize(),
            artwork = controller.getArtwork(),
            layer = artwork.getLayer(layerIndex);

        renameField.show(eyeW / window.devicePixelRatio, d.height - (layerIndex + 1) * layerH / window.devicePixelRatio, layerIndex, layer.name);
    }

    var parentSetSize = this.setSize,
        parentSetHeight = this.setHeight;

    this.setSize = function (w, h) {
        parentSetSize.call(this, w, h);

        layerWidget.resize();
        alphaSlider.resize();
    };

    this.setHeight = function (h) {
        parentSetHeight.call(this, h);

        layerWidget.resize();
    };

    function CPLayerWidget() {
        var NOTIFICATION_HIDE_DELAY_MS_PER_CHAR = 70,
            NOTIFICATION_HIDE_DELAY_MIN = 3000;

        var layerDrag,
            layerDragReally,
            layerDragIndex,
            layerDragY,
            container = document.createElement("div"),
            canvas = document.createElement("canvas"),
            canvasContext = canvas.getContext("2d"),
            oldApplyPlacement,
            notificationMessage = "",
            notificationLayerIndex = -1,
            notificationLocation = "",
            dismissTimer = false,
            that = this;

        /**
         * Get the size of the component on screen in CSS pixels.
         */
        this.getCSSSize = function () {
            return { width: $(canvas).width(), height: $(canvas).height() };
        };

        function getLayerIndex(point) {
            return Math.floor((canvas.height - point.y / $(canvas).height() * canvas.height) / layerH);
        }

        /**
         * @param layer CPLayer
         * @param selected boolean
         */
        function drawLayer(layer, selected) {
            var d = { width: canvas.width, height: canvas.height };

            if (selected) {
                canvasContext.fillStyle = '#B0B0C0';
            } else {
                canvasContext.fillStyle = 'white';
            }
            canvasContext.fillRect(0, 0, d.width, layerH);

            canvasContext.beginPath();

            canvasContext.moveTo(0, 0);
            canvasContext.lineTo(d.width, 0);

            canvasContext.moveTo(eyeW, 0);
            canvasContext.lineTo(eyeW, layerH);

            canvasContext.moveTo(eyeW + 6 * window.devicePixelRatio, layerH / 2);
            canvasContext.lineTo(d.width - 6 * window.devicePixelRatio, layerH / 2);

            canvasContext.stroke();

            canvasContext.fillStyle = 'black';

            canvasContext.fillText(layer.name, eyeW + 6 * window.devicePixelRatio, 12 * window.devicePixelRatio);
            canvasContext.fillText(MODE_NAMES[layer.blendMode] + ": " + layer.alpha + "%", eyeW + 6 * window.devicePixelRatio, layerH - 5 * window.devicePixelRatio);

            canvasContext.beginPath();
            if (layer.visible) {
                canvasContext.arc(eyeW / 2, layerH / 2, 9 * window.devicePixelRatio, 0, Math.PI * 2);
                canvasContext.fill();
            } else {
                canvasContext.arc(eyeW / 2, layerH / 2, 9 * window.devicePixelRatio, 0, Math.PI * 2);
                canvasContext.stroke();
            }
        }

        function mouseUp(e) {
            if (e.button == 0) {
                var offset = $(canvas).offset(),
                    artwork = controller.getArtwork(),
                    layers = artwork.getLayers(),
                    mouseLoc = { x: e.pageX - offset.left, y: e.pageY - offset.top },
                    layerOver = getLayerIndex(mouseLoc);

                //layerDragY = e.pageY - offset.top;

                if (layerOver >= 0 && layerOver <= layers.length && layerOver != layerDragIndex && layerOver != layerDragIndex + 1) {
                    controller.actionPerformed({ action: "CPMoveLayer", fromIndex: layerDragIndex, toIndex: layerOver });
                }

                // Do we need to repaint to erase draglines?
                if (layerDragReally) {
                    layerDragReally = false;
                    that.paint();
                }

                layerDrag = false;

                window.removeEventListener("mousemove", mouseDragged);
                window.removeEventListener("mouseup", mouseUp);
            }
        }

        function mouseDragged(e) {
            if (layerDrag) {
                layerDragReally = true;
                layerDragY = e.pageY - $(canvas).offset().top;
                that.paint();
            }
        }

        /**
         * Repaint just the layer with the specified index
         */
        this.paintLayer = function (layerIndex) {
            var layer = artwork.getLayer(layerIndex),
                layerTop = canvas.height - layerH * (layerIndex + 1);

            canvasContext.save();

            canvasContext.fillStyle = '#606060';
            canvasContext.fillRect(0, layerTop, canvas.width, layerH);

            canvasContext.strokeStyle = 'black';

            canvasContext.translate(0, layerTop);
            drawLayer(layer, layerIndex == artwork.getActiveLayerIndex());

            canvasContext.restore();
        };

        /**
         * Repaint the entire control
         */
        this.paint = function () {
            var artwork = controller.getArtwork(),
                layers = artwork.getLayers(),
                d = { width: canvas.width, height: canvas.height },
                canvasScaleFactor = canvas.height / $(canvas).height();

            canvasContext.save();

            canvasContext.fillStyle = '#606060';
            canvasContext.fillRect(0, 0, d.width, d.height - layers.length * layerH);

            canvasContext.strokeStyle = 'black';

            // Draw the list of layers, with the first layer at the bottom of the control
            canvasContext.translate(0, d.height - layerH);

            for (var i = 0; i < layers.length; i++) {
                drawLayer(layers[i], i == artwork.getActiveLayerIndex());
                canvasContext.translate(0, -layerH);
            }

            if (layerDragReally) {
                canvasContext.translate(0, layers.length * layerH - (d.height - layerH));
                canvasContext.strokeRect(0, layerDragY * canvasScaleFactor - layerH / 2, d.width, layerH);

                var layerOver = getLayerIndex({ x: 0, y: layerDragY });

                if (layerOver <= layers.length && layerOver != layerDragIndex && layerOver != layerDragIndex + 1) {
                    canvasContext.fillRect(0, d.height - layerOver * layerH - 2, d.width, 4 * window.devicePixelRatio);
                }
            }

            canvasContext.restore();
        };

        this.resize = function () {
            var artwork = controller.getArtwork(),

            // Our parent container will act as our scrollbar clip area
            parent = $(canvas).parent(),
                parentHeight = parent.height(),
                parentWidth = parent.width(),
                newWidth,
                newHeight;

            layerH = 34 * window.devicePixelRatio;
            eyeW = 24 * window.devicePixelRatio;

            newWidth = parentWidth * window.devicePixelRatio;
            newHeight = Math.max(layerH * artwork.getLayerCount(), parentHeight * window.devicePixelRatio);

            // Should we trigger a scrollbar to appear?
            if (newHeight > parentHeight * window.devicePixelRatio) {
                // Take the scrollbar width into account in our width
                newWidth -= 15 * window.devicePixelRatio;
                parent[0].style.overflowY = 'scroll';
            } else {
                parent[0].style.overflowY = 'hidden';
            }

            canvas.width = newWidth;
            canvas.height = newHeight;

            canvas.style.width = newWidth / window.devicePixelRatio + "px";
            canvas.style.height = newHeight / window.devicePixelRatio + "px";

            canvasContext.font = layerH * 0.25 + "pt sans-serif";

            this.paint();
            this.dismissNotification();
        };

        this.getElement = function () {
            return container;
        };

        canvas.addEventListener("click", function (e) {
            if (renameField.isVisible()) {
                renameField.renameAndHide();
            }
        });

        canvas.addEventListener("dblclick", function (e) {
            var offset = $(canvas).offset(),
                mouseLoc = { x: e.pageX - offset.left, y: e.pageY - offset.top },
                layerIndex = getLayerIndex(mouseLoc);

            if (mouseLoc.x * window.devicePixelRatio > eyeW && layerIndex >= 0 && layerIndex < artwork.getLayerCount()) {
                showRenameControl(layerIndex);
            }
        });

        canvas.addEventListener("mousedown", function (e) {
            var offset = $(canvas).offset(),
                mouseLoc = { x: e.pageX - offset.left, y: e.pageY - offset.top };

            /* Click, moved from mouseClicked due to problems with focus and stuff */
            if (e.button == 0) {
                /* Left button */
                var artwork = controller.getArtwork(),
                    layers = artwork.getLayers(),
                    layerIndex = getLayerIndex(mouseLoc);

                if (layerIndex >= 0 && layerIndex < artwork.getLayerCount()) {
                    var layer = artwork.getLayer(layerIndex);

                    if (mouseLoc.x / $(canvas).width() * canvas.width < eyeW) {
                        controller.actionPerformed({ action: "CPSetLayerVisibility", layerIndex: layerIndex, visible: !layer.visible });
                    } else if (artwork.getActiveLayerIndex() != layerIndex) {
                        controller.actionPerformed({ action: "CPSetActiveLayerIndex", layerIndex: layerIndex });
                    }
                }

                if (layerIndex < layers.length) {
                    layerDrag = true;
                    layerDragY = mouseLoc.y;
                    layerDragIndex = layerIndex;

                    window.addEventListener("mousemove", mouseDragged);
                    window.addEventListener("mouseup", mouseUp);
                }
            }
        });

        /**
         * Scroll the layer widget until the layer with the given index is fully visible.
         *
         * @param layerIndex
         */
        function revealLayer(layerIndex) {
            var layerWidgetPos = canvas.getBoundingClientRect(),
                scrollBoxPos = container.getBoundingClientRect(),
                scrollBoxHeight = scrollBoxPos.bottom - scrollBoxPos.top,
                layerHeight = layerH / window.devicePixelRatio,
                layerTop = layerWidgetPos.bottom - layerHeight * (layerIndex + 1),
                layerBottom = layerTop + layerHeight;

            container.scrollTop = Math.max(Math.min(Math.max(container.scrollTop, layerBottom - layerWidgetPos.top - scrollBoxHeight), layerTop - layerWidgetPos.top), 0);
        }

        this.dismissNotification = function () {
            $(canvas).popover('hide');
        };

        this.showNotification = function (layerIndex, message, where) {
            notificationMessage = message;
            notificationLayerIndex = layerIndex;

            if (artwork.getActiveLayerIndex() == layerIndex && where == "opacity") {
                notificationLocation = "opacity";
            } else {
                notificationLocation = "layer";
                revealLayer(layerIndex);
            }

            $(canvas).popover("show");

            if (dismissTimer) {
                clearTimeout(dismissTimer);
            }
            dismissTimer = setTimeout(function () {
                dismissTimer = false;
                that.dismissNotification();
            }, Math.max(Math.round(notificationMessage.length * NOTIFICATION_HIDE_DELAY_MS_PER_CHAR), NOTIFICATION_HIDE_DELAY_MIN));
        };

        /* Reposition the popover to the layer/location that the notification applies to */
        function applyNotificationPlacement(offset, placement) {
            oldApplyPlacement.call(this, offset, placement);

            var $tip = this.tip(),
                $arrow = this.arrow(),
                layerWidgetPos = canvas.getBoundingClientRect(),
                scrollBoxPos = container.getBoundingClientRect();

            switch (notificationLocation) {
                case "layer":
                    var layerMiddle = layerWidgetPos.bottom - layerH / window.devicePixelRatio * (notificationLayerIndex + 0.5);

                    layerMiddle = Math.min(Math.max(layerMiddle, scrollBoxPos.top), scrollBoxPos.bottom);

                    $tip.offset({
                        top: layerMiddle + document.body.scrollTop - $tip.height() / 2,
                        left: layerWidgetPos.left - $tip.outerWidth() - $arrow.outerWidth()
                    });
                    break;
                case "opacity":
                    var alphaSliderPos = alphaSlider.getElement().getBoundingClientRect();

                    $tip.offset({
                        top: (alphaSliderPos.top + alphaSliderPos.bottom - $tip.height()) / 2 + document.body.scrollTop,
                        left: alphaSliderPos.left - $tip.outerWidth() - $arrow.outerWidth()
                    });
                    break;
            }

            $arrow.css("top", "50%");
        }

        controller.on("layerNotification", this.showNotification.bind(this));

        $(canvas).popover({
            html: false,
            content: function content() {
                return notificationMessage;
            },
            placement: "left",
            trigger: "manual",
            container: palette.getElement()
        });

        var popover = $(canvas).data('bs.popover');

        // Save the old positioning routine so we can call it later
        oldApplyPlacement = popover.applyPlacement;

        popover.applyPlacement = applyNotificationPlacement;

        if (!window.devicePixelRatio) {
            window.devicePixelRatio = 1.0;
        }

        canvasContext.strokeStyle = 'black';

        container.className = "chickenpaint-layers-widget";
        container.appendChild(canvas);
    }

    function CPRenameField() {
        var layerIndex = -1,
            textBox = document.createElement("input"),
            that = this;

        this.hide = function () {
            layerIndex = -1;
            textBox.style.display = 'none';
        };

        this.renameAndHide = function () {
            if (artwork.getLayer(layerIndex).name != textBox.value) {
                controller.actionPerformed({ action: "CPSetLayerName", layerIndex: layerIndex, name: textBox.value });
            }

            this.hide();
        };

        this.isVisible = function () {
            return textBox.style.display != 'none';
        };

        this.setLocation = function (positionX, positionY) {
            textBox.style.left = positionX + "px";
            textBox.style.top = positionY + "px";
        };

        this.show = function (x, y, _layerIndex, layerName) {
            layerIndex = _layerIndex;
            textBox.value = layerName;
            this.setLocation(x, y);

            textBox.style.display = 'block';
            textBox.select();
        };

        this.getElement = function () {
            return textBox;
        };

        textBox.type = "text";
        textBox.className = "chickenpaint-layer-new-name form-control input-sm";
        textBox.style.display = 'none';

        textBox.addEventListener("keydown", function (e) {
            // Prevent other keyhandlers (CPCanvas) from getting their grubby hands on the input
            e.stopPropagation();
        });

        textBox.addEventListener("keypress", function (e) {
            if (e.keyCode == 13) {
                // Enter
                that.renameAndHide();
            }
            e.stopPropagation();
        });

        textBox.addEventListener("keyup", function (e) {
            if (e.keyCode == 27) {
                // Escape
                that.hide();
            }
            e.stopPropagation();
        });

        textBox.addEventListener("blur", function (e) {
            if (layerIndex != -1) {
                that.renameAndHide();
            }
        });
    }

    blendCombo.className = "form-control";
    blendCombo.title = "Layer blending mode";
    blendCombo.addEventListener("change", function (e) {
        controller.actionPerformed({ action: "CPSetLayerBlendMode", layerIndex: artwork.getActiveLayerIndex(), blendMode: parseInt(blendCombo.value, 10) });
    });

    fillCombobox(blendCombo, MODE_NAMES);

    body.appendChild(blendCombo);

    alphaSlider.title = function (value) {
        return "Opacity: " + value + "%";
    };

    alphaSlider.on("valueChange", function (value) {
        controller.actionPerformed({ action: "CPSetLayerAlpha", layerIndex: artwork.getActiveLayerIndex(), alpha: value });
    });

    body.appendChild(alphaSlider.getElement());

    cbSampleAllLayers.type = "checkbox";
    cbSampleAllLayers.addEventListener("click", function (e) {
        var artwork = controller.getArtwork();

        artwork.setSampleAllLayers(cbSampleAllLayers.checked);
    });

    body.appendChild(wrapCheckboxWithLabel(cbSampleAllLayers, "Sample all layers"));

    cbLockAlpha.type = "checkbox";
    cbLockAlpha.addEventListener("click", function (e) {
        var artwork = controller.getArtwork();

        artwork.setLockAlpha(cbLockAlpha.checked);
    });

    body.appendChild(wrapCheckboxWithLabel(cbLockAlpha, "Lock alpha"));

    layerWidget.getElement().appendChild(renameField.getElement());

    body.appendChild(layerWidget.getElement());

    // Add/Remove layer buttons
    var addRemoveContainer = document.createElement("ul");

    addRemoveContainer.className = 'chickenpaint-layer-add-remove list-unstyled';

    addButton.className = 'chickenpaint-small-toolbar-button chickenpaint-add-layer';
    addButton.title = 'Add layer';
    addButton.addEventListener("click", function () {
        controller.actionPerformed({ action: "CPAddLayer" });
    });

    removeButton.className = 'chickenpaint-small-toolbar-button chickenpaint-remove-layer';
    removeButton.title = "Delete layer";
    removeButton.addEventListener("click", function () {
        controller.actionPerformed({ action: "CPRemoveLayer" });
    });

    addRemoveContainer.appendChild(addButton);
    addRemoveContainer.appendChild(removeButton);

    body.appendChild(addRemoveContainer);

    var artwork = controller.getArtwork();

    // Set initial values
    alphaSlider.setValue(artwork.getActiveLayer().getAlpha());
    blendCombo.value = artwork.getActiveLayer().getBlendMode();

    artwork.on("changeLayer", function (layerIndex) {
        var artwork = this;

        if (artwork.getActiveLayer().getAlpha() != alphaSlider.value) {
            alphaSlider.setValue(artwork.getActiveLayer().getAlpha());
        }

        if (artwork.getActiveLayer().getBlendMode() != parseInt(blendCombo.value, 10)) {
            blendCombo.value = artwork.getActiveLayer().getBlendMode();
        }

        if (layerIndex !== undefined) {
            layerWidget.paintLayer(layerIndex);
        } else {
            // We may have added or removed layers, resize as appropriate
            layerWidget.resize();
        }

        layerWidget.dismissNotification();
    });
}

CPLayersPalette.prototype = Object.create(_CPPalette2["default"].prototype);
CPLayersPalette.prototype.constructor = CPLayersPalette;
module.exports = exports["default"];

},{"./CPPalette":32,"./CPSlider":37}],29:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPMainGUI;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _CPCanvas = require("./CPCanvas");

var _CPCanvas2 = _interopRequireDefault(_CPCanvas);

var _CPPaletteManager = require("./CPPaletteManager");

var _CPPaletteManager2 = _interopRequireDefault(_CPPaletteManager);

var _CPMainMenu = require("./CPMainMenu");

var _CPMainMenu2 = _interopRequireDefault(_CPMainMenu);

function CPMainGUI(controller, uiElem) {
    var lowerArea = document.createElement("div"),
        canvas = new _CPCanvas2["default"](controller),
        paletteManager = new _CPPaletteManager2["default"](controller),
        menuBar,
        fullScreenMode = false,
        that = this;

    this.togglePalettes = function () {
        paletteManager.togglePalettes();
    };

    this.arrangePalettes = function () {
        // Give the browser a chance to do the sizing of the palettes before we try to rearrange them
        setTimeout(paletteManager.arrangePalettes.bind(paletteManager), 0);
    };

    this.constrainPalettes = function () {
        paletteManager.constrainPalettes();
    };

    this.showPalette = function (paletteName, show) {
        paletteManager.showPaletteByName(paletteName, show);
    };

    this.getSwatches = function () {
        return paletteManager.palettes.swatches.getSwatches();
    };

    this.setSwatches = function (swatches) {
        paletteManager.palettes.swatches.setSwatches(swatches);
    };

    this.getPaletteManager = function () {
        return paletteManager;
    };

    this.setRotation = function (rotation) {
        canvas.setRotation(rotation);
    };

    this.setFullScreenMode = function (value) {
        fullScreenMode = value;

        that.resize();
        that.arrangePalettes();
    };

    this.resize = function () {
        var newHeight;

        if (fullScreenMode) {
            newHeight = $(window).height() - $(menuBar.getElement()).height();
        } else {
            newHeight = Math.min(Math.max($(window).height() - $(menuBar.getElement()).height() - 65, 500), 750);
        }

        canvas.resize(newHeight);
        that.constrainPalettes();
    };

    menuBar = new _CPMainMenu2["default"](controller, this);

    uiElem.appendChild(menuBar.getElement());

    lowerArea.className = 'chickenpaint-main-section';

    lowerArea.appendChild(canvas.getElement());
    lowerArea.appendChild(paletteManager.getElement());

    uiElem.appendChild(lowerArea);

    window.addEventListener("resize", this.resize.bind(this));

    setTimeout(this.resize.bind(this), 0);
}

CPMainGUI.prototype = Object.create(EventEmitter.prototype);
CPMainGUI.prototype.constructor = CPMainGUI;
module.exports = exports["default"];

},{"./CPCanvas":19,"./CPMainMenu":30,"./CPPaletteManager":33}],30:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPMainMenu;
var MENU_ENTRIES = [{
    name: "File",
    mnemonic: "F",
    children: [{
        name: "Save to my computer",
        action: "CPSave",
        mnemonic: "S",
        shortcut: "ctrl+s"
    }, {
        name: "Save image online",
        action: "CPSend",
        mnemonic: "S",
        shortcut: "ctrl+s"
    }]
}, {
    name: "Edit",
    mnemonic: "E",
    children: [{
        name: "Undo",
        action: "CPUndo",
        mnemonic: "U",
        shortcut: "ctrl+z",
        title: "Undoes the most recent action"
    }, {
        name: "Redo",
        action: "CPRedo",
        mnemonic: "R",
        shortcut: "shift+ctrl+z",
        title: "Redoes a previously undone action"
    }, {
        name: "Clear history",
        action: "CPClearHistory",
        mnemonic: "H",
        title: "Removes all undo/redo information to regain memory"
    }, {
        name: "-"
    }, {
        name: "Cut",
        action: "CPCut",
        mnemonic: "T",
        shortcut: "ctrl+x"
    }, {
        name: "Copy",
        action: "CPCopy",
        mnemonic: "C",
        shortcut: "ctrl+c"
    }, {
        name: "Copy merged",
        action: "CPCopyMerged",
        mnemonic: "Y",
        shortcut: "shift+ctrl+c"
    }, {
        name: "Paste",
        action: "CPPaste",
        mnemonic: "P",
        shortcut: "ctrl+v"
    }, {
        name: "-"
    }, {
        name: "Select all",
        action: "CPSelectAll",
        mnemonic: "A",
        shortcut: "ctrl+a"
    }, {
        name: "Deselect",
        action: "CPDeselectAll",
        mnemonic: "D",
        shortcut: "ctrl+d"
    }, {
        name: "-"
    }, {
        name: "Transform",
        action: "CPTransform",
        mnemonic: "T",
        shortcut: "ctrl+y"
    }]
}, {
    name: "Layers",
    mnemonic: "L",
    children: [{
        name: "Duplicate",
        action: "CPLayerDuplicate",
        mnemonic: "D",
        shortcut: "shift+ctrl+d",
        title: "Creates a copy of the currently selected layer"
    }, {
        name: "-"
    }, {
        name: "Merge down",
        action: "CPLayerMergeDown",
        mnemonic: "E",
        shortcut: "ctrl+e",
        title: "Merges the currently selected layer with the one directly below it"
    }, {
        name: "Merge all layers",
        action: "CPLayerMergeAll",
        mnemonic: "A",
        title: "Merges all the layers"
    }]
}, {
    name: "Effects",
    mnemonic: "E",
    children: [{
        name: "Clear",
        action: "CPClear",
        mnemonic: "D",
        shortcut: "del,backspace",
        title: "Clears the selected area"
    }, {
        name: "Fill",
        action: "CPFill",
        mnemonic: "F",
        shortcut: "ctrl+f",
        title: "Fills the selected area with the current color"
    }, {
        name: "Flip horizontal",
        action: "CPHFlip",
        mnemonic: "H",
        title: "Flips the current selected area horizontally"
    }, {
        name: "Flip vertical",
        action: "CPVFlip",
        mnemonic: "V",
        title: "Flips the current selected area vertically"
    }, {
        name: "Invert",
        action: "CPFXInvert",
        mnemonic: "I",
        title: "Invert the image colors"
    }, {
        name: "-"
    }, {
        name: "Box blur...",
        action: "CPFXBoxBlur",
        mnemonic: "B",
        title: "Blur effect"
    }, {
        name: "-"
    }, {
        name: "Monochromatic noise",
        action: "CPMNoise",
        mnemonic: "M",
        title: "Fills the selection with noise"
    }, {
        name: "Color noise",
        action: "CPCNoise",
        mnemonic: "C",
        title: "Fills the selection with colored noise"
    }]
}, {
    name: "View",
    mnemonic: "V",
    children: [{
        name: "Full-screen mode",
        action: "CPFullScreen",
        mnemonic: "F",
        checkbox: true,
        checked: false
    }, {
        name: "-"
    }, {
        name: "Zoom in",
        action: "CPZoomIn",
        mnemonic: "I",
        shortcut: "ctrl+=",
        title: "Zooms in"
    }, {
        name: "Zoom out",
        action: "CPZoomOut",
        mnemonic: "O",
        shortcut: "ctrl+-",
        title: "Zooms out"
    }, {
        name: "Zoom 100%",
        action: "CPZoom100",
        mnemonic: "1",
        shortcut: "ctrl+0",
        title: "Resets the zoom factor to 100%"
    }, {
        action: "CPLinearInterpolation",
        name: "-"
    }, {
        name: "Smooth-out zoomed canvas",
        action: "CPLinearInterpolation",
        mnemonic: "L",
        title: "Linear interpolation is used to give a smoothed looked to the picture when zoomed in",
        checkbox: true
    }, {
        name: "-"
    }, {
        name: "Show grid",
        action: "CPToggleGrid",
        mnemonic: "G",
        shortcut: "ctrl+g",
        title: "Displays a grid over the image",
        checkbox: true,
        checked: false
    }, {
        name: "Grid options...",
        action: "CPGridOptions",
        mnemonic: "D",
        title: "Shows the grid options dialog box"
    }]
}, {
    name: "Palettes",
    mnemonic: "P",
    children: [{
        name: "Rearrange",
        action: "CPArrangePalettes",
        title: "Rearrange the palette windows"
    }, {
        name: "Toggle palettes",
        action: "CPTogglePalettes",
        mnemonic: "P",
        shortcut: "tab",
        title: "Hides or shows all palettes"
    }, {
        name: "-"
    }, {
        name: "Show tool options",
        action: "CPPalBrush",
        mnemonic: "B",
        checkbox: true,
        checked: true
    }, {
        name: "Show color",
        action: "CPPalColor",
        mnemonic: "C",
        checkbox: true,
        checked: true
    }, {
        name: "Show layers",
        action: "CPPalLayers",
        mnemonic: "Y",
        checkbox: true,
        checked: true
    }, {
        name: "Show misc",
        action: "CPPalMisc",
        mnemonic: "M",
        checkbox: true,
        checked: true
    }, {
        name: "Show stroke",
        action: "CPPalStroke",
        mnemonic: "S",
        checkbox: true,
        checked: true
    }, {
        name: "Show swatches",
        action: "CPPalSwatches",
        mnemonic: "W",
        checkbox: true,
        checked: true
    }, {
        name: "Show textures",
        action: "CPPalTextures",
        mnemonic: "X",
        checkbox: true,
        checked: true
    }, {
        name: "Show tools",
        action: "CPPalTool",
        mnemonic: "T",
        checkbox: true,
        checked: true
    }]
}, {
    name: "Help",
    mnemonic: "H",
    children: [{
        name: "Tablet support",
        mnemonic: "T",
        action: "CPTabletSupport",
        title: "Help with getting a drawing tablet working"
    }, {
        name: "Shortcuts",
        mnemonic: "S",
        action: "CPShortcuts",
        title: "List of keyboard and mouse shortcuts"
    }, {
        name: "-"
    }, {
        name: "About",
        mnemonic: "A",
        action: "CPAbout",
        title: "Displays some information about ChickenPaint"
    }]
}];

function CPMainMenu(controller, mainGUI) {
    var bar = $('<nav class="navbar navbar-default">' + '<div class="container-fluid">' + '<div class="navbar-header">' + '<a class="navbar-brand" href="#">draw.</a>' + '</div>' + '<ul class="nav navbar-nav">' + '</ul>' + '</div>' + '</nav>'),
        macPlatform = /^Mac/i.test(navigator.platform);

    function menuItemClicked(target) {
        var action = target.data('action'),
            checkbox = target.data('checkbox'),
            selected;

        if (checkbox) {
            target.toggleClass("selected");
            selected = target.hasClass("selected");
        } else {
            selected = false;
        }

        controller.actionPerformed({
            action: action,
            checkbox: checkbox,
            selected: selected
        });
    }

    function presentShortcutText(shortcut) {
        shortcut = shortcut.toUpperCase();

        // Only show the first potential shortcut out of the comma-separated list
        shortcut = shortcut.replace(/(,.+)$/, "");

        // Although the keycode for zoom in is "=", we'll present it to the user as "+"
        shortcut = shortcut.replace("ctrl+=", "ctrl++");
        shortcut = shortcut.replace("⌘+=", "⌘++");

        if (macPlatform) {
            shortcut = shortcut.replace(/([^+])\+/g, "$1");
        } else {
            shortcut = shortcut.replace(/([^+])\+/g, "$1 ");
        }

        return shortcut;
    }

    function recurseFillMenu(menuElem, entries) {
        menuElem.append(entries.map(function (entry) {
            var entryElem;

            if (entry.action && !controller.isActionSupported(entry.action)) {
                return;
            }

            if (entry.children) {
                entryElem = $('<li class="dropdown">' + '<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">' + entry.name + ' <span class="caret"></span></a>' + '<ul class="dropdown-menu">' + '</ul>' + '</li>');

                $(".dropdown-toggle", entryElem).dropdown();

                entryElem.on("show.bs.dropdown", function () {
                    /* Instead of Bootstrap's extremely expensive data API, we'll only listen for dismiss clicks on the
                     * document *while the menu is open!*
                     */
                    $(document).one("click", function () {
                        if (entryElem.hasClass("open")) {
                            $(".dropdown-toggle", entryElem).dropdown("toggle");
                        }
                    });
                });

                recurseFillMenu($(".dropdown-menu", entryElem), entry.children);
            } else if (entry.name == '-') {
                entryElem = $('<li role="separator" class="divider"></li>');
            } else {
                entryElem = $('<li><a href="#" data-action="' + entry.action + '"><span>' + entry.name + '</span></a></li>');

                if (entry.checkbox) {
                    $("a", entryElem).data("checkbox", true).toggleClass("selected", !!entry.checked);
                }
            }

            if (entry.title) {
                entryElem.attr('title', entry.title);
            }

            if (entry.shortcut) {
                var menuLink = $("> a", entryElem),
                    shortcutDesc = document.createElement("small");

                // Rewrite the shortcuts to Mac-style
                if (macPlatform) {
                    entry.shortcut = entry.shortcut.replace(/SHIFT/im, "⇧");
                    entry.shortcut = entry.shortcut.replace(/ALT/im, "⌥");
                    entry.shortcut = entry.shortcut.replace(/CTRL/im, "⌘");
                }

                shortcutDesc.className = "chickenpaint-shortcut";
                shortcutDesc.innerHTML = presentShortcutText(entry.shortcut);

                menuLink.append(shortcutDesc);

                key(entry.shortcut, function (e) {
                    menuItemClicked(menuLink);

                    e.preventDefault();
                    e.stopPropagation();

                    return false;
                });
            }

            return entryElem;
        }));
    }

    this.getElement = function () {
        return bar[0];
    };

    recurseFillMenu($(".navbar-nav", bar), MENU_ENTRIES);

    $(bar).on('click', 'a:not(.dropdown-toggle)', function (e) {
        menuItemClicked($(this));
        e.preventDefault();
    });

    function onPaletteVisChange(paletteName, show) {
        // Toggle the tickbox of the corresponding menu entry to match the new palette visibility
        var palMenuEntry = $('[data-action=\"CPPal' + paletteName.substring(0, 1).toUpperCase() + paletteName.substring(1) + '\"]', bar);

        palMenuEntry.toggleClass("selected", show);
    }

    mainGUI.getPaletteManager().on("paletteVisChange", onPaletteVisChange);
}

module.exports = exports["default"];

},{}],31:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPMiscPalette;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _CPPalette = require('./CPPalette');

var _CPPalette2 = _interopRequireDefault(_CPPalette);

function CPMiscPalette(cpController) {
    _CPPalette2["default"].call(this, cpController, "misc", "Misc");

    var that = this,
        buttons = [{
        className: "chickenpaint-tool-zoom-in",
        command: "CPZoomIn",
        toolTip: "Zoom in"
    }, {
        className: "chickenpaint-tool-zoom-out",
        command: "CPZoomOut",
        toolTip: "Zoom out"
    }, {
        className: "chickenpaint-tool-zoom-100",
        command: "CPZoom100",
        toolTip: "Zoom 100%"
    }, {
        className: "chickenpaint-tool-undo",
        command: "CPUndo",
        toolTip: "Undo"
    }, {
        className: "chickenpaint-tool-redo",
        command: "CPRedo",
        toolTip: "Redo"
    }, {
        className: "chickenpaint-tool-send",
        command: "CPSend",
        toolTip: "Save pic"
    }];

    function buildButtons() {
        var body = that.getBodyElement(),
            listElem = document.createElement("ul");

        listElem.className = "chickenpaint-misc-tools list-unstyled";

        for (var i in buttons) {
            var button = buttons[i],
                buttonElem = document.createElement("li");

            buttonElem.className = "chickenpaint-toolbar-button " + button.className;
            buttonElem.setAttribute("data-buttonIndex", i);

            listElem.appendChild(buttonElem);
        }

        listElem.addEventListener("mousedown", function (e) {
            if (e.target && e.target.nodeName == "LI") {
                $(e.target).addClass("selected");
            }
        });

        listElem.addEventListener("mouseup", function (e) {
            if (e.target && e.target.nodeName == "LI") {
                $(e.target).removeClass("selected");
            }
        });

        listElem.addEventListener("click", function (e) {
            if (e.target && e.target.nodeName == "LI") {
                var button = buttons[parseInt(e.target.getAttribute("data-buttonIndex"), 10)];

                cpController.actionPerformed({ action: button.command });
            }
        });

        body.appendChild(listElem);
    }

    buildButtons();
}

CPMiscPalette.prototype = Object.create(_CPPalette2["default"].prototype);
CPMiscPalette.prototype.constructor = CPMiscPalette;
module.exports = exports["default"];

},{"./CPPalette":32}],32:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPPalette;

function CPPalette(cpController, className, title, resizeVert) {
    this.title = title;
    this.name = className;
    this.resizeVert = resizeVert || false;

    var containerElement = document.createElement("div"),
        headElement = document.createElement("div"),
        closeButton = document.createElement("button"),
        bodyElement = document.createElement("div"),
        vertHandle = null,
        dragOffset,
        that = this;

    this.getElement = function () {
        return containerElement;
    };

    this.getBodyElement = function () {
        return bodyElement;
    };

    this.getWidth = function () {
        return $(containerElement).outerWidth();
    };

    this.getHeight = function () {
        return $(containerElement).outerHeight();
    };

    this.getX = function () {
        return parseInt(containerElement.style.left, 10) || 0;
    };

    this.getY = function () {
        return parseInt(containerElement.style.top, 10) || 0;
    };

    this.setLocation = function (x, y) {
        containerElement.style.left = x + "px";
        containerElement.style.top = y + "px";
    };

    this.setWidth = function (width) {
        containerElement.style.width = width + "px";
    };

    this.setHeight = function (height) {
        containerElement.style.height = height + "px";
    };

    this.setSize = function (width, height) {
        this.setWidth(width);
        this.setHeight(height);
    };

    function mouseDrag(e) {
        that.setLocation(e.pageX - dragOffset.x, e.pageY - dragOffset.y);
    }

    function mouseDragRelease(e) {
        window.removeEventListener("mousemove", mouseDrag);
        window.removeEventListener("mouseup", mouseDragRelease);
    }

    function vertHandleDrag(e) {
        that.setHeight(e.pageY - $(containerElement).offset().top);
    }

    function vertHandleRelease(e) {
        window.removeEventListener("mousemove", vertHandleDrag);
        window.removeEventListener("mouseup", vertHandleRelease);
    }

    function vertHandleMouseDown(e) {
        window.addEventListener("mousemove", vertHandleDrag);
        window.addEventListener("mouseup", vertHandleRelease);
    }

    function addVertResizeHandle() {
        vertHandle = document.createElement("div");

        vertHandle.className = "chickenpaint-resize-handle-vert";

        vertHandle.addEventListener("mousedown", vertHandleMouseDown);

        containerElement.appendChild(vertHandle);
    }

    closeButton.type = "button";
    closeButton.className = "close";
    closeButton.innerHTML = "&times;";

    containerElement.className = "chickenpaint-palette chickenpaint-palette-" + className;

    headElement.className = "chickenpaint-palette-head";

    var headTitle = document.createElement("h4");

    headTitle.className = 'modal-title';
    headTitle.appendChild(document.createTextNode(this.title));

    headElement.appendChild(closeButton);
    headElement.appendChild(headTitle);

    bodyElement.className = "chickenpaint-palette-body";

    containerElement.appendChild(headElement);
    containerElement.appendChild(bodyElement);

    if (this.resizeVert) {
        addVertResizeHandle();
    }

    headElement.addEventListener("mousedown", function (e) {
        if (e.button == 0) {
            /* Left */
            if (e.target.nodeName == "BUTTON") {
                that.emitEvent("paletteVisChange", [that, false]);
            } else {
                window.addEventListener("mousemove", mouseDrag);
                window.addEventListener("mouseup", mouseDragRelease);

                dragOffset = { x: e.pageX - $(containerElement).position().left, y: e.pageY - $(containerElement).position().top };
            }
        }
    });
}

CPPalette.prototype = Object.create(EventEmitter.prototype);
CPPalette.prototype.constructor = EventEmitter;
module.exports = exports["default"];

},{}],33:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPPaletteManager;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _CPToolPalette = require("./CPToolPalette");

var _CPToolPalette2 = _interopRequireDefault(_CPToolPalette);

var _CPMiscPalette = require("./CPMiscPalette");

var _CPMiscPalette2 = _interopRequireDefault(_CPMiscPalette);

var _CPStrokePalette = require("./CPStrokePalette");

var _CPStrokePalette2 = _interopRequireDefault(_CPStrokePalette);

var _CPColorPalette = require("./CPColorPalette");

var _CPColorPalette2 = _interopRequireDefault(_CPColorPalette);

var _CPBrushPalette = require("./CPBrushPalette");

var _CPBrushPalette2 = _interopRequireDefault(_CPBrushPalette);

var _CPLayersPalette = require("./CPLayersPalette");

var _CPLayersPalette2 = _interopRequireDefault(_CPLayersPalette);

var _CPTexturePalette = require("./CPTexturePalette");

var _CPTexturePalette2 = _interopRequireDefault(_CPTexturePalette);

var _CPSwatchesPalette = require("./CPSwatchesPalette");

var _CPSwatchesPalette2 = _interopRequireDefault(_CPSwatchesPalette);

function CPPaletteManager(cpController) {
    var palettes = {
        tool: new _CPToolPalette2["default"](cpController),
        misc: new _CPMiscPalette2["default"](cpController),
        stroke: new _CPStrokePalette2["default"](cpController),
        color: new _CPColorPalette2["default"](cpController),
        brush: new _CPBrushPalette2["default"](cpController),
        layers: new _CPLayersPalette2["default"](cpController),
        textures: new _CPTexturePalette2["default"](cpController),
        swatches: new _CPSwatchesPalette2["default"](cpController)
    },
        paletteFrames = [],
        hiddenFrames = [],
        parentElem = document.createElement("div"),
        that = this;

    this.palettes = palettes;

    function showPalette(palette, show) {
        var palElement = palette.getElement();

        if (show) {
            parentElem.appendChild(palElement);
        } else {
            parentElem.removeChild(palElement);
        }
        that.emitEvent("paletteVisChange", [palette.name, show]);

        // FIXME: focus hack
        // controller.canvas.grabFocus(); TODO
    }

    this.showPaletteByName = function (paletteName, show) {
        var palette = palettes[paletteName];

        if (palette) {
            showPalette(palette, show);
        }
    };

    this.togglePalettes = function () {
        if (hiddenFrames.length == 0) {
            $("> .chickenpaint-palette", parentElem).each(function () {
                that.showPaletteByName(this.getAttribute("data-paletteName"), false);
                hiddenFrames.push(this);
            });
        } else {
            for (var i = 0; i < hiddenFrames.length; i++) {
                var frame = hiddenFrames[i];

                that.showPaletteByName(frame.getAttribute("data-paletteName"), true);
            }
            hiddenFrames = [];
        }
    };

    /**
     * Pop palettes that are currently outside the visible area back into view.
     */
    this.constrainPalettes = function () {
        var windowWidth = $(parentElem).parents(".chickenpaint-main-section").width(),
            windowHeight = $(parentElem).parents(".chickenpaint-main-section").height();

        for (var i in palettes) {
            var palette = palettes[i];

            /* Move palettes that are more than half out of the frame back into it */
            if (palette.getX() + palette.getWidth() / 2 > windowWidth) {
                palette.setLocation(windowWidth - palette.getWidth(), palette.getY());
            }

            if (palette.getY() + palette.getHeight() / 2 > windowHeight) {
                palette.setLocation(palette.getX(), windowHeight - palette.getHeight());
            }
        }

        //Move small palettes to the front so that they aren't completely hidden
        //palettes.swatches.moveToFront();

        //Special handling for the swatches palette being under the brush palette:
        var widthToSpare = windowWidth - palettes.tool.getWidth() - palettes.misc.getWidth() - palettes.stroke.getWidth() - palettes.color.getWidth() - palettes.brush.getWidth() - 15 > 0;

        if (palettes.swatches.getX() + palettes.swatches.getWidth() == palettes.brush.getX() + palettes.brush.getWidth() && Math.abs(palettes.swatches.getY() - palettes.brush.getY()) < 20) {
            palettes.swatches.setLocation(palettes.brush.getX() - palettes.swatches.getWidth() - (widthToSpare ? 5 : 1), 0);
        }

        //Special handling for layers palette being too damn tall:
        if (palettes.layers.getY() + palettes.layers.getHeight() > windowHeight) {
            palettes.layers.setHeight(Math.max(windowHeight - palettes.layers.getY(), 200));
        }
    };

    /**
     * Rearrange the palettes from scratch into a useful arrangement.
     */
    this.arrangePalettes = function () {
        var windowWidth = $(parentElem).parents(".chickenpaint-main-section").width(),
            windowHeight = $(parentElem).parents(".chickenpaint-main-section").height(),
            haveWidthToSpare = windowWidth - palettes.tool.getWidth() - palettes.misc.getWidth() - palettes.stroke.getWidth() - palettes.color.getWidth() - palettes.brush.getWidth() - 15 > 0;

        palettes.brush.setLocation(windowWidth - palettes.brush.getWidth() - 15, 0);

        var bottomOfBrush = palettes.brush.getY() + palettes.brush.getHeight();

        palettes.layers.setLocation(palettes.brush.getX(), windowHeight - bottomOfBrush > 300 ? bottomOfBrush + 2 : bottomOfBrush);
        palettes.layers.setSize(palettes.brush.getWidth(), windowHeight - palettes.layers.getY());

        palettes.tool.setLocation(0, 0);

        palettes.misc.setLocation(palettes.tool.getX() + palettes.tool.getWidth() + (haveWidthToSpare ? 5 : 1), 0);

        if (haveWidthToSpare) {
            palettes.stroke.setLocation(palettes.misc.getX() + palettes.misc.getWidth() + (haveWidthToSpare ? 5 : 1), 0);
        } else {
            palettes.stroke.setLocation(palettes.misc.getX(), palettes.misc.getY() + palettes.misc.getHeight() + 1);
        }

        palettes.swatches.setLocation(palettes.brush.getX() - palettes.swatches.getWidth() - (haveWidthToSpare ? 5 : 1), 0);

        palettes.textures.setWidth(Math.min(palettes.layers.getX() - palettes.textures.getX(), 490));
        palettes.textures.setLocation(palettes.color.getX() + palettes.color.getWidth() + 4, windowHeight - palettes.textures.getHeight());

        palettes.color.setLocation(0, Math.max(palettes.tool.getY() + palettes.tool.getHeight(), windowHeight - palettes.color.getHeight()));
    };

    this.getElement = function () {
        return parentElem;
    };

    parentElem.className = "chickenpaint-palettes";

    for (var paletteName in palettes) {
        var palette = palettes[paletteName],
            palElement = palette.getElement();

        palette.on("paletteVisChange", function () {
            showPalette(this, false);
        });

        palElement.setAttribute("data-paletteName", paletteName);
        paletteFrames.push(palElement);
    }

    for (var paletteName in palettes) {
        var palElement = palettes[paletteName].getElement();

        parentElem.appendChild(palElement);
    }
}

CPPaletteManager.prototype = Object.create(EventEmitter.prototype);
CPPaletteManager.prototype.constructor = CPPaletteManager;
module.exports = exports["default"];

},{"./CPBrushPalette":18,"./CPColorPalette":21,"./CPLayersPalette":28,"./CPMiscPalette":31,"./CPStrokePalette":39,"./CPSwatchesPalette":40,"./CPTexturePalette":42,"./CPToolPalette":43}],34:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

/**
 * @param vertical boolean
 */
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPScrollbar;

function CPScrollbar(vertical) {
    var bar = document.createElement("div"),
        handle = document.createElement("div"),
        handleInner = document.createElement("div"),
        min = 0,
        max = 1,
        offset = 0,
        visibleRange = 1,
        blockIncrement = 10,
        unitIncrement = 1,
        valueIsAdjusting = false,
        handleSize = 1,
        dragLastOffset,
        that = this;

    function updateBar() {
        var longDimension = vertical ? $(bar).height() : $(bar).width();

        /* As the size of the document approaches the size of the container, handle size grows to fill the 
         * whole track:
         */
        handleSize = visibleRange / (max - min) * longDimension;

        var handleOffset = (offset - min) / (max - min) * (longDimension - handleSize);

        handleInner.style[vertical ? "height" : "width"] = handleSize + "px";
        handle.style[vertical ? "height" : "width"] = handleSize + "px";

        handle.style[vertical ? "top" : "left"] = handleOffset + "px";
    }

    this.setValues = function (_offset, _visibleRange, _min, _max) {
        offset = _offset;
        visibleRange = _visibleRange;
        min = _min;
        max = _max;

        updateBar();
    };

    this.setBlockIncrement = function (increment) {
        blockIncrement = increment;
    };

    this.setUnitIncrement = function (increment) {
        unitIncrement = increment;
    };

    this.getElement = function () {
        return bar;
    };

    this.getValueIsAdjusting = function () {
        return valueIsAdjusting;
    };

    function onBarClick(e) {
        if (this == bar) {
            var clickPos = vertical ? e.pageY - $(bar).offset().top : e.pageX - $(bar).offset().left,
                barPos = parseInt(handle.style[vertical ? "top" : "left"], 10);

            if (clickPos < barPos) {
                offset -= blockIncrement;
            } else {
                offset += blockIncrement;
            }

            that.emitEvent("valueChanged", [offset]);
            updateBar();
        }
    }

    function onHandlePress(e) {
        e.stopPropagation();
        dragLastOffset = vertical ? e.pageY - $(bar).offset().top : e.pageX - $(bar).offset().left;

        $(handle).addClass("dragging");
        window.addEventListener("mouseup", onHandleRelease);
        window.addEventListener("mousemove", onHandleDrag);
    }

    function onHandleClick(e) {
        e.stopPropagation();
    }

    function onHandleDrag(e) {
        valueIsAdjusting = true;

        var longDimension = vertical ? $(bar).height() : $(bar).width(),
            mouseOffset = vertical ? e.pageY - $(bar).offset().top : e.pageX - $(bar).offset().left;

        offset = offset + (mouseOffset - dragLastOffset) * (max - min) / (longDimension - handleSize);

        offset = Math.min(Math.max(offset, min), max);

        dragLastOffset = mouseOffset;

        that.emitEvent("valueChanged", [offset]);
        updateBar();

        valueIsAdjusting = false;
    }

    function onHandleRelease(e) {
        e.stopPropagation();
        $(handle).removeClass("dragging");
        window.removeEventListener("mouseup", onHandleRelease);
        window.removeEventListener("mousemove", onHandleDrag);
    }

    bar.className = "chickenpaint-scrollbar " + (vertical ? "chickenpaint-scrollbar-vertical" : "chickenpaint-scrollbar-horizontal");
    handle.className = "chickenpaint-scrollbar-handle";
    handleInner.className = "chickenpaint-scrollbar-handle-inner";

    handle.appendChild(handleInner);
    bar.appendChild(handle);

    handle.addEventListener("mousedown", onHandlePress);
    handle.addEventListener("click", onHandleClick);

    bar.addEventListener("click", onBarClick);
}

CPScrollbar.prototype = Object.create(EventEmitter.prototype);
CPScrollbar.prototype.constructor = CPScrollbar;
module.exports = exports["default"];

},{}],35:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPSendDialog;

function CPSendDialog(controller, parent, resourceSaver) {
    var dialog = $("<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n                \n                    <div class=\"modal-content\" data-stage=\"saving\">\n                        <div class=\"modal-header\">\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            <h4 class=\"modal-title\">Saving drawing...</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                            <p class=\"chickenpaint-saving-progress-message\">Preparing your drawing to be saved, please wait...</p>\n                            <pre class=\"chickenpaint-saving-error-message pre-scrollable\"></pre>\n                            <div class=\"progress\">\n                                <div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 0%;\"></div>\n                            </div>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-default chickenpaint-send-cancel\" data-dismiss=\"modal\">Cancel</button>\n                        </div>\n                    </div>\n                    <div class=\"modal-content\" data-stage=\"success-not-previously-posted\" style=\"display:none\">\n                        <div class=\"modal-header\">\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            <h4 class=\"modal-title\">Drawing saved!</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                            <p>Your drawing has been saved, would you like to post it to the forum now?</p>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-primary chickenpaint-post-drawing\" data-dismiss=\"modal\">Yes, post it now</button>\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">No, keep drawing</button>\n                            <button type=\"button\" class=\"btn btn-default chickenpaint-exit\" data-dismiss=\"modal\">No, quit and I'll finish it later</button>\n                        </div>\n                    </div>\n                    <div class=\"modal-content\" data-stage=\"success-already-posted\" style=\"display:none\">\n                        <div class=\"modal-header\">\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            <h4 class=\"modal-title\">Drawing saved!</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                            <p>Your drawing has been saved, would you like to view it on the forum now?</p>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-primary chickenpaint-post-drawing\" data-dismiss=\"modal\">Yes, view the post</button>\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">No, keep drawing</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        "),
        progressMessageElem = $(".chickenpaint-saving-progress-message", dialog),
        progressError = $(".chickenpaint-saving-error-message", dialog),
        progressElem = $(".progress-bar", dialog),
        that = this;

    resourceSaver.on("savingProgress", function (progress, message) {
        progress *= 100;

        progressMessageElem.text(message);

        $(progressElem).attr("aria-valuenow", progress).css("width", progress + "%");
    });

    resourceSaver.on("savingComplete", function (progress) {
        $(".modal-content[data-stage='saving']", dialog).hide();

        if (controller.isActionSupported("CPExit")) {
            $(".modal-content[data-stage='success-not-previously-posted']", dialog).show();
        } else {
            $(".modal-content[data-stage='success-already-posted']", dialog).show();
        }
    });

    resourceSaver.on("savingFailure", function (serverMessage) {
        progressElem.addClass("progress-bar-danger");

        var errorMessage = "Sorry, your drawing could not be saved, please try again later.";

        if (serverMessage) {
            serverMessage = serverMessage.replace(/^CHIBIERROR\s*/, "");

            if (serverMessage.length > 0) {
                errorMessage += "<br><br>The error returned from the server was:";

                progressError.text(serverMessage).show();
            }

            progressMessageElem.html(errorMessage);
        }
    });

    $(".chickenpaint-post-drawing", dialog).click(function () {
        controller.actionPerformed({ action: "CPPost" });
    });

    $(".chickenpaint-exit", dialog).click(function () {
        alert("When you want to come back and finish your drawing, just click the 'new drawing' button again and " + "you can choose to continue this drawing.");
        controller.actionPerformed({ action: "CPExit" });
    });

    $(".chickenpaint-send-cancel", dialog).click(function () {
        resourceSaver.cancel();
    });

    // Destroy the modal upon close
    dialog.on("hidden.bs.modal", function (e) {
        dialog.remove();
    });

    dialog.modal({
        show: false
    });

    dialog.on('shown.bs.modal', function () {
        that.emitEvent("shown");
    });

    // Fix the backdrop location in the DOM by reparenting it to the chickenpaint container
    dialog.data("bs.modal").$body = $(parent);

    parent.appendChild(dialog[0]);

    this.show = function () {
        dialog.modal("show");
    };
}

CPSendDialog.prototype = Object.create(EventEmitter.prototype);
CPSendDialog.prototype.contructor = CPSendDialog;
module.exports = exports["default"];

},{}],36:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPShortcutsDialog;

function CPShortcutsDialog(parent) {
    var dialog = $("<div class=\"modal fade chickenpaint-shortcuts-dialog\" tabindex=\"-1\" role=\"dialog\">\n                <div class=\"modal-dialog modal-lg\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            <h4 class=\"modal-title\">Shortcuts</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                            <p>\n                                Many of the menu options and painting tools have keyboard shortcuts which are\n                                written next to them or appear when you hover.\n                            </p>\n                            <p>\n                                Here are some other shortcuts which are not as obvious!\n                            </p>\n                            <div class=\"chickenpaint-shortcuts-sections\">\n                                <div class=\"chickenpaint-shortcuts-section\">\n                                    <h5>Color swatches palette</h5>\n                                    <ul class=\"chickenpaint-shortcuts-list list-unstyled\">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class=\"chickenpaint-shortcut\"><span class=\"fa fa-mouse-pointer\"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Use as the drawing color\n                                                </dd>\n                                                <dt>\n                                                    <span class=\"chickenpaint-shortcut\"><span class=\"fa fa-mouse-pointer\"></span> Right</span>\n                                                </dt>\n                                                <dd>\n                                                    Remove or replace a color swatch\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class=\"chickenpaint-shortcuts-section\">\n                                    <h5>Line drawing mode</h5>\n                                    <ul class=\"chickenpaint-shortcuts-list list-unstyled\">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class=\"chickenpaint-shortcut\"><span class=\"chickenpaint-shortcut-key\">Shift</span> + <span class=\"fa fa-mouse-pointer\"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Snap line to nearest 45 degrees\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class=\"chickenpaint-shortcuts-section\">\n                                    <h5>Painting tools</h5>\n                                    <ul class=\"chickenpaint-shortcuts-list list-unstyled\">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class=\"chickenpaint-shortcut\"><span class=\"chickenpaint-shortcut-key\">1</span> - <span class=\"chickenpaint-shortcut-key\">9</span> , <span class=\"chickenpaint-shortcut-key\">0</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush opacity\n                                                </dd>\n                                                <dt>\n                                                    <span class=\"chickenpaint-shortcut\"><span class=\"chickenpaint-shortcut-key\">[</span> , <span class=\"chickenpaint-shortcut-key\">]</span></span>\n                                                </dt>\n                                                <dd>\n                                                    Change brush size\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class=\"chickenpaint-shortcuts-section\">\n                                    <h5>Brush palette</h5>\n                                    <ul class=\"chickenpaint-shortcuts-list list-unstyled\">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class=\"chickenpaint-shortcut\"><span class=\"fa fa-mouse-pointer\"></span> Right drag</span>\n                                                </dt>\n                                                <dd>\n                                                    Adjust brush sliders more precisely\n                                                </dd>\n                                            </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class=\"chickenpaint-shortcuts-section\">\n                                    <h5>Drawing canvas</h5>\n                                    <ul class=\"chickenpaint-shortcuts-list list-unstyled\">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class=\"chickenpaint-shortcut\"><span class=\"fa fa-mouse-pointer\"></span> Middle</span> <span class=\"chickenpaint-shortcut-alternate\">or</span> <span class=\"chickenpaint-shortcut\"><span class=\"chickenpaint-shortcut-key\">Space</span> + <span class=\"fa fa-mouse-pointer\"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Move the canvas around\n                                                </dd>\n                                                <dt>\n                                                    <span class=\"chickenpaint-shortcut\"><span class=\"chickenpaint-shortcut-key\">Alt</span> + <span class=\"fa fa-mouse-pointer\"></span> Middle</span> <span class=\"chickenpaint-shortcut-alternate\">or</span> <span class=\"chickenpaint-shortcut\"><span class=\"chickenpaint-shortcut-key\">Alt</span> + <span class=\"chickenpaint-shortcut-key\">Space</span> + <span class=\"fa fa-mouse-pointer\"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Rotate the canvas\n                                                </dd>\n                                                <dt>\n                                                    <span class=\"chickenpaint-shortcut\"><span class=\"fa fa-mouse-pointer\"></span> Right</span> <span class=\"chickenpaint-shortcut-alternate\">or</span> <span class=\"chickenpaint-shortcut\"><span class=\"chickenpaint-shortcut-key\">Alt</span> + <span class=\"fa fa-mouse-pointer\"></span> Left</span>\n                                                </dt>\n                                                <dd>\n                                                    Sample the color under the cursor\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                                <div class=\"chickenpaint-shortcuts-section\">\n                                    <h5>Layers palette</h5>\n                                    <ul class=\"chickenpaint-shortcuts-list list-unstyled\">\n                                        <li>\n                                            <dl>\n                                                <dt>\n                                                    <span class=\"chickenpaint-shortcut\"><span class=\"fa fa-mouse-pointer\"></span> Double click</span>\n                                                </dt>\n                                                <dd>\n                                                    Rename layer\n                                                </dd>\n                                             </dl>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ");

    // Destroy the modal upon close
    dialog.on("hidden.bs.modal", function (e) {
        dialog.remove();
    });

    dialog.modal({
        show: false
    });

    // Fix the backdrop location in the DOM by reparenting it to the chickenpaint container
    dialog.data("bs.modal").$body = $(parent);

    parent.appendChild(dialog[0]);

    this.show = function () {
        dialog.modal("show");
    };
}

module.exports = exports["default"];

},{}],37:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

/**
 * A simple slider control.
 */
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPSlider;

function CPSlider(minValue, maxValue, centerMode, expMode) {
    var PRECISE_DRAG_SCALE = 4,
        EXP_MODE_FACTOR = 1.5;

    var canvas = document.createElement("canvas"),
        canvasContext = canvas.getContext("2d"),
        valueRange = maxValue - minValue,
        dragNormal = false,
        dragPrecise = false,
        dragPreciseX,
        doneInitialPaint = false,
        that = this;

    this.value = undefined;

    /**
     * Either a string to draw on the slider, or a function(value) which receives the current value of the slider and
     * should return the string to be painted to the slider.
     *
     * @name CPSlider#title
     * @default ""
     */
    this.title = "";

    centerMode = centerMode || false;

    function paint() {
        var width = canvas.width,
            height = canvas.height,
            title = typeof that.title === "string" ? that.title : that.title(that.value),
            textX = 2 * window.devicePixelRatio,
            textY = canvas.height * 0.75;

        if (centerMode) {
            canvasContext.save();

            canvasContext.fillStyle = 'white';

            canvasContext.fillRect(0, 0, width, height);

            canvasContext.fillStyle = 'black';

            canvasContext.fillText(title, textX, textY);
            canvasContext.beginPath();

            if (that.value >= valueRange / 2) {
                canvasContext.rect(width / 2, 0, (that.value - valueRange / 2) * width / valueRange, height);
            } else {
                canvasContext.rect(that.value * width / valueRange, 0, (valueRange / 2 - that.value) * width / valueRange, height);
            }

            canvasContext.fill();
            canvasContext.clip();

            canvasContext.fillStyle = 'white';
            canvasContext.fillText(title, textX, textY);

            canvasContext.restore();
        } else {
            var barProp = (that.value - minValue) / valueRange,
                barWidth;

            if (expMode) {
                barProp = Math.pow(barProp, 1 / EXP_MODE_FACTOR);
            }

            barWidth = barProp * width;

            canvasContext.save();
            canvasContext.save();

            canvasContext.fillStyle = 'black';

            canvasContext.beginPath();
            canvasContext.rect(0, 0, barWidth, height);
            canvasContext.fill();

            canvasContext.clip();

            canvasContext.fillStyle = 'white';
            canvasContext.fillText(title, textX, textY);

            // Remove the clip region
            canvasContext.restore();

            canvasContext.fillStyle = 'white';

            canvasContext.beginPath();
            canvasContext.rect(barWidth, 0, width, height);
            canvasContext.fill();

            canvasContext.clip();

            canvasContext.fillStyle = 'black';
            canvasContext.fillText(title, textX, textY);

            canvasContext.restore();
        }
    }

    function mouseSelect(e) {
        var width = $(canvas).width(),
            left = $(canvas).offset().left,
            proportion = (e.pageX - left) / width;

        if (expMode) {
            // Give the user finer control over the low values
            proportion = Math.pow(Math.max(proportion, 0.0), EXP_MODE_FACTOR);
        }

        that.setValue(proportion * valueRange + minValue);
    }

    function mouseDragged(e) {
        if (dragNormal) {
            mouseSelect(e);
        } else if (dragPrecise) {
            var diff = (e.pageX - dragPreciseX) / PRECISE_DRAG_SCALE;

            if (diff != 0) {
                var unrounded = that.value + diff,
                    rounded = unrounded | 0;

                that.setValue(rounded);

                /* Tweak the "old mouseX" position such that the fractional part of the value we were unable to set
                 * will be accumulated
                 */
                dragPreciseX = e.pageX - (unrounded - rounded) * PRECISE_DRAG_SCALE;
            }
        }
    }

    function mouseUp(e) {
        if (dragNormal && e.button == 0) {
            dragNormal = false;
        } else if (dragPrecise && e.button == 2) {
            dragPrecise = false;
        } else {
            return;
        }

        canvas.releasePointerCapture(e.pointerId);
        canvas.removeEventListener("pointerup", mouseUp);
        canvas.removeEventListener("pointermove", mouseDragged);
    }

    this.setValue = function (_value) {
        _value = ~ ~Math.max(minValue, Math.min(maxValue, _value));

        if (this.value != _value) {
            this.value = _value;

            // The event listeners might like to update our title property at this point to reflect the new value
            this.emitEvent('valueChange', [this.value]);

            if (doneInitialPaint) {
                paint();
            } else {
                // We don't bother to do our canvas dimensioning until we're supplied with an initial value
                doneInitialPaint = true;
                this.resize();
            }
        }
    };

    /**
     * Get the DOM element for the slider component.
     */
    this.getElement = function () {
        return canvas;
    };

    this.resize = function () {
        canvas.width = $(canvas).width() || 150;
        canvas.height = $(canvas).height() || 20;

        if (window.devicePixelRatio > 1) {
            // Assume our width is set to 100% or similar, so we only need to the fix the height
            canvas.style.height = canvas.height + 'px';

            canvas.width = canvas.width * window.devicePixelRatio;
            canvas.height = canvas.height * window.devicePixelRatio;
        }

        canvasContext.font = canvas.height * 0.47 + 'pt sans-serif';

        paint();
    };

    canvas.addEventListener("pointerdown", function (e) {
        var dragging = dragNormal || dragPrecise;

        if (!dragging) {
            canvas.setPointerCapture(e.pointerId);

            switch (e.button) {
                case 0:
                    // Left
                    dragNormal = true;
                    mouseSelect(e);
                    break;
                case 2:
                    // Right
                    dragPrecise = true;
                    dragPreciseX = e.pageX;
                    break;
                default:
                    return;
            }

            canvas.addEventListener("pointerup", mouseUp);
            canvas.addEventListener("pointermove", mouseDragged);
        }
    });

    canvas.addEventListener("contextmenu", function (e) {
        e.preventDefault();
    });

    canvas.setAttribute("touch-action", "none");

    canvas.className = 'chickenpaint-slider';

    if (!window.devicePixelRatio) {
        // Old browsers
        window.devicePixelRatio = 1.0;
    }
}

CPSlider.prototype = Object.create(EventEmitter.prototype);
CPSlider.prototype.constructor = CPSlider;
module.exports = exports["default"];

},{}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPSplashScreen;

function CPSplashScreen(uiParent, loader, resourcesRoot) {
    var MAX_SMOOTHIE_OFFSET = 170;

    var canvas = document.createElement("canvas"),
        canvasContext = canvas.getContext("2d"),
        cup = new Image(),
        lid = new Image(),
        outlines = new Image(),
        text = new Image(),
        shading = new Image(),
        highlights = new Image(),
        smoothie = new Image(),
        images = [cup, lid, outlines, text, shading, highlights, smoothie],
        loadedCount = 0,
        cupComposite,
        smoothieComposite,
        cupCompositeContext,
        smoothieCompositeContext,
        progress = 0.0,
        message = "",
        fontHeight = 14;

    var imageRoot = resourcesRoot + "splash/";

    for (var i = 0; i < images.length; i++) {
        images[i].onload = function () {
            loadedCount++;

            if (loadedCount == images.length) {
                repaint();
            }
        };
    }

    cup.src = imageRoot + "cup.png";
    highlights.src = imageRoot + "highlights.png";
    lid.src = imageRoot + "lid.png";
    outlines.src = imageRoot + "lines.png";
    shading.src = imageRoot + "shading.png";
    smoothie.src = imageRoot + "smoothie.png";
    text.src = imageRoot + "text.png";

    function buildSmoothieComposite(imgWidth, imgHeight, progress) {
        if (!smoothieComposite) {
            smoothieComposite = document.createElement("canvas");

            smoothieComposite.width = imgWidth;
            smoothieComposite.height = imgHeight;

            smoothieCompositeContext = smoothieComposite.getContext("2d");
        }

        // First draw the smoothie in its mask position:
        smoothieCompositeContext.globalCompositeOperation = "copy";
        smoothieCompositeContext.drawImage(smoothie, 0, 0);

        // Now shift the smoothie downwards and use the original position as a mask
        smoothieCompositeContext.globalCompositeOperation = "source-in";
        smoothieCompositeContext.drawImage(smoothie, 0, Math.round(progress * MAX_SMOOTHIE_OFFSET));
    }

    function buildCupComposite(imgWidth, imgHeight, progress) {
        if (!cupComposite) {
            cupComposite = document.createElement("canvas");

            cupComposite.width = imgWidth;
            cupComposite.height = imgHeight;

            cupCompositeContext = cupComposite.getContext("2d");
        }

        cupCompositeContext.globalCompositeOperation = "copy";
        cupCompositeContext.drawImage(cup, 0, 0);

        buildSmoothieComposite(imgWidth, imgHeight, progress);

        cupCompositeContext.globalCompositeOperation = "source-over";
        cupCompositeContext.drawImage(smoothieComposite, 0, 0);

        cupCompositeContext.drawImage(lid, 0, 0);

        cupCompositeContext.globalCompositeOperation = "screen";
        cupCompositeContext.drawImage(highlights, 0, 0);

        cupCompositeContext.globalCompositeOperation = "multiply";
        cupCompositeContext.drawImage(shading, 0, 0);

        return cupComposite;
    }

    function repaint() {
        var centerX = canvas.width / 2,
            centerY = canvas.height / 2;

        canvasContext.fillStyle = 'white';
        canvasContext.fillRect(0, 0, canvas.width, canvas.height);

        if (loadedCount == images.length) {
            var imgWidth = text.width,
                imgHeight = text.height,
                left = Math.round(centerX - imgWidth / 2),
                top = Math.round(centerY - imgHeight / 2);

            canvasContext.drawImage(text, left, top);

            buildCupComposite(imgWidth, imgHeight, progress);

            //The whole cup composite is slightly transparent
            canvasContext.globalAlpha = 0.88;
            canvasContext.drawImage(cupComposite, left, top);

            canvasContext.globalAlpha = 1.0;

            canvasContext.drawImage(outlines, left, top);

            centerY = Math.round(centerY + imgHeight / 2 + 2);
        }

        if (message != "") {
            canvasContext.fillStyle = "black";

            var lines = message.split("\n");

            for (var i = 0; i < lines.length; i++) {
                var line = lines[i],
                    lineWidth = canvasContext.measureText(line).width;

                centerY += fontHeight * 2;

                canvasContext.fillText(line, centerX - lineWidth / 2, centerY);
            }
        }
    }

    function resize() {
        // Use the canvas dimensions set by the CSS styles
        canvas.width = canvas.clientWidth;
        canvas.height = canvas.clientHeight;

        canvasContext.font = fontHeight + "pt sans-serif";

        repaint();
    }

    loader.on("loadingProgress", function (_progress, _message) {
        progress = _progress;
        message = _message;

        repaint();
    });

    loader.on("loadingFailure", function (_message) {
        progress = 0;
        message = _message;

        repaint();
    });

    loader.on("loadingComplete", function () {
        window.removeEventListener("resize", resize);
        uiParent.removeChild(canvas);
    });

    window.addEventListener("resize", resize);

    canvas.className = "chickenpaint-splash-screen";

    uiParent.appendChild(canvas);

    resize();
}

module.exports = exports["default"];

},{}],39:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CPStrokePalette;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _CPPalette = require('./CPPalette');

var _CPPalette2 = _interopRequireDefault(_CPPalette);

var _engineCPBrushInfo = require('../engine/CPBrushInfo');

var _engineCPBrushInfo2 = _interopRequireDefault(_engineCPBrushInfo);

function CPStrokePalette(cpController) {
    _CPPalette2['default'].call(this, cpController, "stroke", "Stroke");

    var that = this,
        buttons = [{
        className: "chickenpaint-tool-freehand",
        command: "CPFreeHand",
        toolTip: "Free-hand",
        selected: true
    }, {
        className: "chickenpaint-tool-line",
        command: "CPLine",
        toolTip: "Straight line"
    }, {
        className: "chickenpaint-tool-bezier",
        command: "CPBezier",
        toolTip: "Bezier curve"
    }],
        body = that.getBodyElement();

    function buildButtons() {
        var listElem = document.createElement("ul");

        listElem.className = "chickenpaint-stroke-tools list-unstyled";

        for (var i in buttons) {
            var button = buttons[i],
                buttonElem = document.createElement("li");

            buttonElem.className = "chickenpaint-toolbar-button " + button.className;
            buttonElem.setAttribute("data-buttonIndex", i);

            if (button.selected) {
                buttonElem.className = buttonElem.className + " selected";
            }

            listElem.appendChild(buttonElem);
        }

        listElem.addEventListener("click", function (e) {
            if (e.target && e.target.nodeName == "LI") {
                var button = buttons[parseInt(e.target.getAttribute("data-buttonIndex"), 10)];

                $("li", listElem).removeClass("selected");
                $(e.target).addClass("selected");

                cpController.actionPerformed({ action: button.command });
            }
        });

        body.appendChild(listElem);
    }

    buildButtons();

    cpController.on("toolChange", function (tool, toolInfo) {
        $(".chickenpaint-tool-freehand", body).toggleClass("selected", toolInfo.strokeMode == _engineCPBrushInfo2['default'].SM_FREEHAND);
        $(".chickenpaint-tool-line", body).toggleClass("selected", toolInfo.strokeMode == _engineCPBrushInfo2['default'].SM_LINE);
        $(".chickenpaint-tool-bezier", body).toggleClass("selected", toolInfo.strokeMode == _engineCPBrushInfo2['default'].SM_BEZIER);
    });
}

CPStrokePalette.prototype = Object.create(_CPPalette2['default'].prototype);
CPStrokePalette.prototype.constructor = CPStrokePalette;
module.exports = exports['default'];

},{"../engine/CPBrushInfo":5,"./CPPalette":32}],40:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CPSwatchesPalette;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _CPPalette = require('./CPPalette');

var _CPPalette2 = _interopRequireDefault(_CPPalette);

var _utilCPColor = require('../util/CPColor');

var _utilCPColor2 = _interopRequireDefault(_utilCPColor);

var _utilAdobeColorTable = require('../util/AdobeColorTable');

var _utilAdobeColorTable2 = _interopRequireDefault(_utilAdobeColorTable);

function padLeft(string, padding, len) {
    while (string.length < len) {
        string = padding + string;
    }
    return string;
}

function wrapWithElem(e, wrapWithName) {
    var parent = document.createElement(wrapWithName);

    parent.appendChild(e);

    return parent;
}

function fileAPIsSupported() {
    return window.File && window.FileReader && window.FileList && window.Blob;
}

function CPSwatchesPalette(controller) {
    _CPPalette2['default'].call(this, controller, "swatches", "Color swatches");

    var INIT_COLORS = [0xffffff, 0x000000, 0xff0000, 0x00ff00, 0x0000ff, 0xffff00],
        modified = false,
        swatchPanel = document.createElement("ul"),
        buttonPanel = document.createElement("div"),
        fileInput,
        that = this;

    function CPColorSwatch(color) {
        var wrapper = document.createElement("div"),
            swatchElem = document.createElement("a"),
            swatchMenu = document.createElement("ul"),
            mnuRemove = document.createElement("a"),
            mnuSetToCurrent = document.createElement("a"),
            that = this;

        this.getElement = function () {
            return wrapper;
        };

        this.setColor = function (color) {
            swatchElem.setAttribute("data-color", color);
            swatchElem.style.backgroundColor = '#' + padLeft("" + Number(color).toString(16), "0", 6);
        };

        this.setColor(color);

        swatchElem.href = "#";
        swatchElem.className = "chickenpaint-color-swatch dropdown-toggle";
        swatchElem.setAttribute("data-toggle", "dropdown");

        mnuRemove.href = "#";
        mnuRemove.innerHTML = "Remove";

        mnuRemove.addEventListener("click", function (e) {
            e.preventDefault();
            $(wrapper).remove();

            modified = true;
        });

        mnuSetToCurrent.href = "#";
        mnuSetToCurrent.innerHTML = "Replace with current color";

        mnuSetToCurrent.addEventListener("click", function (e) {
            e.preventDefault();

            that.setColor(controller.getCurColor().getRgb());

            modified = true;
        });

        swatchMenu.className = "dropdown-menu";

        swatchMenu.appendChild(wrapWithElem(mnuRemove, "li"));
        swatchMenu.appendChild(wrapWithElem(mnuSetToCurrent, "li"));

        wrapper.className = "chickenpaint-color-swatch-wrapper";
        wrapper.appendChild(swatchElem);
        wrapper.appendChild(swatchMenu);

        $(wrapper).on("show.bs.dropdown", function () {
            var $btnDropDown = $(this).find(".dropdown-toggle"),
                $listHolder = $(this).find(".dropdown-menu");

            $listHolder.css({
                "top": $btnDropDown.position().top + $btnDropDown.outerHeight(true) + "px",
                "left": $btnDropDown.position().left + "px"
            });
        });
    }

    function clearSwatches() {
        while (swatchPanel.lastChild) {
            swatchPanel.removeChild(swatchPanel.lastChild);
        }
    }

    function addSwatch(color) {
        var swatch = new CPColorSwatch(color);

        swatchPanel.appendChild(swatch.getElement());
    }

    /**
     * Returns an array of colors in RGB 32-bit integer format
     */
    this.getSwatches = function () {
        var swatches = $(".chickenpaint-color-swatch", swatchPanel),
            colors = new Array(swatches.length);

        for (var i = 0; i < swatches.length; i++) {
            colors[i] = parseInt(swatches.get(i).getAttribute("data-color"), 10);
        }

        return colors;
    };

    this.setSwatches = function (swatches) {
        clearSwatches();

        for (var i = 0; i < swatches.length; i++) {
            addSwatch(swatches[i]);
        }

        modified = true;
    };

    this.isModified = function () {
        return modified;
    };

    function loadSwatches() {
        fileInput.onchange = function () {
            var fileList = this.files;

            if (fileList.length < 1) return;

            var file = fileList[0],
                reader = new FileReader();

            reader.onload = function () {
                var swatches = new _utilAdobeColorTable2['default']().read(this.result);

                if (swatches != null && swatches.length > 0) {
                    that.setSwatches(swatches);
                } else {
                    alert("The swatches could not be read, did you select an .aco file?");
                }
            };

            reader.readAsArrayBuffer(file);
        };

        fileInput.click();
    }

    function saveSwatches() {
        var aco = new _utilAdobeColorTable2['default']().write(that.getSwatches()),
            blob = new Blob([aco], { type: "application/octet-stream" });

        window.saveAs(blob, "oekakiswatches.aco");
    }

    function initSwatchPanel() {
        swatchPanel.className = "chickenpaint-color-swatches list-unstyled";

        for (var i = 0; i < INIT_COLORS.length; i++) {
            swatchPanel.appendChild(new CPColorSwatch(INIT_COLORS[i]).getElement());
        }

        swatchPanel.addEventListener("click", function (e) {
            var swatch = e.target;

            if (!/chickenpaint-color-swatch/.test(swatch.className)) {
                return;
            }

            if (e.button == 0 /* Left */ && swatch.getAttribute("data-color") !== undefined) {
                controller.setCurColor(new _utilCPColor2['default'](parseInt(swatch.getAttribute("data-color"), 10)));
                e.stopPropagation();
                e.preventDefault();
            }
        });

        swatchPanel.addEventListener("contextmenu", function (e) {
            var swatch = e.target;

            if (!/chickenpaint-color-swatch/.test(swatch.className)) {
                return;
            }

            e.preventDefault();

            $(swatch).dropdown("toggle").off("click.bs.dropdown"); // Remove Bootstrap's left-click handler installed by toggle
        });
    }

    function initButtonsPanel() {
        var btnSettings = document.createElement("div"),
            btnAdd = document.createElement("div"),
            settingsMenu = document.createElement("ul"),
            mnuSave = document.createElement("a"),
            mnuLoad = document.createElement("a");

        btnAdd.title = "Add the current brush color as a new swatch";
        btnAdd.className = "chickenpaint-small-toolbar-button chickenpaint-color-swatch-add";

        btnSettings.className = "chickenpaint-small-toolbar-button chickenpaint-color-swatch-settings";
        btnSettings.setAttribute("data-toggle", "dropdown");
        $(btnSettings).dropdown();

        mnuSave.href = "#";
        mnuSave.innerHTML = "Save swatches to your computer...";
        mnuSave.addEventListener("click", function (e) {
            e.preventDefault();

            saveSwatches();
        });

        mnuLoad.href = "#";
        mnuLoad.innerHTML = "Load swatches from your computer...";
        mnuLoad.addEventListener("click", function (e) {
            e.preventDefault();

            loadSwatches();
        });

        settingsMenu.className = "dropdown-menu dropdown-menu-right";

        settingsMenu.appendChild(wrapWithElem(mnuSave, "li"));
        settingsMenu.appendChild(wrapWithElem(mnuLoad, "li"));

        var btnSettingsContainer = document.createElement("div");

        btnSettingsContainer.className = 'dropdown';
        btnSettingsContainer.appendChild(btnSettings);
        btnSettingsContainer.appendChild(settingsMenu);

        $(btnSettingsContainer).on("show.bs.dropdown", function () {
            /* Instead of Bootstrap's extremely expensive data API, we'll only listen for dismiss clicks on the
             * document *while the menu is open!*
             */
            $(document).one("click", function () {
                if ($(btnSettingsContainer).hasClass("open")) {
                    $(btnSettings).dropdown("toggle");
                }
            });
        });

        btnAdd.addEventListener("click", function (e) {
            addSwatch(controller.getCurColor().getRgb());
            modified = true;
        });

        buttonPanel.className = 'chickenpaint-color-swatches-buttons';

        // Don't offer to load/save swatches if we don't have the file API needed for reading them
        if (fileAPIsSupported()) {
            fileInput = document.createElement("input");

            fileInput.type = "file";
            fileInput.multiple = false;
            fileInput.style.display = "none";

            buttonPanel.appendChild(btnSettingsContainer);
            buttonPanel.appendChild(fileInput);
        }

        buttonPanel.appendChild(btnAdd);
    }

    initSwatchPanel();
    this.getBodyElement().appendChild(swatchPanel);

    initButtonsPanel();
    this.getBodyElement().appendChild(buttonPanel);
}

CPSwatchesPalette.prototype = Object.create(_CPPalette2['default'].prototype);
CPSwatchesPalette.prototype.constructor = CPSwatchesPalette;
module.exports = exports['default'];

},{"../util/AdobeColorTable":44,"../util/CPColor":47,"./CPPalette":32}],41:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPTabletDialog;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _utilCPWacomTablet = require("../util/CPWacomTablet");

var _utilCPWacomTablet2 = _interopRequireDefault(_utilCPWacomTablet);

function CPTabletDialog(parent) {
    var dialog = $("<div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                            <h4 class=\"modal-title\">Drawing tablet support</h4>\n                        </div>\n                        <div class=\"modal-body\">\n                            <p class=\"chickenpaint-tablet-there-are-two-options\">\n                                There are two ways you could use your tablet's pen pressure support with ChickenPaint.\n                            </p>\n                            <div class=\"chickenpaint-tablet-support chickenpaint-wacom-support\">\n                                <h4>\n                                    Plugin for Wacom tablets\n                                </h4>\n                                <div class=\"chickenpaint-supported-browsers\">\n                                    <div class=\"chickenpaint-supported-browser\">\n                                        <span class=\"fa fa-internet-explorer\"></span>\n                                        IE 10, 11\n                                    </div>\n                                    <div class=\"chickenpaint-supported-browser\">\n                                        <span class=\"fa fa-firefox\"></span>\n                                        Firefox (32-bit only)\n                                    </div>\n                                    <div class=\"chickenpaint-supported-browser\">\n                                        <span class=\"fa fa-safari\"></span>\n                                        Safari\n                                    </div>\n                                        <div class=\"chickenpaint-supported-browser\">\n                                        <span class=\"fa fa-opera\"></span>\n                                        Opera\n                                    </div>\n                                </div>\n                                <p class=\"chickenpaint-not-installed\">\n                                    The plugin for Wacom tablets doesn't seem to be installed in your browser yet.\n                                </p>\n                                <p class=\"chickenpaint-not-installed\">\n                                    Please make sure that you've installed the latest drivers for your tablet from the \n                                    <a href=\"http://www.wacom.com/en-us/support/product-support/drivers\" target=\"_blank\">Wacom drivers page</a>,\n                                    then restart your browser.\n                                </p>\n                                <p class=\"chickenpaint-not-supported\">\n                                    Your browser doesn't support the Wacom tablet plugin, please \n                                    try one of the browsers listed above instead.\n                                </p>\n                                <p class=\"chickenpaint-supported alert alert-success\">\n                                    The Wacom tablet plugin is installed and working.\n                                </p>\n                            </div>\n                            <div class=\"chickenpaint-tablet-support chickenpaint-pointerevents-support\">\n                                <h4>\n                                    Built-in support for most tablets <small>including Wacom tablets</small>\n                                </h4>\n                                <div class=\"chickenpaint-supported-browsers\">\n                                    <div class=\"chickenpaint-supported-browser\">\n                                        <span class=\"fa fa-internet-explorer\"></span>\n                                        IE (Windows 8)\n                                    </div>\n                                        <div class=\"chickenpaint-supported-browser\">\n                                        <span class=\"fa fa-edge\"></span>\n                                        Edge (Windows 10)\n                                    </div>\n                                    <div class=\"chickenpaint-supported-browser\">\n                                        <span class=\"fa fa-firefox\"></span>\n                                        Firefox (<a href=\"https://github.com/thenickdude/chickenpaint/blob/master/help/Firefox pressure support.md\" target=\"_blank\">experimental <i class=\"glyphicon glyphicon-new-window\"></i></a>)\n                                    </div>\n                                    <div class=\"chickenpaint-supported-browser\">\n                                        <span class=\"fa fa-chrome\"></span>\n                                        Chrome (coming soon)\n                                    </div>\n                                </div>\n                                <p class=\"chickenpaint-not-supported\">\n                                    Your browser doesn't have built-in support for drawing tablets, please try\n                                    one of the other browsers listed above.\n                                </p>\n                                <p class=\"chickenpaint-supported alert alert-success\">\n                                    Your browser has built-in support for drawing tablets!\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n       ");

    var wacomSupportElem = $(".chickenpaint-wacom-support", dialog),
        peSupportElem = $(".chickenpaint-pointerevents-support", dialog),
        bothOptionsElem = $(".chickenpaint-tablet-there-are-two-options", dialog),
        wacomPresent = _utilCPWacomTablet2["default"].getRef().isTabletPresent(),
        peSupported = !!window.hasNativePointerEvents;

    wacomSupportElem.toggleClass("supported", wacomPresent);

    if (wacomPresent) {
        // Don't bother displaying info about Pointer Events if we have the Wacom plugin installed
        peSupportElem.hide();
        bothOptionsElem.hide();
    } else {
        // Chrome has dropped NPAPI support, so the Wacom plugin cannot be installed
        if (/Chrome/i.test(navigator.userAgent) && !/OPR/.test(navigator.userAgent) || /iPad/.test(navigator.userAgent) || /iPhone/.test(navigator.userAgent)) {
            wacomSupportElem.addClass("not-supported");
        }

        // Don't bother showing the Wacom plugin details if this browser supports pointer events
        if (peSupported) {
            wacomSupportElem.hide();
            bothOptionsElem.hide();
        }
    }

    peSupportElem.toggleClass("supported", peSupported);
    peSupportElem.toggleClass("not-supported", !peSupported);

    dialog.modal({
        show: false
    });

    // Fix the backdrop location in the DOM by reparenting it to the chickenpaint container
    dialog.data("bs.modal").$body = $(parent);

    parent.appendChild(dialog[0]);

    this.show = function () {
        dialog.modal("show");
    };
}

module.exports = exports["default"];

},{"../util/CPWacomTablet":55}],42:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CPTexturePalette;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _engineCPGreyBmp = require('../engine/CPGreyBmp');

var _engineCPGreyBmp2 = _interopRequireDefault(_engineCPGreyBmp);

var _engineCPLookUpTable = require('../engine/CPLookUpTable');

var _engineCPLookUpTable2 = _interopRequireDefault(_engineCPLookUpTable);

var _CPPalette = require('./CPPalette');

var _CPPalette2 = _interopRequireDefault(_CPPalette);

var _CPSlider = require('./CPSlider');

var _CPSlider2 = _interopRequireDefault(_CPSlider);

function wrapCheckboxWithLabel(checkbox, title) {
    var div = document.createElement("div"),
        label = document.createElement("label");

    div.className = "checkbox";

    label.appendChild(checkbox);
    label.appendChild(document.createTextNode(title));

    div.appendChild(label);

    return div;
}

function loadTextures(textureFilename, width, height, textureCount, then) {
    var img = new Image(),
        textures = [];

    img.onload = function () {
        var canvas = document.createElement("canvas"),
            canvasContext = canvas.getContext("2d");

        canvas.width = img.width;
        canvas.height = img.height;

        for (var i = 0; i < textureCount; i++) {
            canvasContext.drawImage(img, 0, i * height, width, height, 0, 0, width, height);

            try {
                var imageData = canvasContext.getImageData(0, 0, width, height),
                    texture = new _engineCPGreyBmp2['default'](width, height);

                // Take just the red channel from the image to form the new grayscale texture
                for (var j = 0; j < width * height; j++) {
                    texture.data[j] = imageData.data[j * 4];
                }

                textures.push(texture);
            } catch (e) {
                // Quietly ignore errors that occur while loading the image (e.g. cross-origin security failures)
                console.log(e);
            }
        }

        then(textures);
    };

    img.src = textureFilename;
}

function CPTexturePalette(controller) {
    _CPPalette2['default'].call(this, controller, "textures", "Textures");

    var TEXTURE_PREVIEW_SIZE = 64,
        TEXTURE_SWATCH_BUTTON_SIZE = 32,
        textures = [],
        // Array of CPGreyBmp
    selectedTexture,
        processedTexture,
        //Both CPGreyBmp

    mirror = false,
        inverse = false,
        brightness = 0.0,
        contrast = 0.0,
        optionsPanel,
        texturesPanel = document.createElement("div"),
        body = this.getBodyElement();

    /**
     * Add an array of textures to the global texture list, and add swatches for them to the UI.
     */
    function addTextures(newTextures) {
        for (var i = 0; i < newTextures.length; i++) {
            var texture = newTextures[i];

            textures.push(texture);

            var button = new CPTextureSwatch(texture, TEXTURE_SWATCH_BUTTON_SIZE, TEXTURE_SWATCH_BUTTON_SIZE);

            button.on("click", function () {
                selectedTexture = this.texture;
                updateSelectedTexture();
            });

            texturesPanel.appendChild(button.getElement());
        }
    }

    /**
     * Generate and return an array of procedurally-generated textures
     * 
     * @returns CPGreyBmp[]
     */
    function makeProceduralTextures() {
        var result = [null];

        var texture = new _engineCPGreyBmp2['default'](2, 2);
        texture.data[0] = 0xFF;
        texture.data[3] = 0xFF;
        result.push(texture);

        result.push(makeDotTexture(2));
        result.push(makeDotTexture(3));
        result.push(makeDotTexture(4));
        result.push(makeDotTexture(6));
        result.push(makeDotTexture(8));

        result.push(makeVertLinesTexture(1, 2));
        result.push(makeVertLinesTexture(2, 4));

        result.push(makeHorizLinesTexture(1, 2));
        result.push(makeHorizLinesTexture(2, 4));

        result.push(makeCheckerBoardTexture(2));
        result.push(makeCheckerBoardTexture(4));
        result.push(makeCheckerBoardTexture(8));
        result.push(makeCheckerBoardTexture(16));

        return result;
    }

    /**
     * @param size int
     * 
     * @returns CPGreyBmp
     */
    function makeDotTexture(size) {
        var texture = new _engineCPGreyBmp2['default'](size, size);

        for (var i = 1; i < size * size; i++) {
            texture.data[i] = 0xFF;
        }
        return texture;
    }

    /**
     * Make a checkerboard texture of the given dimensions.
     * 
     * @param size int
     * 
     * @returns CPGreyBmp
     */
    function makeCheckerBoardTexture(size) {
        var textureSize = 2 * size,
            texture = new _engineCPGreyBmp2['default'](textureSize, textureSize);

        for (var i = 0; i < textureSize; i++) {
            for (var j = 0; j < textureSize; j++) {
                texture.data[i + j * textureSize] = (~ ~(i / size) + ~ ~(j / size)) % 2 == 0 ? 0 : 0xFF;
            }
        }

        return texture;
    }

    /**
     * Make a texture consisting of a series of evenly-spaced vertical lines
     * 
     * @param lineSize int
     * @param size int
     * 
     * @returns CPGreyBmp
     */
    function makeVertLinesTexture(lineSize, size) {
        var texture = new _engineCPGreyBmp2['default'](size, size);

        for (var i = 0; i < size * size; i++) {
            if (~ ~(i % size) >= lineSize) {
                texture.data[i] = 0xFF;
            }
        }

        return texture;
    }

    /**
     * Make a texture consisting of a series of evenly-spaced horizontal lines
     *
     * @param lineSize int
     * @param size int
     * 
     * @returns CPGreyBmp
     */
    function makeHorizLinesTexture(lineSize, size) {
        var texture = new _engineCPGreyBmp2['default'](size, size);

        for (var i = 0; i < size * size; i++) {
            if (i / size >= lineSize) {
                texture.data[i] = 0xFF;
            }
        }

        return texture;
    }

    function updateSelectedTexture() {
        if (selectedTexture != null) {
            processedTexture = selectedTexture.clone();

            if (mirror) {
                processedTexture.mirrorHorizontally();
            }

            var lut = new _engineCPLookUpTable2['default']();

            lut.loadBrightnessContrast(brightness, contrast);

            if (inverse) {
                lut.invert();
            }

            processedTexture.applyLUT(lut);
        } else {
            processedTexture = null;
        }

        controller.getArtwork().setBrushTexture(processedTexture);

        if (optionsPanel != null) {
            optionsPanel.updateTexture();
        }
    }

    function CPTextureOptionsPanel() {
        var panel = document.createElement("div"),
            cbInverse = document.createElement("input"),
            cbMirror = document.createElement("input"),
            slBrightness = new _CPSlider2['default'](0, 200, true),
            slContrast = new _CPSlider2['default'](0, 200, true),
            sampleSwatch = new CPTextureSwatch(null, TEXTURE_PREVIEW_SIZE, TEXTURE_PREVIEW_SIZE),
            btnCustomize = document.createElement("button"),
            textureControlsPanel;

        function updatePopoverControls() {
            cbInverse.checked = inverse;
            cbMirror.checked = mirror;

            slBrightness.setValue(brightness * 100 + 100);
            slContrast.setValue(contrast * 100 + 100);
        }

        function buildTextureControlsPanel() {
            var panel = document.createElement("div");

            cbInverse.type = "checkbox";
            cbInverse.addEventListener("click", function (e) {
                inverse = this.checked;
                updateSelectedTexture();
            });

            panel.appendChild(wrapCheckboxWithLabel(cbInverse, "Inverse"));

            cbMirror.type = "checkbox";
            cbMirror.addEventListener("click", function (e) {
                mirror = this.checked;
                updateSelectedTexture();
            });

            panel.appendChild(wrapCheckboxWithLabel(cbMirror, "Mirror"));

            slBrightness.title = function (value) {
                return "Brightness: " + (value - 100) + "%";
            };

            slBrightness.on("valueChange", function (value) {
                brightness = (value - 100) / 100.0;

                updateSelectedTexture();
            });

            panel.appendChild(slBrightness.getElement());

            slContrast.title = function (value) {
                return "Contrast: " + (value - 100) + "%";
            };

            slContrast.on("valueChange", function (value) {
                contrast = (value - 100) / 100;

                updateSelectedTexture();
            });

            panel.appendChild(slContrast.getElement());

            var okayButton = document.createElement("button"),
                resetButton = document.createElement("button");

            okayButton.innerHTML = "Ok";
            okayButton.className = "btn btn-primary btn-sm";
            okayButton.type = "button";

            okayButton.addEventListener("click", function (e) {
                $(btnCustomize).popover('hide');
            });

            panel.appendChild(okayButton);
            panel.appendChild(document.createTextNode(" "));

            resetButton.innerHTML = "Reset";
            resetButton.className = "btn btn-default btn-sm";
            resetButton.type = "button";

            resetButton.addEventListener("click", function (e) {
                brightness = 0;
                contrast = 0;
                mirror = false;
                inverse = false;

                updatePopoverControls();
                updateSelectedTexture();
            });

            panel.appendChild(resetButton);

            updatePopoverControls();

            return panel;
        }

        // TODO use events instead
        this.updateTexture = function () {
            btnCustomize.disabled = processedTexture == null;
            sampleSwatch.setTexture(processedTexture);
        };

        this.getElement = function () {
            return panel;
        };

        panel.className = "chickenpaint-texture-options";
        panel.appendChild(sampleSwatch.getElement());

        btnCustomize.type = "button";
        btnCustomize.className = "btn btn-default btn-sm";
        btnCustomize.innerHTML = "Customize";

        textureControlsPanel = buildTextureControlsPanel();

        $(btnCustomize).popover({
            html: true,
            content: function content() {
                return textureControlsPanel;
            },
            trigger: "manual"
        }).on("click", function () {
            $(this).popover("toggle");
        });

        panel.appendChild(btnCustomize);

        this.updateTexture();
    }

    function CPTextureSwatch(texture, width, height) {
        var canvas = document.createElement("canvas"),
            canvasContext = canvas.getContext("2d"),
            that = this;

        this.setTexture = function (texture) {
            this.texture = texture;

            this.paint();
        };

        this.getElement = function () {
            return canvas;
        };

        this.paint = function () {
            if (this.texture != null) {
                canvasContext.fillStyle = canvasContext.createPattern(this.texture.toCanvas(), "repeat");
            } else {
                canvasContext.fillStyle = 'white';
            }
            canvasContext.fillRect(0, 0, canvas.width, canvas.height);
        };

        canvas.addEventListener("click", function () {
            that.emit("click");
        });

        canvas.width = width;
        canvas.height = height;

        this.setTexture(texture);
    }

    CPTextureSwatch.prototype = Object.create(EventEmitter.prototype);
    CPTextureSwatch.prototype.constructor = CPTextureSwatch;

    optionsPanel = new CPTextureOptionsPanel();

    body.appendChild(optionsPanel.getElement());

    texturesPanel.className = 'chickenpaint-texture-swatches';

    body.appendChild(texturesPanel);

    addTextures(makeProceduralTextures());

    loadTextures(controller.getResourcesRoot() + "gfx/textures32.png", 32, 32, 2, function (loadedTextures) {
        addTextures(loadedTextures);
    });
}

CPTexturePalette.prototype = Object.create(_CPPalette2['default'].prototype);
CPTexturePalette.prototype.constructor = CPTexturePalette;
module.exports = exports['default'];

},{"../engine/CPGreyBmp":10,"../engine/CPLookUpTable":12,"./CPPalette":32,"./CPSlider":37}],43:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CPToolPalette;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _CPPalette = require('./CPPalette');

var _CPPalette2 = _interopRequireDefault(_CPPalette);

var _ChickenPaint = require('../ChickenPaint');

var _ChickenPaint2 = _interopRequireDefault(_ChickenPaint);

function CPToolPalette(cpController) {
    _CPPalette2['default'].call(this, cpController, "tool", "Tools");

    var that = this,
        buttons = [{
        className: "chickenpaint-tool-rect-selection",
        command: "CPRectSelection",
        toolTip: "Marquee",
        shortcut: "m",
        mode: _ChickenPaint2['default'].M_RECT_SELECTION
    }, {
        className: "chickenpaint-tool-move",
        command: "CPMoveTool",
        toolTip: "Move tool",
        shortcut: "v",
        mode: _ChickenPaint2['default'].M_MOVE_TOOL
    }, {
        className: "chickenpaint-tool-flood-fill",
        command: "CPFloodFill",
        toolTip: "Flood fill",
        shortcut: "f",
        mode: _ChickenPaint2['default'].M_FLOODFILL
    }, {
        className: "chickenpaint-tool-gradient-fill",
        command: "CPGradientFill",
        toolTip: "Gradient fill",
        shortcut: "g",
        mode: _ChickenPaint2['default'].M_GRADIENTFILL
    }, {
        className: "chickenpaint-tool-color-picker",
        command: "CPColorPicker",
        toolTip: "Color picker",
        shortcut: "i",
        mode: _ChickenPaint2['default'].M_COLOR_PICKER
    }, {
        className: "chickenpaint-tool-rotate-canvas",
        command: "CPRotateCanvas",
        commandDoubleClick: "CPResetCanvasRotation",
        toolTip: "Rotate canvas",
        mode: _ChickenPaint2['default'].M_ROTATE_CANVAS
    }, {
        className: "chickenpaint-tool-pencil",
        command: "CPPencil",
        toolTip: "Pencil",
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_PENCIL
    }, {
        className: "chickenpaint-tool-pen",
        command: "CPPen",
        toolTip: "Pen",
        selected: true, // TODO a better mechanism for the controller to let us know the initial tool
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_PEN
    }, {
        className: "chickenpaint-tool-airbrush",
        command: "CPAirbrush",
        toolTip: "Airbrush",
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_AIRBRUSH
    }, {
        className: "chickenpaint-tool-water",
        command: "CPWater",
        toolTip: "Waterpaint",
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_WATER
    }, {
        className: "chickenpaint-tool-eraser",
        command: "CPEraser",
        toolTip: "Eraser",
        shortcut: "e",
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_ERASER
    }, {
        className: "chickenpaint-tool-soft-eraser",
        command: "CPSoftEraser",
        toolTip: "Soft eraser",
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_SOFTERASER
    }, {
        className: "chickenpaint-tool-smudge",
        command: "CPSmudge",
        toolTip: "Smudge",
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_SMUDGE
    }, {
        className: "chickenpaint-tool-blender",
        command: "CPBlender",
        toolTip: "Blender",
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_BLENDER
    }, {
        className: "chickenpaint-tool-dodge",
        command: "CPDodge",
        toolTip: "Dodge",
        shortcut: "o",
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_DODGE
    }, {
        className: "chickenpaint-tool-burn",
        command: "CPBurn",
        toolTip: "Burn",
        shortcut: "p",
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_BURN
    }, {
        className: "chickenpaint-tool-blur",
        command: "CPBlur",
        toolTip: "Blur",
        mode: _ChickenPaint2['default'].M_DRAW,
        tool: _ChickenPaint2['default'].T_BLUR
    }],
        listElem = document.createElement("ul");

    function buttonClicked(e) {
        if (this.nodeName == "LI") {
            var button = buttons[parseInt(this.getAttribute("data-buttonIndex"), 10)];

            cpController.actionPerformed({ action: button.command });
        }
    }

    function buildButtons() {
        var body = that.getBodyElement();

        listElem.className = "chickenpaint-tools list-unstyled";

        for (var i in buttons) {
            (function (i) {
                var button = buttons[i],
                    buttonElem = document.createElement("li");

                buttonElem.className = "chickenpaint-toolbar-button " + button.className;
                buttonElem.setAttribute("data-buttonIndex", i);

                buttonElem.setAttribute('data-mode', button.mode);
                if (button.tool !== undefined) {
                    buttonElem.setAttribute('data-tool', button.tool);
                }

                buttonElem.title = button.toolTip;

                if (button.shortcut) {
                    buttonElem.title += " (" + button.shortcut.toUpperCase() + ")";

                    key(button.shortcut, function () {
                        buttonClicked.call(buttonElem);

                        return false;
                    });
                }

                if (button.selected) {
                    buttonElem.className = buttonElem.className + " selected";
                }

                listElem.appendChild(buttonElem);
            })(i);
        }

        $(listElem).on("click", "li", buttonClicked);

        listElem.addEventListener("dblclick", function (e) {
            if (this.nodeName == "LI") {
                var button = buttons[parseInt(this.getAttribute("data-buttonIndex"), 10)];

                if (button.commandDoubleClick) {
                    cpController.actionPerformed({ action: button.commandDoubleClick });
                }
            }
        });

        body.appendChild(listElem);
    }

    cpController.on("modeChange", function (newMode) {
        var body = that.getBodyElement();

        $("li", body).removeClass("selected");

        if (newMode == _ChickenPaint2['default'].M_DRAW) {
            $("li[data-tool=" + cpController.getCurTool() + "]", body).addClass("selected");
        } else {
            $("li[data-mode=" + newMode + "]", body).addClass("selected");
        }
    });

    cpController.on("toolChange", function (newTool) {
        var body = that.getBodyElement();

        if (cpController.getCurMode() == _ChickenPaint2['default'].M_DRAW) {
            $("li", body).removeClass("selected");

            $("li[data-tool=" + newTool + "]", body).addClass("selected");
        }
    });

    buildButtons();
}

CPToolPalette.prototype = Object.create(_CPPalette2['default'].prototype);
CPToolPalette.prototype.constructor = CPToolPalette;
module.exports = exports['default'];

},{"../ChickenPaint":1,"./CPPalette":32}],44:[function(require,module,exports){
/* 
 * By Nicholas Sherlock <n.sherlock@gmail.com>
 * 
 * Released under the WTFPLv2 https://en.wikipedia.org/wiki/WTFPL
 */

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = AdobeColorTable;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _ArrayDataStream = require("./ArrayDataStream");

var _ArrayDataStream2 = _interopRequireDefault(_ArrayDataStream);

var ACO_COLORSPACE_RGB = 0,
    ACO_COLORSPACE_HSB = 1,
    ACO_COLORSPACE_CMYK = 2,
    ACO_COLORSPACE_LAB = 7,
    ACO_COLORSPACE_GRAYSCALE = 8;

function AdobeColorTable() {}

/**
 * Read an .aco (Adobe COlor) swatches file and return an array of RGB colors.
 * 
 * Supports version 1 palettes, only RGB format.
 * 
 * @param input A Uint8Array of the .aco file contents
 * @return An array of colours, or null if the file was not supported.
 */
AdobeColorTable.prototype.read = function (input) {
    if (input == null) {
        return null;
    }

    var stream = new _ArrayDataStream2["default"](new Uint8Array(input)),
        version,
        count,
        result = [];

    version = stream.readU16BE();
    if (version != 1) {
        return null;
    }
    count = stream.readU16BE();

    for (var i = 0; i < count; i++) {
        var colourspace = stream.readU16BE();

        if (colourspace != ACO_COLORSPACE_RGB) {
            continue; // Drop unsupported colours silently
        }

        // Scale back down from 16-bit to 8-bit
        var r = stream.readU16BE() * 255 / 65535,
            g = stream.readU16BE() * 255 / 65535,
            b = stream.readU16BE() * 255 / 65535;

        stream.readU16BE(); // third value unused

        result.push(r << 16 | g << 8 | b);
    }

    return result;
};

/**
 * Write an .aco (Adobe COlor) swatches file of the given array of RGB colours (colors are integers with the
 * blue channel in the least-significant position).
 */
AdobeColorTable.prototype.write = function (colours) {
    var buffer = new Uint8Array(2 * 2 + colours.length * 10),
        stream = new _ArrayDataStream2["default"](buffer);

    stream.writeU16BE(1); // Version 1
    stream.writeU16BE(colours.length); // Number of colours

    for (var i = 0; i < colours.length; i++) {
        var colour = colours[i];

        stream.writeU16BE(ACO_COLORSPACE_RGB);

        // Scale up colours to 16-bits (65535/255 = 257)
        stream.writeU16BE((colour >> 16 & 0xFF) * 257);
        stream.writeU16BE((colour >> 8 & 0xFF) * 257);
        stream.writeU16BE((colour & 0xFF) * 257);
        stream.writeU16BE(0);
    }

    return stream.getAsDataArray();
};
module.exports = exports["default"];

},{"./ArrayDataStream":45}],45:[function(require,module,exports){
/**
 * A tool for presenting a Uint8Array as a stream for reading and writing some simple data types.
 * 
 * By Nicholas Sherlock <n.sherlock@gmail.com> 2016, released under the WTFPL license.
 */

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ArrayDataStream;
var EOF = -1;

function signExtend16Bit(word) {
    //If sign bit is set, fill the top bits with 1s to sign-extend
    return word & 0x8000 ? word | 0xFFFF0000 : word;
}

function signExtend8Bit(byte) {
    //If sign bit is set, fill the top bits with 1s to sign-extend
    return byte & 0x80 ? byte | 0xFFFFFF00 : byte;
}

/**
 * Create a stream on existing array of unsigned byte data (i.e. hopefully Uint8Array).
 * 
 * @param data Uint8Array to stream data from
 * @param start The index of the byte in the array that will be read first, or leave undefined to begin at the
 *              beginning of the array
 * @param end The index of the end of the stream, or leave undefined to use the end of the array as the end of
 *            the stream.
 */

function ArrayDataStream(data, start, end) {
    this.data = data;
    this.eof = false;
    this.start = start === undefined ? 0 : start;
    this.end = end === undefined ? data.length : end;
    this.pos = this.start;
}

;

/**
 * Read a single byte from the stream and turn it into a JavaScript string (assuming ASCII).
 * 
 * @returns String containing one character, or EOF if the end of file was reached (eof flag
 * is set).
 */
ArrayDataStream.prototype.readChar = function () {
    if (this.pos < this.end) {
        return String.fromCharCode(this.data[this.pos++]);
    }

    this.eof = true;
    return EOF;
};

/**
 * Read one unsigned byte from the stream
 * 
 * @returns Unsigned byte, or EOF if the end of file was reached (eof flag is set).
 */
ArrayDataStream.prototype.readByte = function () {
    if (this.pos < this.end) {
        return this.data[this.pos++];
    }

    this.eof = true;
    return EOF;
};

//Synonym:
ArrayDataStream.prototype.readU8 = ArrayDataStream.prototype.readByte;

ArrayDataStream.prototype.readS8 = function () {
    return signExtend8Bit(this.readByte());
};

ArrayDataStream.prototype.unreadChar = function (c) {
    this.pos--;
};

ArrayDataStream.prototype.peekChar = function () {
    if (this.pos < this.end) {
        return String.fromCharCode(this.data[this.pos]);
    }

    this.eof = true;
    return EOF;
};

ArrayDataStream.prototype.readString = function (length) {
    var chars = new Array(length),
        i;

    for (i = 0; i < length; i++) {
        chars[i] = this.readChar();
    }

    return chars.join("");
};

ArrayDataStream.prototype.readS16 = function () {
    var b1 = this.readByte(),
        b2 = this.readByte();

    return signExtend16Bit(b1 << 8 | b2);
};

ArrayDataStream.prototype.readU16BE = function () {
    var b1 = this.readByte(),
        b2 = this.readByte();

    return b1 << 8 | b2;
};

ArrayDataStream.prototype.readU16LE = function () {
    var b1 = this.readByte(),
        b2 = this.readByte();

    return b2 << 8 | b1;
};

ArrayDataStream.prototype.readU32BE = function () {
    var b1 = this.readByte(),
        b2 = this.readByte(),
        b3 = this.readByte(),
        b4 = this.readByte();
    return (b1 << 24 | b2 << 16 | b3 << 8 | b4) >>> 0;
};

ArrayDataStream.prototype.readU32LE = function () {
    var b1 = this.readByte(),
        b2 = this.readByte(),
        b3 = this.readByte(),
        b4 = this.readByte();
    return (b4 << 24 | b3 << 16 | b2 << 8 | b1) >>> 0;
};

ArrayDataStream.prototype.readBytes = function (count) {
    var result = this.data.subarray(this.pos, this.pos + count);

    this.pos += count;

    if (this.pos > this.end) {
        this.eof = true;
    }

    return result;
};

ArrayDataStream.prototype.skip = function (numBytes) {
    this.pos += numBytes;

    if (this.pos > this.end) {
        this.eof = true;
    }
};

ArrayDataStream.prototype.seek = function (offset) {
    this.pos = offset;
};

ArrayDataStream.prototype.writeBytes = function (arr) {
    for (var i = 0; i < arr.length; i++) {
        this.data[this.pos++] = arr[i];
    }
};

ArrayDataStream.prototype.writeByte = function (b) {
    this.data[this.pos++] = b;
};

//Synonym:
ArrayDataStream.prototype.writeU8 = ArrayDataStream.prototype.writeByte;

ArrayDataStream.prototype.writeU16LE = function (u) {
    this.data[this.pos++] = u;
    this.data[this.pos++] = u >> 8;
};

ArrayDataStream.prototype.writeU16BE = function (u) {
    this.data[this.pos++] = u >> 8;
    this.data[this.pos++] = u;
};

ArrayDataStream.prototype.writeU32BE = function (u) {
    this.data[this.pos++] = u >> 24;
    this.data[this.pos++] = u >> 16;
    this.data[this.pos++] = u >> 8;
    this.data[this.pos++] = u;
};

ArrayDataStream.prototype.writeU32LE = function (u) {
    this.data[this.pos++] = u;
    this.data[this.pos++] = u >> 8;
    this.data[this.pos++] = u >> 16;
    this.data[this.pos++] = u >> 24;
};

ArrayDataStream.prototype.writeDoubleBE = function (d) {
    var bytes = new Uint8Array(new Float64Array([d]).buffer);

    for (var i = bytes.length - 1; i >= 0; i--) {
        this.writeByte(bytes[i]);
    }
};

ArrayDataStream.prototype.writeFloatBE = function (d) {
    var bytes = new Uint8Array(new Float32Array([d]).buffer);

    for (var i = bytes.length - 1; i >= 0; i--) {
        this.writeByte(bytes[i]);
    }
};

/**
 * Write an ASCII string to the stream
 */
ArrayDataStream.prototype.writeString = function (s) {
    for (var i = 0; i < s.length; i++) {
        this.data[this.pos++] = s.charCodeAt(i);
    }
};

/**
 * Write the given unsigned 32-bit integer to the stream in big-endian order using the given byte width.
 * No error checking is performed to ensure that the supplied width is correct for the integer.
 * 
 * Omit the width parameter to have it determined automatically for you.
 * 
 * @param u Unsigned integer to be written
 * @param width Number of bytes to write to the stream
 */
ArrayDataStream.prototype.writeUnsignedIntBE = function (u, width) {
    if (width === undefined) {
        width = this.measureUnsignedInt(u);
    }

    // Each case falls through:
    switch (width) {
        case 5:
            this.writeU8(Math.floor(u / 4294967296)); // Need to use division to access >32 bits of floating point var
        case 4:
            this.writeU8(u >> 24);
        case 3:
            this.writeU8(u >> 16);
        case 2:
            this.writeU8(u >> 8);
        case 1:
            this.writeU8(u);
            break;
        default:
            throw new RuntimeException("Bad UINT size " + width);
    }
};

/**
 * Return the number of bytes needed to hold the non-zero bits of the given unsigned integer.
 */
ArrayDataStream.prototype.measureUnsignedInt = function (val) {
    // Force to 32-bit unsigned integer
    if (val < 1 << 8) {
        return 1;
    } else if (val < 1 << 16) {
        return 2;
    } else if (val < 1 << 24) {
        return 3;
    } else if (val < 4294967296) {
        return 4;
    } else {
        return 5;
    }
};

/**
 * Return a view on the portion of the buffer from the beginning to the current seek position as a Uint8Array.
 */
ArrayDataStream.prototype.getAsDataArray = function () {
    if (this.pos < this.data.byteLength) {
        return this.data.subarray(0, this.pos);
    } else if (this.pos == this.data.byteLength) {
        return this.data;
    } else {
        throw "ArrayDataStream's pos lies beyond end of buffer";
        // Chance is pretty good that you overflowed the end of the buffer during writing and your file is trash
    }
};

ArrayDataStream.prototype.EOF = EOF;
module.exports = exports["default"];

},{}],46:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPBezier;

function CPBezier() {

    // How to use this class:
    //
    // 1 - set the 4 points coordinates (x0-3, y0-3)
    // two options:
    // 2a - call init() with desired dt then read the current coordinate (Bx, By) and use nextPoint() to compute the
    // next point
    // 2b - use one of the "compute" methods to compute the values for the whole curve in one step

    // The 4 points coordinates
    this.x0 = this.y0 = this.x1 = this.y1 = this.x2 = this.y2 = this.x3 = this.y3 = 0.0;

    // used to compute the Bezier curve with the forward differences method
    var Bx,
        dBx,
        ddBx,
        dddBx,
        By,
        dBy,
        ddBy,
        dddBy,
        that = this;

    function init(dt) {
        // Implements a fast degree-3 Bezier curve using the forward differences method
        //
        // Reference for this algorithm:
        // "Curves and Surfaces for Computer Graphics" by David Salomon, page 189

        var q1 = 3.0 * dt,
            q2 = q1 * dt,
            q3 = dt * dt * dt,
            q4 = 2.0 * q2,
            q5 = 6.0 * q3,
            q6x = that.x0 - 2.0 * that.x1 + that.x2,
            q6y = that.y0 - 2.0 * that.y1 + that.y2,
            q7x = 3.0 * (that.x1 - that.x2) - that.x0 + that.x3,
            q7y = 3.0 * (that.y1 - that.y2) - that.y0 + that.y3;

        Bx = that.x0;
        By = that.y0;

        dBx = (that.x1 - that.x0) * q1 + q6x * q2 + q7x * q3;
        dBy = (that.y1 - that.y0) * q1 + q6y * q2 + q7y * q3;

        ddBx = q6x * q4 + q7x * q5;
        ddBy = q6y * q4 + q7y * q5;

        dddBx = q7x * q5;
        dddBy = q7y * q5;
    }

    /**
     * Fill the given x,y arrays with a series of points on the curve.
     * 
     * @param x int[]
     * @param y int[]
     * @param elements int Count of elements to fill x and y arrays
     */
    this.compute = function (x, y, elements) {
        init(1.0 / elements);

        x[0] = ~ ~Bx;
        y[0] = ~ ~By;

        for (var i = 1; i < elements; i++) {
            Bx += dBx;
            By += dBy;
            dBx += ddBx;
            dBy += ddBy;
            ddBx += dddBx;
            ddBy += dddBy;

            x[i] = ~ ~Bx;
            y[i] = ~ ~By;
        }
    };
}

module.exports = exports["default"];

},{}],47:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPColor;

function CPColor(rgb) {
    var that = this;

    this.rgb = 0; // in RGB byte order

    this.hue = 0;
    this.saturation = 0;
    this.value = 0;

    function rgbToHsv() {
        var r = that.rgb >> 16 & 0xff,
            g = that.rgb >> 8 & 0xff,
            b = that.rgb & 0xff;

        // Value
        that.value = Math.max(r, Math.max(g, b));

        // Saturation
        var mini = Math.min(r, Math.min(g, b));

        if (that.value == 0) {
            that.saturation = 0;
        } else {
            that.saturation = ~ ~((that.value - mini) / that.value * 255);
        }

        // Hue
        if (that.saturation == 0) {
            that.hue = 0;
        } else {
            var cr = (that.value - r) / (that.value - mini),
                cg = (that.value - g) / (that.value - mini),
                cb = (that.value - b) / (that.value - mini);

            var _hue = 0;

            if (that.value == r) {
                _hue = cb - cg;
            }
            if (that.value == g) {
                _hue = 2 + cr - cb;
            }
            if (that.value == b) {
                _hue = 4 + cg - cr;
            }

            _hue *= 60;
            if (_hue < 0) {
                _hue += 360;
            }

            that.hue = ~ ~_hue;
        }
    }

    function hsvToRgb() {
        // no saturation means it's just a shade of grey
        if (that.saturation == 0) {
            that.rgb = that.value << 16 | that.value << 8 | that.value;
        } else {
            var f = that.hue / 60;

            f = f - Math.floor(f);

            var s = that.saturation / 255,
                m = ~ ~(that.value * (1 - s)),
                n = ~ ~(that.value * (1 - s * f)),
                k = ~ ~(that.value * (1 - s * (1 - f)));

            switch (~ ~(that.hue / 60)) {
                case 0:
                    that.rgb = that.value << 16 | k << 8 | m;
                    break;
                case 1:
                    that.rgb = n << 16 | that.value << 8 | m;
                    break;
                case 2:
                    that.rgb = m << 16 | that.value << 8 | k;
                    break;
                case 3:
                    that.rgb = m << 16 | n << 8 | that.value;
                    break;
                case 4:
                    that.rgb = k << 16 | m << 8 | that.value;
                    break;
                case 5:
                    that.rgb = that.value << 16 | m << 8 | n;
                    break;
                default:
                    that.rgb = 0; // invalid hue
                    break;
            }
        }
    }

    this.getRgb = function () {
        return this.rgb;
    };

    this.getSaturation = function () {
        return this.saturation;
    };

    this.getHue = function () {
        return this.hue;
    };

    this.getValue = function () {
        return this.value;
    };

    this.setRgbComponents = function (r, g, b) {
        this.setRgb(r << 16 | g << 8 | b);
    };

    this.setRgb = function (rgb) {
        this.rgb = rgb;
        rgbToHsv();
    };

    this.setHsv = function (hue, value, saturation) {
        this.hue = hue;
        this.saturation = saturation;
        this.value = value;

        hsvToRgb();
    };

    this.setHue = function (hue) {
        this.hue = hue;
        hsvToRgb();
    };

    this.setSaturation = function (saturation) {
        this.saturation = saturation;
        hsvToRgb();
    };

    this.setValue = function (value) {
        this.value = value;
        hsvToRgb();
    };

    this.clone = function () {
        var result = new CPColor();

        result.copyFrom(this);

        return result;
    };

    this.copyFrom = function (c) {
        this.rgb = c.rgb;
        this.hue = c.hue;
        this.saturation = c.saturation;
        this.value = c.value;
    };

    this.isEqual = function (color) {
        return this.rgb == color.rgb && this.hue == color.hue && this.saturation == color.saturation && this.value == color.value;
    };

    this.setRgb(rgb || 0);
}

module.exports = exports["default"];

},{}],48:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

// An RGB color with floating point values for each channel (between 0.0 and 1.0)
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPColorFloat;

function CPColorFloat(r, g, b) {
    this.r = r;
    this.g = g;
    this.b = b;
}

CPColorFloat.prototype.toInt = function () {
    return Math.max(0, Math.min(255, Math.round(this.r * 255))) << 16 | Math.max(0, Math.min(255, Math.round(this.g * 255))) << 8 | Math.max(0, Math.min(255, Math.round(this.b * 255)));
};

CPColorFloat.prototype.mixWith = function (color, alpha) {
    this.r = this.r * (1.0 - alpha) + color.r * alpha;
    this.g = this.g * (1.0 - alpha) + color.g * alpha;
    this.b = this.b * (1.0 - alpha) + color.b * alpha;
};

CPColorFloat.prototype.clone = function () {
    return new CPColorFloat(this.r, this.g, this.b);
};

CPColorFloat.createFromInt = function (color) {
    return new CPColorFloat((color >>> 16 & 0xff) / 255, (color >>> 8 & 0xff) / 255, (color & 0xff) / 255);
};
module.exports = exports["default"];

},{}],49:[function(require,module,exports){
/*
	ChickenPaint

	ChickenPaint is a translation of ChibiPaint from Java to JavaScript
	by Nicholas Sherlock / Chicken Smoothie.

	ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

	ChickenPaint is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	ChickenPaint is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.isCanvasInterpolationSupported = isCanvasInterpolationSupported;
exports.setCanvasInterpolation = setCanvasInterpolation;
exports.isEventSupported = isEventSupported;
exports.isCanvasSupported = isCanvasSupported;
function getCanvasInterpolationPropName(canvasContext) {
	var browserProperties = ["imageSmoothingEnabled", "mozImageSmoothingEnabled", "webkitImageSmoothingEnabled", "msImageSmoothingEnabled"];

	for (var i = 0; i < browserProperties.length; i++) {
		if (browserProperties[i] in canvasContext) {
			return browserProperties[i];
		}
	}

	return null;
}

function isCanvasInterpolationSupported() {
	var canvas = document.createElement("canvas"),
	    canvasContext = canvas.getContext("2d");

	return !!getCanvasInterpolationPropName(canvasContext);
}

function setCanvasInterpolation(canvasContext, enabled) {
	var propName = getCanvasInterpolationPropName(canvasContext);

	if (propName) {
		canvasContext[propName] = enabled;
	}
}

function isEventSupported(eventName) {
	var isSupported = (eventName in window);

	if (!isSupported) {
		var el = document.createElement('div');
		el.setAttribute(eventName, 'return;');

		isSupported = typeof el[eventName] == 'function';
	}

	return isSupported;
}

function isCanvasSupported() {
	var elem = document.createElement('canvas');
	return !!(elem.getContext && elem.getContext('2d'));
}

},{}],50:[function(require,module,exports){
/*
	ChickenPaint

	ChickenPaint is a translation of ChibiPaint from Java to JavaScript
	by Nicholas Sherlock / Chicken Smoothie.

	ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

	ChickenPaint is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	ChickenPaint is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});
exports['default'] = CPPolygon;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _CPTransform = require('./CPTransform');

var _CPTransform2 = _interopRequireDefault(_CPTransform);

function CPPolygon(points) {
	this.points = points || [];
}

CPPolygon.prototype.clone = function () {
	var result = new CPPolygon(new Array(this.points.length));

	for (var i = 0; i < this.points.length; i++) {
		// Deep clone
		result.points[i] = { x: this.points[i].x, y: this.points[i].y };
	}

	return result;
};

/**
 * Get a new polygon which is the result of transforming the points of this polygon with the given affine transform.
 *
 * @param {CPTransform} affineTransform
 * @returns {CPPolygon}
 */
CPPolygon.prototype.getTransformed = function (affineTransform) {
	var result = new CPPolygon(new Array(this.points.length));

	for (var i = 0; i < this.points.length; i++) {
		result.points[i] = affineTransform.getTransformedPoint(this.points[i]);
	}

	return result;
};

CPPolygon.prototype.getCenter = function () {
	var centerX = this.points[0].x,
	    centerY = this.points[0].y;

	for (var i = 1; i < this.points.length; i++) {
		centerX += this.points[i].x;
		centerY += this.points[i].y;
	}

	return { x: centerX / this.points.length, y: centerY / this.points.length };
};

/**
 * From https://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html
 *
 * @param point
 * @returns {boolean}
 */
CPPolygon.prototype.containsPoint = function (point) {
	var i,
	    j,
	    contained = false;

	for (i = 0, j = this.points.length - 1; i < this.points.length; j = i++) {
		if (this.points[i].y > point.y != this.points[j].y > point.y && point.x < (this.points[j].x - this.points[i].x) * (point.y - this.points[i].y) / (this.points[j].y - this.points[i].y) + this.points[i].x) {
			contained = !contained;
		}
	}

	return contained;
};
module.exports = exports['default'];

},{"./CPTransform":53}],51:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPRandom;

function CPRandom() {
    var nextNextGaussian,
        haveNextNextGaussian = false;

    /**
     * Definition from Java, mean of 0.0 and standard deviation 1.0.
     */
    this.nextGaussian = function () {
        if (haveNextNextGaussian) {
            haveNextNextGaussian = false;
            return nextNextGaussian;
        } else {

            var v1, v2, s;

            do {
                v1 = 2 * Math.random() - 1; // between -1.0 and 1.0
                v2 = 2 * Math.random() - 1; // between -1.0 and 1.0
                s = v1 * v1 + v2 * v2;
            } while (s >= 1 || s == 0);

            var multiplier = Math.sqrt(-2 * Math.log(s) / s);

            nextNextGaussian = v2 * multiplier;
            haveNextNextGaussian = true;

            return v1 * multiplier;
        }
    };
}

;
module.exports = exports["default"];

},{}],52:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPRect;

function CPRect(left, top, right, bottom) {
    /*
    if (left === undefined || top === undefined || right === undefined || bottom === undefined) {
        throw "Bad rect";
    }
    
    if (~~left !== left || ~~top !== top || ~~right !== right || ~~bottom !== bottom) {
        throw "Bad rect";
    }
    */

    this.left = left;
    this.top = top;
    this.right = right;
    this.bottom = bottom;
}

CPRect.prototype.makeEmpty = function () {
    this.left = 0;
    this.top = 0;
    this.right = 0;
    this.bottom = 0;
};

CPRect.prototype.union = function (that) {
    if (this.isEmpty()) {
        this.set(that);
    } else {
        this.left = Math.min(this.left, that.left);
        this.top = Math.min(this.top, that.top);
        this.right = Math.max(this.right, that.right);
        this.bottom = Math.max(this.bottom, that.bottom);
    }
};

CPRect.prototype.getUnion = function (that) {
    var result = this.clone();

    result.union(that);

    return result;
};

/**
 * Clip this rectangle to fit within `that`.
 * 
 * @returns a reference to this rectangle for chaining
 */
CPRect.prototype.clip = function (that) {
    if (!this.isEmpty()) {
        if (that.isEmpty()) {
            this.makeEmpty();
        } else {
            this.left = Math.max(this.left, that.left);
            this.top = Math.max(this.top, that.top);
            this.right = Math.min(this.right, that.right);
            this.bottom = Math.min(this.bottom, that.bottom);
        }
    }

    return this;
};

CPRect.prototype.containsPoint = function (p) {
    return !(p.x < this.left || p.y < this.top || p.x >= this.right || p.y >= this.bottom);
};

CPRect.prototype.isInside = function (that) {
    return this.left >= that.left && this.top >= that.top && this.right <= that.right && this.bottom <= that.bottom;
};

/**
 * Use this rectangle as bounds to clip the placement of the area of srcRect at the position of dstRect inside
 * our bounds.
 *
 * dstRect has its right and bottom set by this operation to match the area that would be copied from the source.
 * srcRect has its coordinates tweaked to match the area that will be copied.
 */
CPRect.prototype.clipSourceDest = function (srcRect, dstRect) {
    dstRect.right = dstRect.left + srcRect.getWidth();
    dstRect.bottom = dstRect.top + srcRect.getHeight();

    if (this.isEmpty() || dstRect.left >= this.right || dstRect.top >= this.bottom || dstRect.right <= this.left || dstRect.bottom <= this.top) {
        srcRect.makeEmpty();
        dstRect.makeEmpty();
    } else {
        // bottom/right
        if (dstRect.right > this.right) {
            srcRect.right -= dstRect.right - this.right;
            dstRect.right = this.right;
        }

        if (dstRect.bottom > this.bottom) {
            srcRect.bottom -= dstRect.bottom - this.bottom;
            dstRect.bottom = this.bottom;
        }

        // top/left
        if (dstRect.left < this.left) {
            srcRect.left += this.left - dstRect.left;
            dstRect.left = this.left;
        }

        if (dstRect.top < this.top) {
            srcRect.top += this.top - dstRect.top;
            dstRect.top = this.top;
        }
    }
};

CPRect.prototype.getWidth = function () {
    return this.right - this.left;
};

CPRect.prototype.getHeight = function () {
    return this.bottom - this.top;
};

CPRect.prototype.getArea = function () {
    return this.getWidth() * this.getHeight();
};

CPRect.prototype.isEmpty = function () {
    return this.right <= this.left || this.bottom <= this.top;
};

CPRect.prototype.set = function (r) {
    this.left = r.left;
    this.top = r.top;
    this.right = r.right;
    this.bottom = r.bottom;
};

CPRect.prototype.clone = function () {
    return new CPRect(this.left, this.top, this.right, this.bottom);
};

CPRect.prototype.translate = function (x, y) {
    this.left += x;
    this.right += x;
    this.top += y;
    this.bottom += y;
};

CPRect.prototype.moveTo = function (x, y) {
    this.translate(x - this.left, y - this.top);
};

CPRect.prototype.equals = function (that) {
    return this.left == that.left && this.right == that.right && this.top == that.top && this.bottom == that.bottom;
};

/**
 * Add h pixels to both the left and right sides of the rectangle, and v pixels to both the top and bottom sides.
 *  
 * @param h
 * @param v
 */
CPRect.prototype.grow = function (h, v) {
    // TODO checks for rectangles with zero-extent
    this.left -= h;
    this.right += h;
    this.top -= v;
    this.bottom += v;
};

CPRect.prototype.toString = function () {
    return "(" + this.left + "," + this.top + "," + this.right + "," + this.bottom + ")";
};

/**
 * Convert the rectangle into an array of points of the corners of the rectangle (clockwise starting from the top left
 * point).
 */
CPRect.prototype.toPoints = function () {
    return [{ x: this.left, y: this.top }, { x: this.right, y: this.top }, { x: this.right, y: this.bottom }, { x: this.left, y: this.bottom }];
};

/**
 * Round the rectangle coordinates to the nearest integer.
 */
CPRect.prototype.roundNearest = function () {
    this.left = Math.round(this.left);
    this.top = Math.round(this.top);
    this.right = Math.round(this.right);
    this.bottom = Math.round(this.bottom);
};

/**
 * Round the rectangle coordinates to integers so that the old rectangle is contained by the new one.
 */
CPRect.prototype.roundContain = function () {
    this.left = Math.floor(this.left);
    this.top = Math.floor(this.top);
    this.right = Math.ceil(this.right);
    this.bottom = Math.ceil(this.bottom);
};

/**
 * Create an AABB CPRect which encloses the given array of points.
 */
CPRect.createBoundingBox = function (points) {
    var result = new CPRect(points[0].x, points[0].y, points[0].x, points[0].y);

    for (var i = 1; i < points.length; i++) {
        result.left = Math.min(result.left, points[i].x);
        result.top = Math.min(result.top, points[i].y);
        result.right = Math.max(result.right, points[i].x);
        result.bottom = Math.max(result.bottom, points[i].y);
    }

    return result;
};

/* 
 * Chrome is initially eager to optimize CPRect and users assuming that all the fields are SMIs, then later on decides
 * that they should be tagged numbers after all. This causes all the blending operation functions to be reoptimized
 * a couple of times. 
 * 
 * Avoid that mess by starting things off with floats in the members.  
 */
window.cpRectGarbage = new CPRect(1.5, 2.5, 3.5, 4.5);
module.exports = exports["default"];

},{}],53:[function(require,module,exports){
// Modifications by Nicholas Sherlock. Original docs below:

// Last updated November 2011
// By Simon Sarris
// www.simonsarris.com
// sarris@acm.org
//
// Free to use and distribute at will
// So long as you are nice to people, etc

// Simple class for keeping track of the current transformation matrix

// For instance:
//    var t = new Transform();
//    t.rotate(5);
//    var m = t.m;
//    ctx.setTransform(m[0], m[1], m[2], m[3], m[4], m[5]);

// Is equivalent to:
//    ctx.rotate(5);

// But now you can retrieve it :)

// Remember that this does not account for any CSS transforms applied to the canvas

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPTransform;

function CPTransform() {
    this.setToIdentity();
}

CPTransform.prototype.setToIdentity = function () {
    /* Matrix components are stored in this order in 'm':
     * [0 2 4]
     * [1 3 5]
     * [x x x]
     *
     * Last row is always 0, 0, 1 so we don't store it.
     */
    this.m = [1, 0, 0, 1, 0, 0];
};

/**
 * Multiply this matrix with the given transformation one like so:
 *
 * [this] = [this] * [matrix]
 *
 * @param {CPTransform} matrix
 */
CPTransform.prototype.multiply = function (matrix) {
    var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1],
        m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1],
        m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3],
        m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3],
        dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4],
        dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];

    this.m[0] = m11;
    this.m[1] = m12;
    this.m[2] = m21;
    this.m[3] = m22;
    this.m[4] = dx;
    this.m[5] = dy;
};

/**
 * Multiply this matrix with the given transformation one like so:
 *
 * [this] = [matrix] * [this]
 *
 * @param {CPTransform} matrix
 */
CPTransform.prototype.preMultiply = function (matrix) {
    var m11 = matrix.m[0] * this.m[0] + matrix.m[2] * this.m[1],
        m12 = matrix.m[1] * this.m[0] + matrix.m[3] * this.m[1],
        m21 = matrix.m[0] * this.m[2] + matrix.m[2] * this.m[3],
        m22 = matrix.m[1] * this.m[2] + matrix.m[3] * this.m[3],
        dx = matrix.m[0] * this.m[4] + matrix.m[2] * this.m[5] + matrix.m[4],
        dy = matrix.m[1] * this.m[4] + matrix.m[3] * this.m[5] + matrix.m[5];

    this.m[0] = m11;
    this.m[1] = m12;
    this.m[2] = m21;
    this.m[3] = m22;
    this.m[4] = dx;
    this.m[5] = dy;
};

CPTransform.prototype.invert = function () {
    var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]),
        m0 = this.m[3] * d,
        m1 = -this.m[1] * d,
        m2 = -this.m[2] * d,
        m3 = this.m[0] * d,
        m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]),
        m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);

    this.m[0] = m0;
    this.m[1] = m1;
    this.m[2] = m2;
    this.m[3] = m3;
    this.m[4] = m4;
    this.m[5] = m5;
};

CPTransform.prototype.getInverted = function () {
    var result = new CPTransform();

    result.m[0] = this.m[0];
    result.m[1] = this.m[1];
    result.m[2] = this.m[2];
    result.m[3] = this.m[3];
    result.m[4] = this.m[4];
    result.m[5] = this.m[5];

    result.invert();

    return result;
};

/**
 * Multiply this transform by a rotation matrix for the given angle:
 *
 * [ cos(a) -sin(a) 0]
 * [ sin(a)  cos(a) 0]
 * [   0       0    1]
 */
CPTransform.prototype.rotate = function (rad) {
    var c = Math.cos(rad),
        s = Math.sin(rad),
        m11 = this.m[0] * c + this.m[2] * s,
        m12 = this.m[1] * c + this.m[3] * s,
        m21 = this.m[0] * -s + this.m[2] * c,
        m22 = this.m[1] * -s + this.m[3] * c;

    this.m[0] = m11;
    this.m[1] = m12;
    this.m[2] = m21;
    this.m[3] = m22;
};

CPTransform.prototype.rotateAroundPoint = function (rad, x, y) {
    this.translate(x, y);
    this.rotate(rad);
    this.translate(-x, -y);
};

/**
 * Multiply this transform by a translation matrix:
 *
 * [1  0  x]
 * [0  1  y]
 * [0  0  1]
 *
 * @param x
 * @param y
 */
CPTransform.prototype.translate = function (x, y) {
    this.m[4] += this.m[0] * x + this.m[2] * y;
    this.m[5] += this.m[1] * x + this.m[3] * y;
};

/**
 * Multiply this transform by a scale matrix:
 *
 * [sx 0  0]
 * [0  sy 0]
 * [0  0  1]
 *
 * @param sx
 * @param sy
 */
CPTransform.prototype.scale = function (sx, sy) {
    this.m[0] *= sx;
    this.m[1] *= sx;
    this.m[2] *= sy;
    this.m[3] *= sy;
};

CPTransform.prototype.scaleAroundPoint = function (sx, sy, px, py) {
    this.translate(px, py);
    this.scale(sx, sy);
    this.translate(-px, -py);
};

/**
 * Multiply this transform by a shear matrix:
 *
 * [1  sx 0]
 * [sy 1  0]
 * [0  0  1]
 *
 * @param sx
 * @param sy
 */
CPTransform.prototype.shear = function (x, y) {
    var m11 = this.m[0] + this.m[2] * y,
        m12 = this.m[1] + this.m[3] * y,
        m21 = this.m[2] + this.m[0] * x,
        m22 = this.m[3] + this.m[1] * x;

    this.m[0] = m11;
    this.m[1] = m12;
    this.m[2] = m21;
    this.m[3] = m22;
};

CPTransform.prototype.getTransformedPoint = function (p) {
    return {
        x: p.x * this.m[0] + p.y * this.m[2] + this.m[4],
        y: p.x * this.m[1] + p.y * this.m[3] + this.m[5]
    };
};

CPTransform.prototype.transformPoints = function (points) {
    for (var i = 0; i < points.length; i++) {
        points[i] = this.getTransformedPoint(points[i]);
    }
};

CPTransform.prototype.getTranslateX = function () {
    return this.m[4];
};

CPTransform.prototype.getTranslateY = function () {
    return this.m[5];
};

CPTransform.prototype.clone = function () {
    var result = new CPTransform();

    result.m[0] = this.m[0];
    result.m[1] = this.m[1];
    result.m[2] = this.m[2];
    result.m[3] = this.m[3];
    result.m[4] = this.m[4];
    result.m[5] = this.m[5];

    return result;
};

CPTransform.prototype.getDeterminant = function () {
    return this.m[0] * this.m[3] - this.m[1] * this.m[2];
};

/**
 * Break down the matrix into a translation, scale, rotation, then shear operation.
 *
 * x or y scale must not be zero.
 *
 * http://www.maths-informatique-jeux.com/blog/frederic/?post/2013/12/01/Decomposition-of-2D-transform-matrices
 */
CPTransform.prototype.decompose = function () {
    var determinant = this.getDeterminant(),
        r = Math.sqrt(this.m[0] * this.m[0] + this.m[1] * this.m[1]);

    return {
        translate: { x: this.m[4], y: this.m[5] },
        rotate: Math.sign(this.m[1]) * Math.acos(this.m[0] / r),
        scale: { x: r, y: determinant / r },
        shear: { x: Math.atan((this.m[0] * this.m[2] + this.m[1] * this.m[3]) / (r * r)), y: 0 }
    };
};

CPTransform.prototype.toString = function () {
    var PLACES = 2;

    return "[" + this.m[0].toFixed(PLACES) + " " + this.m[2].toFixed(PLACES) + " " + this.m[4].toFixed(PLACES) + "]\n" + "[" + this.m[1].toFixed(PLACES) + " " + this.m[3].toFixed(PLACES) + " " + this.m[5].toFixed(PLACES) + "]\n" + "[0.00 0.00 1.00]";
};

Math.sign = Math.sign || function (x) {
    x = +x; // convert to a number
    if (x === 0 || isNaN(x)) {
        return x;
    }
    return x > 0 ? 1 : -1;
};
module.exports = exports["default"];

},{}],54:[function(require,module,exports){
/*
	ChickenPaint

	ChickenPaint is a translation of ChibiPaint from Java to JavaScript
	by Nicholas Sherlock / Chicken Smoothie.

	ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

	ChickenPaint is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	ChickenPaint is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports["default"] = CPVector;

function CPVector(x, y) {
	this.x = x;
	this.y = y;
}

CPVector.prototype.getLength = function () {
	return Math.sqrt(this.x * this.x + this.y * this.y);
};

/**
 *
 * @returns {CPVector} This vector for chaining
 */
CPVector.prototype.normalize = function () {
	var length = this.getLength();

	this.x /= length;
	this.y /= length;

	return this;
};

/**
 *
 * @param {CPVector} that
 */
CPVector.prototype.getDotProduct = function (that) {
	return this.x * that.x + this.y * that.y;
};

/**
 *
 * @param scaleFactor
 * @returns {CPVector} This vector for chaining
 */
CPVector.prototype.scale = function (scaleFactor) {
	this.x *= scaleFactor;
	this.y *= scaleFactor;

	return this;
};

CPVector.prototype.getScaled = function (scaleFactor) {
	var result = new CPVector(this.x, this.y);

	result.scale(scaleFactor);

	return result;
};

CPVector.prototype.getRounded = function () {
	return new CPVector(Math.round(this.x), Math.round(this.y));
};

CPVector.prototype.getTruncated = function () {
	return new CPVector(~ ~this.x, ~ ~this.y);
};

CPVector.prototype.getPerpendicular = function () {
	return new CPVector(-this.y, this.x);
};

/**
 * Add that vector to this one
 *
 * @param {CPVector} that
 * @returns {CPVector} This vector for chaining
 */
CPVector.prototype.add = function (that) {
	this.x += that.x;
	this.y += that.y;

	return this;
};

/**
 * Subtract that vector from this one
 *
 * @param {CPVector} that
 * @returns {CPVector} This vector for chaining
 */
CPVector.prototype.subtract = function (that) {
	this.x -= that.x;
	this.y -= that.y;

	return this;
};

/**
 * Get the sum of this vector and that one.
 *
 * @param {CPVector} that
 * @returns {CPVector}
 */
CPVector.prototype.getSum = function (that) {
	return new CPVector(this.x + that.x, this.y + that.y);
};

/**
 * Create a new vector by p1 - p2
 *
 * @param p1
 * @param p2
 *
 * @returns {CPVector}
 */
CPVector.subtractPoints = function (p1, p2) {
	return new CPVector(p1.x - p2.x, p1.y - p2.y);
};
module.exports = exports["default"];

},{}],55:[function(require,module,exports){
/*
    ChickenPaint
    
    ChickenPaint is a translation of ChibiPaint from Java to JavaScript
    by Nicholas Sherlock / Chicken Smoothie.
    
    ChibiPaint is Copyright (c) 2006-2008 Marc Schefer

    ChickenPaint is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ChickenPaint is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ChickenPaint. If not, see <http://www.gnu.org/licenses/>.
*/

"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CPWacomTablet;

function CPWacomTablet() {
    var penAPI = null,
        pluginObject,
        that = this;

    /**
     * Is the pen currently interacting with the tablet surface?
     */
    this.isPen = function () {
        var pointerType;

        if (penAPI) {
            pointerType = penAPI.pointerType;

            return pointerType == 1 /* Pen */ || pointerType == 3 /* Eraser */;
        }

        return false;
    };

    this.getPressure = function () {
        if (penAPI) {
            return penAPI.pressure;
        }

        return 1.0;
    };

    this.pluginLoaded = function () {
        console.log("Wacom tablet support loaded!");

        penAPI = pluginObject.penAPI;
    };

    this.isTabletPresent = function () {
        return !!penAPI;
    };

    /**
     * Call after the document body is ready (needs DOM to be ready for loading the Wacom plugin).
     */
    this.detectTablet = function () {
        // Chrome has dropped NPAPI support, so the Wacom plugin cannot be installed
        if (/Chrome/i.test(navigator.userAgent) && !/OPR/.test(navigator.userAgent)) {
            // Prevent an ugly "this page has tried to load a plugin which is not supported" error message
            console.log("Not attempting to load Wacom tablet plugin, since this is Chrome");
            return;
        }

        console.log("Attempting to load Wacom tablet support...");

        pluginObject = document.createElement("object");

        if ("classid" in pluginObject) {
            // IE
            pluginObject.classid = "CLSID:092dfa86-5807-5a94-bf3b-5a53ba9e5308";
        } else {
            var param = document.createElement("param");

            param.name = "onload";
            param.value = "onWacomPluginLoaded";

            pluginObject.appendChild(param);

            pluginObject.type = "application/x-wacomtabletplugin";
        }

        pluginObject.style.position = "absolute";
        pluginObject.style.visibility = "hidden";
        pluginObject.onload = "onWacomPluginLoaded";

        document.body.appendChild(pluginObject);

        setTimeout(function () {
            if (!that.isTabletPresent()) {
                console.log("Looks like the Wacom plugin isn't installed, or failed to load.");
            }
        }, 5000);
    };
}

CPWacomTablet.getRef = function () {
    if (CPWacomTablet.instance == null) {
        CPWacomTablet.instance = new CPWacomTablet();
    }
    return CPWacomTablet.instance;
};

window.onWacomPluginLoaded = function () {
    CPWacomTablet.getRef().pluginLoaded();
};
module.exports = exports["default"];

},{}],56:[function(require,module,exports){
/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */

// Script: jQuery throttle / debounce: Sometimes, less is more!
//
// *Version: 1.1, Last updated: 3/7/2010*
//
// Project Home - http://benalman.com/projects/jquery-throttle-debounce-plugin/
// GitHub       - http://github.com/cowboy/jquery-throttle-debounce/
// Source       - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.js
// (Minified)   - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.min.js (0.7kb)
//
// About: License
//
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
//
// About: Examples
//
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
//
// Throttle - http://benalman.com/code/projects/jquery-throttle-debounce/examples/throttle/
// Debounce - http://benalman.com/code/projects/jquery-throttle-debounce/examples/debounce/
//
// About: Support and Testing
//
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
//
// jQuery Versions - none, 1.3.2, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.6, Safari 3-4, Chrome 4-5, Opera 9.6-10.1.
// Unit Tests      - http://benalman.com/code/projects/jquery-throttle-debounce/unit/
//
// About: Release History
//
// 1.1 - (3/7/2010) Fixed a bug in <jQuery.throttle> where trailing callbacks
//       executed later than they should. Reworked a fair amount of internal
//       logic as well.
// 1.0 - (3/6/2010) Initial release as a stand-alone project. Migrated over
//       from jquery-misc repo v0.4 to jquery-throttle repo v1.0, added the
//       no_trailing throttle parameter and debounce functionality.

// Method: throttle
//
// Throttle execution of a function. Especially useful for rate limiting
// execution of handlers on events like resize and scroll. If you want to
// rate-limit execution of a function to a single time, see the
// <jQuery.debounce> method.
//
// In this visualization, | is a throttled-function call and X is the actual
// callback execution:
//
// > Throttled with `no_trailing` specified as false or unspecified:
// > ||||||||||||||||||||||||| (pause) |||||||||||||||||||||||||
// > X    X    X    X    X    X        X    X    X    X    X    X
// >
// > Throttled with `no_trailing` specified as true:
// > ||||||||||||||||||||||||| (pause) |||||||||||||||||||||||||
// > X    X    X    X    X             X    X    X    X    X
//
// Usage:
//
// > var throttled = jQuery.throttle( delay, [ no_trailing, ] callback );
// >
// > jQuery('selector').bind( 'someevent', throttled );
// > jQuery('selector').unbind( 'someevent', throttled );
//
// This also works in jQuery 1.4+:
//
// > jQuery('selector').bind( 'someevent', jQuery.throttle( delay, [ no_trailing, ] callback ) );
// > jQuery('selector').unbind( 'someevent', callback );
//
// Arguments:
//
//  delay - (Number) A zero-or-greater delay in milliseconds. For event
//    callbacks, values around 100 or 250 (or even higher) are most useful.
//  no_trailing - (Boolean) Optional, defaults to false. If no_trailing is
//    true, callback will only execute every `delay` milliseconds while the
//    throttled-function is being called. If no_trailing is false or
//    unspecified, callback will be executed one final time after the last
//    throttled-function call. (After the throttled-function has not been
//    called for `delay` milliseconds, the internal counter is reset)
//  callback - (Function) A function to be executed after delay milliseconds.
//    The `this` context and all arguments are passed through, as-is, to
//    `callback` when the throttled-function is executed.
//
// Returns:
//
//  (Function) A new, throttled, function.

'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});
exports.throttle = throttle;
exports.debounce = debounce;

function throttle(delay, no_trailing, callback, debounce_mode) {
	// After wrapper has stopped being called, this timeout ensures that
	// `callback` is executed at the proper times in `throttle` and `end`
	// debounce modes.
	var timeout_id,
	   

	// Keep track of the last time `callback` was executed.
	last_exec = 0;

	// `no_trailing` defaults to falsy.
	if (typeof no_trailing !== 'boolean') {
		debounce_mode = callback;
		callback = no_trailing;
		no_trailing = undefined;
	}

	// The `wrapper` function encapsulates all of the throttling / debouncing
	// functionality and when executed will limit the rate at which `callback`
	// is executed.
	function wrapper() {
		var that = this,
		    elapsed = +new Date() - last_exec,
		    args = arguments;

		// Execute `callback` and update the `last_exec` timestamp.
		function exec() {
			last_exec = +new Date();
			callback.apply(that, args);
		}

		// If `debounce_mode` is true (at_begin) this is used to clear the flag
		// to allow future `callback` executions.
		function clear() {
			timeout_id = undefined;
		}

		if (debounce_mode && !timeout_id) {
			// Since `wrapper` is being called for the first time and
			// `debounce_mode` is true (at_begin), execute `callback`.
			exec();
		}

		// Clear any existing timeout.
		timeout_id && clearTimeout(timeout_id);

		if (debounce_mode === undefined && elapsed > delay) {
			// In throttle mode, if `delay` time has been exceeded, execute
			// `callback`.
			exec();
		} else if (no_trailing !== true) {
			// In trailing throttle mode, since `delay` time has not been
			// exceeded, schedule `callback` to execute `delay` ms after most
			// recent execution.
			//
			// If `debounce_mode` is true (at_begin), schedule `clear` to execute
			// after `delay` ms.
			//
			// If `debounce_mode` is false (at end), schedule `callback` to
			// execute after `delay` ms.
			timeout_id = setTimeout(debounce_mode ? clear : exec, debounce_mode === undefined ? delay - elapsed : delay);
		}
	}

	// Return the wrapper function.
	return wrapper;
}

// Method: jQuery.debounce
//
// Debounce execution of a function. Debouncing, unlike throttling,
// guarantees that a function is only executed a single time, either at the
// very beginning of a series of calls, or at the very end. If you want to
// simply rate-limit execution of a function, see the <jQuery.throttle>
// method.
//
// In this visualization, | is a debounced-function call and X is the actual
// callback execution:
//
// > Debounced with `at_begin` specified as false or unspecified:
// > ||||||||||||||||||||||||| (pause) |||||||||||||||||||||||||
// >                          X                                 X
// >
// > Debounced with `at_begin` specified as true:
// > ||||||||||||||||||||||||| (pause) |||||||||||||||||||||||||
// > X                                 X
//
// Usage:
//
// > var debounced = jQuery.debounce( delay, [ at_begin, ] callback );
// >
// > jQuery('selector').bind( 'someevent', debounced );
// > jQuery('selector').unbind( 'someevent', debounced );
//
// This also works in jQuery 1.4+:
//
// > jQuery('selector').bind( 'someevent', jQuery.debounce( delay, [ at_begin, ] callback ) );
// > jQuery('selector').unbind( 'someevent', callback );
//
// Arguments:
//
//  delay - (Number) A zero-or-greater delay in milliseconds. For event
//    callbacks, values around 100 or 250 (or even higher) are most useful.
//  at_begin - (Boolean) Optional, defaults to false. If at_begin is false or
//    unspecified, callback will only be executed `delay` milliseconds after
//    the last debounced-function call. If at_begin is true, callback will be
//    executed only at the first debounced-function call. (After the
//    throttled-function has not been called for `delay` milliseconds, the
//    internal counter is reset)
//  callback - (Function) A function to be executed after delay milliseconds.
//    The `this` context and all arguments are passed through, as-is, to
//    `callback` when the debounced-function is executed.
//
// Returns:
//
//  (Function) A new, debounced, function.

function debounce(delay, at_begin, callback) {
	return callback === undefined ? throttle(delay, at_begin, false) : throttle(delay, callback, at_begin !== false);
}

},{}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Vzci9sb2NhbC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9DaGlja2VuUGFpbnQuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZW5naW5lL0NQQXJ0d29yay5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9lbmdpbmUvQ1BCaXRtYXAuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZW5naW5lL0NQQmxlbmQuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZW5naW5lL0NQQnJ1c2hJbmZvLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2VuZ2luZS9DUEJydXNoTWFuYWdlci5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9lbmdpbmUvQ1BDaGliaUZpbGUuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZW5naW5lL0NQQ2xpcC5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9lbmdpbmUvQ1BDb2xvckJtcC5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9lbmdpbmUvQ1BHcmV5Qm1wLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2VuZ2luZS9DUExheWVyLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2VuZ2luZS9DUExvb2tVcFRhYmxlLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2VuZ2luZS9DUFJlc291cmNlTG9hZGVyLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2VuZ2luZS9DUFJlc291cmNlU2F2ZXIuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZW5naW5lL0NQVW5kby5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9ndWkvQ1BBYm91dERpYWxvZy5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9ndWkvQ1BCb3hCbHVyRGlhbG9nLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2d1aS9DUEJydXNoUGFsZXR0ZS5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9ndWkvQ1BDYW52YXMuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQQ2hlY2tib3guanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQQ29sb3JQYWxldHRlLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2d1aS9DUENvbG9yU2VsZWN0LmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2d1aS9DUENvbG9yU2xpZGVyLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2d1aS9DUENvbG9yU3dhdGNoLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2d1aS9DUENvbmZpcm1UcmFuc2Zvcm1EaWFsb2cuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQR1VJVXRpbHMuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQR3JpZERpYWxvZy5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9ndWkvQ1BMYXllcnNQYWxldHRlLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2d1aS9DUE1haW5HVUkuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQTWFpbk1lbnUuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQTWlzY1BhbGV0dGUuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQUGFsZXR0ZS5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9ndWkvQ1BQYWxldHRlTWFuYWdlci5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9ndWkvQ1BTY3JvbGxiYXIuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQU2VuZERpYWxvZy5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9ndWkvQ1BTaG9ydGN1dHNEaWFsb2cuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQU2xpZGVyLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2d1aS9DUFNwbGFzaFNjcmVlbi5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9ndWkvQ1BTdHJva2VQYWxldHRlLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL2d1aS9DUFN3YXRjaGVzUGFsZXR0ZS5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy9ndWkvQ1BUYWJsZXREaWFsb2cuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQVGV4dHVyZVBhbGV0dGUuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvZ3VpL0NQVG9vbFBhbGV0dGUuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvdXRpbC9BZG9iZUNvbG9yVGFibGUuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvdXRpbC9BcnJheURhdGFTdHJlYW0uanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvdXRpbC9DUEJlemllci5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy91dGlsL0NQQ29sb3IuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvdXRpbC9DUENvbG9yRmxvYXQuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvdXRpbC9DUFBvbHlmaWxsLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL3V0aWwvQ1BQb2x5Z29uLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL3V0aWwvQ1BSYW5kb20uanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvdXRpbC9DUFJlY3QuanMiLCIvVXNlcnMvbmljb2xlYmVndWVzc2UvRGVza3RvcC9jaGlja2VucGFpbnQvanMvdXRpbC9DUFRyYW5zZm9ybS5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy91dGlsL0NQVmVjdG9yLmpzIiwiL1VzZXJzL25pY29sZWJlZ3Vlc3NlL0Rlc2t0b3AvY2hpY2tlbnBhaW50L2pzL3V0aWwvQ1BXYWNvbVRhYmxldC5qcyIsIi9Vc2Vycy9uaWNvbGViZWd1ZXNzZS9EZXNrdG9wL2NoaWNrZW5wYWludC9qcy91dGlsL3Rocm90dGxlLWRlYm91bmNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3FCQ2lQd0IsWUFBWTs7OztpQ0EzTlosc0JBQXNCOzs7OytCQUN4QixvQkFBb0I7Ozs7c0NBQ2IsMkJBQTJCOzs7O3FDQUM1QiwwQkFBMEI7Ozs7bUNBRTVCLHlCQUF5Qjs7Ozs0QkFFN0IsaUJBQWlCOzs7O2dDQUViLHFCQUFxQjs7OzsyQ0FDVixnQ0FBZ0M7Ozs7b0NBQ3ZDLHlCQUF5Qjs7OztrQ0FDM0IsdUJBQXVCOzs7O2lDQUN4QixzQkFBc0I7Ozs7K0JBQ3hCLG9CQUFvQjs7OzsrQkFDcEIsb0JBQW9COzs7OzhCQUdxQyxtQkFBbUI7OzJCQUNqRixnQkFBZ0I7Ozs7aUNBQ1Ysc0JBQXNCOzs7OzBCQUM3QixlQUFlOzs7O0FBRWxDLFNBQVMsa0JBQWtCLEdBQUc7QUFDMUIsV0FBTyx3Q0FBbUIsSUFBSSxZQUFZLElBQUksTUFBTSxDQUFDO0NBQ3hEOztBQUVELFNBQVMsa0JBQWtCLEdBQUc7QUFDMUIsUUFDSSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUUxQyxTQUFLLENBQUMsWUFBWSxDQUFDLFFB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QUFFLFNBQVMsRUFBRSxDQUFFLFNBQVMsRUFBRSxFQUFFLENBQ3pFLElBQ0ksTUFBTSxDQUFHLEFBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsSUFBSSxDQUFBLEdBQUksS0FBSyxHQUFHLEdBQUcsR0FBSSxDQUFDLENBQUMsQUFFM0QsR0FBSSxNQUFNLElBQUksQ0FBQyxDQUFFLENBQ2IsU0FBUyxDQUNaLEFBRUQsSUFDSSxNQUFNLENBQUcsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUMvQixNQUFNLENBQUcsTUFBTSxLQUFLLEVBQUUsQ0FFdEIsUUFBUSxDQUFHLEFBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBSSxDQUFDLENBQUMsQUFFN0QsR0FBSSxRQUFRLEdBQUcsQ0FBQyxDQUFFLENBQ2QsSUFDSSxTQUFTLENBQUcsQUFBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLFFBQVEsR0FBSSxDQUFDLENBQ3pDLFFBQVEsQ0FBRyxHQUFHLEdBQUcsU0FBUyxDQUFDOzs7QUFNL0IsSUFDSSxRQUFRLENBQUcsUUFBUSxJQUFJLEVBQUUsR0FDbkIsQUFBQyxDQUFDLE1BQU0sS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFBLEdBQUssQ0FBQyxDQUFDLE1BQU0sS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFBLEdBQUksUUFBUSxHQUFHLENBQUMsTUFBTSxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUEsR0FBSSxRQUFRLENBQUEsR0FBSSxHQUFHLEFBQUMsSUFBSyxFQUFFLEdBQ2hILEFBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQSxHQUFLLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQSxHQUFJLFFBQVEsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFBLEdBQUksUUFBUSxDQUFBLEdBQUksR0FBRyxBQUFDLElBQUssQ0FBQyxHQUMzRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUEsR0FBSyxDQUFD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SyxJQUFJLENBQUMsQ0FBRyxPQUFPLENBQUMsSUFBSSxDQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFFLENBQUMsRUFBRSxDQUFFLFNBQVMsRUFBRSxFQUFFLENBQzVELElBQ0ksTUFBTSxDQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FDMUIsTUFBTSxDQUFJLE1BQU0sS0FBSyxFQUFFLEFBQUMsQ0FFeEIsUUFBUSxDQUFHLEFBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBSSxDQUFDLENBQUMsQUFFN0QsR0FBSSxRQUFRLEdBQUcsQ0FBQyxDQUFFLENBQ2QsSUFDSSxTQUFTLENBQUcsQUFBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLFFBQVEsR0FBSSxDQUFDLENBQ3pDLFFBQVEsQ0FBRyxHQUFHLEdBQUcsU0FBUyxDQUUxQixRQUFRLENBQUcsUUFBUSxJQUFJLEVBQUUsR0FDbkIsQUFBQyxDQUFDLE1BQU0sS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFBLEdBQUssQ0FBQyxDQUFDLE1BQU0sS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFBLEdBQUksUUFBUSxHQUFHLENBQUMsTUFBTSxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUEsR0FBSSxRQUFRLENBQUEsR0FBSSxHQUFHLEFBQUMsSUFBSyxFQUFFLEdBQ2hILEFBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQSxHQUFLLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQSxHQUFJLFFBQVEsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFBLEdBQUksUUFBUSxDQUFBLEdBQUksR0FBRyxBQUFDLElBQUssQ0FBQyxHQUMzRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUEsR0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQSxHQUFJLFFBQVEsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUEsR0FBSSxRQUFRLENBQUEsR0FBSSxHQUFHLEFBQUMsQUFBQyxDQUFDLEFBRWhHLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FDaEMsQ0FDSixDQUNKLENBQ0osQUFFRCxTQUFTLGNBQWMsQ0FBQyxPQUFPLENBQUUsT0FBTyxDQUFFLE1BQU0sQ0FBRSxLQUFLLENBQUUsQ0FBQyxDQUFFLEtBQUssQ0FBRSxDQUMvRCxJQUNJLFdBQVcsQ0FBRyxhQUFhLENBQUMsSUFBSSxDQUVoQyxFQUFFLENBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxBQUVyQixJQUFLLElBQUksQ0FBQyxDQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUUsQ0FBQyxFQUFFLENBQUUsRUFBRSxFQUFFLEVBQUUsQ0FDckQsSUFDSSxZQUFZLENBQUcsT0FBTyxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsQ0FBQztBQUNwQyxhQUFhLENBQUcsT0FBTyxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUs7QUFDN0MsV0FBVyxDQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBRSxDQUFDLENBQUMsQ0FBQztBQUUxRCxJQUFLLElBQUksQ0FBQyxDQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUUsQ0FBQyxFQUFFLENBQUUsWUFBWSxFQUFFLENBQUUsV0FBVyxJQUFJLHdCQUFXLGVBQWUsQ0FBRSxhQUFhLEVBQUUsRUFBRSxDQUMzSCxJQUNJLE1BQU0sQ0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQzdCLE1BQU0sQ0FBRyxBQUFDLENBQUMsTUFBTSxLQUFLLEVBQUUsQ0FBQSxJQUFLLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFHLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFBLEFBQUMsR0FBSSxDQUFDLENBQUMsQUFFeEYsR0FBSSxNQUFNLElBQUksQ0FBQyxDQUFFLENBQ2IsU0FBUyxDQUNaLEFBRUQsSUFDSSxNQUFNLENBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsd0JBQVcsaUJBQWlCLENBQUMsQ0FFbEUsUUFBUSxDQUFHLEFBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBSSxDQUFDLENBQUMsQUFFN0QsR0FBSSxRQUFRLEdBQUcsQ0FBQyxDQUFFLENBQ2QsSUFDSSxTQUFTLENBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsd0JBQVcsZUFBZSxDQUFDLENBQ25FLFdBQVcsQ0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyx3QkFBVyxpQkFBaUIsQ0FBQyxDQUN2RSxVQUFVLENBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsd0JBQVcsZ0JBQWdCLENBQUMsQ0FFckUsU0FBUyxDQUFHLEFBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxRQUFRLEdBQUksQ0FBQyxDQUN6QyxRQUFRLENBQUcsR0FBRyxHQUFHLFNBQVMsQ0FFMUIsUUFBUSxDQUFHLFFBQVEsSUFBSSxFQUFFLEdBQ25CLEFBQUMsQ0FBQyxNQUFNLEtBQUssRUFBRSxHQUFHLElBQUksQ0FBQSxHQUFLLENBQUMsU0FBUyxHQUFHLFFBQVEsR0FBRyxDQUFDLE1BQU0sS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFBLEdBQUksUUFBUSxDQUFBLEdBQUksR0FBRyxBQUFDLElBQUssRUFBRSxHQUNuRyxBQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUEsR0FBSyxDQUFDLFdBQVcsR0FBRyxRQUFRLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQSxHQUFJLFFBQVEsQ0FBQSxHQUFJLEdBQUcsQUFBQyxJQUFLLENBQUMsR0FDakcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBLEdBQUssQ0FBQyxVQUFVLEdBQUcsUUFBUSxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQSxHQUFJLFFBQVEsQ0FBQSxH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RUFBRSxFQUFFLENBQzNCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUNoQyxDQUNKLENBQ0osQUFFRCxHQUFJLE9BQU8sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFFLENBQ25CLElBQ0ksSUFBSSxDQUFHLENBQUMsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLEFBRTdCLElBQUssSUFBSSxDQUFDLENBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBRSxDQUFDLEVBQUUsRUFBRSxDQUMvQyxJQUNJLE1BQU0sQ0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQzlCLFNBQVMsQ0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRW5DLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxJQUFJLENBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FDM0IsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQ2hDLENBQ0osQ0FDSixBQUVELElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFFLENBQUMsRUFBRSxFQUFFLENBQ2xDLElBQ0ksU0FBUyxDQUFHLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUMzQixTQUFTLENBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxBQUV0QixJQUFLLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFNBQVMsRUFBRSxDQUFFLFNBQVMsRUFBRSxFQUFFLENBQ2xELE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FDekMsQ0FDSixBQUVELElBQUssSUFBSSxDQUFDLENBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxF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SyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQUFFcEMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksT0FBTyxFQUFFLENBQzlDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUNyRCxJQUNJLE1BQU0sQ0FDdEMsTUFBTSxDQUFDLEFBRXFCLE1BQU0sR0FBSSxBQUFDLEFBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsR0FBSSxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBSyxDQUFDLEFBQUMsQ0FBQyxBQUd6RixHQUFJLE1BQU0sQ0FBRSxDQUdSLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEFBRW5DLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQUFBQyxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQSxHQUFJLE1BQU0sR0FBRyxNQUFNLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQSxBQUFDLEdBQUksQ0FBQyxDQUFDLEFBRWpHLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUFDLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQSxHQUFJLE1BQU0sR0FBRyxNQUFNLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQSxBQUFDLEdBQUksQ0FBQyxDQUFDLEFBRXpHLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUFDLE1BQU0sR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQSxHQUFJLE1BQU0sR0FBRyxNQUFNLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQSxBQUFDLEdBQUksQ0FBQyxDQUFDLENBSTVHLENBRUksQ0FDSixDQUNKLENBQUM7Ozs7OztHQVVGLE9BQU8sQ0FBQyw0Q0FBNEMsR0FBRyxTQUFTLEtBQUssQ0FBRSxNQUFNLENBQUUsSUFBSSxDQUFFLENBQ2pGLElBQ0ksQ0FBQyxDQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQ2hELENBQUMsQ0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUN2QixPQUFPLENBQUcsQUFBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFBLEdBQUksZUFBZSxHQUFJLENBQUMsQ0FDbkQsUUFBUSxDQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEFBRXBDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLE9BQU8sRUFBRSxDQUM5QyxJQUFLLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFFBQVEsSUFBSSxlQUFlLEVBQUUsQ0FDckQsSUFDSSxNQUFNLENBQ3RDLE1BQU0sQ0FDTixNQUFNLENBQ04sTUFBTSxDQUFDLEFBRXFCLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLEFBRzFELEdBQUksTUFBTSxDQUFFLENBQ1IsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLENBQUMsQUFHM0QsSUFDSSxRQUFRLENBQUcsQUFBQyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFJLENBQUMsQ0FFeEQsT0FBTyxDQUFHLEFBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUksQ0FBQyxDQUNyQyxRQUFRLENBQUcsQUFBQyxNQUFNLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsR0FBRyxHQUFJLENBQUMsQ0FDL0MsUUFBUSxDQUFHLEFBQUMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBLEdBQUksTUFBTSxHQUFHLEdBQUcsR0FBSSxDQUFDLENBQUMsQUFFNUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFOUIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxBQUFDLENBQUMsTUFBTSxHQUFHLFFBQVEsR0FBRyxNQUFNLEdBQUcsUUFBUSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsT0FBTyxHQUFHLEdBQUcsQ0FBQSxHQUFJLFFBQVEsR0FBSSxDQUFDLENBQUMsQUFFL0csTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUFDLENBQUMsTUFBTSxHQUFHLFFBQVEsR0FBRyxNQUFNLEdBQUcsUUFBUSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsT0FBTyxHQUFHLEdBQUcsQ0FBQSxHQUFJLFFBQVEsR0FBSSxDQUFDLENBQUMsQUFFbkgsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUFDLENBQUMsTUFBTSxHQUFHLFFBQVEsR0FBRyxNQUFNLEdBQUcsUUFBUSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsT0FBTyxHQUFHLEdBQUcsQ0FBQSxHQUFJLFFBQVEsR0FBSSxDQUFDLENBQUMsQUFFL0gsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FJNUMsQ0FFSSxDQUNKLENBQ0osQ0FBQzs7OztHQVFGLE9BQU8sQ0FBQyxpREFBaUQsR0FBRyxTQUFTLEtBQUssQ0FBRSxNQUFNLENBQUUsSUFBSSxDQUFFLENBQ3RGLElBQ0ksQ0FBQyxDQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQ2hELENBQUMsQ0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUN2QixPQUFPLENBQUcsQUFBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFBLEdBQUksZUFBZSxHQUFJLENBQUMsQ0FDbkQsUUFBUSxDQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEFBRXBDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLE9BQU8sRUFBRSxDQUM5QyxJQUFLLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFFBQVEsSUFBSSxlQUFlLEVBQUUsQ0FDckQsSUFDSSxNQUFNLENBQ3RDLE1BQU0sQ0FDTixNQUFNLENBQ04sTUFBTSxDQUFDLEFBRXFCLE1BQU0sR0FBSSxBQUFDLEFBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsR0FBSSxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBSyxDQUFDLEFBQUMsQ0FBQyxBQUd6RixHQUFJLE1BQU0sQ0FBRSxDQUNSLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLEFBRzNELElBQ0ksUUFBUSxDQUFHLEFBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBSSxDQUFDLENBRXhELE9BQU8sQ0FBRyxBQUFDLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFJLENBQUMsQ0FDckMsUUFBUSxDQUFHLEFBQUMsTUFBTSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFHLEdBQUcsR0FBSSxDQUFDLENBQy9DLFFBQVEsQ0FBRyxBQUFDLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQSxHQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUksQ0FBQyxDQUFDLEFBRTVDLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEFBRTlCLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEFBRW5DLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQUFBQyxDQUFDLE1BQU0sR0FBRyxRQUFRLEdBQUcsTUFBTSxHQUFHLFFBQVEsR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE9BQU8sR0FBRyxHQUFHLENBQUEsR0FBSSxRQUFRLEdBQUksQ0FBQyxDQUFDLEFBRS9HLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFB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LENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUNyRCxJQUNJLE1BQU0sQ0FDdEMsTUFBTSxDQUFDLEFBRXFCLE1BQU0sR0FBSSxBQUFDLEFBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsR0FBSSxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBSyxDQUFDLEFBQUMsQ0FBQyxBQUd6RixHQUFJLE1BQU0sQ0FBRSxDQUdoQixHQUFJLE1BQU0sSUFBSSxHQUFHLENBQUUsQ0FFZixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFN0MsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFckQsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FFeEQsS0FBTSxDQUNILElBQ0ksU0FBUyxDQUFHLEdBQUcsR0FBRyxNQUFNLENBQUMsQUFFekIsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFbEMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxBQUFDLENBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFNBQVMsQ0FBQSxHQUFJLEdBQUcsR0FBSSxDQUFDLENBQUMsQUFFdEYsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXRDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEFBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0s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QU0sQ0FBRSxJQUFJLENBQUUsQ0FDNUUsSUFDSSxDQUFDLENBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FDaEQsQ0FBQyxDQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQ3ZCLE9BQU8sQ0FBRyxBQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUEsR0FBSSxlQUFlLEdBQUksQ0FBQyxDQUNuRCxRQUFRLENBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQUFFcEMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksT0FBTyxFQUFFLENBQzlDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUNyRCxJQUNJLE1BQU0sQ0FBQyxBQUVYLE1BQU0sR0FBSSxBQUFDLEFBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsR0FBSSxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBSyxDQUFDLEFBQUMsQ0FBQyxBQUd6RixHQUFJLE1BQU0sQ0FBRSxDQUdaLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQUcsR0FBSSxDQUFDLENBQUMsQUFFMUYsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxR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Q0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFFBQVEsSUFBSSxlQUFlLEVBQUUsQ0FDckQsSUFDSSxNQUFNLENBQUMsQUFFWCxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxBQUcxRCxHQUFJLE1BQU0sQ0FBRSxDQUdaLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUksQ0FBQyxDQUFDLEFBRW5HLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEFBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUksQ0FBQyxDQUFDLEFBRS9HLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEFBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUksQ0FBQyxDQUFDLENBSTlHLENBRUksQ0FDSixDQUNKLENBQUM7Ozs7R0FRRixPQUFPLENBQUMsNENBQTRDLEdBQUcsU0FBUyxLQUFLLENBQUUsTUFBTSxDQUFFLElBQUksQ0FBRSxDQUNqRixJQUNJLENBQUMsQ0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUNoRCxDQUFDLENBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FDdkIsT0FBTyxDQUFHLEFBQUMs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LENBQUMsQ0FBRyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksZUFBZSxFQUFFLENBQ3JELElBQ0ksTUFBTSxDQUN0QyxNQUFNLENBQUMsQUFFcUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLENBQUMsQUFHMUQsR0FBSSxNQUFNLENBQUUsQ0FHaEIsSUFDSSxTQUFTLENBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxBQUV0QixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxBQUVuQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksR0FDNUIsQ0FDSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUEsR0FBSSxTQUFTLEdBQ3pCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUEsSUFBSyxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFBLEdBRWxFLEdBQUcsQUFDUixDQUFDLEFBRU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksR0FDaEMsQ0FDSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUEsR0FBSSxTQUFTLEdBQ3pCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFBLElBQUssTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQSxHQUV0RSxHQUFHLEFBQ1IsQ0FBQyxBQUVNLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQ2hDLENBQ0ksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBLEdBQUksU0FBUyxHQUN6QixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQSxJQUFLLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUEsR0FFdEUsR0FBRyxBQUNSLENBQUMsQ0FJRyxDQUVJLENBQ0osQ0FDSixDQUFDOzs7O0dBUUYsT0FBTyxDQUFDLDBDQUEwQyxHQUFHLFNBQVMsS0FBSyxDQUFFLE1BQU0sQ0FBRSxJQUFJLENBQUUsQ0FDL0UsSUFDSSxDQUFDLENBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FDaEQsQ0FBQyxDQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQ3ZCLE9BQU8sQ0FBRyxBQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUEsR0FBSSxlQUFlLEdBQUksQ0FBQyxDQUNuRCxRQUFRLENBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQUFFcEMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksT0FBTyxFQUFFLENBQzlDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUNyRCxJQUNJLE1BQU0sQ0FDdEMsTUFBTSxDQUFDLEFBRXFCLE1BQU0sR0FBSSxBQUFDLEFBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsR0FBSSxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBSyxDQUFDLEFBQUMsQ0FBQyxBQUd6RixHQUFJLE1BQU0sQ0FBRSxDQUdoQixJQUNJLFNBQVMsQ0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLEFBRXRCLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEFBRW5DLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSxHQUM1QixDQUNJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQSxHQUFJLFNBQVMsR0FDekIsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQSxJQUFLLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUEsR0FFbEUsR0FBRyxBQUNSLENBQUMsQUFFTSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUNoQyxDQUNJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQSxHQUFJLFNBQVMsR0FDekIsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUEsSUFBSyxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFBLEdBRXRFLEdBQUcsQUFDUixDQUFDLEFBRU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksR0FDaEMsQ0FDSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUEsR0FBSSxTQUFTLEdBQ3pCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFBLElBQUssTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFD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QUFDLENBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksT0FBTyxFQUFFLENBQzlDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUNyRCxJQUNJLE1BQU0sQ0FDdEMsTUFBTSxDQUNOLE1BQU0sQ0FBQyxBQUVxQixNQUFNLEdBQUksQUFBQyxBQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLEdBQUksS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUssQ0FBQyxBQUFDLENBQUMsQUFHekYsR0FBSSxNQUFNLENBQUUsQ0FHaEIsSUFDSSxTQUFTLENBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxBQUV0QixNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxBQUU5QixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxBQUVuQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLE1BQU0sSUFBSSxNQUFNLENBQUcsTUFBTSxDQUFHLENBQUMsTUFBTSxHQUFHLFNBQVMsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFBLEdBQUksR0FBRyxDQUFDLEFBRTdGLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxJQUFJLE1BQU0sQ0FBRyxNQUFNLENBQUcsQ0FBQyxNQUFNLEdBQUcsU0FBUyxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUEsR0FBSSxHQUFHLENBQUMsQUFFakcsTUFBTSxHQUFHLEtBQUssQ0FBQyxJ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QUcsVUFBVSxDQUFLLE1BQU0sR0FBRyxPQUFPLEdBQUcsTUFBTSxHQUFHLFVBQVUsQ0FBQyxHQUFJLEdBQUcsR0FBSSxDQUFDLENBQUMsQUFFM0ksTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUFDLENBQUMsQUFBQyxNQUFNLElBQUksTUFBTSxDQUFLLE1BQU0sR0FBRyxPQUFPLEdBQUcsTUFBTSxHQUFHLFVBQVUsQ0FBSyxNQUFNLEdBQUcsT0FBTyxHQUFHLE1BQU0sR0FBRyxVQUFVLENBQUMsR0FBSSxHQUFHLEdBQUksQ0FBQyxDQUFDLEFBRS9JLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFBQyxDQUFDLEFBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBSyxNQUFNLEdBQUcsT0FBTyxHQUFHLE1BQU0sR0FBRyxVQUFVLENBQUssTUFBTSxHQUFHLE9BQU8sR0FBRyxNQUFNLEdBQUcsVUFBVSxDQUFDLEdBQUksR0FBRyxHQUFJLENBQUMsQ0FBQyxBQUUzSixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUk1QyxDQUVJLENBQ0osQ0FDSixDQUFDOzs7Ozs7R0FVRixPQUFPLENBQUMscUNBQXFDLEdBQUcsU0FBUyxLQUFLLENBQUUsTUFBTSxDQUFFLElBQUksQ0FBRSxDQUMxRSxJQUNJLENBQUMsQ0FBRyxJQUFJLENBQUMsU0FBUyxFQUFF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QUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFFBQVEsSUFBSSxlQUFlLEVBQUUsQ0FDckQsSUFDSSxNQUFNLENBQ3RDLE1BQU0sQ0FDTixNQUFNLENBQUMsQUFFcUIsTUFBTSxHQUFJLEFBQUMsQUFBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxHQUFJLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFLLENBQUMsQUFBQyxDQUFDLEFBR3pGLEdBQUksTUFBTSxDQUFFLENBR2hCLElBQ0ksU0FBUyxDQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsQUFFdEIsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFOUIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxNQUFNLElBQUksTUFBTSxDQUFHLENBQUMsTUFBTSxHQUFHLFNBQVMsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFBLEdBQUksR0FBRyxDQUFHLE1BQU0sQ0FBQyxBQUU3RixNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sSUFBSSxNQUFNLENBQUcsQ0FBQyxNQUFNLEdBQUcsU0FBUyxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUEsR0FBSSxHQUFHLENBQUcsTUFBTSxDQUFDLEFBRWpHLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxJQUFJLE1BQU0sQ0FBRyxDQUFDLE1BQU0sR0FBRyxTQUFTLEdBQUcsTUFBTSxHQUFHLE1BQU0sQ0FBQSxHQUFJLEdBQUcsQ0FBRyxNQUFNLENBQUMsQ0FJcEcsQ0FFSSxDQUNKLENBQ0osQ0FBQzs7Ozs7O0dBVUYsT0FBTyxDQUFDLDBDQUEwQyxHQUFHLFNBQVMsS0FBSyxDQUFFLE1BQU0sQ0FBRSxJQUFJLENBQUUsQ0FDL0UsSUFDSSxDQUFDLENBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FDaEQsQ0FBQyxDQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQ3ZCLE9BQU8sQ0FBRyxBQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUEsR0FBSSxlQUFlLEdBQUksQ0FBQyxDQUNuRCxRQUFRLENBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQUFFcEMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksT0FBTyxFQUFFLENBQzlDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUNyRCxJQUNJLE1BQU0sQ0FDdEMsTUFBTSxDQUNOLE1BQU0sQ0FDTixNQUFNLENBQUMsQUFFcUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLENBQUMsQUFHMUQsR0FBSSxNQUFNLENBQUUsQ0FDUixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxBQUczRCxJQUNJLFFBQVEsQ0FBRyxBQUFDLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUksQ0FBQztBQUd4RCxPQUFPLENBQUcsQUFBQyxNQUFNLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsUUFBUSxHQUFJLENBQUMsQ0FDbkQsVUFBVSxDQUFHLEFBQUMsT0FBTyxHQUFHLElBQUksR0FBSSxDQUFDO0FBR2pDLE9BQU8sQ0FBRyxBQUFDLE1BQU0sSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxRQUFRLEdBQUksQ0FBQyxDQUNuRCxVQUFVLENBQUcsQUFBQyxPQUFPLEdBQUcsSUFBSSxHQUFJLENBQUMsQ0FBQyxBQUU5QixNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxBQUU5QixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxBQUVuQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEFBQUMsQ0FBQyxBQUFDLE1BQU0sSUFBSSxNQUFNLENBQUssTUFBTSxHQUFHLE9BQU8sR0FBRyxNQUFNLEdBQUcsVUFBVSxDQUFLLE1BQU0sR0FBRyxPQUFPLEdBQUcsTUFBTSxHQUFHLFVBQVUsQ0FBQyxHQUFJLEdBQUcsR0FBSSxDQUFDLENBQUMsQUFFM0ksTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUFDLENBQUMsQUFBQyxNQUFNLElBQUksTUFBTSxDQUFLLE1BQU0sR0FBRyxPQUFPLEdBQUcsTUFBTSxHQUFHLFVBQVUsQ0FBSyxNQUFNLEdBQUcsT0FBTyxHQUFHLE1BQU0sR0FBRyxVQUFVLENBQUMsR0FBSSxHQUFHLEdB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SyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUEsR0FBSSxlQUFlLEdBQUksQ0FBQyxDQUNuRCxRQUFRLENBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQUFFcEMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksT0FBTyxFQUFFLENBQzlDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUNyRCxJQUNJLE1BQU0sQ0FDdEMsTUFBTSxDQUNOLE1BQU0sQ0FBQyxBQUVxQixNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxBQUcxRCxHQUFJLE1BQU0sQ0FBRSxDQUdoQixJQUNJLFNBQVMsQ0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLEFBRXRCLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEFBRTlCLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEFBRW5DLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQUFDeEIsQ0FDSSxNQUFNLEdBQUcsU0FBUyxHQUNoQixNQUFNLElBQUksTUFBTSxJQUFJLEdBQUcsQ0FBRyxHQUFHLENBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsQUFBQyxHQUFHLEdBQUcsTUFBTSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFJLENBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FBQSxHQUN0RixHQUFHLEdBQ1AsQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFB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QU0sSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUEsQUFBQyxDQUFBLEdBRXJGLEdBQUcsR0FDTCxDQUFDLENBQUMsQUFFRSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEFBQzVCLENBQ0ksTUFBTSxHQUFHLFNBQVMsR0FDaEIsTUFBTSxJQUFJLE1BQU0sSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUEsQUFBQyxDQUFBLEdBRXJGLEdBQUcsR0FDTCxDQUFDLENBQUMsQUFFRSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEFBQzVCLENBQ0ksTUFBTSxHQUFHLFNBQVMsR0FDaEIsTUFBTSxJQUFJLE1BQU0sSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUEsQUFBQyxDQUFBLEdBRXJGLEdBQUcsR0FDTCxDQUFDLENBQUMsQ0FJRCxDQUVJLENBQ0osQ0FDSixDQUFDOzs7O0dBUUYsT0FBTyxDQUFDLHdDQUF3QyxHQUFHLFNBQVMsS0FBSyxDQUFFLE1BQU0sQ0FBRSxJQUFJLENBQUUsQ0FDN0UsSUFDSSxDQUFDLENBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FDaEQsQ0FBQyxDQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQ3ZCLE9BQU8sQ0FBRyxBQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUEsR0FBSSxlQUFlLEdBQUksQ0FBQyxDQUNuRCxRQUFRLENBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQUFFcEMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksT0FBTyxFQUFFLENBQzlDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUNyRCxJQUNJLE1BQU0sQ0FDdEMsTUFBTSxDQUNOLE1BQU0sQ0FBQyxBQUVxQixNQUFNLEdBQUksQUFBQyxBQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLEdBQUksS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUssQ0FBQyxBQUFDLENBQUMsQUFHekYsR0FBSSxNQUFNLENBQUUsQ0FHaEIsSUFDSSxTQUFTLENBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxBQUV0QixNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxBQUU5QixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxBQUVuQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEFBQ3hCLENBQ0ksTUFBTSxHQUFHLFNBQVMsR0FDaEIsTUFBTSxJQUFJLE1BQU0sSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUEsQUFBQyxDQUFBLEdBRXJGLEdBQUcsR0FDTCxDQUFDLENBQUMsQUFFRSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEFBQzVCLENBQ0ksTUFBTSxHQUFHLFNBQVMsR0FDaEIsTUFBTSxJQUFJLE1BQU0sSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUEsQUFBQyxDQUFBLEdBRXJGLEdBQUcsR0FDTCxDQUFDLENBQUMsQUFFRSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEFBQzVCLENBQ0ksTUFBTSxHQUFHLFNBQVMsR0FDaEIsTUFBTSxJQUFJLE1BQU0sSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUEsQUFBQyxDQUFBLEdBRXJGLEdBQUcsR0FDTCxDQUFDLENBQUMsQ0FJRCxDQUVJLENBQ0osQ0FDSixDQUFDOzs7Ozs7R0FVRixPQUFPLENBQUMsd0NBQXdDLEdBQUcsU0FBUyxLQUFLLENBQUUsTUFBTSxDQUFFLElBQUksQ0FBRSxDQUM3RSxJQUNJLENBQUMsQ0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUNoRCxDQUFDLENBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FDdkIsT0FBTyxDQUFHLEFBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQSxHQUFJLGVBQWUsR0FBSSxDQUFDLENBQ25ELFFBQVEsQ0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxBQUVwQyxJQUFLLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFFBQVEsSUFBSSxPQUFPLEVBQUUsQ0FDOUMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksZUFBZSxFQUFFLENBQ3JELElBQ0ksTUFBTSxDQUN0QyxNQUFNLENBQ04sTUFBTSxDQUNOLE1BQU0sQ0FBQyxBQUVxQixNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxBQUcxRCxHQUFJLE1BQU0sQ0FBRSxDQUNSLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLEFBRzNELElBQ0ksUUFBUSxDQUFHLEFBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBSSxDQUFDLENBRXhELE9BQU8sQ0FBRyxBQUFDLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFJLENBQUMsQ0FDckMsUUFBUSxDQUFHLEFBQUMsTUFBTSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFHLEdBQUcsR0FBSSxDQUFDLENBQy9DLFFBQVEsQ0FBRyxBQUFDLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQSxHQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUksQ0FBQyxDQUFDLEFBRTVDLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEFBRTlCLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEFBRW5DLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQUFDeEIsQ0FDSSxNQUFNLEdBQUcsUUFBUSxHQUNmLE1BQU0sR0FBRyxRQUFRLEdBQ2pCLE9BQU8sSUFBSSxNQUFNLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxHQUFHLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFBLEFBQUMsQ0FBQSxHQUV0RixRQUFRLEdBQ1YsQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUM1QixDQUNJLE1BQU0sR0FBRyxRQUFRLEdBQ2YsTUFBTSxHQUFHLFFBQVEsR0FDakIsT0FBTyxJQUFJLE1BQU0sSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxNQUFNLENB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TUFBTSxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsR0FBRyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQSxBQUFDLENBQUEsR0FFdEYsUUFBUSxHQUNWLENBQUMsQ0FBQyxBQUVFLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFDNUIsQ0FDSSxNQUFNLEdBQUcsUUFBUSxHQUNmLE1BQU0sR0FBRyxRQUFRLEdBQ2pCLE9BQU8sSUFBSSxNQUFNLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxHQUFHLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFBLEFBQUMsQ0FBQSxHQUV0RixRQUFRLEdBQ1YsQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUM1QixDQUNJLE1BQU0sR0FBRyxRQUFRLEdBQ2YsTUFBTSxHQUFHLFFBQVEsR0FDakIsT0FBTyxJQUFJLE1BQU0sSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUEsQUFBQyxDQUFBLEdBRXRGLFFBQVEsR0FDVixDQUFDLENBQUMsQUFFVixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUk1QyxDQUVJLENBQ0osQ0FDSixDQUFDOzs7Ozs7R0FVRixPQUFPLENBQUMsc0NBQXNDLEdBQUcsU0FBUyxLQUFLLENBQUUsTUFBTSxDQUFFLElBQUksQ0FBRSxDQUMzRSxJQUNJLENBQUMsQ0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUNoRCxDQUFDLENBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FDdkIsT0FBTyxDQUFHLEFBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQSxHQUFJLGVBQWUsR0FBSSxDQUFDLENBQ25ELFFBQVEsQ0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxBQUVwQyxJQUFLLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFFBQVEsSUFBSSxPQUFPLEVBQUUsQ0FDOUMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksZUFBZSxFQUFFLENBQ3JELElBQ0ksTUFBTSxDQUN0QyxNQUFNLENBQ04sTUFBTSxDQUFDLEFBRXFCLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLEFBRzFELEdBQUksTUFBTSxDQUFFLENBR2hCLElBQ0ksU0FBUyxDQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsQUFFdEIsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFOUIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxBQUN4QixDQUNJLFNBQVMsR0FBRyxNQUFNLElBRWQsTUFBTSxJQUFJLEdBQUcsQ0FDTixNQUFNLEdBQUcsQ0FBQyxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUNsQyxNQUFNLElBQUksQUFBQyxDQUFDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsR0FBRyxHQUFJLElBQUksQ0FBQSxBQUFDLENBQUMsQ0FDMUUsR0FDRCxHQUFHLEdBQ1AsQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUM1QixDQUNJLFNBQVMsR0FBRyxNQUFNLElBRWQsTUFBTSxJQUFJLEdBQUcsQ0FDTixNQUFNLEdBQUcsQ0FBQyxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUNsQyxNQUFNLElBQUksQUFBQyxDQUFDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsR0FBRyxHQUFJLElBQUksQ0FBQSxBQUFDLENBQUMsQ0FDMUUsR0FDRCxHQUFHLEdBQ1AsQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUM1QixDQUNJLFNBQVMsR0FBRyxNQUFNLElBRWQsTUFBTSxJQUFJLEdBQUcsQ0FDTixNQUFNLEdBQUcsQ0FBQyxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUNsQyxNQUFNLElBQUksQUFBQyxDQUFDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsR0FBRyxHQUFJLElBQUksQ0FBQSxBQUFDLENBQUMsQ0FDMUUsR0FDRCxHQUFHLEdBQ1AsQ0FBQyxDQUFDLENBSUQsQ0FFSSxDQUNKLENBQ0osQ0FBQzs7OztHQVFGLE9BQU8sQ0FBQywyQ0FBMkMsR0FBRyxTQUFTLEtBQUssQ0FBRSxNQUFNLENBQUUsSUFBSSxDQUFFLENBQ2hGLElBQ0ksQ0FBQyxDQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQ2hELENBQUMsQ0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUN2QixPQUFPLENBQUcsQUFBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFBLEdBQUksZUFBZSxHQUFJLENBQUMsQ0FDbkQsUUFBUSxDQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEFBRXBDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLE9BQU8sRUFBRSxDQUM5QyxJQUFLLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFFBQVEsSUFBSSxlQUFlLEVBQUUsQ0FDckQsSUFDSSxNQUFNLENBQ3RDLE1BQU0sQ0FDTixNQUFNLENBQUMsQUFFcUIsTUFBTSxHQUFJLEFBQUMsQUFBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxHQUFJLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFLLENBQUMsQUFBQyxDQUFDLEFBR3pGLEdBQUksTUFBTSxDQUFFLENBR2hCLElBQ0ksU0FBUyxDQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsQUFFdEIsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFOUIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxBQUN4QixDQUNJLFNBQVMsR0FBRyxNQUFNLElBRWQsTUFBTSxJQUFJLEdBQUcsQ0FDTixNQUFNLEdBQUcsQ0FBQyxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUNsQyxNQUFNLElBQUksQUFBQyxDQUFDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsR0FBRyxHQUFJLElBQUksQ0FBQSxBQUFDLENBQUMsQ0FDMUUsR0FDRCxHQUFHLEdBQ1AsQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUM1QixDQUNJLFNBQVMsR0FBRyxNQUFNLElBRWQsTUFBTSxJQUFJLEdBQUcsQ0FDTixNQUFNLEdBQUcsQ0FBQyxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUNsQyxNQUFNLElBQUksQUFBQyxDQUFDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsR0FBRyxHQUFJLElBQUksQ0FBQSxBQUFDLENBQUMsQ0FDMUUsR0FDRCxH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R0FBSSxJQUFJLENBQUEsQUFBQyxDQUFDLENBQzFFLEdBQ0QsR0FBRyxHQUNQLENBQUMsQ0FBQyxBQUVFLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFDNUIsQ0FDSSxTQUFTLEdBQUcsTUFBTSxJQUVkLE1BQU0sSUFBSSxHQUFHLENBQ04sTUFBTSxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FDbEMsTUFBTSxJQUFJLEFBQUMsQ0FBQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFHLEdBQUcsR0FBSSxJQUFJLENBQUEsQUFBQyxDQUFDLENBQzFFLEdBQ0QsR0FBRyxHQUNQLENBQUMsQ0FBQyxBQUVFLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFDNUIsQ0FDSSxTQUFTLEdBQUcsTUFBTSxJQUVkLE1BQU0sSUFBSSxHQUFHLENBQ04sTUFBTSxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FDbEMsTUFBTSxJQUFJLEFBQUMsQ0FBQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFHLEdBQUcsR0FBSSxJQUFJLENBQUEsQUFBQyxDQUFDLENBQzFFLEdBQ0QsR0FBRyxHQUNQLENBQUMsQ0FBQyxDQUlELENBRUksQ0FDSixDQUNKLENBQUM7Ozs7R0FRRixPQUFPLENBQUMsNkNBQTZDLEdBQUcsU0FBUyxLQUFLLENBQUUsTUFBTSxDQUFFLElBQUksQ0FBRSxDQUNsRixJQUNJLENBQUMsQ0FBRyxJQUFJLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUNoRCxDQUFDLENBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FDdkIsT0FBTyxDQUFHLEFBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQSxHQUFJLGVBQWUsR0FBSSxDQUFDLENBQ25ELFFBQVEsQ0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxBQUVwQyxJQUFLLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFFBQVEsSUFBSSxPQUFPLEVBQUUsQ0FDOUMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksZUFBZSxFQUFFLENBQ3JELElBQ0ksTUFBTSxDQUN0QyxNQUFNLENBQ04sTUFBTSxDQUFDLEFBRXFCLE1BQU0sR0FBSSxBQUFDLEFBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsR0FBSSxLQUFLLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBSyxDQUFDLEFBQUMsQ0FBQyxBQUd6RixHQUFJLE1BQU0sQ0FBRSxDQUdoQixJQUNJLFNBQVMsQ0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLEFBRXRCLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEFBRTlCLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEFBRW5DLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQUFDeEIsQ0FDSSxTQUFTLEdBQUcsTUFBTSxJQUVkLE1BQU0sSUFBSSxHQUFHLENBQ04sTUFBTSxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FDbEMsTUFBTSxJQUFJLEFBQUMsQ0FBQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFHLEdBQUcsR0FBSSxJQUFJLENBQUEsQUFBQyxDQUFDLENBQzFFLEdBQ0QsR0FBRyxHQUNQLENBQUMsQ0FBQyxBQUVFLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFDNUIsQ0FDSSxTQUFTLEdBQUcsTUFBTSxJQUVkLE1BQU0sSUFBSSxHQUFHLENBQ04sTUFBTSxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FDbEMsTUFBTSxJQUFJLEFBQUMsQ0FBQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUEsQUFBQyxHQUFHLEdBQUcsR0FBSSxJQUFJLENBQUEsQUFBQyxDQUFDLENBQzFFLEdBQ0QsR0FBRyxHQUNQLENBQUMsQ0FBQyxBQUVFLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFDNUIsQ0FDSSxTQUFTLEdBQUcsTUFBTSxJQUVkLE1BQU0sSUFBSSxHQUFHLENBQ04sTUFBTSxHQUFHLENB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LENBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQSxDQUFDLEFBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FBQyxDQUM5RixHQUNELEdBQUcsR0FDUCxDQUFDLENBQUMsQUFFRSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEFBQzVCLENBQ0ksU0FBUyxHQUFHLE1BQU0sSUFFZCxNQUFNLElBQUksR0FBRyxDQUNOLE1BQU0sSUFBSSxBQUFDLE1BQU0sSUFBSSxDQUFDLENBQUksQ0FBQyxDQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUEsR0FBSSxHQUFHLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQSxBQUFDLENBQUMsQ0FBQSxBQUFDLENBQ3ZGLE1BQU0sSUFBSSxNQUFNLElBQUksR0FBRyxDQUFHLEdBQUcsQ0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFBLENBQUMsQUFBQyxDQUFDLENBQUEsQUFBQyxDQUFDLENBQzlGLEdBQ0QsR0FBRyxHQUNQLENBQUMsQ0FBQyxBQUVFLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFDNUIsQ0FDSSxTQUFTLEdBQUcsTUFBTSxJQUVkLE1BQU0sSUFBSSxHQUFHLENBQ04sTUFBTSxJQUFJLEFBQUMsTUFBTSxJQUFJLENBQUMsQ0FBSSxDQUFDLENBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQSxHQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFBLEFBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FDdkYsTUFBTSxJQUFJLE1BQU0sSUFBSSxHQUFHLENBQUcsR0FBRyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUEsQ0FBQyxBQUFDLENBQUMsQ0FBQSxBQUFDLENBQUMsQ0FDOUYsR0FDRCxHQUFHLEdBQ1AsQ0FBQyxDQUFDLENBSUQsQ0FFSSxDQUNKLENBQ0osQ0FBQzs7OztHQVFGLE9BQU8sQ0FBQyw4Q0FBOEMsR0FBRyxTQUFTLEtBQUssQ0FBRSxNQUFNLENBQUUsSUFBSSxDQUFFLENBQ25GLElBQ0ksQ0FBQyxDQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQ2hELENBQUMsQ0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUN2QixPQUFPLENBQUcsQUFBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFBLEdBQUksZUFBZSxHQUFJLENBQUMsQ0FDbkQsUUFBUSxDQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEFBRXBDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLE9BQU8sRUFBRSxDQUM5QyxJQUFLLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFFBQVEsSUFBSSxlQUFlLEVBQUUsQ0FDckQsSUFDSSxNQUFNLENBQ3RDLE1BQU0sQ0FDTixNQUFNLENBQUMsQUFFcUIsTUFBTSxHQUFJLEFBQUMsQUFBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxHQUFJLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFLLENBQUMsQUFBQyxDQUFDLEFBR3pGLEdBQUksTUFBTSxDQUFFLENBR2hCLElBQ0ksU0FBUyxDQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsQUFFdEIsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFOUIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxBQUN4QixDQUNJLFNBQVMsR0FBRyxNQUFNLElBRWQsTUFBTSxJQUFJLEdBQUcsQ0FDTixNQUFNLElBQUksQUFBQyxNQUFNLElBQUksQ0FBQyxDQUFJLENBQUMsQ0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFBLEdBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUEsQUFBQyxDQUFDLENBQUEsQUFBQyxDQUN2RixNQUFNLElBQUksTUFBTSxJQUFJLEdBQUcsQ0FBRyxHQUFHLENBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQSxDQUFDLEFBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FBQyxDQUM5RixHQUNELEdBQUcsR0FDUCxDQUFDLENBQUMsQUFFRSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLEFBQzVCLENBQ0ksU0FBUyxHQUFHLE1BQU0sSUFFZCxNQUFNLElBQUksR0FBRyxDQUNOLE1BQU0sSUFBSSxBQUFDLE1BQU0sSUFBSSxDQUFDLENBQUksQ0FBQyxDQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUEsR0FBSSxHQUFHLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQSxBQUFDLENBQUMsQ0FBQSxBQUFDLENBQ3ZGLE1BQU0sSUFBSSxNQUFNLElBQUksR0FBRyxDQUFHLEdBQUcsQ0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFBLENBQUMsQUFBQyxDQUFDLENBQUEsQUFBQyxDQUFDLENBQzlGLEdBQ0QsR0FBRyxHQUNQLENBQUMsQ0FBQyxBQUVFLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFDNUIsQ0FDSSxTQUFTLEdBQUcsTUFBTSxJQUVkLE1BQU0sSUFBSSxHQUFHLENBQ04sTUFBTSxJQUFJLEFBQUMsTUFBTSxJQUFJLENBQUMsQ0FBSSxDQUFDLENBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQSxHQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFBLEFBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FDdkYsTUFBTSxJQUFJLE1BQU0sSUFBSSxHQUFHLENBQUcsR0FBRyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUEsQ0FBQyxBQUFDLENBQUMsQ0FBQSxBQUFDLENBQUMsQ0FDOUYsR0FDRCxHQUFHLEdBQ1AsQ0FBQyxDQUFDLENBSUQsQ0FFSSxDQUNKLENBQ0osQ0FBQzs7Ozs7O0dBVUYsT0FBTyxDQUFDLDhDQUE4QyxHQUFHLFNBQVMsS0FBSyxDQUFFLE1BQU0sQ0FBRSxJQUFJLENBQUUsQ0FDbkYsSUFDSSxDQUFDLENBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FDaEQsQ0FBQyxDQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQ3ZCLE9BQU8sQ0FBRyxBQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUEsR0FBSSxlQUFlLEdBQUksQ0FBQyxDQUNuRCxRQUFRLENBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQUFFcEMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksT0FBTyxFQUFFLENBQzlDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUNyRCxJQUNJLE1BQU0sQ0FDdEMsTUFBTSxDQUNOLE1BQU0sQ0FDTixNQUFNLENBQUMsQUFFcUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLENBQUMsQUFHMUQsR0FBSSxNQUFNLENBQUUsQ0FDUixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxBQUczRCxJQUNJLFFBQVEsQ0FBRyxBQUFDLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUksQ0FBQyxDQUV4RCxPQUFPLENBQUcsQUFBQyxNQUFNLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBSSxDQUFDLENBQ3JDLFFBQVEsQ0FBRyxBQUFDLE1BQU0sSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBLEFBQUMsR0FBRyxHQUFHLEdBQUksQ0FBQyxDQUMvQyxRQUFRLENBQUcsQUFBQyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUEsR0FBSSxNQUFNLEdBQUcsR0FBRyxHQUFJLENBQUMsQ0FBQyxBQUU1QyxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxBQUU5QixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxBQUVuQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEFBQ3hCLENBQ0ksUUFBUSxHQUFHLE1BQU0sR0FDZixRQUFRLEdBQUcsTUFBTSxJQUVmLE1BQU0sSUFBSSxHQUFHLENBQ04sT0FBTyxJQUFJLEFBQUMsTUFBTSxJQUFJLENBQUMsQ0FBSSxDQUFDLENBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQSxHQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFBLEFBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FDeEYsT0FBTyxJQUFJLE1BQU0sSUFBSSxHQUFHLENBQUcsR0FBRyxDQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUEsQ0FBQyxBQUFDLENBQUMsQ0FBQSxBQUFDLENBQUMsQ0FDL0YsR0FDRCxRQUFRLEdBQ1osQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUM1QixDQUNJLFFBQVEsR0FBRyxNQUFNLEdBQ2YsUUFBUSxHQUFHLE1BQU0sSUFFZixNQUFNLElBQUksR0FBRyxDQUNOLE9BQU8sSUFBSSxBQUFDLE1BQU0sSUFBSSxDQUFDLENBQUksQ0FBQyxDQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUEsR0FBSSxHQUFHLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQSxBQUFDLENBQUMsQ0FBQSxBQUFDLENBQ3hGLE9BQU8sSUFBSSxNQUFNLElBQUksR0FBRyxDQUFHLEdBQUcsQ0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFBLENBQUMsQUFBQyxDQUFDLENBQUEsQUFBQyxDQUFDLENBQy9GLEdBQ0QsUUFBUSxHQUNaLENBQUMsQ0FBQyxBQUVFLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFDNUIsQ0FDSSxRQUFRLEdBQUcsTUFBTSxHQUNmLFFBQVEsR0FBRyxNQUFNLElBRWYsTUFBTSxJQUFJLEdBQUcsQ0FDTixPQUFPLElBQUksQUFBQyxNQUFNLElBQUksQ0FBQyxDQUFJLENBQUMsQ0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFBLEdBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUEsQUFBQyxDQUFDLENBQUEsQUFBQyxDQUN4RixPQUFPLElBQUksTUFBTSxJQUFJLEdBQUcsQ0FBRyxHQUFHLENBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQSxDQUFDLEFBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FBQyxDQUMvRixHQUNELFFBQVEsR0FDWixDQUFDLENBQUMsQUFFVixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUk1QyxDQUVJLENBQ0osQ0FDSixDQUFDOzs7O0dBUUYsT0FBTyxDQUFDLG1EQUFtRCxHQUFHLFNBQVMsS0FBSyxDQUFFLE1BQU0sQ0FBRSxJQUFJLENBQUUsQ0FDeEYsSUFDSSxDQUFDLENBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FDaEQsQ0FBQyxDQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQ3ZCLE9BQU8sQ0FBRyxBQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUEsR0FBSSxlQUFlLEdBQUksQ0FBQyxDQUNuRCxRQUFRLENBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQUFFcEMsSUFBSyxJQUFJLENBQUMsQ0FBRyxDQUFDLENBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBRSxDQUFDLEVBQUUsQ0FBRSxRQUFRLElBQUksT0FBTyxFQUFFLENBQzlDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLGVBQWUsRUFBRSxDQUNyRCxJQUNJLE1BQU0sQ0FDdEMsTUFBTSxDQUNOLE1BQU0sQ0FDTixNQUFNLENBQUMsQUFFcUIsTUFBTSxHQUFJLEFBQUMsQUFBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxHQUFJLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFLLENBQUMsQUFBQyxDQUFDLEFBR3pGLEdBQUksTUFBTSxDQUFFLENBQ1IsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLENBQUMsQUFHM0QsSUFDSSxRQUFRLENBQUcsQUFBQyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFJLENBQUMsQ0FFeEQsT0FBTyxDQUFHLEFBQUMsTUFBTSxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUksQ0FBQyxDQUNyQyxRQUFRLENBQUcsQUFBQyxNQUFNLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQSxBQUFDLEdBQUcsR0FBRyxHQUFJLENBQUMsQ0FDL0MsUUFBUSxDQUFHLEFBQUMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBLEdBQUksTUFBTSxHQUFHLEdBQUcsR0FBSSxDQUFDLENBQUMsQUFFNUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFOUIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxBQUN4QixDQUNJLFFBQVEsR0FBRyxNQUFNLEdBQ2YsUUFBUSxHQUFHLE1BQU0sSUFFZixNQUFNLElBQUksR0FBRyxDQUNOLE9BQU8sSUFBSSxBQUFDLE1BQU0sSUFBSSxDQUFDLENBQUksQ0FBQyxDQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUEsR0FBSSxHQUFHLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQSxBQUFDLENBQUMsQ0FBQSxBQUFDLENBQ3hGLE9BQU8sSUFBSSxNQUFNLElBQUksR0FBRyxDQUFHLEdBQUcsQ0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFBLENBQUMsQUFBQyxDQUFDLENBQUEsQUFBQyxDQUFDLENBQy9GLEdBQ0QsUUFBUSxHQUNaLENBQUMsQ0FBQyxBQUVFLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUVsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFDNUIsQ0FDSSxRQUFRLEdBQUcsTUFBTSxHQUNmLFFBQVEsR0FBRyxNQUFNLElBRWYsTUFBTSxJQUFJLEdBQUcsQ0FDTixPQUFPLElBQUksQUFBQyxNQUFNLElBQUksQ0FBQyxDQUFJLENBQUMsQ0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFBLEdBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUEsQUFBQyxDQUFDLENBQUEsQUFBQyxDQUN4RixPQUFPLElBQUksTUFBTSxJQUFJLEdBQUcsQ0FBRyxHQUFHLENBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQSxDQUFDLEFBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FBQyxDQUMvRixHQUNELFFBQVEsR0FDWixDQUFDLENBQUMsQUFFRSxNQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRXZDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFH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QU0sQ0FBQyxBQUVxQixNQUFNLEdBQUksQUFBQyxBQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLEdBQUksS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUssQ0FBQyxBQUFDLENBQUMsQUFHekYsR0FBSSxNQUFNLENBQUUsQ0FHaEIsSUFDSSxTQUFTLENBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxBQUV0QixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxBQUVuQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEFBQ3hCLENBQ0ksU0FBUyxHQUFHLE1BQU0sR0FDaEIsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFFLE1BQU0sR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFBLEdBQzlFLEdBQUcsR0FDUCxDQUFDLENBQUMsQUFFRSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQUFDNUIsQ0FDSSxTQUFTLEdBQUcsTUFBTSxHQUNoQixNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUUsTUFBTSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFBLEdBQ2xGLEdBQUcsR0FDUCxDQUFDLENBQUMsQUFFRSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFFdkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEdB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QUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxBQUN4QixDQUNJLFNBQVMsR0FBRyxNQUFNLEdBQ2hCLE1BQU0sSUFBSSxBQUFDLE1BQU0sSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFLLENBQUMsR0FBRyxNQUFNLENBQUksQUFBQyxNQUFNLElBQUksQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUssQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUksTUFBTSxDQUFBLEFBQUMsQ0FBQSxHQUMvRyxHQUFHLEdBQ1AsQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUM1QixDQUNJLFNBQVMsR0FBRyxNQUFNLEdBQ2hCLE1BQU0sSUFBSSxBQUFDLE1BQU0sSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFLLENBQUMsR0FBRyxNQUFNLENBQUksQUFBQyxNQUFNLElBQUksQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUssQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUksTUFBTSxDQUFBLEFBQUMsQ0FBQSxHQUMvRyxHQUFHLEdBQ1AsQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUM1QixDQUNJLFNBQVMsR0FBRyxNQUFNLEdBQ2hCLE1BQU0sSUFBSSxBQUFDLE1BQU0sSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFLLENBQUMsR0FBRyxNQUFNLENBQUksQUFBQyxNQUFNLElBQUksQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUssQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUksTUFBTSxDQUFBLEFBQUMsQ0FBQSxHQUMvRyxHQUFHLEdBQ1AsQ0FBQyxDQUFDLENBSUQsQ0FFSSxDQUNKLENBQ0osQ0FBQzs7OztHQVFGLE9BQU8sQ0FBQyw0Q0FBNEMsR0FBRyxTQUFTLEtBQUssQ0FBRSxNQUFNLENBQUUsSUFBSSxDQUFFLENBQ2pGLElBQ0ksQ0FBQyxDQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQ2hELENBQUMsQ0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUN2QixPQUFPLENBQUcsQUFBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFBLEdBQUksZUFBZSxHQUFJLENBQUMsQ0FDbkQsUUFBUSxDQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEFBRXBDLElBQUssSUFBSSxDQUFDLENBQUcsQ0FBQyxDQUFHLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQyxFQUFFLENBQUUsUUFBUSxJQUFJLE9BQU8sRUFBRSxDQUM5QyxJQUFLLElBQUksQ0FBQyxDQUFHLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUMsRUFBRSxDQUFFLFFBQVEsSUFBSSxlQUFlLEVBQUUsQ0FDckQsSUFDSSxNQUFNLENBQ3RDLE1BQU0sQ0FDTixNQUFNLENBQUMsQUFFcUIsTUFBTSxHQUFJLEFBQUMsQUFBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxHQUFJLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFLLENBQUMsQUFBQyxDQUFDLEFBR3pGLEdBQUksTUFBTSxDQUFFLENBR2hCLElBQ0ksU0FBUyxDQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsQUFFdEIsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFOUIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQUFFbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxBQUN4QixDQUNJLFNBQVMsR0FBRyxNQUFNLEdBQ2hCLE1BQU0sSUFBSSxBQUFDLE1BQU0sSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFLLENBQUMsR0FBRyxNQUFNLENBQUksQUFBQyxNQUFNLElBQUksQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUssQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUksTUFBTSxDQUFBLEFBQUMsQ0FBQSxHQUMvRyxHQUFHLEdBQ1AsQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUV2QyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxBQUM1QixDQUNJLFNBQVMsR0FBRyxNQUFNLEdBQ2hCLE1BQU0sSUFBSSxBQUFDLE1BQU0sSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFLLENBQUMsR0FBRyxNQUFNLENBQUksQUFBQyxNQUFNLElBQUksQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUssQ0FBQyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUksTUFBTSxDQUFBLEFBQUMsQ0FBQSxHQUMvRyxHQUFHLEdBQ1AsQ0FBQyxDQUFDLEFBRUUsTUFBTSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEFBRWxDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENB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U0FBUyxHQUFHO0FBQ1IsU0FBQyxFQUFFLEFBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBSSxJQUFJO0FBQ25DLFNBQUMsRUFBRSxBQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUksSUFBSTtBQUNsQyxTQUFDLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUk7QUFDM0IsU0FBQyxFQUFFLEFBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBSSxJQUFJO0tBQ3RDO1FBQ0QsT0FBTyxHQUFHO0FBQ04sU0FBQyxFQUFFLEFBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBSSxJQUFJO0FBQ25DLFNBQUMsRUFBRSxBQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUksSUFBSTtBQUNsQyxTQUFDLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUk7QUFDM0IsU0FBQyxFQUFFLEFBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBSSxJQUFJO0tBQ3RDOzs7QUFHRCxhQUFTLEdBQUcsQUFBQyxHQUFHLEdBQUcsS0FBSyxHQUFJLEFBQUMsQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFBLElBQUssR0FBRyxHQUFHLEtBQUssQ0FBQSxBQUFDLElBQUssR0FBRyxHQUFHLEtBQUssQ0FBQSxBQUFDOzs7QUFFM0UsYUFBUyxHQUFHLEFBQUMsR0FBRyxHQUFHLEtBQUssR0FBSSxBQUFDLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQSxJQUFLLEdBQUcsR0FBRyxLQUFLLENBQUEsQUFBQyxJQUFLLEdBQUcsR0FBRyxLQUFLLENBQUEsQUFBQztRQUMzRSxRQUFRLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQzs7QUFFN0IsU0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLFFBQVEsSUFBSSxPQUFP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QUFLLEdBQUcsR0FBRyxLQUFLLENBQUEsQUFBQyxJQUFLLEdBQUcsR0FBRyxLQUFLLENBQUEsQUFBQzs7O0FBRTNFLGFBQVMsR0FBRyxBQUFDLEdBQUcsR0FBRyxLQUFLLEdBQUksQUFBQyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUEsSUFBSyxHQUFHLEdBQUcsS0FBSyxDQUFBLEFBQUMsSUFBSyxHQUFHLEdBQUcsS0FBSyxDQUFBLEFBQUM7UUFDM0UsUUFBUSxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUM7O0FBRTdCLFNBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxRQUFRLElBQUksT0FBTyxFQUFFO0FBQzlEOztBQUVJLFlBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFBLEdBQUksU0FBUyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQSxHQUFJLFNBQVMsQ0FBQzs7QUFFckUsYUFBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxRQUFRLElBQUksd0JBQVcsZUFBZSxFQUFFO0FBQ2hFLGdCQUNJLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQztnQkFDaEQsY0FBYyxHQUFHLENBQUMsR0FBRyxXQUFXOzs7QUFHaEMsYUFBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEdBQUcsY0FBYyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEdBQUcsV0FBVztnQkFDMUQsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEdBQUcsY0FBYyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEdBQUcsV0FBVztnQkFDMUQsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEdBQUcsY0FBYyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEdBQUcsV0FBVztnQkFD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QUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFDLENBQUM7WUFDckQsRUFBRSxHQUFHLGlCQUFpQixDQUFDLEVBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxFQUFDLENBQUM7WUFDcEQsRUFBRSxHQUFHLGlCQUFpQixDQUFDLEVBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFDLENBQUM7WUFDbEQsRUFBRSxHQUFHLGlCQUFpQixDQUFDLEVBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUMsQ0FBQztZQUVqRCxFQUFFLEdBQUcsNEJBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDcEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDcEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQ3hELElBQUksQ0FBQyxHQUFHLENBQUMsSUFB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TSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFNUIsTUFBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzVDLFNBQU8sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QixTQUFPLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDNUI7O0FBRUQsUUFBTyxFQUFDLENBQUMsRUFBRSxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLE9BQU8sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBQyxDQUFDO0NBQzFFLENBQUM7Ozs7Ozs7O0FBUUYsU0FBUyxDQUFDLFNBQVMsQ0FBQyxhQUFhLEdBQUcsVUFBUyxLQUFLLEVBQUU7QUFDbkQsS0FBSSxDQUFDO0tBQUUsQ0FBQztLQUFFLFNBQVMsR0FBRyxLQUFLLENBQUM7O0FBRTVCLE1BQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUU7QUFDeEUsTUFBSSxBQUFDLEFBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsSUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxBQUFDLElBQzlELEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFD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LEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkQsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXZELEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O0FBRXZFLFFBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ2hCLFFBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ2hCLFFBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ2hCLFFBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ2hCLFFBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ2YsUUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7Q0FDbEIsQ0FBQzs7Ozs7Ozs7O0FBU0YsV0FBVyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsVUFBUyxNQUFNLEVBQUU7QUFDakQsUUFDSSxHQUFHLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkQsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXZELEdBQUcsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RCxHQUFHLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFdkQsRUFBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFekUsUUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDaEIsUUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDaEIsUUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDaEIsUUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDaEIsUUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDZixRQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztDQUNsQixDQUFDOztBQUVGLFdBQVcsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFlBQVc7QUFDdEMsUUFDSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQUFBQztRQUN2RCxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQ2xCLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUNuQixFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7UUFDbkIsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUNsQixF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LENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztBQUV6QyxRQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUNoQixRQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUNoQixRQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUNoQixRQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztDQUNuQixDQUFDOztBQUVGLFdBQVcsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEdBQUcsVUFBUyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUMxRCxRQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNyQixRQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2pCLFFBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUMxQixDQUFDOzs7Ozs7Ozs7Ozs7QUFZRixXQUFXLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRyxVQUFTLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDN0MsUUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMzQyxRQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0NBQzlDLENBQUM7Ozs7Ozs7Ozs7OztBQVlGLFdBQVcsQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFVBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUMzQyxRQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNoQixRQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNoQixRQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNoQixRQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztDQUNuQixDQUFDOztBQUVGLFdBQVcsQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEdBQUcsVUFBUyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDOUQsUUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDdkIsUUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDbkIsUUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQzVCLENBQUM7Ozs7Ozs7Ozs7OztBQVlGLFdBQVcsQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFVBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUMzQyxRQUNJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUMvQixHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7UUFDL0IsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQy9CLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFD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QUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3hELENBQUM7Ozs7Ozs7OztBQVNGLFdBQVcsQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFHLFlBQVc7QUFDekMsUUFDSSxXQUFXLEdBQUcsSUFBSSxDQUFDLGNBQWMsRUFBRTtRQUNuQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O0FBRWpFLFdBQU87QUFDSCxpQkFBUyxFQUFFLEVBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUM7QUFDdkMsY0FBTSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDdkQsYUFBSyxFQUFFLEVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsV0FBVyxHQUFHLENBQUMsRUFBQztBQUNqQyxhQUFLLEVBQUUsRUFBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsSUFBSyxDQUFDLEdBQUcsQ0FBQyxDQUFBLEFBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUM7S0FDekYsQ0FB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QyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0dBQzNCOzs7O0FBSUQsV0FBUyxLQUFLLEdBQUc7QUFDaEIsYUFBVSxHQUFHLFNBQVMsQ0FBQztHQUN2Qjs7QUFFRCxNQUFJLGFBQWEsSUFBSSxDQUFDLFVBQVUsRUFBRTs7O0FBR2pDLE9BQUksRUFBRSxDQUFDO0dBQ1A7OztBQUdELFlBQVUsSUFBSSxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7O0FBRXZDLE1BQUksYUFBYSxLQUFLLFNBQVMsSUFBSSxPQUFPLEdBQUcsS0FBSyxFQUFFOzs7QUFHbkQsT0FBSSxFQUFFLENBQUM7R0FFUCxNQUFNLElBQUksV0FBVyxLQUFLLElBQUksRUFBRTs7Ozs7Ozs7OztBQVVoQyxhQUFVLEdBQUcsVUFBVSxDQUFDLGFBQWEsR0FBRyxLQUFLLEdBQUcsSUFBSSxFQUFFLGFBQWEsS0FBSyxTQUFTLEdBQUcsS0FBSyxHQUFHLE9BQU8sR0FBRyxLQUFLLENBQUMsQ0FBQztHQUM3RztFQUNEOzs7QUFHRCxRQUFPLE9BQU8sQ0FBQztDQUNmOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtRE0sU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUU7QUFDbkQsUUFBTyxRQUFRLEtBQUssU0FBUyxHQUMxQixRQUFRLENBQUMsS0FBSyxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsR0FDaEMsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsUUFBUSxLQUFLLEtBQUssQ0FBQyxDQUFDO0NBQ2pEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG5cbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuaW1wb3J0IENQQnJ1c2hJbmZvIGZyb20gXCIuL2VuZ2luZS9DUEJydXNoSW5mb1wiO1xuaW1wb3J0IENQQXJ0d29yayBmcm9tIFwiLi9lbmdpbmUvQ1BBcnR3b3JrXCI7XG5pbXBvcnQgQ1BSZXNvdXJjZUxvYWRlciBmcm9tIFwiLi9lbmdpbmUvQ1BSZXNvdXJjZUxvYWRlclwiO1xuaW1wb3J0IENQUmVzb3VyY2VTYXZlciBmcm9tIFwiLi9lbmdpbmUvQ1BSZXNvdXJjZVNhdmVyXCI7XG5cbmltcG9ydCBDUFNwYXNoU2NyZWVuIGZyb20gXCIuL2d1aS9DUFNwbGFzaFNjcmVlbi5qc1wiO1xuXG5pbXBvcnQgQ1BNYWluR1VJIGZyb20gXCIuL2d1aS9DUE1haW5HVUlcIjtcblxuaW1wb3J0IENQQWJvdXREaWFsb2cgZnJvbSBcIi4vZ3VpL0NQQWJvdXREaWFsb2dcIjtcbmltcG9ydCBDUENvbmZpcm1UcmFuc2Zvcm1EaWFsb2cgZnJvbSBcIi4vZ3VpL0NQQ29uZmlybVRyYW5zZm9ybURpYWxvZ1wiO1xuaW1wb3J0IENQU2hvcnRjdXRzRGlhbG9nIGZyb20gXCIuL2d1aS9DUFNob3J0Y3V0c0RpYWxvZ1wiO1xuaW1wb3J0IENQQm94Qmx1ckRpYWxvZyBmcm9tIFwiLi9ndWkvQ1BCb3hCbHVyRGlhbG9nXCI7XG5pbXBvcnQgQ1BUYWJsZXREaWFsb2cgZnJvbSBcIi4vZ3VpL0NQVGFibGV0RGlhbG9nXCI7XG5pbXBvcnQgQ1BHcmlkRGlhbG9nIGZyb20gXCIuL2d1aS9DUEdyaWREaWFsb2dcIjtcbmltcG9ydCBDUFNlbmREaWFsb2cgZnJvbSBcIi4vZ3VpL0NQU2VuZERpYWxvZ1wiO1xuXG5cbmltcG9ydCB7aXNDYW52YXNJbnRlcnBvbGF0aW9uU3VwcG9ydGVkLCBpc0V2ZW50U3VwcG9ydGVkLCBpc0NhbnZhc1N1cHBvcnRlZH0gZnJvbSBcIi4vdXRpbC9DUFBvbHlmaWxsXCI7XG5pbXBvcnQgQ1BDb2xvciBmcm9tIFwiLi91dGlsL0NQQ29sb3JcIjtcbmltcG9ydCBDUFdhY29tVGFibGV0IGZyb20gXCIuL3V0aWwvQ1BXYWNvbVRhYmxldFwiO1xuaW1wb3J0IENQUmVjdCBmcm9tIFwiLi91dGlsL0NQUmVjdFwiO1xuXG5mdW5jdGlvbiBpc0Jyb3dzZXJTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIGlzQ2FudmFzU3VwcG9ydGVkKCkgJiYgXCJVaW50OEFycmF5XCIgaW4gd2luZG93O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEcmF3aW5nVG9vbHMoKSB7XG4gICAgdmFyXG4gICAgICAgIHRvb2xzID0gbmV3IEFycmF5KENoaWNrZW5QYWludC5UX01BWCk7XG5cbiAgICB0b29sc1tDaGlja2VuUGFpbnQuVF9QRU5DSUxdID0gbmV3IENQQnJ1c2hJbmZvKHtcbiAgICAgICAgdG9vbE5iOiBDaGlja2VuUGFpbnQuVF9QRU5DSUwsXG4gICAgICAgIHNpemU6IDE2LFxuICAgICAgICBhbHBoYTogMjU1LFxuICAgICAgICBpc0FBOiB0cnVlLFxuICAgICAgICBtaW5TcGFjaW5nOiAwLjUsXG4gICAgICAgIHNwYWNpbmc6IDAuMDUsXG4gICAgICAgIHByZXNzdXJlU2l6ZTogZmFsc2UsXG4gICAgICAgIHByZXNzdXJlQWxwaGE6IHRydWUsXG4gICAgICAgIHR5cGU6IENQQnJ1c2hJbmZvLkJfUk9VTkRfQUEsXG4gICAgICAgIHBhaW50TW9kZTogQ1BCcnVzaEluZm8uTV9QQUlOVFxuICAgIH0pO1xuXG4gICAgdG9vbHNbQ2hpY2tlblBhaW50LlRfRVJBU0VSXSA9IG5ldyBDUEJydXNoSW5mbyh7XG4gICAgICAgIHRvb2xOYjogQ2hpY2tlblBhaW50LlRfRVJBU0VSLFxuICAgICAgICBzaXplOiAxNixcbiAgICAgICAgYWxwaGE6IDI1NSxcbiAgICAgICAgaXNBQTogdHJ1ZSxcbiAgICAgICAgbWluU3BhY2luZzogMC41LFxuICAgICAgICBzcGFjaW5nOiAwLjA1LFxuICAgICAgICBwcmVzc3VyZVNpemU6IGZhbHNlLFxuICAgICAgICBwcmVzc3VyZUFscGhhOiBmYWxzZSxcbiAgICAgICAgdHlwZTogQ1BCcnVzaEluZm8uQl9ST1VORF9BQSxcbiAgICAgICAgcGFpbnRNb2RlOiBDUEJydXNoSW5mby5NX0VSQVNFXG4gICAgfSk7XG5cbiAgICB0b29sc1tDaGlja2VuUGFpbnQuVF9QRU5dID0gbmV3IENQQnJ1c2hJbmZvKHtcbiAgICAgICAgdG9vbE5iOiBDaGlja2VuUGFpbnQuVF9QRU4sXG4gICAgICAgIHNpemU6IDIsXG4gICAgICAgIGFscGhhOiAxMjgsXG4gICAgICAgIGlzQUE6IHRydWUsXG4gICAgICAgIG1pblNwYWNpbmc6IDAuNSxcbiAgICAgICAgc3BhY2luZzogMC4wNSxcbiAgICAgICAgcHJlc3N1cmVTaXplOiB0cnVlLFxuICAgICAgICBwcmVzc3VyZUFscGhhOiBmYWxzZSxcbiAgICAgICAgdHlwZTogQ1BCcnVzaEluZm8uQl9ST1VORF9BQSxcbiAgICAgICAgcGFpbnRNb2RlOiBDUEJydXNoSW5mby5NX1BBSU5UXG4gICAgfSk7XG5cbiAgICB0b29sc1tDaGlja2VuUGFpbnQuVF9TT0ZURVJBU0VSXSA9IG5ldyBDUEJydXNoSW5mbyh7XG4gICAgICAgIHRvb2xOYjogQ2hpY2tlblBhaW50LlRfU09GVEVSQVNFUixcbiAgICAgICAgc2l6ZTogMTYsXG4gICAgICAgIGFscGhhOiA2NCxcbiAgICAgICAgaXNBQTogZmFsc2UsXG4gICAgICAgIGlzQWlyYnJ1c2g6IHRydWUsXG4gICAgICAgIG1pblNwYWNpbmc6IDAuNSxcbiAgICAgICAgc3BhY2luZzogMC4wNSxcbiAgICAgICAgcHJlc3N1cmVTaXplOiBmYWxzZSxcbiAgICAgICAgcHJlc3N1cmVBbHBoYTogdHJ1ZSxcbiAgICAgICAgdHlwZTogQ1BCcnVzaEluZm8uQl9ST1VORF9BSVJCUlVTSCxcbiAgICAgICAgcGFpbnRNb2RlOiBDUEJydXNoSW5mby5NX0VSQVNFXG4gICAgfSk7XG5cbiAgICB0b29sc1tDaGlja2VuUGFpbnQuVF9BSVJCUlVTSF0gPSBuZXcgQ1BCcnVzaEluZm8oe1xuICAgICAgICB0b29sTmI6IENoaWNrZW5QYWludC5UX0FJUkJSVVNILFxuICAgICAgICBzaXplOiA1MCxcbiAgICAgICAgYWxwaGE6IDMyLFxuICAgICAgICBpc0FBOiBmYWxzZSxcbiAgICAgICAgaXNBaXJicnVzaDogdHJ1ZSxcbiAgICAgICAgbWluU3BhY2luZzogMC41LFxuICAgICAgICBzcGFjaW5nOiAwLjA1LFxuICAgICAgICBwcmVzc3VyZVNpemU6IGZhbHNlLFxuICAgICAgICBwcmVzc3VyZUFscGhhOiB0cnVlLFxuICAgICAgICB0eXBlOiBDUEJydXNoSW5mby5CX1JPVU5EX0FJUkJSVVNILFxuICAgICAgICBwYWludE1vZGU6IENQQnJ1c2hJbmZvLk1fUEFJTlRcbiAgICB9KTtcblxuICAgIHRvb2xzW0NoaWNrZW5QYWludC5UX0RPREdFXSA9IG5ldyBDUEJydXNoSW5mbyh7XG4gICAgICAgIHRvb2xOYjogQ2hpY2tlblBhaW50LlRfRE9ER0UsXG4gICAgICAgIHNpemU6IDMwLFxuICAgICAgICBhbHBoYTogMzIsXG4gICAgICAgIGlzQUE6IGZhbHNlLFxuICAgICAgICBpc0FpcmJydXNoOiB0cnVlLFxuICAgICAgICBtaW5TcGFjaW5nOiAwLjUsXG4gICAgICAgIHNwYWNpbmc6IDAuMDUsXG4gICAgICAgIHByZXNzdXJlU2l6ZTogZmFsc2UsXG4gICAgICAgIHByZXNzdXJlQWxwaGE6IHRydWUsXG4gICAgICAgIHR5cGU6IENQQnJ1c2hJbmZvLkJfUk9VTkRfQUlSQlJVU0gsXG4gICAgICAgIHBhaW50TW9kZTogQ1BCcnVzaEluZm8uTV9ET0RHRVxuICAgIH0pO1xuXG4gICAgdG9vbHNbQ2hpY2tlblBhaW50LlRfQlVSTl0gPSBuZXcgQ1BCcnVzaEluZm8oe1xuICAgICAgICB0b29sTmI6IENoaWNrZW5QYWludC5UX0JVUk4sXG4gICAgICAgIHNpemU6IDMwLFxuICAgICAgICBhbHBoYTogMzIsXG4gICAgICAgIGlzQUE6IGZhbHNlLFxuICAgICAgICBpc0FpcmJydXNoOiB0cnVlLFxuICAgICAgICBtaW5TcGFjaW5nOiAwLjUsXG4gICAgICAgIHNwYWNpbmc6IDAuMDUsXG4gICAgICAgIHByZXNzdXJlU2l6ZTogZmFsc2UsXG4gICAgICAgIHByZXNzdXJlQWxwaGE6IHRydWUsXG4gICAgICAgIHR5cGU6IENQQnJ1c2hJbmZvLkJfUk9VTkRfQUlSQlJVU0gsXG4gICAgICAgIHBhaW50TW9kZTogQ1BCcnVzaEluZm8uTV9CVVJOXG4gICAgfSk7XG5cbiAgICB0b29sc1tDaGlja2VuUGFpbnQuVF9XQVRFUl0gPSBuZXcgQ1BCcnVzaEluZm8oe1xuICAgICAgICB0b29sTmI6IENoaWNrZW5QYWludC5UX1dBVEVSLFxuICAgICAgICBzaXplOiAzMCxcbiAgICAgICAgYWxwaGE6IDcwLFxuICAgICAgICBpc0FBOiBmYWxzZSxcbiAgICAgICAgaXNBaXJicnVzaDogdHJ1ZSxcbiAgICAgICAgbWluU3BhY2luZzogMC41LFxuICAgICAgICBzcGFjaW5nOiAwLjAyLFxuICAgICAgICBwcmVzc3VyZVNpemU6IGZhbHNlLFxuICAgICAgICBwcmVzc3VyZUFscGhhOiB0cnVlLFxuICAgICAgICB0eXBlOiBDUEJydXNoSW5mby5CX1JPVU5EX0FBLFxuICAgICAgICBwYWludE1vZGU6IENQQnJ1c2hJbmZvLk1fV0FURVIsXG4gICAgICAgIHJlc2F0OiAwLjMsXG4gICAgICAgIGJsZWVkOiAwLjZcbiAgICB9KTtcblxuICAgIHRvb2xzW0NoaWNrZW5QYWludC5UX0JMVVJdID0gbmV3IENQQnJ1c2hJbmZvKHtcbiAgICAgICAgdG9vbE5iOiBDaGlja2VuUGFpbnQuVF9CTFVSLFxuICAgICAgICBzaXplOiAyMCxcbiAgICAgICAgYWxwaGE6IDI1NSxcbiAgICAgICAgaXNBQTogZmFsc2UsXG4gICAgICAgIGlzQWlyYnJ1c2g6IHRydWUsXG4gICAgICAgIG1pblNwYWNpbmc6IDAuNSxcbiAgICAgICAgc3BhY2luZzogMC4wNSxcbiAgICAgICAgcHJlc3N1cmVTaXplOiBmYWxzZSxcbiAgICAgICAgcHJlc3N1cmVBbHBoYTogdHJ1ZSxcbiAgICAgICAgdHlwZTogQ1BCcnVzaEluZm8uQl9ST1VORF9QSVhFTCxcbiAgICAgICAgcGFpbnRNb2RlOiBDUEJydXNoSW5mby5NX0JMVVJcbiAgICB9KTtcblxuICAgIHRvb2xzW0NoaWNrZW5QYWludC5UX1NNVURHRV0gPSBuZXcgQ1BCcnVzaEluZm8oe1xuICAgICAgICB0b29sTmI6IENoaWNrZW5QYWludC5UX1NNVURHRSxcbiAgICAgICAgc2l6ZTogMjAsXG4gICAgICAgIGFscGhhOiAxMjgsXG4gICAgICAgIGlzQUE6IGZhbHNlLFxuICAgICAgICBpc0FpcmJydXNoOiB0cnVlLFxuICAgICAgICBtaW5TcGFjaW5nOiAwLjUsXG4gICAgICAgIHNwYWNpbmc6IDAuMDEsXG4gICAgICAgIHByZXNzdXJlU2l6ZTogZmFsc2UsXG4gICAgICAgIHByZXNzdXJlQWxwaGE6IHRydWUsXG4gICAgICAgIHR5cGU6IENQQnJ1c2hJbmZvLkJfUk9VTkRfQUlSQlJVU0gsXG4gICAgICAgIHBhaW50TW9kZTogQ1BCcnVzaEluZm8uTV9TTVVER0UsXG4gICAgICAgIHJlc2F0OiAwLjAsXG4gICAgICAgIGJsZWVkOiAxLjBcbiAgICB9KTtcblxuICAgIHRvb2xzW0NoaWNrZW5QYWludC5UX0JMRU5ERVJdID0gbmV3IENQQnJ1c2hJbmZvKHtcbiAgICAgICAgdG9vbE5iOiBDaGlja2VuUGFpbnQuVF9CTEVOREVSLFxuICAgICAgICBzaXplOiAyMCxcbiAgICAgICAgYWxwaGE6IDYwLFxuICAgICAgICBpc0FBOiBmYWxzZSxcbiAgICAgICAgaXNBaXJicnVzaDogdHJ1ZSxcbiAgICAgICAgbWluU3BhY2luZzogMC41LFxuICAgICAgICBzcGFjaW5nOiAwLjEsXG4gICAgICAgIHByZXNzdXJlU2l6ZTogZmFsc2UsXG4gICAgICAgIHByZXNzdXJlQWxwaGE6IHRydWUsXG4gICAgICAgIHR5cGU6IENQQnJ1c2hJbmZvLkJfUk9VTkRfQUlSQlJVU0gsXG4gICAgICAgIHBhaW50TW9kZTogQ1BCcnVzaEluZm8uTV9PSUwsXG4gICAgICAgIHJlc2F0OiAwLjAsXG4gICAgICAgIGJsZWVkOiAwLjA3XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdG9vbHM7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGUgQ2hpY2tlblBhaW50IGRyYXdpbmcgYXBwLiBPcHRpb25zIGlzIGFuIG9iamVjdCB3aXRoIHRoZXNlIGtleXM6XG4gKlxuICogdWlFbGVtICAgICAgIC0gRE9NIGVsZW1lbnQgdG8gaW5zZXJ0IENoaWNrZW5QYWludCBpbnRvIChyZXF1aXJlZClcbiAqIGNhbnZhc1dpZHRoICAtIFdpZHRoIGluIHBpeGVscyB0byB1c2Ugd2hlbiBjcmVhdGluZyBibGFuayBjYW52YXNlcyAoZGVmYXVsdHMgdG8gODAwKVxuICogY2FudmFzSGVpZ2h0IC0gSGVpZ2h0IGluIHBpeGVscyB0byB1c2Ugd2hlbiBjcmVhdGluZyBibGFuayBjYW52YXNlcyAoZGVmYXVsdHMgdG8gNjAwKVxuICogcm90YXRpb24gICAgIC0gSW50ZWdlciBmcm9tIFswLi4zXSwgbnVtYmVyIG9mIDkwIGRlZ3JlZSByaWdodCByb3RhdGlvbnMgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgY2FudmFzIGFmdGVyXG4gKiAgICAgICAgICAgICAgICBsb2FkaW5nXG4gKlxuICogc2F2ZVVybCAgIC0gVVJMIHRvIFBPU1QgdGhlIGRyYXdpbmcgdG8gdG8gc2F2ZSBpdFxuICogcG9zdFVybCAgIC0gVVJMIHRvIG5hdmlnYXRlIHRvIGFmdGVyIHNhdmluZyBpcyBzdWNjZXNzZnVsIGFuZCB0aGUgdXNlciBjaG9vc2VzIHRvIHNlZS9wdWJsaXNoIHRoZWlyIGZpbmlzaGVkIHByb2R1Y3RcbiAqIGV4aXRVcmwgICAtIFVSTCB0byBuYXZpZ2F0ZSB0byBhZnRlciBzYXZpbmcgaXMgc3VjY2Vzc2Z1bCBhbmQgdGhlIHVzZXIgY2hvb3NlcyB0byBleGl0IChvcHRpb25hbClcbiAqIHRlc3RVcmwgICAtIFVSTCB0aGF0IENoaWNrZW5QYWludCBjYW4gc2ltdWxhdGUgYSBkcmF3aW5nIHVwbG9hZCB0byB0byB0ZXN0IHRoZSB1c2VyJ3MgcGVybWlzc2lvbnMvY29ubmVjdGlvbiAob3B0aW9uYWwpXG4gKlxuICogbG9hZEltYWdlVXJsICAgICAtIFVSTCBvZiBQTkcvSlBFRyBpbWFnZSB0byBsb2FkIGZvciBlZGl0aW5nIChvcHRpb25hbClcbiAqIGxvYWRDaGliaUZpbGVVcmwgLSBVUkwgb2YgLmNoaSBmaWxlIHRvIGxvYWQgZm9yIGVkaXRpbmcgKG9wdGlvbmFsKS4gVXNlZCBpbiBwcmVmZXJlbmNlIHRvIGxvYWRJbWFnZS5cbiAqIGxvYWRTd2F0Y2hlc1VybCAgLSBVUkwgb2YgYW4gLmFjbyBwYWxldHRlIHRvIGxvYWQgKG9wdGlvbmFsKVxuICogXG4gKiBhbGxvd0Rvd25sb2FkIC0gQWxsb3cgdGhlIGRyYXdpbmcgdG8gYmUgc2F2ZWQgdG8gdGhlIHVzZXIncyBjb21wdXRlclxuICogYWxsb3dGdWxsU2NyZWVuIC0gQWxsb3cgdGhlIGRyYXdpbmcgdG9vbCB0byBlbnRlciBcImZ1bGwgc2NyZWVuXCIgbW9kZSwgd2hlcmUgdGhlIHJlc3Qgb2YgdGhlIHBhZ2UgY29udGVudHMgd2lsbCBiZSBoaWRkZW5cbiAqXG4gKiBkaXNhYmxlQm9vdHN0cmFwQVBJIC0gRGlzYWJsZSBCb290c3RyYXAncyBkYXRhIEFQSSBvbiB0aGUgcm9vdCBvZiB0aGUgZG9jdW1lbnQuIFRoaXMgc3BlZWRzIHVwIHRoaW5ncyBjb25zaWRlcmFibHkuXG4gKiBcbiAqIHJlc291cmNlc1Jvb3QgLSBVUkwgdG8gdGhlIGRpcmVjdG9yeSB0aGF0IGNvbnRhaW5zIHRoZSBnZngvY3NzIGV0YyBkaXJlY3RvcmllcyAocmVsYXRpdmUgdG8gdGhlIHBhZ2UgdGhhdCBcbiAqICAgICAgICAgICAgICAgICBDaGlja2VuUGFpbnQgaXMgbG9hZGVkIG9uKVxuICpcbiAqIEB0aHJvd3MgQ2hpY2tlblBhaW50LlVuc3VwcG9ydGVkQnJvd3NlckV4Y2VwdGlvbiBpZiB0aGUgd2ViIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBDaGlja2VuUGFpbnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hpY2tlblBhaW50KG9wdGlvbnMpIHtcbiAgICB2YXJcbiAgICAgICAgdGhhdCA9IHRoaXMsXG5cbiAgICAgICAgdWlFbGVtID0gb3B0aW9ucy51aUVsZW0sXG5cbiAgICAgICAgY2FudmFzLFxuICAgICAgICBtYWluR1VJLFxuXG4gICAgICAgIGN1ckNvbG9yID0gbmV3IENQQ29sb3IoMCksXG4gICAgICAgIGN1ckJydXNoID0gQ2hpY2tlblBhaW50LlRfUEVOQ0lMLFxuICAgICAgICBjdXJNb2RlID0gQ2hpY2tlblBhaW50Lk1fRFJBVyxcbiAgICAgICAgcHJlVHJhbnNmb3JtTW9kZSA9IGN1ck1vZGUsXG4gICAgICAgIGN1ckdyYWRpZW50ID0gWzB4RkYwMDAwMDAsIDB4RkZGRkZGRkZdLFxuXG4gICAgICAgIGZ1bGxTY3JlZW5Nb2RlID0gZmFsc2UsXG5cbiAgICAgICAgdG9vbHMgPSBjcmVhdGVEcmF3aW5nVG9vbHMoKSxcblxuICAgICAgICBib3hCbHVyRGlhbG9nLCBncmlkRGlhbG9nLFxuXG4gICAgICAgIGFjdGlvbnMgPSB7XG4gICAgICAgICAgICAvLyBHVUkgYWN0aW9uc1xuXG4gICAgICAgICAgICBDUEZ1bGxTY3JlZW46IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjcmVlbk1vZGUgPSAhZnVsbFNjcmVlbk1vZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgJChcImJvZHlcIikudG9nZ2xlQ2xhc3MoXCJjaGlja2VucGFpbnQtZnVsbC1zY3JlZW5cIiwgZnVsbFNjcmVlbk1vZGUpO1xuICAgICAgICAgICAgICAgICAgICAkKHVpRWxlbSkudG9nZ2xlQ2xhc3MoXCJjaGlja2VucGFpbnQtZnVsbC1zY3JlZW5cIiwgZnVsbFNjcmVlbk1vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFpbkdVSS5zZXRGdWxsU2NyZWVuTW9kZShmdWxsU2NyZWVuTW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpc1N1cHBvcnRlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmFsbG93RnVsbFNjcmVlbiAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2d1aTogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUFpvb21Jbjoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMuem9vbUluKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2d1aTogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUFpvb21PdXQ6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLnpvb21PdXQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7Z3VpOiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQWm9vbTEwMDoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMuem9vbTEwMCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtndWk6IHRydWV9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBIaXN0b3J5IGFjdGlvbnNcblxuICAgICAgICAgICAgQ1BVbmRvOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXJ0d29yay51bmRvKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2RvY3VtZW50OiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQUmVkbzoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsucmVkbygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUENsZWFySGlzdG9yeToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybShcIllvdSdyZSBhYm91dCB0byBjbGVhciB0aGUgY3VycmVudCBVbmRvL1JlZG8gaGlzdG9yeS5cXG5UaGlzIG9wZXJhdGlvbiBjYW5ub3QgYmUgdW5kb25lLCBhcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZG8gdGhhdD9cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuYXJ0d29yay5jbGVhckhpc3RvcnkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIERyYXdpbmcgdG9vbHNcblxuICAgICAgICAgICAgQ1BQZW5jaWw6ICAgICBuZXcgVG9vbENoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuVF9QRU5DSUwpLFxuICAgICAgICAgICAgQ1BQZW46ICAgICAgICBuZXcgVG9vbENoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuVF9QRU4pLFxuICAgICAgICAgICAgQ1BFcmFzZXI6ICAgICBuZXcgVG9vbENoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuVF9FUkFTRVIpLFxuICAgICAgICAgICAgQ1BTb2Z0RXJhc2VyOiBuZXcgVG9vbENoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuVF9TT0ZURVJBU0VSKSxcbiAgICAgICAgICAgIENQQWlyYnJ1c2ggIDogbmV3IFRvb2xDaGFuZ2VBY3Rpb24oQ2hpY2tlblBhaW50LlRfQUlSQlJVU0gpLFxuICAgICAgICAgICAgQ1BEb2RnZTogICAgICBuZXcgVG9vbENoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuVF9ET0RHRSksXG4gICAgICAgICAgICBDUEJ1cm46ICAgICAgIG5ldyBUb29sQ2hhbmdlQWN0aW9uKENoaWNrZW5QYWludC5UX0JVUk4pLFxuICAgICAgICAgICAgQ1BXYXRlcjogICAgICBuZXcgVG9vbENoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuVF9XQVRFUiksXG4gICAgICAgICAgICBDUEJsdXI6ICAgICAgIG5ldyBUb29sQ2hhbmdlQWN0aW9uKENoaWNrZW5QYWludC5UX0JMVVIpLFxuICAgICAgICAgICAgQ1BTbXVkZ2U6ICAgICBuZXcgVG9vbENoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuVF9TTVVER0UpLFxuICAgICAgICAgICAgQ1BCbGVuZGVyOiAgICBuZXcgVG9vbENoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuVF9CTEVOREVSKSxcblxuICAgICAgICAgICAgLy8gTW9kZXNcblxuICAgICAgICAgICAgQ1BGbG9vZEZpbGw6ICAgICBuZXcgTW9kZUNoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuTV9GTE9PREZJTEwpLFxuICAgICAgICAgICAgQ1BHcmFkaWVudEZpbGw6ICBuZXcgTW9kZUNoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuTV9HUkFESUVOVEZJTEwpLFxuICAgICAgICAgICAgQ1BSZWN0U2VsZWN0aW9uOiBuZXcgTW9kZUNoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuTV9SRUNUX1NFTEVDVElPTiksXG4gICAgICAgICAgICBDUE1vdmVUb29sOiAgICAgIG5ldyBNb2RlQ2hhbmdlQWN0aW9uKENoaWNrZW5QYWludC5NX01PVkVfVE9PTCksXG4gICAgICAgICAgICBDUFJvdGF0ZUNhbnZhczogIG5ldyBNb2RlQ2hhbmdlQWN0aW9uKENoaWNrZW5QYWludC5NX1JPVEFURV9DQU5WQVMpLFxuICAgICAgICAgICAgQ1BDb2xvclBpY2tlcjogICBuZXcgTW9kZUNoYW5nZUFjdGlvbihDaGlja2VuUGFpbnQuTV9DT0xPUl9QSUNLRVIpLFxuXG4gICAgICAgICAgICAvLyBMYXllciB0cmFuc2Zvcm1cblxuICAgICAgICAgICAgQ1BUcmFuc2Zvcm06IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllciA9IHRoYXQuYXJ0d29yay5nZXRBY3RpdmVMYXllcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJJbmRleCA9IHRoYXQuYXJ0d29yay5nZXRBY3RpdmVMYXllckluZGV4KCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWxheWVyLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc2hvd0xheWVyTm90aWZpY2F0aW9uKGxheWVySW5kZXgsIFwiV2hvb3BzISBUaGlzIGxheWVyIGlzIGN1cnJlbnRseSBoaWRkZW5cIiwgXCJsYXllclwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXllci5hbHBoYSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnNob3dMYXllck5vdGlmaWNhdGlvbihsYXllckluZGV4LCBcIldob29wcyEgVGhpcyBsYXllcidzIG9wYWNpdHkgaXMgY3VycmVudGx5IDAlXCIsIFwib3BhY2l0eVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGF0LmFydHdvcmsudHJhbnNmb3JtQWZmaW5lQmVnaW4oKSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnNob3dMYXllck5vdGlmaWNhdGlvbihsYXllckluZGV4LCBcIldob29wcyEgQWxsIG9mIHRoZSBzZWxlY3RlZCBwaXhlbHMgYXJlIHRyYW5zcGFyZW50IVwiLCBcImxheWVyXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TW9kZShDaGlja2VuUGFpbnQuTV9UUkFOU0ZPUk0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge21vZGU6IHRydWV9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BUcmFuc2Zvcm1BY2NlcHQ6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ck1vZGUgPT0gQ2hpY2tlblBhaW50Lk1fVFJBTlNGT1JNKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsudHJhbnNmb3JtQWZmaW5lRmluaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRNb2RlKHByZVRyYW5zZm9ybU1vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge21vZGU6IHRydWV9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BUcmFuc2Zvcm1SZWplY3Q6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ck1vZGUgPT0gQ2hpY2tlblBhaW50Lk1fVFJBTlNGT1JNKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsudHJhbnNmb3JtQWZmaW5lQWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1vZGUocHJlVHJhbnNmb3JtTW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7ZG9jdW1lbnQ6IHRydWUsIG1vZGU6IHRydWV9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBTdHJva2UgbW9kZXNcblxuICAgICAgICAgICAgQ1BGcmVlSGFuZDoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0b29sc1tjdXJCcnVzaF0uc3Ryb2tlTW9kZSA9IENQQnJ1c2hJbmZvLlNNX0ZSRUVIQU5EO1xuICAgICAgICAgICAgICAgICAgICBjYWxsVG9vbExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHt0b29sOiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQTGluZToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0b29sc1tjdXJCcnVzaF0uc3Ryb2tlTW9kZSA9IENQQnJ1c2hJbmZvLlNNX0xJTkU7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxUb29sTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge3Rvb2w6IHRydWV9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BCZXppZXI6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHNbY3VyQnJ1c2hdLnN0cm9rZU1vZGUgPSBDUEJydXNoSW5mby5TTV9CRVpJRVI7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxUb29sTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge3Rvb2w6IHRydWV9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBIZWxwIGRpYWxvZ3NcblxuICAgICAgICAgICAgQ1BBYm91dDoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgQ1BBYm91dERpYWxvZyh1aUVsZW0pLnNob3coKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7fVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQU2hvcnRjdXRzOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBDUFNob3J0Y3V0c0RpYWxvZyh1aUVsZW0pLnNob3coKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7fVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQVGFibGV0U3VwcG9ydDoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgQ1BUYWJsZXREaWFsb2codWlFbGVtKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge31cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIExheWVyIGFjdGlvbnNcblxuICAgICAgICAgICAgQ1BMYXllckR1cGxpY2F0ZToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsuZHVwbGljYXRlTGF5ZXIoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7ZG9jdW1lbnQ6IHRydWV9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BMYXllck1lcmdlRG93bjoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsubWVyZ2VEb3duKHRydWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUExheWVyTWVyZ2VBbGw6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hcnR3b3JrLm1lcmdlQWxsTGF5ZXJzKHRydWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUEZpbGw6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hcnR3b3JrLmZpbGwodGhhdC5nZXRDdXJDb2xvclJnYigpIHwgMHhmZjAwMDAwMCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2RvY3VtZW50OiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQQ2xlYXI6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hcnR3b3JrLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2RvY3VtZW50OiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQU2VsZWN0QWxsOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXJ0d29yay5yZWN0YW5nbGVTZWxlY3Rpb24odGhhdC5hcnR3b3JrLmdldEJvdW5kcygpKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLnJlcGFpbnRBbGwoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7ZG9jdW1lbnQ6IHRydWV9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BEZXNlbGVjdEFsbDoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsucmVjdGFuZ2xlU2VsZWN0aW9uKG5ldyBDUFJlY3QoMCwgMCwgMCwgMCkpO1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMucmVwYWludEFsbCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUEhGbGlwOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXJ0d29yay5oRmxpcCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUFZGbGlwOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXJ0d29yay52RmxpcCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUE1Ob2lzZToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsubW9ub2Nocm9tYXRpY05vaXNlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2RvY3VtZW50OiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQQ05vaXNlOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXJ0d29yay5jb2xvck5vaXNlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2RvY3VtZW50OiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQRlhCb3hCbHVyOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dCb3hCbHVyRGlhbG9nKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2RvY3VtZW50OiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQRlhJbnZlcnQ6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hcnR3b3JrLmludmVydCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIENQQ3V0OiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXJ0d29yay5jdXRTZWxlY3Rpb24odHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2RvY3VtZW50OiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQQ29weToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsuY29weVNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUENvcHlNZXJnZWQ6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hcnR3b3JrLmNvcHlTZWxlY3Rpb25NZXJnZWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7ZG9jdW1lbnQ6IHRydWV9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BQYXN0ZToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsucGFzdGVDbGlwYm9hcmQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2RvY3VtZW50OiB0cnVlfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgQ1BUb2dnbGVHcmlkOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5zaG93R3JpZChlLnNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7Z3VpOiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQR3JpZE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0dyaWRPcHRpb25zRGlhbG9nKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2d1aTogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIENQTGluZWFySW50ZXJwb2xhdGlvbjoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMuc2V0SW50ZXJwb2xhdGlvbihlLnNlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7Z3VpOiB0cnVlfSxcbiAgICAgICAgICAgICAgICBpc1N1cHBvcnRlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0NhbnZhc0ludGVycG9sYXRpb25TdXBwb3J0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BSZXNldENhbnZhc1JvdGF0aW9uOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5yZXNldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2d1aTogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIExheWVyIHBhbGV0dGVcblxuICAgICAgICAgICAgQ1BBZGRMYXllcjoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXJ0d29yay5hZGRMYXllcigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUFJlbW92ZUxheWVyOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGF0LmFydHdvcmsucmVtb3ZlTGF5ZXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJTb3JyeSwgeW91IGNhbid0IHJlbW92ZSB0aGUgbGFzdCByZW1haW5pbmcgbGF5ZXIgaW4gdGhlIGRyYXdpbmcuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2RvY3VtZW50OiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQTW92ZUxheWVyOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXJ0d29yay5tb3ZlTGF5ZXIoZS5mcm9tSW5kZXgsIGUudG9JbmRleCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2RvY3VtZW50OiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQU2V0QWN0aXZlTGF5ZXJJbmRleDoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsuc2V0QWN0aXZlTGF5ZXJJbmRleChlLmxheWVySW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgaXMgYSBzbG93IEdVSSBvcGVyYXRpb24sIHRoaXMgaXMgYSBnb29kIGNoYW5jZSB0byBnZXQgdGhlIGNhbnZhcyByZWFkeSBmb3IgZHJhd2luZ1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsucGVyZm9ybUlkbGVUYXNrcygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUFNldExheWVyVmlzaWJpbGl0eToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsuc2V0TGF5ZXJWaXNpYmlsaXR5KGUubGF5ZXJJbmRleCwgZS52aXNpYmxlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7bGF5ZXJQcm9wOiB0cnVlfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENQU2V0TGF5ZXJOYW1lOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXJ0d29yay5zZXRMYXllck5hbWUoZS5sYXllckluZGV4LCBlLm5hbWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtsYXllclByb3A6IHRydWV9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BTZXRMYXllckJsZW5kTW9kZToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmFydHdvcmsuc2V0TGF5ZXJCbGVuZE1vZGUoZS5sYXllckluZGV4LCBlLmJsZW5kTW9kZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge2xheWVyUHJvcDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUFNldExheWVyQWxwaGE6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hcnR3b3JrLnNldExheWVyQWxwaGEoZS5sYXllckluZGV4LCBlLmFscGhhKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7bGF5ZXJQcm9wOiB0cnVlfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gUGFsZXR0ZXNcblxuICAgICAgICAgICAgQ1BQYWxDb2xvcjogbmV3IFBhbGV0dGVUb2dnbGVBY3Rpb24oXCJjb2xvclwiKSxcbiAgICAgICAgICAgIENQUGFsQnJ1c2g6IG5ldyBQYWxldHRlVG9nZ2xlQWN0aW9uKFwiYnJ1c2hcIiksXG4gICAgICAgICAgICBDUFBhbExheWVyczogbmV3IFBhbGV0dGVUb2dnbGVBY3Rpb24oXCJsYXllcnNcIiksXG4gICAgICAgICAgICBDUFBhbFN0cm9rZTogbmV3IFBhbGV0dGVUb2dnbGVBY3Rpb24oXCJzdHJva2VcIiksXG4gICAgICAgICAgICBDUFBhbFN3YXRjaGVzOiBuZXcgUGFsZXR0ZVRvZ2dsZUFjdGlvbihcInN3YXRjaGVzXCIpLFxuICAgICAgICAgICAgQ1BQYWxUb29sOiBuZXcgUGFsZXR0ZVRvZ2dsZUFjdGlvbihcInRvb2xcIiksXG4gICAgICAgICAgICBDUFBhbE1pc2M6IG5ldyBQYWxldHRlVG9nZ2xlQWN0aW9uKFwibWlzY1wiKSxcbiAgICAgICAgICAgIENQUGFsVGV4dHVyZXM6IG5ldyBQYWxldHRlVG9nZ2xlQWN0aW9uKFwidGV4dHVyZXNcIiksXG5cbiAgICAgICAgICAgIENQVG9nZ2xlUGFsZXR0ZXM6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFpbkdVSS50b2dnbGVQYWxldHRlcygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtndWk6IHRydWV9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BBcnJhbmdlUGFsZXR0ZXM6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFpbkdVSS5hcnJhbmdlUGFsZXR0ZXMoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7Z3VpOiB0cnVlfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gU2F2aW5nXG5cbiAgICAgICAgICAgIENQU2F2ZToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzYXZlRHJhd2luZygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaXNTdXBwb3J0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5hbGxvd0Rvd25sb2FkICE9PSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7ZG9jdW1lbnQ6IHRydWV9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BTZW5kOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmREcmF3aW5nKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpc1N1cHBvcnRlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhIW9wdGlvbnMuc2F2ZVVybDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGlmaWVzOiB7ZG9jdW1lbnQ6IHRydWV9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ1BQb3N0OiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IG9wdGlvbnMucG9zdFVybDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlzU3VwcG9ydGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhb3B0aW9ucy5wb3N0VXJsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kaWZpZXM6IHtkb2N1bWVudDogdHJ1ZX1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDUEV4aXQ6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRXhpdCB0aGUgZHJhd2luZyBzZXNzaW9uIHdpdGhvdXQgcG9zdGluZyB0aGUgZHJhd2luZyB0byB0aGUgZm9ydW1cbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gb3B0aW9ucy5leGl0VXJsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaXNTdXBwb3J0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFvcHRpb25zLmV4aXRVcmw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RpZmllczoge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgIGZ1bmN0aW9uIFBhbGV0dGVUb2dnbGVBY3Rpb24ocGFsTmFtZSkge1xuICAgICAgICB0aGlzLnBhbE5hbWUgPSBwYWxOYW1lO1xuICAgIH1cblxuICAgIFBhbGV0dGVUb2dnbGVBY3Rpb24ucHJvdG90eXBlLmFjdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbWFpbkdVSS5zaG93UGFsZXR0ZSh0aGlzLnBhbE5hbWUsIGUuc2VsZWN0ZWQpO1xuICAgIH07XG4gICAgUGFsZXR0ZVRvZ2dsZUFjdGlvbi5wcm90b3R5cGUubW9kaWZpZXMgPSB7Z3VpOiB0cnVlfTtcblxuICAgIGZ1bmN0aW9uIFRvb2xDaGFuZ2VBY3Rpb24odG9vbE51bSkge1xuICAgICAgICB0aGlzLnRvb2xOdW0gPSB0b29sTnVtO1xuICAgIH1cblxuICAgIFRvb2xDaGFuZ2VBY3Rpb24ucHJvdG90eXBlLmFjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRUb29sKHRoaXMudG9vbE51bSk7XG4gICAgfTtcblxuICAgIFRvb2xDaGFuZ2VBY3Rpb24ucHJvdG90eXBlLm1vZGlmaWVzID0ge21vZGU6IHRydWUsIHRvb2w6IHRydWV9O1xuXG4gICAgZnVuY3Rpb24gTW9kZUNoYW5nZUFjdGlvbihtb2RlTnVtKSB7XG4gICAgICAgIHRoaXMubW9kZU51bSA9IG1vZGVOdW07XG4gICAgfVxuXG4gICAgTW9kZUNoYW5nZUFjdGlvbi5wcm90b3R5cGUuYWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldE1vZGUodGhpcy5tb2RlTnVtKTtcbiAgICB9O1xuICAgIE1vZGVDaGFuZ2VBY3Rpb24ucHJvdG90eXBlLm1vZGlmaWVzID0ge21vZGU6IHRydWV9O1xuXG4gICAgZnVuY3Rpb24gc2hvd0JveEJsdXJEaWFsb2coKSB7XG4gICAgICAgIGlmICghYm94Qmx1ckRpYWxvZykge1xuICAgICAgICAgICAgYm94Qmx1ckRpYWxvZyA9IG5ldyBDUEJveEJsdXJEaWFsb2codWlFbGVtLCB0aGF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJveEJsdXJEaWFsb2cuc2hvdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dHcmlkT3B0aW9uc0RpYWxvZygpIHtcbiAgICAgICAgaWYgKCFncmlkRGlhbG9nKSB7XG4gICAgICAgICAgICBncmlkRGlhbG9nID0gbmV3IENQR3JpZERpYWxvZyh1aUVsZW0sIGNhbnZhcyk7XG4gICAgICAgIH1cblxuICAgICAgICBncmlkRGlhbG9nLnNob3coKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsVG9vbExpc3RlbmVycygpIHtcbiAgICAgICAgdGhhdC5lbWl0RXZlbnQoJ3Rvb2xDaGFuZ2UnLCBbY3VyQnJ1c2gsIHRvb2xzW2N1ckJydXNoXV0pO1xuICAgIH1cblxuICAgIC8vIFRPRE8gbWFrZSBtZSBwcml2YXRlXG4gICAgdGhpcy5jYWxsVG9vbExpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjYWxsVG9vbExpc3RlbmVycygpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjYWxsTW9kZUxpc3RlbmVycygpIHtcbiAgICAgICAgdGhhdC5lbWl0RXZlbnQoJ21vZGVDaGFuZ2UnLCBbY3VyTW9kZV0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGxWaWV3TGlzdGVuZXJzKHZpZXdJbmZvKSB7XG4gICAgICAgIHRoYXQuZW1pdEV2ZW50KCd2aWV3Q2hhbmdlJywgW3ZpZXdJbmZvXSk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZ2V0TWFpbkdVSSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbWFpbkdVSTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRBcnR3b3JrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFydHdvcms7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0Q2FudmFzID0gZnVuY3Rpb24oX2NhbnZhcykge1xuICAgICAgICBjYW52YXMgPSBfY2FudmFzO1xuICAgIH07XG5cdFxuXHQvKipcbiAgICAgKiBDaGFuZ2UgdGhlIGludGVycG9sYXRpb24gbW9kZSB1c2VkIGJ5IEZyZWUgVHJhbnNmb3JtIG9wZXJhdGlvbnNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJwb2xhdGlvbiAtIEVpdGhlciBcInNoYXJwXCIgb3IgXCJzbW9vdGhcIlxuICAgICAqL1xuICAgIHRoaXMuc2V0VHJhbnNmb3JtSW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uKGludGVycG9sYXRpb24pIHtcbiAgICAgICAgdGhpcy5hcnR3b3JrLnNldFRyYW5zZm9ybUludGVycG9sYXRpb24oaW50ZXJwb2xhdGlvbik7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldEN1ckNvbG9yID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICAgICAgaWYgKCFjdXJDb2xvci5pc0VxdWFsKGNvbG9yKSkge1xuICAgICAgICAgICAgdGhpcy5hcnR3b3JrLnNldEZvcmVncm91bmRDb2xvcihjb2xvci5nZXRSZ2IoKSk7XG5cbiAgICAgICAgICAgIGN1ckNvbG9yLmNvcHlGcm9tKGNvbG9yKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0RXZlbnQoJ2NvbG9yQ2hhbmdlJywgW2NvbG9yXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5nZXRDdXJDb2xvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY3VyQ29sb3IuY2xvbmUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRDdXJDb2xvclJnYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY3VyQ29sb3IuZ2V0UmdiKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0Q3VyQ29sb3JSZ2IgPSBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICB0aGlzLnNldEN1ckNvbG9yKG5ldyBDUENvbG9yKGNvbG9yKSk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0Q3VyR3JhZGllbnQgPSBmdW5jdGlvbihncmFkaWVudCkge1xuICAgICAgICBjdXJHcmFkaWVudCA9IGdyYWRpZW50LnNsaWNlKDApOyAvLyBDbG9uZVxuXG4gICAgICAgIHRoaXMuZW1pdEV2ZW50KCdncmFkaWVudENoYW5nZScsIFtjdXJHcmFkaWVudF0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEN1ckdyYWRpZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjdXJHcmFkaWVudC5zbGljZSgwKTsgLy8gQ2xvbmVcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRCcnVzaFNpemUgPSBmdW5jdGlvbihzaXplKSB7XG4gICAgICAgIHRvb2xzW2N1ckJydXNoXS5zaXplID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMjAwLCBzaXplKSk7XG4gICAgICAgIGNhbGxUb29sTGlzdGVuZXJzKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0QnJ1c2hTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0b29sc1tjdXJCcnVzaF0uc2l6ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRBbHBoYSA9IGZ1bmN0aW9uKGFscGhhKSB7XG4gICAgICAgIHRvb2xzW2N1ckJydXNoXS5hbHBoYSA9IGFscGhhO1xuICAgICAgICBjYWxsVG9vbExpc3RlbmVycygpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEFscGhhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0b29sc1tjdXJCcnVzaF0uYWxwaGE7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q3VyTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY3VyTW9kZTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2V0TW9kZShuZXdNb2RlKSB7XG4gICAgICAgIGlmIChjdXJNb2RlICE9IG5ld01vZGUpIHtcbiAgICAgICAgICAgIGlmIChuZXdNb2RlID09IENoaWNrZW5QYWludC5NX1RSQU5TRk9STSkge1xuICAgICAgICAgICAgICAgIHByZVRyYW5zZm9ybU1vZGUgPSBjdXJNb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VyTW9kZSA9IG5ld01vZGU7XG4gICAgICAgICAgICBjYWxsTW9kZUxpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5nZXRDdXJUb29sID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjdXJCcnVzaDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2V0VG9vbCh0b29sKSB7XG4gICAgICAgIHNldE1vZGUoQ2hpY2tlblBhaW50Lk1fRFJBVyk7XG4gICAgICAgIGN1ckJydXNoID0gdG9vbDtcbiAgICAgICAgdGhhdC5hcnR3b3JrLnNldEJydXNoKHRvb2xzW3Rvb2xdKTtcbiAgICAgICAgY2FsbFRvb2xMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICB0aGlzLmdldEJydXNoSW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdG9vbHNbY3VyQnJ1c2hdO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gc2F2ZURyYXdpbmcoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgc2F2ZXIgPSBuZXcgQ1BSZXNvdXJjZVNhdmVyKHtcbiAgICAgICAgICAgICAgICBhcnR3b3JrOiB0aGF0LmdldEFydHdvcmsoKSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogY2FudmFzLmdldFJvdGF0aW9uOTAoKSxcbiAgICAgICAgICAgICAgICBzd2F0Y2hlczogbWFpbkdVSS5nZXRTd2F0Y2hlcygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHNhdmVyLm9uKFwic2F2aW5nQ29tcGxldGVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGF0LmFydHdvcmsuc2V0SGFzVW5zYXZlZENoYW5nZXMoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHNhdmVyLm9uKFwic2F2aW5nRmFpbHVyZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiQW4gZXJyb3Igb2NjdXJlZCB3aGlsZSB0cnlpbmcgdG8gc2F2ZSB5b3VyIGRyYXdpbmchIFBsZWFzZSB0cnkgYWdhaW4hXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHNhdmVyLnNhdmUoKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gc2VuZERyYXdpbmcoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgc2F2ZXIgPSBuZXcgQ1BSZXNvdXJjZVNhdmVyKHtcbiAgICAgICAgICAgICAgICBhcnR3b3JrOiB0aGF0LmdldEFydHdvcmsoKSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogY2FudmFzLmdldFJvdGF0aW9uOTAoKSxcbiAgICAgICAgICAgICAgICBzd2F0Y2hlczogbWFpbkdVSS5nZXRTd2F0Y2hlcygpLFxuICAgICAgICAgICAgICAgIHVybDogb3B0aW9ucy5zYXZlVXJsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHNlbmREaWFsb2cgPSBuZXcgQ1BTZW5kRGlhbG9nKHRoYXQsIHVpRWxlbSwgc2F2ZXIpO1xuICAgICAgICBcbiAgICAgICAgc2F2ZXIub24oXCJzYXZpbmdDb21wbGV0ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoYXQuYXJ0d29yay5zZXRIYXNVbnNhdmVkQ2hhbmdlcyhmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFsbG93IHRoZSBkaWFsb2cgdG8gc2hvdyBiZWZvcmUgd2UgYmVnaW4gc2VyaWFsaXphdGlvblxuICAgICAgICBzZW5kRGlhbG9nLm9uKFwic2hvd25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzYXZlci5zYXZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNlbmREaWFsb2cuc2hvdygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5vdCBhbGwgc2F2aW5nIGFjdGlvbnMgd2lsbCBiZSBzdXBwb3J0ZWQgKGRlcGVuZGluZyBvbiB3aGF0IG9wdGlvbnMgd2UncmUgY29uZmlndXJlZCB3aXRoKS4gVXNlIHRoaXMgZnVuY3Rpb25cbiAgICAgKiB0byBjaGVjayBmb3Igc3VwcG9ydCBmb3IgYSBnaXZlbiBhY3Rpb24uXG4gICAgICovXG4gICAgdGhpcy5pc0FjdGlvblN1cHBvcnRlZCA9IGZ1bmN0aW9uKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKGFjdGlvbnNbYWN0aW9uTmFtZV0pIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIHN1cHBvcnRlZFR5cGUgPSB0eXBlb2YgYWN0aW9uc1thY3Rpb25OYW1lXS5pc1N1cHBvcnRlZDtcblxuICAgICAgICAgICAgaWYgKHN1cHBvcnRlZFR5cGUgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnNbYWN0aW9uTmFtZV0uaXNTdXBwb3J0ZWQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydGVkVHlwZSA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgbm90IG90aGVyd2lzZSBzcGVjaWZpZWQsIGFuIGFjdGlvbiBkZWZhdWx0cyB0byBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnNbYWN0aW9uTmFtZV0uaXNTdXBwb3J0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHRoaXMuc2hvd0xheWVyTm90aWZpY2F0aW9uID0gZnVuY3Rpb24obGF5ZXJJbmRleCwgbWVzc2FnZSwgd2hlcmUpIHtcbiAgICAgICAgdGhpcy5lbWl0RXZlbnQoXCJsYXllck5vdGlmaWNhdGlvblwiLCBbbGF5ZXJJbmRleCwgbWVzc2FnZSwgd2hlcmVdKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuYWN0aW9uUGVyZm9ybWVkID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAodGhpcy5hcnR3b3JrID09IG51bGwgfHwgY2FudmFzID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gdGhpcyBzaG91bGRuJ3QgaGFwcGVuLCBidXQganVzdCBpbiBjYXNlXG4gICAgICAgIH1cblxuICAgICAgICB2YXJcbiAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbnNbZS5hY3Rpb25dO1xuXG4gICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChjdXJNb2RlID09IENoaWNrZW5QYWludC5NX1RSQU5TRk9STSAmJiAoYWN0aW9uLm1vZGlmaWVzLmRvY3VtZW50IHx8IGFjdGlvbi5tb2RpZmllcy5tb2RlKVxuICAgICAgICAgICAgICAgICAgICAmJiBbXCJDUFRyYW5zZm9ybUFjY2VwdFwiLCBcIkNQVHJhbnNmb3JtUmVqZWN0XCJdLmluZGV4T2YoZS5hY3Rpb24pID09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUuYWN0aW9uID09IFwiQ1BVbmRvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9ucy5DUFRyYW5zZm9ybVJlamVjdC5hY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuYWN0aW9uID09IFwiQ1BUcmFuc2Zvcm1cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBZb3UncmUgYWxyZWFkeSB0cmFuc2Zvcm1pbmcgdGhlIHNlbGVjdGlvbiFcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBQcm9tcHQgdGhlIHVzZXIgdG8gZmluaXNoIHRoZWlyIHRyYW5zZm9ybSBiZWZvcmUgc3RhcnRpbmcgc29tZXRoaW5nIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cgPSBuZXcgQ1BDb25maXJtVHJhbnNmb3JtRGlhbG9nKHVpRWxlbSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLyogSWYgdGhleSBkZWNpZGUgdG8gZmluaXNoIHVwIHdpdGggdGhlIHRyYW5zZm9ybSwgd2UgY2FuIGFwcGx5IHRoZSBvcmlnaW5hbCBhY3Rpb24gdGhleVxuICAgICAgICAgICAgICAgICAgICAgKiBhdHRlbXB0ZWQgYWZ0ZXJ3YXJkcy5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZy5vbihcImFjY2VwdFwiLCB0aGlzLmFjdGlvblBlcmZvcm1lZC5iaW5kKHRoaXMsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLm9uKFwicmVqZWN0XCIsIHRoaXMuYWN0aW9uUGVyZm9ybWVkLmJpbmQodGhpcywgZSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZy5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24uYWN0aW9uKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FsbENQRXZlbnRMaXN0ZW5lcnMoKTsgVE9ET1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsVW5zYXZlZFdhcm5pbmcoKSB7XG4gICAgICAgIGlmIChpc0V2ZW50U3VwcG9ydGVkKFwib25iZWZvcmV1bmxvYWRcIikpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5hcnR3b3JrLmdldEhhc1Vuc2F2ZWRDaGFuZ2VzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtTWVzc2FnZSA9IFwiWW91ciBkcmF3aW5nIGhhcyB1bnNhdmVkIGNoYW5nZXMhXCI7XG4gICAgICAgICAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBjb25maXJtTWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1NZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbCBiYWNrIHRvIGp1c3QgY2F0Y2hpbmcgbGlua3NcbiAgICAgICAgICAgICQoXCJhXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpICE9IFwiI1wiICYmIHRoYXQuYXJ0d29yay5nZXRIYXNVbnNhdmVkQ2hhbmdlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maXJtKFwiWW91ciBkcmF3aW5nIGhhcyB1bnNhdmVkIGNoYW5nZXMhIEFyZSB5b3Ugc3VyZSB0byB3YW50IHRvIG5hdmlnYXRlIGF3YXk/XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHN0YXJ0TWFpbkdVSShzd2F0Y2hlcywgaW5pdGlhbFJvdGF0aW9uOTApIHtcbiAgICAgICAgbWFpbkdVSSA9IG5ldyBDUE1haW5HVUkodGhhdCwgdWlFbGVtKTtcblxuICAgICAgICBzZXRUb29sKENoaWNrZW5QYWludC5UX1BFTik7XG4gICAgICAgIG1haW5HVUkuYXJyYW5nZVBhbGV0dGVzKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc3dhdGNoZXMpIHtcbiAgICAgICAgICAgIG1haW5HVUkuc2V0U3dhdGNoZXMoc3dhdGNoZXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoaW5pdGlhbFJvdGF0aW9uOTApIHtcbiAgICAgICAgICAgIG1haW5HVUkuc2V0Um90YXRpb24oaW5pdGlhbFJvdGF0aW9uOTAgKiBNYXRoLlBJIC8gMik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIENQV2Fjb21UYWJsZXQuZ2V0UmVmKCkuZGV0ZWN0VGFibGV0KCk7XG4gICAgICAgIFxuICAgICAgICBpbnN0YWxsVW5zYXZlZFdhcm5pbmcoKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5nZXRSZXNvdXJjZXNSb290ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLnJlc291cmNlc1Jvb3Q7XG4gICAgfTtcblxuICAgIGlmICghaXNCcm93c2VyU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IENoaWNrZW5QYWludC5VbnN1cHBvcnRlZEJyb3dzZXJFeGNlcHRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50LmJvZHkuc3R5bGUuZmxleEJhc2lzICE9IFwic3RyaW5nXCIgJiYgdHlwZW9mIGRvY3VtZW50LmJvZHkuc3R5bGUubXNGbGV4RGlyZWN0aW9uICE9IFwic3RyaW5nXCIgfHwgL1ByZXN0by8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICB1aUVsZW0uY2xhc3NOYW1lICs9IFwiIG5vLWZsZXhib3hcIjtcbiAgICB9XG5cbiAgICB1aUVsZW0uY2xhc3NOYW1lICs9IFwiIGNoaWNrZW5wYWludFwiO1xuXG4gICAgb3B0aW9ucy5yZXNvdXJjZXNSb290ID0gb3B0aW9ucy5yZXNvdXJjZXNSb290IHx8IFwiY2hpY2tlbnBhaW50L1wiO1xuXG4gICAgaWYgKG9wdGlvbnMuZGlzYWJsZUJvb3RzdHJhcEFQSSkge1xuICAgICAgICAkKGRvY3VtZW50KS5vZmYoJy5kYXRhLWFwaScpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmxvYWRJbWFnZVVybCB8fCBvcHRpb25zLmxvYWRDaGliaUZpbGVVcmwpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBsb2FkZXIgPSBuZXcgQ1BSZXNvdXJjZUxvYWRlcihvcHRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIG5ldyBDUFNwYXNoU2NyZWVuKHVpRWxlbSwgbG9hZGVyLCBvcHRpb25zLnJlc291cmNlc1Jvb3QpO1xuXG4gICAgICAgIGxvYWRlci5vbihcImxvYWRpbmdDb21wbGV0ZVwiLCBmdW5jdGlvbihyZXNvdXJjZXMpIHtcbiAgICAgICAgICAgIHRoYXQuYXJ0d29yayA9IHJlc291cmNlcy5sYXllcnMgfHwgcmVzb3VyY2VzLmZsYXQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHN0YXJ0TWFpbkdVSShyZXNvdXJjZXMuc3dhdGNoZXMsIG9wdGlvbnMucm90YXRpb24pO1xuICAgICAgICB9KTtcblxuICAgICAgICBsb2FkZXIubG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYXJ0d29yayA9IG5ldyBDUEFydHdvcmsob3B0aW9ucy5jYW52YXNXaWR0aCB8fCA4MDAsIG9wdGlvbnMuY2FudmFzSGVpZ2h0IHx8IDYwMCk7XG4gICAgICAgIHRoaXMuYXJ0d29yay5hZGRCYWNrZ3JvdW5kTGF5ZXIoKTtcbiAgICAgICAgXG4gICAgICAgIHN0YXJ0TWFpbkdVSSgpO1xuICAgIH1cbn1cblxuQ2hpY2tlblBhaW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5DaGlja2VuUGFpbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2hpY2tlblBhaW50O1xuXG5DaGlja2VuUGFpbnQuVW5zdXBwb3J0ZWRCcm93c2VyRXhjZXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuXG5DaGlja2VuUGFpbnQuVW5zdXBwb3J0ZWRCcm93c2VyRXhjZXB0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIlNvcnJ5LCB5b3VyIHdlYiBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgQ2hpY2tlblBhaW50LiBQbGVhc2UgdHJ5IGEgbW9kZXJuIGJyb3dzZXIgbGlrZSBDaHJvbWUsIFNhZmFyaSwgRmlyZWZveCwgb3IgRWRnZVwiO1xufTtcblxuLy9cbi8vIERlZmluaXRpb24gb2YgYWxsIHRoZSBtb2RlcyBhdmFpbGFibGVcbi8vXG5cbkNoaWNrZW5QYWludC5NX0RSQVcgPSAwO1xuQ2hpY2tlblBhaW50Lk1fRkxPT0RGSUxMID0gMTtcbkNoaWNrZW5QYWludC5NX1JFQ1RfU0VMRUNUSU9OID0gMjtcbkNoaWNrZW5QYWludC5NX01PVkVfVE9PTCA9IDM7XG5DaGlja2VuUGFpbnQuTV9ST1RBVEVfQ0FOVkFTID0gNDtcbkNoaWNrZW5QYWludC5NX0NPTE9SX1BJQ0tFUiA9IDU7XG5DaGlja2VuUGFpbnQuTV9HUkFESUVOVEZJTEwgPSA2O1xuQ2hpY2tlblBhaW50Lk1fVFJBTlNGT1JNID0gNztcblxuLy9cbi8vIERlZmluaXRpb24gb2YgYWxsIHRoZSBzdGFuZGFyZCB0b29scyBhdmFpbGFibGVcbi8vXG5DaGlja2VuUGFpbnQuVF9QRU5DSUwgPSAwO1xuQ2hpY2tlblBhaW50LlRfRVJBU0VSID0gMTtcbkNoaWNrZW5QYWludC5UX1BFTiA9IDI7XG5DaGlja2VuUGFpbnQuVF9TT0ZURVJBU0VSID0gMztcbkNoaWNrZW5QYWludC5UX0FJUkJSVVNIID0gNDtcbkNoaWNrZW5QYWludC5UX0RPREdFID0gNTtcbkNoaWNrZW5QYWludC5UX0JVUk4gPSA2O1xuQ2hpY2tlblBhaW50LlRfV0FURVIgPSA3O1xuQ2hpY2tlblBhaW50LlRfQkxVUiA9IDg7XG5DaGlja2VuUGFpbnQuVF9TTVVER0UgPSA5O1xuQ2hpY2tlblBhaW50LlRfQkxFTkRFUiA9IDEwO1xuQ2hpY2tlblBhaW50LlRfTUFYID0gMTE7XG4iLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuaW1wb3J0IENQTGF5ZXIgZnJvbSBcIi4vQ1BMYXllclwiO1xuaW1wb3J0IENQQmxlbmQgZnJvbSBcIi4vQ1BCbGVuZFwiO1xuaW1wb3J0IENQR3JleUJtcCBmcm9tIFwiLi9DUEdyZXlCbXBcIjtcbmltcG9ydCBDUENvbG9yQm1wIGZyb20gXCIuL0NQQ29sb3JCbXBcIjtcbmltcG9ydCBDUEJydXNoTWFuYWdlciBmcm9tIFwiLi9DUEJydXNoTWFuYWdlclwiO1xuaW1wb3J0IENQQnJ1c2hJbmZvIGZyb20gXCIuL0NQQnJ1c2hJbmZvXCI7XG5pbXBvcnQgQ1BVbmRvIGZyb20gXCIuL0NQVW5kb1wiO1xuaW1wb3J0IENQQ2xpcCBmcm9tIFwiLi9DUENsaXBcIjtcblxuaW1wb3J0IENQQ29sb3JGbG9hdCBmcm9tIFwiLi4vdXRpbC9DUENvbG9yRmxvYXRcIjtcbmltcG9ydCBDUFJlY3QgZnJvbSBcIi4uL3V0aWwvQ1BSZWN0XCI7XG5pbXBvcnQgQ1BSYW5kb20gZnJvbSBcIi4uL3V0aWwvQ1BSYW5kb21cIjtcbmltcG9ydCBDUFRyYW5zZm9ybSBmcm9tIFwiLi4vdXRpbC9DUFRyYW5zZm9ybVwiO1xuaW1wb3J0IHtzZXRDYW52YXNJbnRlcnBvbGF0aW9ufSBmcm9tIFwiLi4vdXRpbC9DUFBvbHlmaWxsXCI7XG5cbi8vIFBvbHlmaWxsLCB1c2VkIGluIGR1cGxpY2F0ZUxheWVyXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGgpIHtcbiAgICBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoID0gZnVuY3Rpb24oc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuICAgICAgICB2YXIgc3ViamVjdFN0cmluZyA9IHRoaXMudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBwb3NpdGlvbiAhPT0gJ251bWJlcicgfHwgIWlzRmluaXRlKHBvc2l0aW9uKSB8fCBNYXRoLmZsb29yKHBvc2l0aW9uKSAhPT0gcG9zaXRpb24gfHwgcG9zaXRpb24gPiBzdWJqZWN0U3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBzdWJqZWN0U3RyaW5nLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBwb3NpdGlvbiAtPSBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gc3ViamVjdFN0cmluZy5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICAgICAgICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQQXJ0d29yayhfd2lkdGgsIF9oZWlnaHQpIHtcbiAgICBcbiAgICBfd2lkdGggPSBfd2lkdGggfCAwO1xuICAgIF9oZWlnaHQgPSBfaGVpZ2h0IHwgMDtcbiAgICBcbiAgICBjb25zdFxuICAgICAgICBNQVhfVU5ETyA9IDMwLFxuICAgICAgICBFTVBUWV9CQUNLR1JPVU5EX0NPTE9SID0gMHhGRkZGRkZGRixcbiAgICAgICAgRU1QVFlfTEFZRVJfQ09MT1IgPSAweDAwRkZGRkZGLFxuICAgICAgICBcbiAgICAgICAgQlVSTl9DT05TVEFOVCA9IDI2MCxcbiAgICAgICAgQkxVUl9NSU4gPSA2NCxcbiAgICAgICAgQkxVUl9NQVggPSAxO1xuICAgIFxuICAgIHZhclxuICAgICAgICBsYXllcnMgPSBbXSxcbiAgICAgICAgY3VyTGF5ZXIsXG4gICAgICAgIFxuICAgICAgICBoYXNVbnNhdmVkQ2hhbmdlcyA9IGZhbHNlLFxuICAgICAgICBcbiAgICAgICAgY3VyU2VsZWN0aW9uID0gbmV3IENQUmVjdCgwLCAwLCAwLCAwKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogT3VyIGJ1ZmZlciBmb3Igc3RvcmluZyBhbGwgdGhlIGxheWVycyBtZXJnZWQgdG9nZXRoZXIgYWNjb3JkaW5nIHRvIHRoZWlyIGJsZW5kaW5nIG1vZGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q1BMYXllcn1cbiAgICAgICAgICovXG4gICAgICAgIGZ1c2lvbkJ1ZmZlciA9IG5ldyBDUExheWVyKF93aWR0aCwgX2hlaWdodCksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvaW50cyB0byB0aGUgYnVmZmVyIHdoaWNoIHJlcHJlc2VudHMgYWxsIHRoZSBsYXllcnMgbWVyZ2VkIHRvZ2V0aGVyIChlaXRoZXIgZnVzaW9uQnVmZmVyIG9yIGN1ckxheWVyXG4gICAgICAgICAqIGRlcGVuZGluZyBvbiBpZiB0aGUgZG9jdW1lbnQgaXMgc2luZ2xlLWxheWVyZWQgb3Igbm90KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0NQTGF5ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBmdXNpb24gPSBmdXNpb25CdWZmZXIsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29weSBvZiB0aGUgY3VycmVudCBsYXllcidzIGRhdGEgdGhhdCBjYW4gYmUgdXNlZCBmb3IgdW5kbyBvcGVyYXRpb25zLlxuICAgICAgICAgKiBcbiAgICAgICAgICogQHR5cGUge0NQTGF5ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB1bmRvQnVmZmVyID0gbmV3IENQTGF5ZXIoX3dpZHRoLCBfaGVpZ2h0KSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlZ2lvbiBvZiB0aGUgdW5kb0J1ZmZlciB3aGljaCBpcyBvdXQgb2YgZGF0ZSB3aXRoIHJlc3BlY3QgdG8gdGhlIGNvbnRlbnQgb2YgdGhlIGxheWVyLCBhbmQgbmVlZHMgdXBkYXRlZFxuICAgICAgICAgKiB3aXRoIHByZXBhcmVGb3JMYXllclVuZG8oKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0NQUmVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHVuZG9CdWZmZXJJbnZhbGlkUmVnaW9uID0gbmV3IENQUmVjdCgwLCAwLCBfd2lkdGgsIF9oZWlnaHQpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZSB1c2UgdGhpcyBidWZmZXIgc28gd2UgY2FuIGFjY3VyYXRlbHkgYWNjdW11bGF0ZSBzbWFsbCBjaGFuZ2VzIHRvIGxheWVyIG9wYWNpdHkgZHVyaW5nIGEgYnJ1c2ggc3Ryb2tlLlxuICAgICAgICAgKiBcbiAgICAgICAgICogTm9ybWFsbHkgd2UgdXNlIGl0IGFzIGEgMTYtYml0IG9wYWNpdHkgY2hhbm5lbCBwZXIgcGl4ZWwsIGJ1dCBzb21lIGJydXNoZXMgdXNlIHRoZSBmdWxsIDMyLWJpdHMgcGVyIHBpeGVsXG4gICAgICAgICAqIGFzIEFSR0IuXG4gICAgICAgICAqL1xuICAgICAgICBvcGFjaXR5QnVmZmVyID0gbmV3IENQR3JleUJtcChfd2lkdGgsIF9oZWlnaHQsIDMyKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgb2YgZGlydHkgZGF0YSBjb250YWluZWQgYnkgb3BhY2l0eUJ1ZmZlciB0aGF0IHNob3VsZCBiZSBtZXJnZWQgYnkgZnVzaW9uTGF5ZXJzKClcbiAgICAgICAgICovXG4gICAgICAgIG9wYWNpdHlBcmVhID0gbmV3IENQUmVjdCgwLCAwLCAwLCAwKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgb2YgZGlydHkgbGF5ZXIgZGF0YSB0aGF0IHNob3VsZCBiZSBtZXJnZWQgaW50byB0aGUgZnVzaW9uIGJ5IGZ1c2lvbkxheWVycygpLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVzaW9uQXJlYSA9IG5ldyBDUFJlY3QoMCwgMCwgX3dpZHRoLCBfaGVpZ2h0KSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBDUFVuZG9QYWludCB0byBrZWVwIHRyYWNrIG9mIHRoZSBhcmVhIHRoYXQgaGFzIGJlZW4gZGlydGllZCBieSBsYXllciBvcGVyYXRpb25zIGFuZCBzaG91bGQgYmVcbiAgICAgICAgICogc2F2ZWQgZm9yIHVuZG8uXG4gICAgICAgICAqL1xuICAgICAgICB1bmRvQXJlYSA9IG5ldyBDUFJlY3QoMCwgMCwgMCwgMCksXG5cbiAgICAgICAgcm5kID0gbmV3IENQUmFuZG9tKCksXG5cbiAgICAgICAgcHJldmlld09wZXJhdGlvbiA9IG51bGwsXG4gICAgICAgIFxuICAgICAgICBjbGlwYm9hcmQgPSBudWxsLCAvLyBBIENQQ2xpcFxuICAgICAgICB1bmRvTGlzdCA9IFtdLCByZWRvTGlzdCA9IFtdLFxuICAgICAgICBcbiAgICAgICAgY3VyQnJ1c2ggPSBudWxsLFxuICAgICAgICBcbiAgICAgICAgYnJ1c2hNYW5hZ2VyID0gbmV3IENQQnJ1c2hNYW5hZ2VyKCksXG4gICAgICAgIFxuICAgICAgICBsYXN0WCA9IDAuMCwgbGFzdFkgPSAwLjAsIGxhc3RQcmVzc3VyZSA9IDAuMCxcbiAgICAgICAgYnJ1c2hCdWZmZXIgPSBudWxsLFxuICAgICAgICBcbiAgICAgICAgc2FtcGxlQWxsTGF5ZXJzID0gZmFsc2UsXG4gICAgICAgIGxvY2tBbHBoYSA9IGZhbHNlLFxuICAgICAgICBcbiAgICAgICAgY3VyQ29sb3IgPSAweDAwMDAwMCwgLy8gQmxhY2tcbiAgICAgICAgdHJhbnNmb3JtSW50ZXJwb2xhdGlvbiA9IFwic21vb3RoXCIsXG5cbiAgICAgICAgdGhhdCA9IHRoaXM7XG4gICAgXG4gICAgLy8gRklYTUU6IDIwMDctMDEtMTMgSSdtIG1vdmluZyB0aGlzIHRvIHRoZSBDUFJlY3QgY2xhc3NcbiAgICAvLyBmaW5kIHdoZXJlIHRoaXMgdmVyc2lvbiBpcyB1c2VkIGFuZCBjaGFuZ2UgdGhlXG4gICAgLy8gY29kZSB0byB1c2UgdGhlIENQUmVjdCB2ZXJzaW9uXG4gICAgZnVuY3Rpb24gY2xpcFNvdXJjZURlc3Qoc3JjUmVjdCwgZHN0UmVjdCkge1xuICAgICAgICAvLyBGSVhNRTpcbiAgICAgICAgLy8gLyFcXCBkc3RSZWN0IGJvdHRvbSBhbmQgcmlnaHQgYXJlIGlnbm9yZWQgYW5kIGluc3RlYWQgd2UgY2xpcFxuICAgICAgICAvLyBhZ2FpbnN0IHRoZSB3aWR0aCwgaGVpZ2h0IG9mIHRoZSBsYXllci4gOi9cbiAgICAgICAgLy9cblxuICAgICAgICAvLyB0aGlzIHZlcnNpb24gd291bGQgYmUgZW5vdWdoIGluIG1vc3QgY2FzZXMgKHdoZW4gd2UgZG9uJ3QgbmVlZFxuICAgICAgICAvLyBzcmNSZWN0IGJvdHRvbSBhbmQgcmlnaHQgdG8gYmUgY2xpcHBlZClcbiAgICAgICAgLy8gaXQncyBsZWZ0IGhlcmUgaW4gY2FzZSBpdCdzIG5lZWRlZCB0byBtYWtlIGEgZmFzdGVyIHZlcnNpb25cbiAgICAgICAgLy8gb2YgdGhpcyBmdW5jdGlvblxuICAgICAgICAvLyBkc3RSZWN0LnJpZ2h0ID0gTWF0aC5taW4od2lkdGgsIGRzdFJlY3QubGVmdCArIHNyY1JlY3QuZ2V0V2lkdGgoKSk7XG4gICAgICAgIC8vIGRzdFJlY3QuYm90dG9tID0gTWF0aC5taW4oaGVpZ2h0LCBkc3RSZWN0LnRvcCArIHNyY1JlY3QuZ2V0SGVpZ2h0KCkpO1xuXG4gICAgICAgIC8vIG5ldyBkZXN0IGJvdHRvbS9yaWdodFxuICAgICAgICBkc3RSZWN0LnJpZ2h0ID0gZHN0UmVjdC5sZWZ0ICsgc3JjUmVjdC5nZXRXaWR0aCgpO1xuICAgICAgICBpZiAoZHN0UmVjdC5yaWdodCA+IHRoYXQud2lkdGgpIHtcbiAgICAgICAgICAgIHNyY1JlY3QucmlnaHQgLT0gZHN0UmVjdC5yaWdodCAtIHRoYXQud2lkdGg7XG4gICAgICAgICAgICBkc3RSZWN0LnJpZ2h0ID0gdGhhdC53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRzdFJlY3QuYm90dG9tID0gZHN0UmVjdC50b3AgKyBzcmNSZWN0LmdldEhlaWdodCgpO1xuICAgICAgICBpZiAoZHN0UmVjdC5ib3R0b20gPiB0aGF0LmhlaWdodCkge1xuICAgICAgICAgICAgc3JjUmVjdC5ib3R0b20gLT0gZHN0UmVjdC5ib3R0b20gLSB0aGF0LmhlaWdodDtcbiAgICAgICAgICAgIGRzdFJlY3QuYm90dG9tID0gdGhhdC5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZXcgc3JjIHRvcC9sZWZ0XG4gICAgICAgIGlmIChkc3RSZWN0LmxlZnQgPCAwKSB7XG4gICAgICAgICAgICBzcmNSZWN0LmxlZnQgLT0gZHN0UmVjdC5sZWZ0O1xuICAgICAgICAgICAgZHN0UmVjdC5sZWZ0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkc3RSZWN0LnRvcCA8IDApIHtcbiAgICAgICAgICAgIHNyY1JlY3QudG9wIC09IGRzdFJlY3QudG9wO1xuICAgICAgICAgICAgZHN0UmVjdC50b3AgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGNhbGxMaXN0ZW5lcnNVcGRhdGVSZWdpb24ocmVnaW9uKSB7XG4gICAgICAgIHRoYXQuZW1pdEV2ZW50KFwidXBkYXRlUmVnaW9uXCIsIFtyZWdpb25dKTtcbiAgICB9XG5cbiAgICAvLyBsYXllckluZGV4IGlzIG9wdGlvbmFsLCBwcm92aWRlIHdoZW4gb25seSBvbmUgbGF5ZXIgaGFzIGJlZW4gdXBkYXRlZFxuICAgIGZ1bmN0aW9uIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZShsYXllckluZGV4KSB7XG4gICAgICAgIHRoYXQuZW1pdEV2ZW50KFwiY2hhbmdlTGF5ZXJcIiwgW2xheWVySW5kZXhdKTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHRoZSBzZWxlY3RlZCByZWN0YW5nbGUgY2hhbmdlc1xuICAgIGZ1bmN0aW9uIGNhbGxMaXN0ZW5lcnNTZWxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgIHRoYXQuZW1pdEV2ZW50KFwiY2hhbmdlU2VsZWN0aW9uXCIsIFtdKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5nZXRMYXllcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGxheWVycztcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRMYXllckNvdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBsYXllcnMubGVuZ3RoO1xuICAgIH07XG4gICAgXG4gICAgLy9cbiAgICAvLyBTZWxlY3Rpb24gbWV0aG9kc1xuICAgIC8vXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiByZWN0IG9yIGEgcmVjdGFuZ2xlIGNvdmVyaW5nIHRoZSB3aG9sZSBjYW52YXMgaWYgdGhlcmUgYXJlIG5vIHNlbGVjdGlvbnNcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBDUFJlY3RcbiAgICAgKi9cbiAgICB0aGlzLmdldFNlbGVjdGlvbkF1dG9TZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICByO1xuXG4gICAgICAgIGlmICghY3VyU2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgciA9IGN1clNlbGVjdGlvbi5jbG9uZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgciA9IHRoaXMuZ2V0Qm91bmRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjdXJTZWxlY3Rpb24uY2xvbmUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFyayB0aGUgZ2l2ZW4gcmVjdGFuZ2xlIG9uIHRoZSBjYW52YXMgYXMgbmVlZGluZyB0byBiZSByZS1mdXNlZCAoaS5lLiB3ZSd2ZSBkcmF3biBpbiB0aGlzIHJlZ2lvbikuXG4gICAgICogTGlzdGVuZXJzIGFyZSBub3RpZmllZCBhYm91dCBvdXIgdXBkYXRlZCBjYW52YXMgcmVnaW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlY3QgQ1BSZWN0IFJlY3QgdG8gaW52YWxpZGF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmFsaWRhdGVGdXNpb25SZWN0KHJlY3QpIHtcbiAgICAgICAgZnVzaW9uQXJlYS51bmlvbihyZWN0KTtcblxuICAgICAgICAvLyBUaGlzIHVwZGF0ZWQgYXJlYSB3aWxsIG5lZWQgdG8gYmUgdXBkYXRlZCBpbiBvdXIgdW5kbyBidWZmZXIgbGF0ZXJcbiAgICAgICAgdW5kb0J1ZmZlckludmFsaWRSZWdpb24udW5pb24ocmVjdCk7XG5cbiAgICAgICAgY2FsbExpc3RlbmVyc1VwZGF0ZVJlZ2lvbihyZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFyayB0aGUgZW50aXJlIGNhbnZhcyBhcyBuZWVkaW5nIHRvIGJlIHJlLWZ1c2VkICh3ZSd2ZSBkcmF3biB0byB0aGUgd2hvbGUgY2FudmFzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmFsaWRhdGVGdXNpb24oKSB7XG4gICAgICAgIGludmFsaWRhdGVGdXNpb25SZWN0KG5ldyBDUFJlY3QoMCwgMCwgdGhhdC53aWR0aCwgdGhhdC5oZWlnaHQpKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2V0SGFzVW5zYXZlZENoYW5nZXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBoYXNVbnNhdmVkQ2hhbmdlcyA9IHZhbHVlO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRIYXNVbnNhdmVkQ2hhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaGFzVW5zYXZlZENoYW5nZXM7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldExheWVyVmlzaWJpbGl0eSA9IGZ1bmN0aW9uKGxheWVySW5kZXgsIHZpc2libGUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJbmRleCk7XG4gICAgICAgIFxuICAgICAgICBhZGRVbmRvKG5ldyBDUFVuZG9MYXllclZpc2libGUobGF5ZXJJbmRleCwgbGF5ZXIudmlzaWJsZSwgdmlzaWJsZSkpO1xuICAgICAgICBsYXllci52aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgXG4gICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgY2FsbExpc3RlbmVyc0xheWVyQ2hhbmdlKGxheWVySW5kZXgpO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZExheWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgbmV3TGF5ZXIgPSBuZXcgQ1BMYXllcih0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5nZXREZWZhdWx0TGF5ZXJOYW1lKCkpLFxuICAgICAgICAgICAgYWN0aXZlTGF5ZXJJbmRleCA9IHRoaXMuZ2V0QWN0aXZlTGF5ZXJJbmRleCgpO1xuICAgICAgICBcbiAgICAgICAgbmV3TGF5ZXIuY2xlYXJBbGwoRU1QVFlfTEFZRVJfQ09MT1IpOyAvLyBUcmFuc3BhcmVudCB3aGl0ZVxuICAgICAgICBcbiAgICAgICAgYWRkVW5kbyhuZXcgQ1BVbmRvQWRkTGF5ZXIoYWN0aXZlTGF5ZXJJbmRleCkpO1xuXG4gICAgICAgIGxheWVycy5zcGxpY2UoYWN0aXZlTGF5ZXJJbmRleCArIDEsIDAsIG5ld0xheWVyKTtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVMYXllckluZGV4KGFjdGl2ZUxheWVySW5kZXggKyAxKTtcblxuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5hZGRMYXllck9iamVjdCA9IGZ1bmN0aW9uKGxheWVyKSB7XG4gICAgICAgIGxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChsYXllcnMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGN1ckxheWVyID0gbGF5ZXJzWzBdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgbGF5ZXIuXG4gICAgICogXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBsYXllciB3YXMgcmVtb3ZlZCwgb3IgZmFsc2Ugd2hlbiByZW1vdmFsIGZhaWxlZCBiZWNhdXNlIHRoZXJlIGlzIGN1cnJlbnRseSBvbmx5IG9uZSBsYXllciBpbiBcbiAgICAgKiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgdGhpcy5yZW1vdmVMYXllciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAobGF5ZXJzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGFjdGl2ZUxheWVySW5kZXggPSB0aGlzLmdldEFjdGl2ZUxheWVySW5kZXgoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYWRkVW5kbyhuZXcgQ1BVbmRvUmVtb3ZlTGF5ZXIoYWN0aXZlTGF5ZXJJbmRleCwgY3VyTGF5ZXIpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGF5ZXJzLnNwbGljZShhY3RpdmVMYXllckluZGV4LCAxKTtcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlTGF5ZXJJbmRleChhY3RpdmVMYXllckluZGV4IDwgbGF5ZXJzLmxlbmd0aCA/IGFjdGl2ZUxheWVySW5kZXggOiBhY3RpdmVMYXllckluZGV4IC0gMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB0aGlzLmR1cGxpY2F0ZUxheWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIGNvcHlTdWZmaXggPSBcIiBDb3B5XCIsXG4gICAgICAgICAgICBuZXdMYXllciA9IG5ldyBDUExheWVyKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSxcbiAgICAgICAgICAgIGFjdGl2ZUxheWVySW5kZXggPSB0aGlzLmdldEFjdGl2ZUxheWVySW5kZXgoKTtcblxuICAgICAgICBhZGRVbmRvKG5ldyBDUFVuZG9EdXBsaWNhdGVMYXllcihhY3RpdmVMYXllckluZGV4KSk7XG4gICAgICAgIFxuICAgICAgICBuZXdMYXllci5jb3B5RnJvbShsYXllcnNbYWN0aXZlTGF5ZXJJbmRleF0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFuZXdMYXllci5uYW1lLmVuZHNXaXRoKGNvcHlTdWZmaXgpKSB7XG4gICAgICAgICAgICBuZXdMYXllci5uYW1lICs9IGNvcHlTdWZmaXg7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxheWVycy5zcGxpY2UoYWN0aXZlTGF5ZXJJbmRleCArIDEsIDAsIG5ld0xheWVyKTtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVMYXllckluZGV4KGFjdGl2ZUxheWVySW5kZXggKyAxKTtcbiAgICAgICAgXG4gICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgY2FsbExpc3RlbmVyc0xheWVyQ2hhbmdlKCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLm1lcmdlRG93biA9IGZ1bmN0aW9uKGNyZWF0ZVVuZG8pIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBhY3RpdmVMYXllckluZGV4ID0gdGhpcy5nZXRBY3RpdmVMYXllckluZGV4KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAobGF5ZXJzLmxlbmd0aCA+IDEgJiYgYWN0aXZlTGF5ZXJJbmRleCA+IDApIHtcbiAgICAgICAgICAgIGlmIChjcmVhdGVVbmRvKSB7XG4gICAgICAgICAgICAgICAgYWRkVW5kbyhuZXcgQ1BVbmRvTWVyZ2VEb3duTGF5ZXIoYWN0aXZlTGF5ZXJJbmRleCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBDUEJsZW5kLmZ1c2VMYXllcihsYXllcnNbYWN0aXZlTGF5ZXJJbmRleCAtIDFdLCB0cnVlLCBsYXllcnNbYWN0aXZlTGF5ZXJJbmRleF0sIHRoaXMuZ2V0Qm91bmRzKCkpO1xuICAgICAgICAgICAgbGF5ZXJzLnNwbGljZShhY3RpdmVMYXllckluZGV4LCAxKTtcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlTGF5ZXJJbmRleChhY3RpdmVMYXllckluZGV4IC0gMSk7XG5cbiAgICAgICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubWVyZ2VBbGxMYXllcnMgPSBmdW5jdGlvbihjcmVhdGVVbmRvKSB7XG4gICAgICAgIGlmIChsYXllcnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaWYgKGNyZWF0ZVVuZG8pIHtcbiAgICAgICAgICAgICAgICBhZGRVbmRvKG5ldyBDUFVuZG9NZXJnZUFsbExheWVycygpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhhdC5mdXNpb25MYXllcnMoKTtcbiAgICAgICAgICAgIGxheWVycyA9IFtdO1xuXG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBsYXllciA9IG5ldyBDUExheWVyKHRoYXQud2lkdGgsIHRoYXQuaGVpZ2h0LCB0aGlzLmdldERlZmF1bHRMYXllck5hbWUoKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxheWVyLmNvcHlEYXRhRnJvbShmdXNpb24pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsYXllcnMucHVzaChsYXllcik7XG4gICAgICAgICAgICB0aGlzLnNldEFjdGl2ZUxheWVySW5kZXgoMCk7XG5cbiAgICAgICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBmdW5jdGlvbiBtb3ZlTGF5ZXJSZWFsKGZyb20sIHRvKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgbGF5ZXIgPSBsYXllcnMuc3BsaWNlKGZyb20sIDEpWzBdO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRvIDw9IGZyb20pIHtcbiAgICAgICAgICAgIGxheWVycy5zcGxpY2UodG8sIDAsIGxheWVyKTtcbiAgICAgICAgICAgIHRoYXQuc2V0QWN0aXZlTGF5ZXJJbmRleCh0byk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXllcnMuc3BsaWNlKHRvIC0gMSwgMCwgbGF5ZXIpO1xuICAgICAgICAgICAgdGhhdC5zZXRBY3RpdmVMYXllckluZGV4KHRvIC0gMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBNb3ZlIGEgbGF5ZXIgaW4gdGhlIHN0YWNrIGZyb20gb25lIGluZGV4IHRvIGFub3RoZXIuXG4gICAgICogXG4gICAgICogQHBhcmFtIGZyb20gaW50XG4gICAgICogQHBhcmFtIHRvIGludFxuICAgICAqL1xuICAgIHRoaXMubW92ZUxheWVyID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKGZyb20gPCAwIHx8IGZyb20gPj0gdGhpcy5nZXRMYXllckNvdW50KCkgfHwgdG8gPCAwIHx8IHRvID4gdGhpcy5nZXRMYXllckNvdW50KCkgfHwgZnJvbSA9PSB0bykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhZGRVbmRvKG5ldyBDUFVuZG9Nb3ZlTGF5ZXIoZnJvbSwgdG8pKTtcbiAgICAgICAgbW92ZUxheWVyUmVhbChmcm9tLCB0byk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc2V0TGF5ZXJBbHBoYSA9IGZ1bmN0aW9uKGxheWVySW5kZXgsIGFscGhhKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySW5kZXgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGxheWVyLmdldEFscGhhKCkgIT0gYWxwaGEpIHtcbiAgICAgICAgICAgIGFkZFVuZG8obmV3IENQVW5kb0xheWVyQWxwaGEobGF5ZXJJbmRleCwgYWxwaGEpKTtcbiAgICAgICAgICAgIGxheWVyLnNldEFscGhhKGFscGhhKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaW52YWxpZGF0ZUZ1c2lvbigpO1xuICAgICAgICAgICAgY2FsbExpc3RlbmVyc0xheWVyQ2hhbmdlKGxheWVySW5kZXgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2V0TGF5ZXJCbGVuZE1vZGUgPSBmdW5jdGlvbihsYXllckluZGV4LCBibGVuZE1vZGUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBsYXllciA9IHRoaXMuZ2V0TGF5ZXIobGF5ZXJJbmRleCk7XG4gICAgXG4gICAgICAgIGlmIChsYXllci5nZXRCbGVuZE1vZGUoKSAhPSBibGVuZE1vZGUpIHtcbiAgICAgICAgICAgIGFkZFVuZG8obmV3IENQVW5kb0xheWVyTW9kZShsYXllckluZGV4LCBibGVuZE1vZGUpKTtcbiAgICAgICAgICAgIGxheWVyLnNldEJsZW5kTW9kZShibGVuZE1vZGUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgICAgICAgICBjYWxsTGlzdGVuZXJzTGF5ZXJDaGFuZ2UobGF5ZXJJbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zZXRMYXllck5hbWUgPSBmdW5jdGlvbihsYXllckluZGV4LCBuYW1lKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgbGF5ZXIgPSB0aGlzLmdldExheWVyKGxheWVySW5kZXgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGxheWVyICYmIGxheWVyLm5hbWUgIT0gbmFtZSkge1xuICAgICAgICAgICAgYWRkVW5kbyhuZXcgQ1BVbmRvTGF5ZXJSZW5hbWUobGF5ZXJJbmRleCwgbmFtZSkpO1xuICAgICAgICAgICAgbGF5ZXIubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZShsYXllckluZGV4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gQ1BCcnVzaFRvb2xCYXNlKCkge1xuICAgIH1cbiAgICBcbiAgICBDUEJydXNoVG9vbEJhc2UucHJvdG90eXBlLmJlZ2luU3Ryb2tlID0gZnVuY3Rpb24oeCwgeSwgcHJlc3N1cmUpIHtcbiAgICAgICAgcHJlcGFyZUZvckxheWVyVW5kbygpO1xuICAgICAgICB1bmRvQXJlYS5tYWtlRW1wdHkoKTtcblxuICAgICAgICBvcGFjaXR5QnVmZmVyLmNsZWFyQWxsKDApO1xuICAgICAgICBvcGFjaXR5QXJlYS5tYWtlRW1wdHkoKTtcblxuICAgICAgICBsYXN0WCA9IHg7XG4gICAgICAgIGxhc3RZID0geTtcbiAgICAgICAgbGFzdFByZXNzdXJlID0gcHJlc3N1cmU7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNyZWF0ZUFuZFBhaW50RGFiKHgsIHksIHByZXNzdXJlKTtcbiAgICB9O1xuXG4gICAgQ1BCcnVzaFRvb2xCYXNlLnByb3RvdHlwZS5jb250aW51ZVN0cm9rZSA9IGZ1bmN0aW9uKHgsIHksIHByZXNzdXJlKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKChsYXN0WCAtIHgpICogKGxhc3RYIC0geCkgKyAobGFzdFkgLSB5KSAqIChsYXN0WSAtIHkpKSksXG4gICAgICAgICAgICBzcGFjaW5nID0gTWF0aC5tYXgoY3VyQnJ1c2gubWluU3BhY2luZywgY3VyQnJ1c2guY3VyU2l6ZSAqIGN1ckJydXNoLnNwYWNpbmcpO1xuXG4gICAgICAgIGlmIChkaXN0ID4gc3BhY2luZykge1xuICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgIG54ID0gbGFzdFgsIG55ID0gbGFzdFksIG5wID0gbGFzdFByZXNzdXJlLFxuICAgICAgICAgICAgICAgIGRmID0gKHNwYWNpbmcgLSAwLjAwMSkgLyBkaXN0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciBmID0gZGY7IGYgPD0gMS4wOyBmICs9IGRmKSB7XG4gICAgICAgICAgICAgICAgbnggPSBmICogeCArICgxLjAgLSBmKSAqIGxhc3RYO1xuICAgICAgICAgICAgICAgIG55ID0gZiAqIHkgKyAoMS4wIC0gZikgKiBsYXN0WTtcbiAgICAgICAgICAgICAgICBucCA9IGYgKiBwcmVzc3VyZSArICgxLjAgLSBmKSAqIGxhc3RQcmVzc3VyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUFuZFBhaW50RGFiKG54LCBueSwgbnApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFggPSBueDtcbiAgICAgICAgICAgIGxhc3RZID0gbnk7XG4gICAgICAgICAgICBsYXN0UHJlc3N1cmUgPSBucDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDUEJydXNoVG9vbEJhc2UucHJvdG90eXBlLmVuZFN0cm9rZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB1bmRvQXJlYS5jbGlwKHRoYXQuZ2V0Qm91bmRzKCkpO1xuXG4gICAgICAgIC8vIERpZCB3ZSBlbmQgdXAgcGFpbnRpbmcgYW55dGhpbmc/XG4gICAgICAgIGlmICghdW5kb0FyZWEuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBtZXJnZU9wYWNpdHlCdWZmZXIoY3VyQ29sb3IsIGZhbHNlKTtcbiAgICAgICAgICAgIGFkZFVuZG8obmV3IENQVW5kb1BhaW50KCkpO1xuXG4gICAgICAgICAgICAvKiBFYWdlcmx5IHVwZGF0ZSB0aGUgdW5kbyBidWZmZXIgZm9yIG5leHQgdGltZSBzbyB3ZSBjYW4gYXZvaWQgdGhpcyBsZW5ndGh5XG4gICAgICAgICAgICAgKiBwcmVwYXJlIGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBwYWludCBzdHJva2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcHJlcGFyZUZvckxheWVyVW5kbygpOyBcbiAgICAgICAgfVxuICAgICAgICBicnVzaEJ1ZmZlciA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHBhaW50IGRhYiBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gdXNpbmcgdGhlIGN1cnJlbnQgYnJ1c2gsIGFuZCBwYWludCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IGZsb2F0XG4gICAgICogQHBhcmFtIHkgZmxvYXRcbiAgICAgKiBAcGFyYW0gcHJlc3N1cmUgZmxvYXRcbiAgICAgKi9cbiAgICBDUEJydXNoVG9vbEJhc2UucHJvdG90eXBlLmNyZWF0ZUFuZFBhaW50RGFiID0gZnVuY3Rpb24oeCwgeSwgcHJlc3N1cmUpIHtcbiAgICAgICAgY3VyQnJ1c2guYXBwbHlQcmVzc3VyZShwcmVzc3VyZSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoY3VyQnJ1c2guc2NhdHRlcmluZyA+IDAuMCkge1xuICAgICAgICAgICAgeCArPSBybmQubmV4dEdhdXNzaWFuKCkgKiBjdXJCcnVzaC5jdXJTY2F0dGVyaW5nIC8gNC4wO1xuICAgICAgICAgICAgeSArPSBybmQubmV4dEdhdXNzaWFuKCkgKiBjdXJCcnVzaC5jdXJTY2F0dGVyaW5nIC8gNC4wO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB2YXIgXG4gICAgICAgICAgICBkYWIgPSBicnVzaE1hbmFnZXIuZ2V0RGFiKHgsIHksIGN1ckJydXNoKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucGFpbnREYWIoZGFiKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFpbnQgYSBkYWIgcmV0dXJuZWQgYnkgYnJ1c2hNYW5hZ2VyLmdldERhYigpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGFiIHtieXRlW10gYnJ1c2g7IGludCB4LCB5LCBhbHBoYSwgd2lkdGgsIGhlaWdodH1cbiAgICAgKi9cbiAgICBDUEJydXNoVG9vbEJhc2UucHJvdG90eXBlLnBhaW50RGFiID0gZnVuY3Rpb24oZGFiKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgc3JjUmVjdCA9IG5ldyBDUFJlY3QoMCwgMCwgZGFiLndpZHRoLCBkYWIuaGVpZ2h0KSxcbiAgICAgICAgICAgIGRzdFJlY3QgPSBuZXcgQ1BSZWN0KDAsIDAsIGRhYi53aWR0aCwgZGFiLmhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICBkc3RSZWN0LnRyYW5zbGF0ZShkYWIueCwgZGFiLnkpO1xuXG4gICAgICAgIGNsaXBTb3VyY2VEZXN0KHNyY1JlY3QsIGRzdFJlY3QpO1xuXG4gICAgICAgIC8vIGRyYXdpbmcgZW50aXJlbHkgb3V0c2lkZSB0aGUgY2FudmFzXG4gICAgICAgIGlmIChkc3RSZWN0LmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdW5kb0FyZWEudW5pb24oZHN0UmVjdCk7XG4gICAgICAgIG9wYWNpdHlBcmVhLnVuaW9uKGRzdFJlY3QpO1xuXG4gICAgICAgIHRoaXMucGFpbnREYWJJbXBsZW1lbnRhdGlvbihzcmNSZWN0LCBkc3RSZWN0LCBkYWIpO1xuICAgICAgICBcbiAgICAgICAgaW52YWxpZGF0ZUZ1c2lvblJlY3QoZHN0UmVjdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gQ1BCcnVzaFRvb2xTaW1wbGVCcnVzaCgpIHtcbiAgICB9XG5cbiAgICBDUEJydXNoVG9vbFNpbXBsZUJydXNoLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BCcnVzaFRvb2xCYXNlLnByb3RvdHlwZSk7XG4gICAgQ1BCcnVzaFRvb2xTaW1wbGVCcnVzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUEJydXNoVG9vbFNpbXBsZUJydXNoOyBcbiAgICBcbiAgICBDUEJydXNoVG9vbFNpbXBsZUJydXNoLnByb3RvdHlwZS5wYWludERhYkltcGxlbWVudGF0aW9uID0gZnVuY3Rpb24oc3JjUmVjdCwgZHN0UmVjdCwgZGFiKSB7XG4gICAgICAgIC8vIEZJWE1FOiB0aGVyZSBzaG91bGQgYmUgbm8gcmVmZXJlbmNlIHRvIGEgc3BlY2lmaWMgdG9vbCBoZXJlXG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBicnVzaCBwYXJhbWV0ZXIgaW5zdGVhZFxuICAgICAgICBpZiAoY3VyQnJ1c2guaXNBaXJicnVzaCkge1xuICAgICAgICAgICAgdGhpcy5wYWludEZsb3coc3JjUmVjdCwgZHN0UmVjdCwgZGFiLmJydXNoLCBkYWIud2lkdGgsIE1hdGgubWF4KDEsIGRhYi5hbHBoYSAvIDgpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJCcnVzaC50b29sTmIgPT0gQ2hpY2tlblBhaW50LlRfUEVOKSB7XG4gICAgICAgICAgICB0aGlzLnBhaW50RmxvdyhzcmNSZWN0LCBkc3RSZWN0LCBkYWIuYnJ1c2gsIGRhYi53aWR0aCwgTWF0aC5tYXgoMSwgZGFiLmFscGhhIC8gMikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYWludE9wYWNpdHkoc3JjUmVjdCwgZHN0UmVjdCwgZGFiLmJydXNoLCBkYWIud2lkdGgsIGRhYi5hbHBoYSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ1BCcnVzaFRvb2xTaW1wbGVCcnVzaC5wcm90b3R5cGUubWVyZ2VPcGFjaXR5QnVmID0gZnVuY3Rpb24oZHN0UmVjdCwgY29sb3IgLyogaW50ICovKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIG9wYWNpdHlEYXRhID0gb3BhY2l0eUJ1ZmZlci5kYXRhLFxuICAgICAgICAgICAgdW5kb0RhdGEgPSB1bmRvQnVmZmVyLmRhdGEsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlZCA9IChjb2xvciA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgZ3JlZW4gPSAoY29sb3IgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgYmx1ZSA9IGNvbG9yICYgMHhGRixcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgd2lkdGggPSBkc3RSZWN0LmdldFdpZHRoKCkgfCAwLFxuICAgICAgICAgICAgaGVpZ2h0ID0gZHN0UmVjdC5nZXRIZWlnaHQoKSB8IDAsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRzdE9mZnNldCA9IGN1ckxheWVyLm9mZnNldE9mUGl4ZWwoZHN0UmVjdC5sZWZ0LCBkc3RSZWN0LnRvcCksXG4gICAgICAgICAgICBzcmNPZmZzZXQgPSBvcGFjaXR5QnVmZmVyLm9mZnNldE9mUGl4ZWwoZHN0UmVjdC5sZWZ0LCBkc3RSZWN0LnRvcCksXG4gICAgICAgIFxuICAgICAgICAgICAgc3JjWVN0cmlkZSA9IChvcGFjaXR5QnVmZmVyLndpZHRoIC0gd2lkdGgpIHwgMCxcbiAgICAgICAgICAgIGRzdFlTdHJpZGUgPSAoKGN1ckxheWVyLndpZHRoIC0gd2lkdGgpICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHwgMDtcblxuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrLCBzcmNPZmZzZXQgKz0gc3JjWVN0cmlkZSwgZHN0T2Zmc2V0ICs9IGRzdFlTdHJpZGUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKywgc3JjT2Zmc2V0KyssIGRzdE9mZnNldCArPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5QWxwaGEgPSAob3BhY2l0eURhdGFbc3JjT2Zmc2V0XSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChvcGFjaXR5QWxwaGEgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdEFscGhhID0gdW5kb0RhdGFbZHN0T2Zmc2V0ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0sXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TGF5ZXJBbHBoYSA9IChvcGFjaXR5QWxwaGEgKyBkZXN0QWxwaGEgKiAoMjU1IC0gb3BhY2l0eUFscGhhKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhbEFscGhhID0gKDI1NSAqIG9wYWNpdHlBbHBoYSAvIG5ld0xheWVyQWxwaGEpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhID0gMjU1IC0gcmVhbEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY3VyTGF5ZXIuZGF0YVtkc3RPZmZzZXRdID0gKChyZWQgKiByZWFsQWxwaGEgKyB1bmRvRGF0YVtkc3RPZmZzZXRdICogaW52QWxwaGEpIC8gMjU1KSAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgICAgIGN1ckxheWVyLmRhdGFbZHN0T2Zmc2V0ICsgMV0gPSAoKGdyZWVuICogcmVhbEFscGhhICsgdW5kb0RhdGFbZHN0T2Zmc2V0ICsgMV0gKiBpbnZBbHBoYSkgLyAyNTUpICYgMHhmZjtcbiAgICAgICAgICAgICAgICAgICAgY3VyTGF5ZXIuZGF0YVtkc3RPZmZzZXQgKyAyXSA9ICgoYmx1ZSAqIHJlYWxBbHBoYSArIHVuZG9EYXRhW2RzdE9mZnNldCArIDJdICogaW52QWxwaGEpIC8gMjU1KSAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgICAgIGN1ckxheWVyLmRhdGFbZHN0T2Zmc2V0ICsgM10gPSBuZXdMYXllckFscGhhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzcmNSZWN0IENQUmVjdFxuICAgICAqIEBwYXJhbSBkc3RSZWN0IENQUmVjdFxuICAgICAqIEBwYXJhbSBicnVzaCBpbnRbXVxuICAgICAqIEBwYXJhbSBicnVzaFdpZHRoIGludFxuICAgICAqIEBwYXJhbSBhbHBoYSBmbG9hdFxuICAgICAqL1xuICAgIENQQnJ1c2hUb29sU2ltcGxlQnJ1c2gucHJvdG90eXBlLnBhaW50T3BhY2l0eSA9IGZ1bmN0aW9uKHNyY1JlY3QsIGRzdFJlY3QsIGJydXNoLCBicnVzaFdpZHRoLCBhbHBoYSkge1xuICAgICAgICB2YXIgXG4gICAgICAgICAgICBvcGFjaXR5RGF0YSA9IG9wYWNpdHlCdWZmZXIuZGF0YSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3JjT2Zmc2V0ID0gc3JjUmVjdC5sZWZ0ICsgc3JjUmVjdC50b3AgKiBicnVzaFdpZHRoLFxuICAgICAgICAgICAgZHN0T2Zmc2V0ID0gb3BhY2l0eUJ1ZmZlci5vZmZzZXRPZlBpeGVsKGRzdFJlY3QubGVmdCwgZHN0UmVjdC50b3ApLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBkc3RXaWR0aCA9IGRzdFJlY3QuZ2V0V2lkdGgoKSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3JjWVN0cmlkZSA9IGJydXNoV2lkdGggLSBkc3RXaWR0aCxcbiAgICAgICAgICAgIGRzdFlTdHJpZGUgPSB0aGF0LndpZHRoIC0gZHN0V2lkdGg7XG5cbiAgICAgICAgYWxwaGEgPSBNYXRoLm1pbigyNTUsIGFscGhhKTtcblxuICAgICAgICBmb3IgKHZhciB5ID0gZHN0UmVjdC50b3A7IHkgPCBkc3RSZWN0LmJvdHRvbTsgeSsrLCBzcmNPZmZzZXQgKz0gc3JjWVN0cmlkZSwgZHN0T2Zmc2V0ICs9IGRzdFlTdHJpZGUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgZHN0V2lkdGg7IHgrKywgc3JjT2Zmc2V0KyssIGRzdE9mZnNldCsrKSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eURhdGFbZHN0T2Zmc2V0XSA9IE1hdGgubWF4KGJydXNoW3NyY09mZnNldF0gKiBhbHBoYSwgb3BhY2l0eURhdGFbZHN0T2Zmc2V0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ1BCcnVzaFRvb2xTaW1wbGVCcnVzaC5wcm90b3R5cGUucGFpbnRGbG93ID0gZnVuY3Rpb24oc3JjUmVjdCwgZHN0UmVjdCwgYnJ1c2gsIGJydXNoV2lkdGgsIGFscGhhKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIG9wYWNpdHlEYXRhID0gb3BhY2l0eUJ1ZmZlci5kYXRhLFxuXG4gICAgICAgICAgICBzcmNPZmZzZXQgPSBzcmNSZWN0LmxlZnQgKyBzcmNSZWN0LnRvcCAqIGJydXNoV2lkdGgsXG4gICAgICAgICAgICBkc3RPZmZzZXQgPSBvcGFjaXR5QnVmZmVyLm9mZnNldE9mUGl4ZWwoZHN0UmVjdC5sZWZ0LCBkc3RSZWN0LnRvcCksXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRzdFdpZHRoID0gZHN0UmVjdC5nZXRXaWR0aCgpLFxuXG4gICAgICAgICAgICBzcmNZU3RyaWRlID0gYnJ1c2hXaWR0aCAtIGRzdFdpZHRoLFxuICAgICAgICAgICAgZHN0WVN0cmlkZSA9IHRoYXQud2lkdGggLSBkc3RXaWR0aDtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIHkgPSBkc3RSZWN0LnRvcDsgeSA8IGRzdFJlY3QuYm90dG9tOyB5KyssIHNyY09mZnNldCArPSBzcmNZU3RyaWRlLCBkc3RPZmZzZXQgKz0gZHN0WVN0cmlkZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBkc3RXaWR0aDsgeCsrLCBzcmNPZmZzZXQrKywgZHN0T2Zmc2V0KyspIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgYnJ1c2hBbHBoYSA9IGJydXNoW3NyY09mZnNldF0gKiBhbHBoYTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoYnJ1c2hBbHBoYSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eUFscGhhID0gTWF0aC5taW4oMjU1ICogMjU1LCBvcGFjaXR5RGF0YVtkc3RPZmZzZXRdICsgKDI1NSAtIG9wYWNpdHlEYXRhW2RzdE9mZnNldF0gLyAyNTUpICogYnJ1c2hBbHBoYSAvIDI1NSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5RGF0YVtkc3RPZmZzZXRdID0gb3BhY2l0eUFscGhhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKkNQQnJ1c2hUb29sU2ltcGxlQnJ1c2gucHJvdG90eXBlLnBhaW50T3BhY2l0eUZsb3cgPSBmdW5jdGlvbihzcmNSZWN0LCBkc3RSZWN0LCBicnVzaCwgYnJ1c2hXaWR0aCwgb3BhY2l0eSwgZmxvdykge1xuICAgICAgICB2YXIgXG4gICAgICAgICAgICBvcGFjaXR5RGF0YSA9IG9wYWNpdHlCdWZmZXIuZGF0YSxcblxuICAgICAgICAgICAgYnkgPSBzcmNSZWN0LnRvcDtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIHkgPSBkc3RSZWN0LnRvcDsgeSA8IGRzdFJlY3QuYm90dG9tOyB5KyssIGJ5KyspIHtcbiAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICBzcmNPZmZzZXQgPSBzcmNSZWN0LmxlZnQgKyBieSAqIGJydXNoV2lkdGgsXG4gICAgICAgICAgICAgICAgZHN0T2Zmc2V0ID0gZHN0UmVjdC5sZWZ0ICsgeSAqIHdpZHRoO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gZHN0UmVjdC5sZWZ0OyB4IDwgZHN0UmVjdC5yaWdodDsgeCsrLCBzcmNPZmZzZXQrKywgZHN0T2Zmc2V0KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgICAgIGJydXNoQWxwaGEgPSBicnVzaFtzcmNPZmZzZXRdICogZmxvdztcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoYnJ1c2hBbHBoYSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eUFscGhhID0gb3BhY2l0eURhdGFbZHN0T2Zmc2V0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gTWF0aC5taW4oMjU1ICogMjU1LCBvcGFjaXR5QWxwaGEgKyAob3BhY2l0eSAtIG9wYWNpdHlBbHBoYSAvIDI1NSkgKiBicnVzaEFscGhhIC8gMjU1KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gTWF0aC5taW4ob3BhY2l0eSAqIGJydXNoW3NyY09mZnNldF0sIG5ld0FscGhhKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBbHBoYSA+IG9wYWNpdHlBbHBoYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eURhdGFbZHN0T2Zmc2V0XSA9IG5ld0FscGhhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTsqL1xuXG4gICAgZnVuY3Rpb24gQ1BCcnVzaFRvb2xFcmFzZXIoKSB7XG4gICAgfVxuICAgIFxuICAgIENQQnJ1c2hUb29sRXJhc2VyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BCcnVzaFRvb2xTaW1wbGVCcnVzaC5wcm90b3R5cGUpO1xuICAgIENQQnJ1c2hUb29sRXJhc2VyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQQnJ1c2hUb29sRXJhc2VyO1xuICAgIFxuICAgIENQQnJ1c2hUb29sRXJhc2VyLnByb3RvdHlwZS5tZXJnZU9wYWNpdHlCdWYgPSBmdW5jdGlvbihkc3RSZWN0LCBjb2xvcikge1xuICAgICAgICB2YXIgXG4gICAgICAgICAgICBvcGFjaXR5RGF0YSA9IG9wYWNpdHlCdWZmZXIuZGF0YSxcbiAgICAgICAgICAgIHVuZG9EYXRhID0gdW5kb0J1ZmZlci5kYXRhO1xuICAgIFxuICAgICAgICBmb3IgKHZhciB5ID0gZHN0UmVjdC50b3A7IHkgPCBkc3RSZWN0LmJvdHRvbTsgeSsrKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBkc3RPZmZzZXQgPSBjdXJMYXllci5vZmZzZXRPZlBpeGVsKGRzdFJlY3QubGVmdCwgeSkgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VULFxuICAgICAgICAgICAgICAgIHNyY09mZnNldCA9IG9wYWNpdHlCdWZmZXIub2Zmc2V0T2ZQaXhlbChkc3RSZWN0LmxlZnQsIHkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gZHN0UmVjdC5sZWZ0OyB4IDwgZHN0UmVjdC5yaWdodDsgeCsrLCBkc3RPZmZzZXQgKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eUFscGhhID0gKG9wYWNpdHlEYXRhW3NyY09mZnNldCsrXSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChvcGFjaXR5QWxwaGEgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdEFscGhhID0gdW5kb0RhdGFbZHN0T2Zmc2V0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxBbHBoYSA9IGRlc3RBbHBoYSAqICgyNTUgLSBvcGFjaXR5QWxwaGEpIC8gMjU1O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY3VyTGF5ZXIuZGF0YVtkc3RPZmZzZXRdID0gcmVhbEFscGhhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBDUEJydXNoVG9vbERvZGdlKCkge1xuICAgIH1cbiAgICBcbiAgICBDUEJydXNoVG9vbERvZGdlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BCcnVzaFRvb2xTaW1wbGVCcnVzaC5wcm90b3R5cGUpO1xuICAgIENQQnJ1c2hUb29sRG9kZ2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BCcnVzaFRvb2xEb2RnZTtcbiAgICBcbiAgICBDUEJydXNoVG9vbERvZGdlLnByb3RvdHlwZS5tZXJnZU9wYWNpdHlCdWYgPSBmdW5jdGlvbihkc3RSZWN0LCBjb2xvcikge1xuICAgICAgICB2YXIgXG4gICAgICAgICAgICBvcGFjaXR5RGF0YSA9IG9wYWNpdHlCdWZmZXIuZGF0YSxcbiAgICAgICAgICAgIHVuZG9EYXRhID0gdW5kb0J1ZmZlci5kYXRhO1xuICAgIFxuICAgICAgICBmb3IgKHZhciB5ID0gZHN0UmVjdC50b3A7IHkgPCBkc3RSZWN0LmJvdHRvbTsgeSsrKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBkc3RPZmZzZXQgPSBjdXJMYXllci5vZmZzZXRPZlBpeGVsKGRzdFJlY3QubGVmdCwgeSksXG4gICAgICAgICAgICAgICAgc3JjT2Zmc2V0ID0gb3BhY2l0eUJ1ZmZlci5vZmZzZXRPZlBpeGVsKGRzdFJlY3QubGVmdCwgeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAodmFyIHggPSBkc3RSZWN0LmxlZnQ7IHggPCBkc3RSZWN0LnJpZ2h0OyB4KyssIHNyY09mZnNldCsrLCBkc3RPZmZzZXQgKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eUFscGhhID0gKG9wYWNpdHlEYXRhW3NyY09mZnNldF0gLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAob3BhY2l0eUFscGhhID4gMCAmJiB1bmRvRGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHlBbHBoYSArPSAyNTU7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSAodW5kb0RhdGFbZHN0T2Zmc2V0ICsgaV0gKiBvcGFjaXR5QWxwaGEgLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbCA+IDI1NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwgPSAyNTU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxheWVyLmRhdGFbZHN0T2Zmc2V0ICsgaV0gPSBjaGFubmVsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIENQQnJ1c2hUb29sQnVybigpIHtcbiAgICB9XG4gICAgXG4gICAgQ1BCcnVzaFRvb2xCdXJuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BCcnVzaFRvb2xTaW1wbGVCcnVzaC5wcm90b3R5cGUpO1xuICAgIENQQnJ1c2hUb29sQnVybi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUEJydXNoVG9vbEJ1cm47XG4gICAgXG4gICAgQ1BCcnVzaFRvb2xCdXJuLnByb3RvdHlwZS5tZXJnZU9wYWNpdHlCdWYgPSBmdW5jdGlvbihkc3RSZWN0LCBjb2xvcikge1xuICAgICAgICB2YXIgXG4gICAgICAgICAgICBvcGFjaXR5RGF0YSA9IG9wYWNpdHlCdWZmZXIuZGF0YSxcbiAgICAgICAgICAgIHVuZG9EYXRhID0gdW5kb0J1ZmZlci5kYXRhO1xuICAgIFxuICAgICAgICBmb3IgKHZhciB5ID0gZHN0UmVjdC50b3A7IHkgPCBkc3RSZWN0LmJvdHRvbTsgeSsrKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBkc3RPZmZzZXQgPSBjdXJMYXllci5vZmZzZXRPZlBpeGVsKGRzdFJlY3QubGVmdCwgeSksXG4gICAgICAgICAgICAgICAgc3JjT2Zmc2V0ID0gb3BhY2l0eUJ1ZmZlci5vZmZzZXRPZlBpeGVsKGRzdFJlY3QubGVmdCwgeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAodmFyIHggPSBkc3RSZWN0LmxlZnQ7IHggPCBkc3RSZWN0LnJpZ2h0OyB4KyssIHNyY09mZnNldCsrLCBkc3RPZmZzZXQgKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eUFscGhhID0gKG9wYWNpdHlEYXRhW3NyY09mZnNldF0gLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAob3BhY2l0eUFscGhhID4gMCAmJiB1bmRvRGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhbm5lbCA9IHVuZG9EYXRhW2RzdE9mZnNldCArIGldO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsID0gKGNoYW5uZWwgLSAoQlVSTl9DT05TVEFOVCAtIGNoYW5uZWwpICogb3BhY2l0eUFscGhhIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxheWVyLmRhdGFbZHN0T2Zmc2V0ICsgaV0gPSBjaGFubmVsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBmdW5jdGlvbiBDUEJydXNoVG9vbEJsdXIoKSB7XG4gICAgfVxuICAgIFxuICAgIENQQnJ1c2hUb29sQmx1ci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQQnJ1c2hUb29sU2ltcGxlQnJ1c2gucHJvdG90eXBlKTtcbiAgICBDUEJydXNoVG9vbEJsdXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BCcnVzaFRvb2xCbHVyO1xuXG4gICAgQ1BCcnVzaFRvb2xCbHVyLnByb3RvdHlwZS5tZXJnZU9wYWNpdHlCdWYgPSBmdW5jdGlvbihkc3RSZWN0LCBjb2xvcikge1xuICAgICAgICB2YXIgXG4gICAgICAgICAgICBvcGFjaXR5RGF0YSA9IG9wYWNpdHlCdWZmZXIuZGF0YSxcbiAgICAgICAgICAgIHVuZG9EYXRhID0gdW5kb0J1ZmZlci5kYXRhLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBkc3RZU3RyaWRlID0gdW5kb0J1ZmZlci53aWR0aCAqIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICByLCBnLCBiLCBhO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFkZFNhbXBsZShzYW1wbGVPZmZzZXQpIHtcbiAgICAgICAgICAgIHIgKz0gdW5kb0RhdGFbc2FtcGxlT2Zmc2V0ICsgQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgZyArPSB1bmRvRGF0YVtzYW1wbGVPZmZzZXQgKyBDUENvbG9yQm1wLkdSRUVOX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgIGIgKz0gdW5kb0RhdGFbc2FtcGxlT2Zmc2V0ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgIGEgKz0gdW5kb0RhdGFbc2FtcGxlT2Zmc2V0ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIHkgPSBkc3RSZWN0LnRvcDsgeSA8IGRzdFJlY3QuYm90dG9tOyB5KyspIHtcbiAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICBkc3RPZmZzZXQgPSB1bmRvQnVmZmVyLm9mZnNldE9mUGl4ZWwoZHN0UmVjdC5sZWZ0LCB5KSxcbiAgICAgICAgICAgICAgICBzcmNPZmZzZXQgPSBvcGFjaXR5QnVmZmVyLm9mZnNldE9mUGl4ZWwoZHN0UmVjdC5sZWZ0LCB5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgeCA9IGRzdFJlY3QubGVmdDsgeCA8IGRzdFJlY3QucmlnaHQ7IHgrKywgZHN0T2Zmc2V0ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMLCBzcmNPZmZzZXQrKykge1xuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eUFscGhhID0gKG9wYWNpdHlEYXRhW3NyY09mZnNldF0gLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAob3BhY2l0eUFscGhhID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsdXIgPSAoQkxVUl9NSU4gKyAoQkxVUl9NQVggLSBCTFVSX01JTikgKiBvcGFjaXR5QWxwaGEgLyAyNTUpIHwgMCxcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3VtID0gYmx1ciArIDQ7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICByID0gYmx1ciAqIHVuZG9EYXRhW2RzdE9mZnNldCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICAgICAgZyA9IGJsdXIgKiB1bmRvRGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkdSRUVOX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICAgICAgYiA9IGJsdXIgKiB1bmRvRGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICBhID0gYmx1ciAqIHVuZG9EYXRhW2RzdE9mZnNldCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGFkZFNhbXBsZSh5ID4gMCA/IGRzdE9mZnNldCAtIGRzdFlTdHJpZGUgOiBkc3RPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBhZGRTYW1wbGUoeSA8IHVuZG9CdWZmZXIuaGVpZ2h0IC0gMSA/IGRzdE9mZnNldCArIGRzdFlTdHJpZGUgOiBkc3RPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBhZGRTYW1wbGUoeCA+IDAgPyBkc3RPZmZzZXQgLSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCA6IGRzdE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNhbXBsZSh4IDwgdW5kb0J1ZmZlci53aWR0aCAtIDEgPyBkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCA6IGRzdE9mZnNldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgYSAvPSBzdW07XG4gICAgICAgICAgICAgICAgICAgIHIgLz0gc3VtO1xuICAgICAgICAgICAgICAgICAgICBnIC89IHN1bTtcbiAgICAgICAgICAgICAgICAgICAgYiAvPSBzdW07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjdXJMYXllci5kYXRhW2RzdE9mZnNldCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXSA9IHIgfCAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJMYXllci5kYXRhW2RzdE9mZnNldCArIENQQ29sb3JCbXAuR1JFRU5fQllURV9PRkZTRVRdID0gZyB8IDA7XG4gICAgICAgICAgICAgICAgICAgIGN1ckxheWVyLmRhdGFbZHN0T2Zmc2V0ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXSA9IGIgfCAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJMYXllci5kYXRhW2RzdE9mZnNldCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdID0gYSB8IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8qIEJydXNoZXMgZGVyaXZlZCBmcm9tIHRoaXMgY2xhc3MgdXNlIHRoZSBvcGFjaXR5IGJ1ZmZlciBhcyBhIHNpbXBsZSBhbHBoYSBsYXllciAoMzItYml0IHBpeGVscyBpbiBBUkdCIG9yZGVyKSAqL1xuICAgIGZ1bmN0aW9uIENQQnJ1c2hUb29sRGlyZWN0QnJ1c2goKSB7XG4gICAgfVxuICAgIFxuICAgIENQQnJ1c2hUb29sRGlyZWN0QnJ1c2gucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUEJydXNoVG9vbFNpbXBsZUJydXNoLnByb3RvdHlwZSk7XG4gICAgQ1BCcnVzaFRvb2xEaXJlY3RCcnVzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUEJydXNoVG9vbERpcmVjdEJydXNoO1xuXG4gICAgQ1BCcnVzaFRvb2xEaXJlY3RCcnVzaC5wcm90b3R5cGUubWVyZ2VPcGFjaXR5QnVmID0gZnVuY3Rpb24oZHN0UmVjdCwgY29sb3IpIHtcbiAgICAgICAgdmFyIFxuICAgICAgICAgICAgb3BhY2l0eURhdGEgPSBvcGFjaXR5QnVmZmVyLmRhdGEsXG4gICAgICAgICAgICB1bmRvRGF0YSA9IHVuZG9CdWZmZXIuZGF0YSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3JjT2Zmc2V0ID0gb3BhY2l0eUJ1ZmZlci5vZmZzZXRPZlBpeGVsKGRzdFJlY3QubGVmdCwgZHN0UmVjdC50b3ApLFxuICAgICAgICAgICAgZHN0T2Zmc2V0ID0gY3VyTGF5ZXIub2Zmc2V0T2ZQaXhlbChkc3RSZWN0LmxlZnQsIGRzdFJlY3QudG9wKSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgd2lkdGggPSBkc3RSZWN0LmdldFdpZHRoKCkgfCAwLFxuICAgICAgICAgICAgaGVpZ2h0ID0gZHN0UmVjdC5nZXRIZWlnaHQoKSB8IDAsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNyY1lTdHJpZGUgPSAob3BhY2l0eUJ1ZmZlci53aWR0aCAtIHdpZHRoKSB8IDAsXG4gICAgICAgICAgICBkc3RZU3RyaWRlID0gKChjdXJMYXllci53aWR0aCAtIHdpZHRoKSAqIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMKSB8IDA7XG5cbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKywgc3JjT2Zmc2V0ICs9IHNyY1lTdHJpZGUsIGRzdE9mZnNldCArPSBkc3RZU3RyaWRlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHdpZHRoOyB4KyssIHNyY09mZnNldCsrLCBkc3RPZmZzZXQgKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gb3BhY2l0eURhdGFbc3JjT2Zmc2V0XSxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gY29sb3IxID4+PiAyNDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoYWxwaGExID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAvLyBQcmV0dHkgc3VyZSBmdXNpb24uYWxwaGEgaXMgYWx3YXlzIDEwMCBhbmQgdGhlIGNvbW1lbnRlZCBzZWN0aW9uIGlzIGEgY29weS9wYXN0ZSBlcnJvclxuICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSB1bmRvRGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSAvKiAqIGZ1c2lvbi5hbHBoYSAvIDEwMCAqLywgXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChuZXdBbHBoYSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFsQWxwaGEgPSAoYWxwaGExICogMjU1IC8gbmV3QWxwaGEpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhID0gMjU1IC0gcmVhbEFscGhhO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY3VyTGF5ZXIuZGF0YVtkc3RPZmZzZXRdID0gKCgoKGNvbG9yMSA+PiAxNikgJiAweEZGKSAqIHJlYWxBbHBoYSArIHVuZG9EYXRhW2RzdE9mZnNldF0gKiBpbnZBbHBoYSkgLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgY3VyTGF5ZXIuZGF0YVtkc3RPZmZzZXQgKyAxXSA9ICgoKChjb2xvcjEgPj4gOCkgJiAweEZGKSAqIHJlYWxBbHBoYSArIHVuZG9EYXRhW2RzdE9mZnNldCArIDFdICogaW52QWxwaGEpIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIGN1ckxheWVyLmRhdGFbZHN0T2Zmc2V0ICsgMl0gPSAoKChjb2xvcjEgJiAweEZGKSAqIHJlYWxBbHBoYSArIHVuZG9EYXRhW2RzdE9mZnNldCArIDJdICogaW52QWxwaGEpIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIGN1ckxheWVyLmRhdGFbZHN0T2Zmc2V0ICsgM10gPSBuZXdBbHBoYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGZ1bmN0aW9uIENQQnJ1c2hUb29sV2F0ZXJjb2xvcigpIHtcbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIFdDTUVNT1JZID0gNTAsXG4gICAgICAgICAgICBXWE1BWFNBTVBMRVJBRElVUyA9IDY0O1xuXG4gICAgICAgIHZhclxuICAgICAgICAgICAgcHJldmlvdXNTYW1wbGVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF2ZXJhZ2Ugb3V0IGEgYnVuY2ggb2Ygc2FtcGxlcyBhcm91bmQgdGhlIGdpdmVuIHBpeGVsICh4LCB5KS5cbiAgICAgICAgICogXG4gICAgICAgICAqIGR4LCBkeSBjb250cm9scyB0aGUgc3ByZWFkIG9mIHRoZSBzYW1wbGVzLlxuICAgICAgICAgKiBcbiAgICAgICAgICogQHJldHVybnMgQ1BDb2xvckZsb2F0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzYW1wbGVDb2xvcih4LCB5LCBkeCwgZHkpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIHNhbXBsZXMgPSBbXSxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsYXllclRvU2FtcGxlID0gc2FtcGxlQWxsTGF5ZXJzID8gZnVzaW9uIDogdGhhdC5nZXRBY3RpdmVMYXllcigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB4ID0geCB8IDA7XG4gICAgICAgICAgICB5ID0geSB8IDA7XG5cbiAgICAgICAgICAgIHNhbXBsZXMucHVzaChDUENvbG9yRmxvYXQuY3JlYXRlRnJvbUludChsYXllclRvU2FtcGxlLmdldFBpeGVsKHgsIHkpKSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIHIgPSAwLjI1OyByIDwgMS4wMDE7IHIgKz0gLjI1KSB7XG4gICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKENQQ29sb3JGbG9hdC5jcmVhdGVGcm9tSW50KGxheWVyVG9TYW1wbGUuZ2V0UGl4ZWwofn4oeCArIHIgKiBkeCksIHkpKSk7XG4gICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKENQQ29sb3JGbG9hdC5jcmVhdGVGcm9tSW50KGxheWVyVG9TYW1wbGUuZ2V0UGl4ZWwofn4oeCAtIHIgKiBkeCksIHkpKSk7XG4gICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKENQQ29sb3JGbG9hdC5jcmVhdGVGcm9tSW50KGxheWVyVG9TYW1wbGUuZ2V0UGl4ZWwoeCwgfn4oeSArIHIgKiBkeSkpKSk7XG4gICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKENQQ29sb3JGbG9hdC5jcmVhdGVGcm9tSW50KGxheWVyVG9TYW1wbGUuZ2V0UGl4ZWwoeCwgfn4oeSAtIHIgKiBkeSkpKSk7XG5cbiAgICAgICAgICAgICAgICBzYW1wbGVzLnB1c2goQ1BDb2xvckZsb2F0LmNyZWF0ZUZyb21JbnQobGF5ZXJUb1NhbXBsZS5nZXRQaXhlbCh+fih4ICsgciAqIDAuNyAqIGR4KSwgfn4oeSArIHIgKiAwLjcgKiBkeSkpKSk7XG4gICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKENQQ29sb3JGbG9hdC5jcmVhdGVGcm9tSW50KGxheWVyVG9TYW1wbGUuZ2V0UGl4ZWwofn4oeCArIHIgKiAwLjcgKiBkeCksIH5+KHkgLSByICogMC43ICogZHkpKSkpO1xuICAgICAgICAgICAgICAgIHNhbXBsZXMucHVzaChDUENvbG9yRmxvYXQuY3JlYXRlRnJvbUludChsYXllclRvU2FtcGxlLmdldFBpeGVsKH5+KHggLSByICogMC43ICogZHgpLCB+fih5ICsgciAqIDAuNyAqIGR5KSkpKTtcbiAgICAgICAgICAgICAgICBzYW1wbGVzLnB1c2goQ1BDb2xvckZsb2F0LmNyZWF0ZUZyb21JbnQobGF5ZXJUb1NhbXBsZS5nZXRQaXhlbCh+fih4IC0gciAqIDAuNyAqIGR4KSwgfn4oeSAtIHIgKiAwLjcgKiBkeSkpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGF2ZXJhZ2UgPSBuZXcgQ1BDb2xvckZsb2F0KDAsIDAsIDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlID0gc2FtcGxlc1tpXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhdmVyYWdlLnIgKz0gc2FtcGxlLnI7XG4gICAgICAgICAgICAgICAgYXZlcmFnZS5nICs9IHNhbXBsZS5nO1xuICAgICAgICAgICAgICAgIGF2ZXJhZ2UuYiArPSBzYW1wbGUuYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXZlcmFnZS5yIC89IHNhbXBsZXMubGVuZ3RoO1xuICAgICAgICAgICAgYXZlcmFnZS5nIC89IHNhbXBsZXMubGVuZ3RoO1xuICAgICAgICAgICAgYXZlcmFnZS5iIC89IHNhbXBsZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICByZXR1cm4gYXZlcmFnZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQmxlbmQgdGhlIGJydXNoIHN0cm9rZSB3aXRoIGZ1bGwgY29sb3IgaW50byB0aGUgb3BhY2l0eUJ1ZmZlclxuICAgICAgICBmdW5jdGlvbiBwYWludERpcmVjdChzcmNSZWN0LCBkc3RSZWN0LCBicnVzaCwgYnJ1c2hXaWR0aCwgYWxwaGEsIGNvbG9yMSkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgb3BhY2l0eURhdGEgPSBvcGFjaXR5QnVmZmVyLmRhdGEsXG5cbiAgICAgICAgICAgICAgICBieSA9IHNyY1JlY3QudG9wO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciB5ID0gZHN0UmVjdC50b3A7IHkgPCBkc3RSZWN0LmJvdHRvbTsgeSsrLCBieSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIHNyY09mZnNldCA9IHNyY1JlY3QubGVmdCArIGJ5ICogYnJ1c2hXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgZHN0T2Zmc2V0ID0gb3BhY2l0eUJ1ZmZlci5vZmZzZXRPZlBpeGVsKGRzdFJlY3QubGVmdCwgeSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IGRzdFJlY3QubGVmdDsgeCA8IGRzdFJlY3QucmlnaHQ7IHgrKywgc3JjT2Zmc2V0KyssIGRzdE9mZnNldCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoYnJ1c2hbc3JjT2Zmc2V0XSAmIDB4ZmYpICogYWxwaGEgLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IG9wYWNpdHlEYXRhW2RzdE9mZnNldF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBjb2xvcjIgPj4+IDI0LFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdBbHBoYSA9IChhbHBoYTEgKyBhbHBoYTIgLSBhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBbHBoYSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFsQWxwaGEgPSAoYWxwaGExICogMjU1IC8gbmV3QWxwaGEpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYSA9IDI1NSAtIHJlYWxBbHBoYTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHVzdWFsIGFscGhhIGJsZW5kaW5nIGZvcm11bGEgQyA9IEEgKiBhbHBoYSArIEIgKiAoMSAtIGFscGhhKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFzIHRvIHJld3JpdHRlbiBpbiB0aGUgZm9ybSBDID0gQSArICgxIC0gYWxwaGEpICogQiAtICgxIC0gYWxwaGEpICpBXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGF0IHdheSB0aGUgcm91bmRpbmcgdXAgZXJyb3JzIHdvbid0IGNhdXNlIHByb2JsZW1zXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb2xvciA9IG5ld0FscGhhIDw8IDI0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKChjb2xvcjEgPj4+IDE2ICYgMHhmZikgKyAoKChjb2xvcjIgPj4+IDE2ICYgMHhmZikgKiBpbnZBbHBoYSAtIChjb2xvcjEgPj4+IDE2ICYgMHhmZikgKiBpbnZBbHBoYSkgLyAyNTUpKSA8PCAxNlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICgoY29sb3IxID4+PiA4ICYgMHhmZikgKyAoKChjb2xvcjIgPj4+IDggJiAweGZmKSAqIGludkFscGhhIC0gKGNvbG9yMSA+Pj4gOCAmIDB4ZmYpICogaW52QWxwaGEpIC8gMjU1KSkgPDwgOFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICgoY29sb3IxICYgMHhmZikgKyAoKChjb2xvcjIgJiAweGZmKSAqIGludkFscGhhIC0gKGNvbG9yMSAmIDB4ZmYpICogaW52QWxwaGEpIC8gMjU1KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHlEYXRhW2RzdE9mZnNldF0gPSBuZXdDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5iZWdpblN0cm9rZSA9IGZ1bmN0aW9uKHgsIHksIHByZXNzdXJlKSB7XG4gICAgICAgICAgICBwcmV2aW91c1NhbXBsZXMgPSBudWxsO1xuXG4gICAgICAgICAgICBDUEJydXNoVG9vbERpcmVjdEJydXNoLnByb3RvdHlwZS5iZWdpblN0cm9rZS5jYWxsKHRoaXMsIHgsIHksIHByZXNzdXJlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnBhaW50RGFiSW1wbGVtZW50YXRpb24gPSBmdW5jdGlvbihzcmNSZWN0LCBkc3RSZWN0LCBkYWIpIHtcbiAgICAgICAgICAgIGlmIChwcmV2aW91c1NhbXBsZXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFNlZWQgdGhlIHByZXZpb3VzU2FtcGxlcyBsaXN0IHRvIGNhcGFjaXR5IHdpdGggYSBidW5jaCBvZiBjb3BpZXMgb2Ygb25lIHNhbXBsZSB0byBnZXQgdXMgc3RhcnRlZFxuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDb2xvciA9IHNhbXBsZUNvbG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgfn4oKGRzdFJlY3QubGVmdCArIGRzdFJlY3QucmlnaHQpIC8gMiksXG4gICAgICAgICAgICAgICAgICAgICAgICB+figoZHN0UmVjdC50b3AgKyBkc3RSZWN0LmJvdHRvbSkgLyAyKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCgxLCBNYXRoLm1pbihXWE1BWFNBTVBMRVJBRElVUywgZHN0UmVjdC5nZXRXaWR0aCgpICogMiAvIDYpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCgxLCBNYXRoLm1pbihXWE1BWFNBTVBMRVJBRElVUywgZHN0UmVjdC5nZXRIZWlnaHQoKSAqIDIgLyA2KSlcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHByZXZpb3VzU2FtcGxlcyA9IFtdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgV0NNRU1PUlk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1NhbXBsZXMucHVzaChzdGFydENvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICB3Y0NvbG9yID0gbmV3IENQQ29sb3JGbG9hdCgwLCAwLCAwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmV2aW91c1NhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlID0gcHJldmlvdXNTYW1wbGVzW2ldO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHdjQ29sb3IuciArPSBzYW1wbGUucjtcbiAgICAgICAgICAgICAgICB3Y0NvbG9yLmcgKz0gc2FtcGxlLmc7XG4gICAgICAgICAgICAgICAgd2NDb2xvci5iICs9IHNhbXBsZS5iO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2NDb2xvci5yIC89IHByZXZpb3VzU2FtcGxlcy5sZW5ndGg7XG4gICAgICAgICAgICB3Y0NvbG9yLmcgLz0gcHJldmlvdXNTYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHdjQ29sb3IuYiAvPSBwcmV2aW91c1NhbXBsZXMubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyByZXNhdHVyYXRpb25cbiAgICAgICAgICAgIHdjQ29sb3IubWl4V2l0aChDUENvbG9yRmxvYXQuY3JlYXRlRnJvbUludChjdXJDb2xvciksIGN1ckJydXNoLnJlc2F0ICogY3VyQnJ1c2gucmVzYXQpO1xuXG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBuZXdDb2xvciA9IHdjQ29sb3IudG9JbnQoKTtcblxuICAgICAgICAgICAgLy8gYmxlZWRcbiAgICAgICAgICAgIHdjQ29sb3IubWl4V2l0aChcbiAgICAgICAgICAgICAgICBzYW1wbGVDb2xvcihcbiAgICAgICAgICAgICAgICAgICAgKGRzdFJlY3QubGVmdCArIGRzdFJlY3QucmlnaHQpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgKGRzdFJlY3QudG9wICsgZHN0UmVjdC5ib3R0b20pIC8gMixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoMSwgTWF0aC5taW4oV1hNQVhTQU1QTEVSQURJVVMsIGRzdFJlY3QuZ2V0V2lkdGgoKSAqIDIgLyA2KSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDEsIE1hdGgubWluKFdYTUFYU0FNUExFUkFESVVTLCBkc3RSZWN0LmdldEhlaWdodCgpICogMiAvIDYpKVxuICAgICAgICAgICAgICAgICksIFxuICAgICAgICAgICAgICAgIGN1ckJydXNoLmJsZWVkXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBwcmV2aW91c1NhbXBsZXMucHVzaCh3Y0NvbG9yKTtcbiAgICAgICAgICAgIHByZXZpb3VzU2FtcGxlcy5zaGlmdCgpO1xuXG4gICAgICAgICAgICBwYWludERpcmVjdChzcmNSZWN0LCBkc3RSZWN0LCBkYWIuYnJ1c2gsIGRhYi53aWR0aCwgTWF0aC5tYXgoMSwgZGFiLmFscGhhIC8gNCksIG5ld0NvbG9yKTtcbiAgICAgICAgICAgIG1lcmdlT3BhY2l0eUJ1ZmZlcigwLCBmYWxzZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChzYW1wbGVBbGxMYXllcnMpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmZ1c2lvbkxheWVycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBDUEJydXNoVG9vbFdhdGVyY29sb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUEJydXNoVG9vbERpcmVjdEJydXNoLnByb3RvdHlwZSk7XG4gICAgQ1BCcnVzaFRvb2xXYXRlcmNvbG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQQnJ1c2hUb29sV2F0ZXJjb2xvcjtcbiAgICBcbiAgICBmdW5jdGlvbiBDUEJydXNoVG9vbE9pbCgpIHtcblxuICAgICAgICBmdW5jdGlvbiBvaWxBY2N1bUJ1ZmZlcihzcmNSZWN0LCBkc3RSZWN0LCBidWZmZXIsIHcsIGFscGhhKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBsYXllclRvU2FtcGxlID0gc2FtcGxlQWxsTGF5ZXJzID8gZnVzaW9uIDogdGhhdC5nZXRBY3RpdmVMYXllcigpLFxuXG4gICAgICAgICAgICAgICAgYnkgPSBzcmNSZWN0LnRvcDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgeSA9IGRzdFJlY3QudG9wOyB5IDwgZHN0UmVjdC5ib3R0b207IHkrKywgYnkrKykge1xuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgc3JjT2Zmc2V0ID0gc3JjUmVjdC5sZWZ0ICsgYnkgKiB3LFxuICAgICAgICAgICAgICAgICAgICBkc3RPZmZzZXQgPSBsYXllclRvU2FtcGxlLm9mZnNldE9mUGl4ZWwoZHN0UmVjdC5sZWZ0LCB5KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gZHN0UmVjdC5sZWZ0OyB4IDwgZHN0UmVjdC5yaWdodDsgeCsrLCBzcmNPZmZzZXQrKywgZHN0T2Zmc2V0ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKGxheWVyVG9TYW1wbGUuZGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSAqIGFscGhhIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBidWZmZXJbc3JjT2Zmc2V0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGNvbG9yMiA+Pj4gMjQsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0FscGhhID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxBbHBoYSA9IChhbHBoYTEgKiAyNTUgLyBuZXdBbHBoYSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhID0gMjU1IC0gcmVhbEFscGhhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMVJlZCA9IGxheWVyVG9TYW1wbGUuZGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxR3JlZW4gPSBsYXllclRvU2FtcGxlLmRhdGFbZHN0T2Zmc2V0ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxQmx1ZSA9IGxheWVyVG9TYW1wbGUuZGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3IgPSBuZXdBbHBoYSA8PCAyNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IChjb2xvcjFSZWQgKyAoKChjb2xvcjIgPj4+IDE2ICYgMHhmZikgKiBpbnZBbHBoYSAtIGNvbG9yMVJlZCAqIGludkFscGhhKSAvIDI1NSkpIDw8IDE2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKGNvbG9yMUdyZWVuICsgKCgoY29sb3IyID4+PiA4ICYgMHhmZikgKiBpbnZBbHBoYSAtIGNvbG9yMUdyZWVuICogaW52QWxwaGEpIC8gMjU1KSkgPDwgOFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IChjb2xvcjFCbHVlICsgKCgoY29sb3IyICYgMHhmZikgKiBpbnZBbHBoYSAtIGNvbG9yMUJsdWUgKiBpbnZBbHBoYSkgLyAyNTUpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyW3NyY09mZnNldF0gPSBuZXdDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9pbFJlc2F0QnVmZmVyKHNyY1JlY3QsIGRzdFJlY3QsIGJ1ZmZlciwgdywgYWxwaGExLCBjb2xvcjEpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGJ5ID0gc3JjUmVjdC50b3A7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhbHBoYTEgPD0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgeSA9IGRzdFJlY3QudG9wOyB5IDwgZHN0UmVjdC5ib3R0b207IHkrKywgYnkrKykge1xuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgc3JjT2Zmc2V0ID0gc3JjUmVjdC5sZWZ0ICsgYnkgKiB3O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSBkc3RSZWN0LmxlZnQ7IHggPCBkc3RSZWN0LnJpZ2h0OyB4KyssIHNyY09mZnNldCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gYnVmZmVyW3NyY09mZnNldF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSAoY29sb3IyID4+PiAyNCksXG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdBbHBoYSA9IChhbHBoYTEgKyBhbHBoYTIgLSBhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBbHBoYSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFsQWxwaGEgPSAoYWxwaGExICogMjU1IC8gbmV3QWxwaGEpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYSA9IDI1NSAtIHJlYWxBbHBoYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb2xvciA9IG5ld0FscGhhIDw8IDI0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKChjb2xvcjEgPj4+IDE2ICYgMHhmZikgKyAoKChjb2xvcjIgPj4+IDE2ICYgMHhmZikgKiBpbnZBbHBoYSAtIChjb2xvcjEgPj4+IDE2ICYgMHhmZikgKiBpbnZBbHBoYSkgLyAyNTUpKSA8PCAxNlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICgoY29sb3IxID4+PiA4ICYgMHhmZikgKyAoKChjb2xvcjIgPj4+IDggJiAweGZmKSAqIGludkFscGhhIC0gKGNvbG9yMSA+Pj4gOCAmIDB4ZmYpICogaW52QWxwaGEpIC8gMjU1KSkgPDwgOFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICgoY29sb3IxICYgMHhmZikgKyAoKChjb2xvcjIgJiAweGZmKSAqIGludkFscGhhIC0gKGNvbG9yMSAmIDB4ZmYpICogaW52QWxwaGEpIC8gMjU1KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcltzcmNPZmZzZXRdID0gbmV3Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvaWxQYXN0ZUJ1ZmZlcihzcmNSZWN0LCBkc3RSZWN0LCBidWZmZXIsIGJydXNoLCB3LCBhbHBoYSkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgb3BhY2l0eURhdGEgPSBvcGFjaXR5QnVmZmVyLmRhdGEsXG4gICAgXG4gICAgICAgICAgICAgICAgYnkgPSBzcmNSZWN0LnRvcDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgeSA9IGRzdFJlY3QudG9wOyB5IDwgZHN0UmVjdC5ib3R0b207IHkrKywgYnkrKykge1xuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyT2Zmc2V0ID0gc3JjUmVjdC5sZWZ0ICsgYnkgKiB3LCAvLyBCcnVzaCBidWZmZXIgaXMgMSBpbnRlZ2VyIHBlciBwaXhlbFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5T2Zmc2V0ID0gZHN0UmVjdC5sZWZ0ICsgeSAqIHRoYXQud2lkdGgsIC8vIE9wYWNpdHkgYnVmZmVyIGlzIDEgaW50ZWdlciBwZXIgcGl4ZWxcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJPZmZzZXQgPSBjdXJMYXllci5vZmZzZXRPZlBpeGVsKGRzdFJlY3QubGVmdCwgeSk7IC8vIDQgYnl0ZXMgcGVyIHBpeGVsIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSBkc3RSZWN0LmxlZnQ7IHggPCBkc3RSZWN0LnJpZ2h0OyB4KyssIGJ1ZmZlck9mZnNldCsrLCBsYXllck9mZnNldCArPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCwgb3BhY2l0eU9mZnNldCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGJ1ZmZlcltidWZmZXJPZmZzZXRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKChjb2xvcjEgPj4+IDI0KSAqIChicnVzaFtidWZmZXJPZmZzZXRdICYgMHhmZikgKiBhbHBoYSAvICgyNTUgKiAyNTUpKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBjdXJMYXllci5kYXRhW2xheWVyT2Zmc2V0ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0FscGhhID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMlJlZCA9IGN1ckxheWVyLmRhdGFbbGF5ZXJPZmZzZXQgKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyR3JlZW4gPSBjdXJMYXllci5kYXRhW2xheWVyT2Zmc2V0ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyQmx1ZSA9IGN1ckxheWVyLmRhdGFbbGF5ZXJPZmZzZXQgKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxBbHBoYSA9IChhbHBoYTEgKiAyNTUgLyBuZXdBbHBoYSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhID0gMjU1IC0gcmVhbEFscGhhLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3IgPSBuZXdBbHBoYSA8PCAyNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICgoY29sb3IxID4+PiAxNiAmIDB4ZmYpICsgKChjb2xvcjJSZWQgKiBpbnZBbHBoYSAtIChjb2xvcjEgPj4+IDE2ICYgMHhmZikgKiBpbnZBbHBoYSkgLyAyNTUpKSA8PCAxNlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICgoY29sb3IxID4+PiA4ICYgMHhmZikgKyAoKGNvbG9yMkdyZWVuICogaW52QWxwaGEgLSAoY29sb3IxID4+PiA4ICYgMHhmZikgKiBpbnZBbHBoYSkgLyAyNTUpKSA8PCA4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKChjb2xvcjEgJiAweGZmKSArICgoY29sb3IyQmx1ZSAqIGludkFscGhhIC0gKGNvbG9yMSAmIDB4ZmYpICogaW52QWxwaGEpIC8gMjU1KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHlEYXRhW29wYWNpdHlPZmZzZXRdID0gbmV3Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMucGFpbnREYWJJbXBsZW1lbnRhdGlvbiA9IGZ1bmN0aW9uKHNyY1JlY3QsIGRzdFJlY3QsIGRhYikge1xuICAgICAgICAgICAgaWYgKGJydXNoQnVmZmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBicnVzaEJ1ZmZlciA9IG5ldyBVaW50MzJBcnJheShkYWIud2lkdGggKiBkYWIuaGVpZ2h0KTsgLy8gSW5pdGlhbGl6ZWQgdG8gMCBmb3IgdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBvaWxBY2N1bUJ1ZmZlcihzcmNSZWN0LCBkc3RSZWN0LCBicnVzaEJ1ZmZlciwgZGFiLndpZHRoLCAyNTUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvaWxSZXNhdEJ1ZmZlcihzcmNSZWN0LCBkc3RSZWN0LCBicnVzaEJ1ZmZlciwgZGFiLndpZHRoLCB+figoY3VyQnJ1c2gucmVzYXQgPD0gMC4wKSA/IDAgOiBNYXRoLm1heCgxLCAoY3VyQnJ1c2gucmVzYXQgKiBjdXJCcnVzaC5yZXNhdCkgKiAyNTUpKSwgY3VyQ29sb3IgJiAweEZGRkZGRik7XG4gICAgICAgICAgICAgICAgb2lsUGFzdGVCdWZmZXIoc3JjUmVjdCwgZHN0UmVjdCwgYnJ1c2hCdWZmZXIsIGRhYi5icnVzaCwgZGFiLndpZHRoLCBkYWIuYWxwaGEpO1xuICAgICAgICAgICAgICAgIG9pbEFjY3VtQnVmZmVyKHNyY1JlY3QsIGRzdFJlY3QsIGJydXNoQnVmZmVyLCBkYWIud2lkdGgsIH5+KGN1ckJydXNoLmJsZWVkICogMjU1KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG1lcmdlT3BhY2l0eUJ1ZmZlcigwLCBmYWxzZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChzYW1wbGVBbGxMYXllcnMpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmZ1c2lvbkxheWVycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBDUEJydXNoVG9vbE9pbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQQnJ1c2hUb29sRGlyZWN0QnJ1c2gucHJvdG90eXBlKTtcbiAgICBDUEJydXNoVG9vbE9pbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUEJydXNoVG9vbE9pbDtcbiAgICBcbiAgICBmdW5jdGlvbiBDUEJydXNoVG9vbFNtdWRnZSgpIHtcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIHNyY1JlY3RcbiAgICAgICAgICogQHBhcmFtIGRzdFJlY3RcbiAgICAgICAgICogQHBhcmFtIGJ1ZmZlciBVaW50MzJBcnJheVxuICAgICAgICAgKiBAcGFyYW0gdyBpbnRcbiAgICAgICAgICogQHBhcmFtIGFscGhhIGludFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc211ZGdlQWNjdW1CdWZmZXIoc3JjUmVjdCwgZHN0UmVjdCwgYnVmZmVyLCB3LCBhbHBoYSkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgbGF5ZXJUb1NhbXBsZSA9IHNhbXBsZUFsbExheWVycyA/IGZ1c2lvbiA6IHRoYXQuZ2V0QWN0aXZlTGF5ZXIoKSxcblxuICAgICAgICAgICAgICAgIGJ5ID0gc3JjUmVjdC50b3A7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSBkc3RSZWN0LnRvcDsgeSA8IGRzdFJlY3QuYm90dG9tOyB5KyssIGJ5KyspIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgc3JjT2Zmc2V0ID0gc3JjUmVjdC5sZWZ0ICsgYnkgKiB3LFxuICAgICAgICAgICAgICAgICAgICBkc3RPZmZzZXQgPSBsYXllclRvU2FtcGxlLm9mZnNldE9mUGl4ZWwoZHN0UmVjdC5sZWZ0LCB5KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gZHN0UmVjdC5sZWZ0OyB4IDwgZHN0UmVjdC5yaWdodDsgeCsrLCBzcmNPZmZzZXQrKywgZHN0T2Zmc2V0ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJSZWQgPSBsYXllclRvU2FtcGxlLmRhdGFbZHN0T2Zmc2V0ICsgQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJHcmVlbiA9IGxheWVyVG9TYW1wbGUuZGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkdSRUVOX0JZVEVfT0ZGU0VUXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyQmx1ZSA9IGxheWVyVG9TYW1wbGUuZGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJBbHBoYSA9IGxheWVyVG9TYW1wbGUuZGF0YVtkc3RPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eUFscGhhID0gMjU1IC0gYWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAob3BhY2l0eUFscGhhID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdENvbG9yID0gYnVmZmVyW3NyY09mZnNldF0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0QWxwaGEgPSAyNTUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TGF5ZXJBbHBoYSA9IChvcGFjaXR5QWxwaGEgKyBkZXN0QWxwaGEgKiAoMjU1IC0gb3BhY2l0eUFscGhhKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWxBbHBoYSA9ICgyNTUgKiBvcGFjaXR5QWxwaGEgLyBuZXdMYXllckFscGhhKSB8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGEgPSAyNTUgLSByZWFsQWxwaGEsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDb2xvciA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGxheWVyQWxwaGEgKiByZWFsQWxwaGEgKyAoZGVzdENvbG9yID4+PiAyNCAmIDB4ZmYpICogaW52QWxwaGEpIC8gMjU1KSA8PCAyNCAmIDB4ZmYwMDAwMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAoKGxheWVyUmVkICogcmVhbEFscGhhICsgKGRlc3RDb2xvciA+Pj4gMTYgJiAweGZmKSAqIGludkFscGhhKSAvIDI1NSkgPDwgMTYgJiAweGZmMDAwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICgobGF5ZXJHcmVlbiAqIHJlYWxBbHBoYSArIChkZXN0Q29sb3IgPj4+IDggJiAweGZmKSAqIGludkFscGhhKSAvIDI1NSkgPDwgOCAmIDB4ZmYwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICgobGF5ZXJCbHVlICogcmVhbEFscGhhICsgKGRlc3RDb2xvciAmIDB4ZmYpICogaW52QWxwaGEpIC8gMjU1KSAmIDB4ZmY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdDb2xvciA9PSBkZXN0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJSZWQgPiAoZGVzdENvbG9yICYgMHhmZjAwMDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yICs9IDEgPDwgMTY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXllclJlZCA8IChkZXN0Q29sb3IgJiAweGZmMDAwMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3IgLT0gMSA8PCAxNjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJHcmVlbj4gKGRlc3RDb2xvciAmIDB4ZmYwMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3IgKz0gMSA8PCA4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGF5ZXJHcmVlbiA8IChkZXN0Q29sb3IgJiAweGZmMDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yIC09IDEgPDwgODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXJCbHVlID4gKGRlc3RDb2xvciAmIDB4ZmYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXllckJsdWUgPCAoZGVzdENvbG9yICYgMHhmZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3IgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcltzcmNPZmZzZXRdID0gbmV3Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzcmNSZWN0LmxlZnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGZpbGwgPSBzcmNSZWN0LmxlZnQ7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IHNyY1JlY3QudG9wOyB5IDwgc3JjUmVjdC5ib3R0b207IHkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSB5ICogdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvciA9IGJ1ZmZlcltvZmZzZXQgKyBzcmNSZWN0LmxlZnRdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBmaWxsOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBmaWxsQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzcmNSZWN0LnJpZ2h0IDwgdykge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBmaWxsID0gdyAtIHNyY1JlY3QucmlnaHQ7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IHNyY1JlY3QudG9wOyB5IDwgc3JjUmVjdC5ib3R0b207IHkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHkgKiB3ICsgc3JjUmVjdC5yaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvciA9IGJ1ZmZlcltvZmZzZXQgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgZmlsbDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gZmlsbENvbG9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHNyY1JlY3QudG9wOyB5KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgICAgIHNyY09mZnNldCA9IHNyY1JlY3QudG9wICogdyxcbiAgICAgICAgICAgICAgICAgICAgZHN0T2Zmc2V0ID0geSAqIHc7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHNyY09mZnNldCsrLCBkc3RPZmZzZXQrKykge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXJbZHN0T2Zmc2V0XSA9IGJ1ZmZlcltzcmNPZmZzZXRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgeSA9IHNyY1JlY3QuYm90dG9tOyB5IDwgdzsgeSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgICAgICBzcmNPZmZzZXQgPSAoc3JjUmVjdC5ib3R0b20gLSAxKSAqIHcsXG4gICAgICAgICAgICAgICAgICAgIGRzdE9mZnNldCA9IHkgKiB3O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBzcmNPZmZzZXQrKywgZHN0T2Zmc2V0KyspIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyW2RzdE9mZnNldF0gPSBidWZmZXJbc3JjT2Zmc2V0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogXG4gICAgICAgICAqIEBwYXJhbSBzcmNSZWN0IENQUmVjdFxuICAgICAgICAgKiBAcGFyYW0gZHN0UmVjdCBDUFJlY3RcbiAgICAgICAgICogQHBhcmFtIGJ1ZmZlciBVaW50MzJBcnJheVxuICAgICAgICAgKiBAcGFyYW0gYnJ1c2ggVWludDhBcnJheVxuICAgICAgICAgKiBAcGFyYW0gdyBpbnRcbiAgICAgICAgICogQHBhcmFtIGFscGhhIGludFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc211ZGdlUGFzdGVCdWZmZXIoc3JjUmVjdCwgZHN0UmVjdCwgYnVmZmVyLCBicnVzaCwgdywgYWxwaGEpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGJ5ID0gc3JjUmVjdC50b3A7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSBkc3RSZWN0LnRvcDsgeSA8IGRzdFJlY3QuYm90dG9tOyB5KyssIGJ5KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgICAgIHNyY09mZnNldCA9IHNyY1JlY3QubGVmdCArIGJ5ICogdyxcbiAgICAgICAgICAgICAgICAgICAgZHN0T2Zmc2V0ID0gY3VyTGF5ZXIub2Zmc2V0T2ZQaXhlbChkc3RSZWN0LmxlZnQsIHkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSBkc3RSZWN0LmxlZnQ7IHggPCBkc3RSZWN0LnJpZ2h0OyB4KyssIHNyY09mZnNldCsrLCBkc3RPZmZzZXQgKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJDb2xvciA9IGJ1ZmZlcltzcmNPZmZzZXRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eUFscGhhID0gKGJ1ZmZlckNvbG9yID4+PiAyNCkgKiAoYnJ1c2hbc3JjT2Zmc2V0XSAmIDB4ZmYpIC8gMjU1O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wYWNpdHlBbHBoYSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxheWVyLmRhdGFbZHN0T2Zmc2V0ICsgQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVRdID0gKGJ1ZmZlckNvbG9yID4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJMYXllci5kYXRhW2RzdE9mZnNldCArIENQQ29sb3JCbXAuR1JFRU5fQllURV9PRkZTRVRdID0gKGJ1ZmZlckNvbG9yID4+IDgpICYgMHhmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxheWVyLmRhdGFbZHN0T2Zmc2V0ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXSA9IGJ1ZmZlckNvbG9yICYgMHhmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxheWVyLmRhdGFbZHN0T2Zmc2V0ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0gPSAoYnVmZmVyQ29sb3IgPj4gMjQpICYgMHhmZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBzcmNSZWN0IENQUmVjdFxuICAgICAgICAgKiBAcGFyYW0gZHN0UmVjdCBDUFJlY3RcbiAgICAgICAgICogQHBhcmFtIGRhYiBDUEJydXNoRGFiXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhaW50RGFiSW1wbGVtZW50YXRpb24gPSBmdW5jdGlvbihzcmNSZWN0LCBkc3RSZWN0LCBkYWIpIHtcbiAgICAgICAgICAgIGlmIChicnVzaEJ1ZmZlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYnJ1c2hCdWZmZXIgPSBuZXcgVWludDMyQXJyYXkoZGFiLndpZHRoICogZGFiLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgc211ZGdlQWNjdW1CdWZmZXIoc3JjUmVjdCwgZHN0UmVjdCwgYnJ1c2hCdWZmZXIsIGRhYi53aWR0aCwgMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNtdWRnZUFjY3VtQnVmZmVyKHNyY1JlY3QsIGRzdFJlY3QsIGJydXNoQnVmZmVyLCBkYWIud2lkdGgsIGRhYi5hbHBoYSk7XG4gICAgICAgICAgICAgICAgc211ZGdlUGFzdGVCdWZmZXIoc3JjUmVjdCwgZHN0UmVjdCwgYnJ1c2hCdWZmZXIsIGRhYi5icnVzaCwgZGFiLndpZHRoLCBkYWIuYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxvY2tBbHBoYSkge1xuICAgICAgICAgICAgICAgICAgICByZXN0b3JlQWxwaGEoZHN0UmVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBvcGFjaXR5QXJlYS5tYWtlRW1wdHkoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHNhbXBsZUFsbExheWVycykge1xuICAgICAgICAgICAgICAgIHRoYXQuZnVzaW9uTGF5ZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIENQQnJ1c2hUb29sU211ZGdlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BCcnVzaFRvb2xEaXJlY3RCcnVzaC5wcm90b3R5cGUpO1xuICAgIENQQnJ1c2hUb29sU211ZGdlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQQnJ1c2hUb29sU211ZGdlO1xuXG4gICAgQ1BCcnVzaFRvb2xTbXVkZ2UucHJvdG90eXBlLm1lcmdlT3BhY2l0eUJ1ZiA9IGZ1bmN0aW9uKGRzdFJlY3QsIGNvbG9yKSB7XG4gICAgfTtcbiAgICBcbiAgICB2YXIgcGFpbnRpbmdNb2RlcyA9IFtcbiAgICAgICAgbmV3IENQQnJ1c2hUb29sU2ltcGxlQnJ1c2goKSwgbmV3IENQQnJ1c2hUb29sRXJhc2VyKCksIG5ldyBDUEJydXNoVG9vbERvZGdlKCksXG4gICAgICAgIG5ldyBDUEJydXNoVG9vbEJ1cm4oKSwgbmV3IENQQnJ1c2hUb29sV2F0ZXJjb2xvcigpLCBuZXcgQ1BCcnVzaFRvb2xCbHVyKCksIG5ldyBDUEJydXNoVG9vbFNtdWRnZSgpLFxuICAgICAgICBuZXcgQ1BCcnVzaFRvb2xPaWwoKVxuICAgIF07XG4gICAgXG4gICAgdGhpcy53aWR0aCA9IF93aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IF9oZWlnaHQ7XG5cbiAgICB0aGlzLmdldERlZmF1bHRMYXllck5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBwcmVmaXggPSBcIkxheWVyIFwiLFxuICAgICAgICAgICAgaGlnaGVzdExheWVyTmIgPSAwO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGxheWVyID0gbGF5ZXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoL15MYXllciBbMC05XSskLy50ZXN0KGxheWVyLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgaGlnaGVzdExheWVyTmIgPSBNYXRoLm1heChoaWdoZXN0TGF5ZXJOYiwgcGFyc2VJbnQobGF5ZXIubmFtZS5zdWJzdHJpbmcocHJlZml4Lmxlbmd0aCksIDEwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZWZpeCArIChoaWdoZXN0TGF5ZXJOYiArIDEpO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gcmVzdG9yZUFscGhhKHJlY3QpIHtcbiAgICAgICAgdGhhdC5nZXRBY3RpdmVMYXllcigpLmNvcHlBbHBoYUZyb20odW5kb0J1ZmZlciwgcmVjdCk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIE1lcmdlIHRoZSBvcGFjaXR5IGJ1ZmZlciBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgb3BlcmF0aW9uIHRvIHRoZSBhY3RpdmUgbGF5ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VPcGFjaXR5QnVmZmVyKGNvbG9yLCBjbGVhcikge1xuICAgICAgICBpZiAoIW9wYWNpdHlBcmVhLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgaWYgKGN1ckJydXNoLnBhaW50TW9kZSAhPSBDUEJydXNoSW5mby5NX0VSQVNFIHx8ICFsb2NrQWxwaGEpIHtcbiAgICAgICAgICAgICAgICBwYWludGluZ01vZGVzW2N1ckJydXNoLnBhaW50TW9kZV0ubWVyZ2VPcGFjaXR5QnVmKG9wYWNpdHlBcmVhLCBjb2xvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBpdCB3b3VsZCBiZSBuaWNlIHRvIGJlIGFibGUgdG8gc2V0IHRoZSBwYXBlciBjb2xvclxuICAgICAgICAgICAgICAgIHBhaW50aW5nTW9kZXNbQ1BCcnVzaEluZm8uTV9QQUlOVF0ubWVyZ2VPcGFjaXR5QnVmKG9wYWNpdHlBcmVhLCBFTVBUWV9MQVlFUl9DT0xPUik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsb2NrQWxwaGEpIHtcbiAgICAgICAgICAgICAgICByZXN0b3JlQWxwaGEob3BhY2l0eUFyZWEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2xlYXIpIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5QnVmZmVyLmNsZWFyUmVjdChvcGFjaXR5QXJlYSwgMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wYWNpdHlBcmVhLm1ha2VFbXB0eSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuYWRkQmFja2dyb3VuZExheWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgbGF5ZXIgPSBuZXcgQ1BMYXllcih0aGF0LndpZHRoLCB0aGF0LmhlaWdodCwgdGhpcy5nZXREZWZhdWx0TGF5ZXJOYW1lKCkpO1xuICAgICAgICBcbiAgICAgICAgbGF5ZXIuY2xlYXJBbGwoRU1QVFlfQkFDS0dST1VORF9DT0xPUik7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmFkZExheWVyT2JqZWN0KGxheWVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWVyZ2UgdG9nZXRoZXIgdGhlIHZpc2libGUgbGF5ZXJzIGFuZCByZXR1cm4gdGhlIHJlc3VsdGluZyBJbWFnZURhdGEgZm9yIGRpc3BsYXkgdG8gdGhlIHNjcmVlbi5cbiAgICAgKiBcbiAgICAgKiBUaGUgaW1hZ2UgaXMgY2FjaGVkLCBzbyByZXBlYXQgY2FsbHMgYXJlIGNoZWFwLlxuICAgICAqL1xuICAgIHRoaXMuZnVzaW9uTGF5ZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIElzIHRoZXJlIGFueXRoaW5nIHRvIHVwZGF0ZSBmcm9tIGxhc3QgY2FsbD9cbiAgICAgICAgaWYgKCFmdXNpb25BcmVhLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgLy8gVGhlIGN1cnJlbnQgYnJ1c2ggcmVuZGVycyBvdXQgaXRzIGJ1ZmZlcnMgdG8gdGhlIGxheWVyIHN0YWNrIGZvciB1c1xuICAgICAgICAgICAgbWVyZ2VPcGFjaXR5QnVmZmVyKGN1ckNvbG9yLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBkcmF3aW5nIGlzIHNpbmdsZS1sYXllcmVkIGFuZCBvcGFxdWUsIGp1c3QgdXNlIHRoZSBib3R0b20tbW9zdCBsYXllciBhcyBvdXIgZnVzaW9uLCB3ZSBkb24ndCBuZWVkIHRvIGJsZW5kIGFueXRoaW5nIVxuICAgICAgICAgICAgaWYgKGxheWVycy5sZW5ndGggPT0gMSAmJiBsYXllcnNbMF0uYWxwaGEgPj0gMTAwICYmIGxheWVyc1swXS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgZnVzaW9uID0gbGF5ZXJzWzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBGdXNlIGludG8gdGhlIGFjdHVhbCBmdXNpb24gYnVmZmVyIHNpbmNlIHdlIG5lZWQgdG8gYmxlbmRcbiAgICAgICAgICAgICAgICBmdXNpb24gPSBmdXNpb25CdWZmZXI7XG5cbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uSXNTZW1pVHJhbnNwYXJlbnQgPSB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVzaW9uSXNTZW1pVHJhbnNwYXJlbnQgPSBmdXNpb25Jc1NlbWlUcmFuc3BhcmVudCAmJiBmdXNpb24uaGFzQWxwaGFJblJlY3QoZnVzaW9uQXJlYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIudmlzaWJsZSAmJiBsYXllci5hbHBoYSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIuYWxwaGEgPT0gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEluc3RlYWQgb2YgYmxlbmRpbmcgdGhlIGxheWVyIG9udG8gdGhlIGVtcHR5IHRyYW5zcGFyZW50IGZ1c2lvbiwgd2UgY2FuIGp1c3QgY29weSB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbGF5ZXIgZGF0YSByaWdodCBpbnRvIHRoZSBmdXNpb24uIFRoaXMgd29ya3MgZm9yIGFsbCBvZiBvdXIgYmxlbmRpbmcgbW9kZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5jb3B5Qml0bWFwUmVjdChsYXllciwgZnVzaW9uQXJlYS5sZWZ0LCBmdXNpb25BcmVhLnRvcCwgZnVzaW9uQXJlYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdXNpb24uY2xlYXJSZWN0KGZ1c2lvbkFyZWEsIDB4MDBGRkZGRkYpOyAvLyBUcmFuc3BhcmVudCB3aGl0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBDUEJsZW5kLmZ1c2VMYXllcihmdXNpb24sIGZ1c2lvbklzU2VtaVRyYW5zcGFyZW50LCBsYXllciwgZnVzaW9uQXJlYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEaWRuJ3QgZHJhdyBhbnkgbGF5ZXJzPyBXZSBoYXZlIHRvIGNsZWFyIHRoZSBhcmVhLCB0aGVuXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5jbGVhclJlY3QoZnVzaW9uQXJlYSwgMHgwMEZGRkZGRik7IC8vIFRyYW5zcGFyZW50IHdoaXRlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdXNpb25BcmVhLm1ha2VFbXB0eSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZnVzaW9uLmdldEltYWdlRGF0YSgpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnNldEFjdGl2ZUxheWVySW5kZXggPSBmdW5jdGlvbihuZXdJbmRleCkge1xuICAgICAgICBpZiAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IGxheWVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJMYXllciAhPSBsYXllcnNbbmV3SW5kZXhdKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBvbGRJbmRleCA9IHRoaXMuZ2V0QWN0aXZlTGF5ZXJJbmRleCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjdXJMYXllciA9IGxheWVyc1tuZXdJbmRleF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFdhcyB0aGUgb2xkIGxheWVyIGRlbGV0ZWQ/XG4gICAgICAgICAgICBpZiAob2xkSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjYWxsTGlzdGVuZXJzTGF5ZXJDaGFuZ2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbExpc3RlbmVyc0xheWVyQ2hhbmdlKG9sZEluZGV4KTsgLy8gT2xkIGxheWVyIGhhcyBub3cgYmVlbiBkZXNlbGVjdGVkXG4gICAgICAgICAgICAgICAgY2FsbExpc3RlbmVyc0xheWVyQ2hhbmdlKG5ld0luZGV4KTsgLy8gTmV3IGxheWVyIGhhcyBub3cgYmVlbiBzZWxlY3RlZFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbnZhbGlkYXRlTGF5ZXJVbmRvKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0QWN0aXZlTGF5ZXJJbmRleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGxheWVyc1tpXSA9PSBjdXJMYXllcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICBcbiAgICAvKlxuICAgICAqIEdldCB0aGUgaW5kZXggb2YgdGhlIHRvcG1vc3QgdmlzaWJsZSBsYXllciwgb3IgMC5cbiAgICAgKi9cbiAgICB0aGlzLmdldFRvcG1vc3RWaXNpYmxlTGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IGxheWVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKGxheWVyc1tpXS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG5cblx0LyoqXG4gICAgICogR2V0IHRoZSBsYXllciB3aXRoIHRoZSBzcGVjaWZpZWQgaW5kZXggKG5vIGJvdW5kcyBjaGVja2luZylcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW50fSBpXG4gICAgICogQHJldHVybnMge0NQTGF5ZXJ9XG4gICAgICovXG4gICAgdGhpcy5nZXRMYXllciA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIGxheWVyc1tpXTtcbiAgICB9O1xuXG5cdC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBsYXllciAodGhlIGxheWVyIHRoYXQgZHJhd2luZyBvcGVyYXRpb25zIHdpbGwgYmUgYXBwbGllZCB0bykpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q1BMYXllcn1cbiAgICAgKi9cbiAgICB0aGlzLmdldEFjdGl2ZUxheWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjdXJMYXllcjtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXREb2NNZW1vcnlVc2VkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgdG90YWwgPSBmdXNpb25CdWZmZXIuZ2V0TWVtb3J5U2l6ZSgpICogKDMgKyBsYXllcnMubGVuZ3RoKTtcblxuICAgICAgICBpZiAoY2xpcGJvYXJkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRvdGFsICs9IGNsaXBib2FyZC5ibXAuZ2V0TWVtb3J5U2l6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH07XG5cbiAgICB0aGlzLmdldFVuZG9NZW1vcnlVc2VkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgdG90YWwgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVkb0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIHVuZG8gPSByZWRvTGlzdFtpXTtcblxuICAgICAgICAgICAgdG90YWwgKz0gdW5kby5nZXRNZW1vcnlVc2VkKHRydWUsIG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bmRvTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgdW5kbyA9IHVuZG9MaXN0W2ldO1xuXG4gICAgICAgICAgICB0b3RhbCArPSB1bmRvLmdldE1lbW9yeVVzZWQoZmFsc2UsIG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gY2FuVW5kbygpIHtcbiAgICAgICAgcmV0dXJuIHVuZG9MaXN0Lmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuUmVkbygpIHtcbiAgICAgICAgcmV0dXJuIHJlZG9MaXN0Lmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBVbmRvIC8gUmVkb1xuICAgIC8vXG5cbiAgICB0aGlzLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFjYW5VbmRvKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoYXNVbnNhdmVkQ2hhbmdlcyA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICB2YXJcbiAgICAgICAgICAgIHVuZG8gPSB1bmRvTGlzdC5wb3AoKTtcbiAgICAgICAgXG4gICAgICAgIHVuZG8udW5kbygpO1xuICAgICAgICBcbiAgICAgICAgcmVkb0xpc3QucHVzaCh1bmRvKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFjYW5SZWRvKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoYXNVbnNhdmVkQ2hhbmdlcyA9IHRydWU7XG5cbiAgICAgICAgdmFyXG4gICAgICAgICAgICByZWRvID0gcmVkb0xpc3QucG9wKCk7XG4gICAgICAgIFxuICAgICAgICByZWRvLnJlZG8oKTtcbiAgICAgICAgXG4gICAgICAgIHVuZG9MaXN0LnB1c2gocmVkbyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBzdGF0ZSBvZiB0aGUgY3VycmVudCBsYXllciBoYXMgYmVlbiBzdG9yZWQgaW4gdW5kb0J1ZmZlciBzbyBpdCBjYW4gYmUgdW5kb25lIGxhdGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByZXBhcmVGb3JMYXllclVuZG8oKSB7XG4gICAgICAgIGlmICghdW5kb0J1ZmZlckludmFsaWRSZWdpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ29weWluZyBcIiArIHVuZG9CdWZmZXJJbnZhbGlkUmVnaW9uICsgXCIgdG8gdGhlIHVuZG8gYnVmZmVyXCIpO1xuICAgICAgICAgICAgdW5kb0J1ZmZlci5jb3B5Qml0bWFwUmVjdChjdXJMYXllciwgdW5kb0J1ZmZlckludmFsaWRSZWdpb24ubGVmdCwgdW5kb0J1ZmZlckludmFsaWRSZWdpb24udG9wLCB1bmRvQnVmZmVySW52YWxpZFJlZ2lvbik7XG4gICAgICAgICAgICB1bmRvQnVmZmVySW52YWxpZFJlZ2lvbi5tYWtlRW1wdHkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgd2hlbiB0aGUgdW5kbyBidWZmZXIgaGFzIGJlY29tZSBjb21wbGV0ZWx5IHdvcnRobGVzcyAoZS5nLiBhZnRlciB0aGUgYWN0aXZlIGxheWVyIGluZGV4IGNoYW5nZXMsIHRoZSB1bmRvXG4gICAgICogYnVmZmVyIHdvbid0IGNvbnRhaW4gYW55IGRhdGEgZnJvbSB0aGUgbmV3IGxheWVyIHRvIGJlZ2luIHdpdGgpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmFsaWRhdGVMYXllclVuZG8oKSB7XG4gICAgICAgIHVuZG9CdWZmZXJJbnZhbGlkUmVnaW9uID0gdGhhdC5nZXRCb3VuZHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzdWx0IG9mIHNvbWUgb2Ygb3VyIG9wZXJhdGlvbnMgYXJlbid0IG5lZWRlZCB1bnRpbCBsYXRlciwgc28gd2UgY2FuIGRlZmVyIHRoZW0gdW50aWwgdGhlIHVzZXIgaXMgaWRsZS5cbiAgICAgKlxuICAgICAqIFlvdSBtYXkgY2FsbCB0aGlzIHJvdXRpbmUgYXQgYW55IHRpbWUgKG9yIG5ldmVyLCBpZiB5b3UgbGlrZSkgYXMgYSBoaW50IHRoYXQgdGhlIHVzZXIgaXMgaWRsZSBhbmQgd2Ugc2hvdWxkXG4gICAgICogdHJ5IHRvIHBlcmZvcm0gcGVuZGluZyBvcGVyYXRpb25zIGJlZm9yZSB3ZSB3aWxsIG5lZWQgdG8gYmxvY2sgb24gdGhlaXIgcmVzdWx0cy5cbiAgICAgKi9cbiAgICB0aGlzLnBlcmZvcm1JZGxlVGFza3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJlcGFyZUZvckxheWVyVW5kbygpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhZGRVbmRvKHVuZG8pIHtcbiAgICAgICAgaGFzVW5zYXZlZENoYW5nZXMgPSB0cnVlO1xuXG4gICAgICAgIGlmIChyZWRvTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZWRvTGlzdCA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVuZG9MaXN0Lmxlbmd0aCA9PSAwIHx8ICF1bmRvTGlzdFt1bmRvTGlzdC5sZW5ndGggLSAxXS5tZXJnZSh1bmRvKSkge1xuICAgICAgICAgICAgaWYgKHVuZG9MaXN0Lmxlbmd0aCA+PSBNQVhfVU5ETykge1xuICAgICAgICAgICAgICAgIHVuZG9MaXN0LnVuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1bmRvTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdW5kb0xpc3RbdW5kb0xpc3QubGVuZ3RoIC0gMV0uY29tcGFjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5kb0xpc3QucHVzaCh1bmRvKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bmRvTGlzdFt1bmRvTGlzdC5sZW5ndGggLSAxXS5ub0NoYW5nZSgpKSB7XG4gICAgICAgICAgICAvLyBUd28gbWVyZ2VkIGNoYW5nZXMgY2FuIG1lYW4gbm8gY2hhbmdlIGF0IGFsbFxuICAgICAgICAgICAgLy8gZG9uJ3QgbGVhdmUgYSB1c2VsZXNzIHVuZG8gaW4gdGhlIGxpc3RcbiAgICAgICAgICAgIHVuZG9MaXN0LnBvcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5jbGVhckhpc3RvcnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdW5kb0xpc3QgPSBbXTtcbiAgICAgICAgcmVkb0xpc3QgPSBbXTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuY29sb3JQaWNrZXIgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIC8vIG5vdCByZWFsbHkgbmVjZXNzYXJ5IGFuZCBjb3VsZCBwb3RlbnRpYWxseSB0aGUgcmVwYWludFxuICAgICAgICAvLyBvZiB0aGUgY2FudmFzIHRvIG1pc3MgdGhhdCBhcmVhXG4gICAgICAgIC8vIHRoaXMuZnVzaW9uTGF5ZXJzKCk7XG5cbiAgICAgICAgcmV0dXJuIGZ1c2lvbi5nZXRQaXhlbCh+fngsIH5+eSkgJiAweEZGRkZGRjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFNlbGVjdGlvbiA9IGZ1bmN0aW9uKHJlY3QpIHtcbiAgICAgICAgY3VyU2VsZWN0aW9uLnNldChyZWN0KTtcbiAgICAgICAgY3VyU2VsZWN0aW9uLmNsaXAodGhpcy5nZXRCb3VuZHMoKSk7XG4gICAgfTtcblxuICAgIHRoaXMuZW1wdHlTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY3VyU2VsZWN0aW9uLm1ha2VFbXB0eSgpO1xuICAgIH07XG5cbiAgICB0aGlzLmZsb29kRmlsbCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgcHJlcGFyZUZvckxheWVyVW5kbygpO1xuICAgICAgICB1bmRvQXJlYSA9IHRoaXMuZ2V0Qm91bmRzKCk7XG5cbiAgICAgICAgY3VyTGF5ZXIuZmxvb2RGaWxsKH5+eCwgfn55LCBjdXJDb2xvciB8IDB4ZmYwMDAwMDApO1xuXG4gICAgICAgIGFkZFVuZG8obmV3IENQVW5kb1BhaW50KCkpO1xuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ3JhZGllbnRGaWxsID0gZnVuY3Rpb24oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSwgZ3JhZGllbnRQb2ludHMpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICByID0gdGhpcy5nZXRTZWxlY3Rpb25BdXRvU2VsZWN0KCk7XG5cbiAgICAgICAgcHJlcGFyZUZvckxheWVyVW5kbygpO1xuICAgICAgICB1bmRvQXJlYSA9IHI7XG5cbiAgICAgICAgY3VyTGF5ZXIuZ3JhZGllbnQociwgZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSwgZ3JhZGllbnRQb2ludHMpO1xuXG4gICAgICAgIGlmIChsb2NrQWxwaGEpIHtcbiAgICAgICAgICAgIHJlc3RvcmVBbHBoYShyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFkZFVuZG8obmV3IENQVW5kb1BhaW50KCkpO1xuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZmlsbCA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgciA9IHRoaXMuZ2V0U2VsZWN0aW9uQXV0b1NlbGVjdCgpO1xuXG4gICAgICAgIHByZXBhcmVGb3JMYXllclVuZG8oKTtcbiAgICAgICAgdW5kb0FyZWEgPSByO1xuXG4gICAgICAgIGN1ckxheWVyLmNsZWFyUmVjdChyLCBjb2xvcik7XG5cbiAgICAgICAgYWRkVW5kbyhuZXcgQ1BVbmRvUGFpbnQoKSk7XG4gICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmZpbGwoMHhmZmZmZmYpO1xuICAgIH07XG5cbiAgICB0aGlzLmhGbGlwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgciA9IHRoaXMuZ2V0U2VsZWN0aW9uQXV0b1NlbGVjdCgpO1xuXG4gICAgICAgIHByZXBhcmVGb3JMYXllclVuZG8oKTtcbiAgICAgICAgdW5kb0FyZWEgPSByO1xuXG4gICAgICAgIGN1ckxheWVyLmNvcHlSZWdpb25IRmxpcChyLCB1bmRvQnVmZmVyKTtcblxuICAgICAgICBhZGRVbmRvKG5ldyBDUFVuZG9QYWludCgpKTtcbiAgICAgICAgaW52YWxpZGF0ZUZ1c2lvbigpO1xuICAgIH07XG5cbiAgICB0aGlzLnZGbGlwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgciA9IHRoaXMuZ2V0U2VsZWN0aW9uQXV0b1NlbGVjdCgpO1xuXG4gICAgICAgIHByZXBhcmVGb3JMYXllclVuZG8oKTtcbiAgICAgICAgdW5kb0FyZWEgPSByO1xuXG4gICAgICAgIGN1ckxheWVyLmNvcHlSZWdpb25WRmxpcChyLCB1bmRvQnVmZmVyKTtcblxuICAgICAgICBhZGRVbmRvKG5ldyBDUFVuZG9QYWludCgpKTtcbiAgICAgICAgaW52YWxpZGF0ZUZ1c2lvbigpO1xuICAgIH07XG5cbiAgICB0aGlzLm1vbm9jaHJvbWF0aWNOb2lzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHIgPSB0aGlzLmdldFNlbGVjdGlvbkF1dG9TZWxlY3QoKTtcblxuICAgICAgICBwcmVwYXJlRm9yTGF5ZXJVbmRvKCk7XG4gICAgICAgIHVuZG9BcmVhID0gcjtcblxuICAgICAgICBjdXJMYXllci5maWxsV2l0aE5vaXNlKHIpO1xuXG4gICAgICAgIGFkZFVuZG8obmV3IENQVW5kb1BhaW50KCkpO1xuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgfTtcblxuICAgIHRoaXMuY29sb3JOb2lzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHIgPSB0aGlzLmdldFNlbGVjdGlvbkF1dG9TZWxlY3QoKTtcblxuICAgICAgICBwcmVwYXJlRm9yTGF5ZXJVbmRvKCk7XG4gICAgICAgIHVuZG9BcmVhID0gcjtcblxuICAgICAgICBjdXJMYXllci5maWxsV2l0aENvbG9yTm9pc2Uocik7XG5cbiAgICAgICAgYWRkVW5kbyhuZXcgQ1BVbmRvUGFpbnQoKSk7XG4gICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuaW52ZXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgciA9IHRoaXMuZ2V0U2VsZWN0aW9uQXV0b1NlbGVjdCgpO1xuXG4gICAgICAgIHByZXBhcmVGb3JMYXllclVuZG8oKTtcbiAgICAgICAgdW5kb0FyZWEgPSByO1xuXG4gICAgICAgIGN1ckxheWVyLmludmVydChyKTtcblxuICAgICAgICBhZGRVbmRvKG5ldyBDUFVuZG9QYWludCgpKTtcbiAgICAgICAgaW52YWxpZGF0ZUZ1c2lvbigpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5ib3hCbHVyID0gZnVuY3Rpb24ocmFkaXVzWCwgcmFkaXVzWSwgaXRlcmF0aW9ucykge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHIgPSB0aGlzLmdldFNlbGVjdGlvbkF1dG9TZWxlY3QoKTtcblxuICAgICAgICBwcmVwYXJlRm9yTGF5ZXJVbmRvKCk7XG4gICAgICAgIHVuZG9BcmVhID0gcjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgY3VyTGF5ZXIuYm94Qmx1cihyLCByYWRpdXNYLCByYWRpdXNZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFkZFVuZG8obmV3IENQVW5kb1BhaW50KCkpO1xuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnJlY3RhbmdsZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBuZXdTZWxlY3Rpb24gPSByLmNsb25lKCk7XG4gICAgICAgIFxuICAgICAgICBuZXdTZWxlY3Rpb24uY2xpcCh0aGlzLmdldEJvdW5kcygpKTtcblxuICAgICAgICBhZGRVbmRvKG5ldyBDUFVuZG9SZWN0YW5nbGVTZWxlY3Rpb24odGhpcy5nZXRTZWxlY3Rpb24oKSwgbmV3U2VsZWN0aW9uKSk7XG5cbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb24obmV3U2VsZWN0aW9uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtb3N0IHJlY2VudGx5IGNvbXBsZXRlZCBvcGVyYXRpb24gZnJvbSB0aGUgdW5kbyBsaXN0LCBvciBudWxsIGlmIHRoZSB1bmRvIGxpc3QgaXMgZW1wdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBY3RpdmVPcGVyYXRpb24oKSB7XG4gICAgICAgIGlmICh1bmRvTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kb0xpc3RbdW5kb0xpc3QubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgbGF5ZXIgZGF0YSBieSB0aGUgZ2l2ZW4gb2Zmc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbnR9IG9mZnNldFhcbiAgICAgKiBAcGFyYW0ge2ludH0gb2Zmc2V0WVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY29weSAtIE1ha2UgYSBjb3B5IG9mIHRoZSBzZWxlY3Rpb24gaW5zdGVhZCBvZiBtb3ZpbmcgaXQuXG4gICAgICovXG4gICAgdGhpcy5tb3ZlID0gZnVuY3Rpb24ob2Zmc2V0WCwgb2Zmc2V0WSwgY29weSkge1xuICAgICAgICAvKlxuICAgICAgICAgKiBBZGQgcm91bmRpbmcgdG8gZW5zdXJlIHdlIGhhdmVuJ3QgYmVlbiBnaXZlbiBmbG9hdCBjb29yZGluYXRlcyAodGhhdCB3b3VsZCBjYXVzZSBob3JyaWJsZSBmbG93LW9uIGVmZmVjdHMgbGlrZVxuICAgICAgICAgKiB0aGUgYm91bmRhcnkgb2YgdGhlIHVuZG8gcmVjdGFuZ2xlIGhhdmluZyBmbG9hdCBjb29yZGluYXRlcylcbiAgICAgICAgICovXG4gICAgICAgIG9mZnNldFggfD0gMDtcbiAgICAgICAgb2Zmc2V0WSB8PSAwO1xuXG4gICAgICAgIGlmIChvZmZzZXRYID09IDAgJiYgb2Zmc2V0WSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBvcGFjaXR5QXJlYS5tYWtlRW1wdHkoKTsgLy8gUHJldmVudHMgYSBkcmF3aW5nIHRvb2wgYmVpbmcgY2FsbGVkIGR1cmluZyBsYXllciBmdXNpb24gdG8gZHJhdyBpdHNlbGYgdG8gdGhlIGxheWVyXG5cbiAgICAgICAgdmFyXG4gICAgICAgICAgICBhY3RpdmVPcCA9IGdldEFjdGl2ZU9wZXJhdGlvbigpO1xuXG4gICAgICAgIC8vIElmIHdlJ3ZlIGNoYW5nZWQgbGF5ZXJzIHNpbmNlIG91ciBsYXN0IG1vdmUsIHdlIHdhbnQgdG8gbW92ZSB0aGUgbmV3IGxheWVyLCBub3QgdGhlIG9sZCBvbmUsIHNvIGNhbid0IGFtZW5kXG4gICAgICAgIGlmICghY29weSAmJiBhY3RpdmVPcCBpbnN0YW5jZW9mIENQQWN0aW9uTW92ZVNlbGVjdGlvbiAmJiBhY3RpdmVPcC5sYXllckluZGV4ID09IHRoaXMuZ2V0QWN0aXZlTGF5ZXJJbmRleCgpKSB7XG4gICAgICAgICAgICBhY3RpdmVPcC5hbWVuZChvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICAgICAgICAgIHJlZG9MaXN0ID0gW107XG4gICAgICAgICAgICBoYXNVbnNhdmVkQ2hhbmdlcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY3RpdmVPcCA9IG5ldyBDUEFjdGlvbk1vdmVTZWxlY3Rpb24odGhpcy5nZXRTZWxlY3Rpb25BdXRvU2VsZWN0KCksIG9mZnNldFgsIG9mZnNldFksIGNvcHkpO1xuXG4gICAgICAgICAgICBhZGRVbmRvKGFjdGl2ZU9wKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgdGhlIGludGVycG9sYXRpb24gbW9kZSB1c2VkIGJ5IEZyZWUgVHJhbnNmb3JtIG9wZXJhdGlvbnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbnRlcnBvbGF0aW9uIC0gRWl0aGVyIFwic2hhcnBcIiBvciBcInNtb290aFwiXG4gICAgICovXG4gICAgdGhpcy5zZXRUcmFuc2Zvcm1JbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24oaW50ZXJwb2xhdGlvbikge1xuICAgICAgICB0cmFuc2Zvcm1JbnRlcnBvbGF0aW9uID0gaW50ZXJwb2xhdGlvbjtcbiAgICAgICAgaWYgKHByZXZpZXdPcGVyYXRpb24gaW5zdGFuY2VvZiBDUEFjdGlvblRyYW5zZm9ybVNlbGVjdGlvbikge1xuICAgICAgICAgICAgcHJldmlld09wZXJhdGlvbi5zZXRJbnRlcnBvbGF0aW9uKGludGVycG9sYXRpb24pO1xuICAgICAgICB9XG4gICAgfTtcblxuXHQvKipcbiAgICAgKiBJZiB0aGUgY3VycmVudCBvcGVyYXRpb24gaXMgYW4gYWZmaW5lIHRyYW5zZm9ybSwgcm9sbCBpdCBiYWNrIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgdW5kbyBoaXN0b3J5LlxuICAgICAqL1xuICAgIHRoaXMudHJhbnNmb3JtQWZmaW5lQWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHByZXZpZXdPcGVyYXRpb24gaW5zdGFuY2VvZiBDUEFjdGlvblRyYW5zZm9ybVNlbGVjdGlvbikge1xuICAgICAgICAgICAgcHJldmlld09wZXJhdGlvbi51bmRvKCk7XG4gICAgICAgICAgICBwcmV2aWV3T3BlcmF0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cblx0LyoqXG4gICAgICogQmVnaW5zIHRyYW5zZm9ybWluZyB0aGUgY3VycmVudCBzZWxlY3Rpb24vbGF5ZXIsIGFuZCByZXR1cm5zIHRoZSBpbml0aWFsIHNvdXJjZSByZWN0YW5nbGUgYW5kIGluaXRpYWwgdHJhbnNmb3JtLlxuICAgICAqIFlvdSBjYW4gdXBkYXRlIHRoZSB0cmFuc2Zvcm0gYnkgY2FsbGluZyB0cmFuc2Zvcm1BZmZpbmUoKS5cbiAgICAgKiBcbiAgICAgKiBZb3UgbXVzdCBjYWxsIHRyYW5zZm9ybUFmZmluZUZpbmlzaCgpIG9yIHRyYW5zZm9ybUFmZmluZUFib3J0KCkgdG8gZmluaXNoIHRoZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIG51bGwgaWYgdGhlIGN1cnJlbnQgc2VsZWN0aW9uL2xheWVyIGRvZXNuJ3QgY29udGFpbiBhbnkgbm9uLXRyYW5zcGFyZW50IHBpeGVscywgYW5kIGRvZXNuJ3Qgc3RhcnRcbiAgICAgKiB0cmFuc2Zvcm1pbmcuXG4gICAgICovXG4gICAgdGhpcy50cmFuc2Zvcm1BZmZpbmVCZWdpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBBcmUgd2UgYWxyZWFkeSB0cmFuc2Zvcm1pbmc/IENvbnRpbnVlIHRoYXQgaW5zdGVhZFxuICAgICAgICBpZiAocHJldmlld09wZXJhdGlvbiBpbnN0YW5jZW9mIENQQWN0aW9uVHJhbnNmb3JtU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4ge3RyYW5zZm9ybTogcHJldmlld09wZXJhdGlvbi5nZXRUcmFuc2Zvcm0oKSwgcmVjdDogcHJldmlld09wZXJhdGlvbi5nZXRJbml0aWFsVHJhbnNmb3JtUmVjdCgpLCBzZWxlY3Rpb246IHByZXZpZXdPcGVyYXRpb24uZ2V0SW5pdGlhbFNlbGVjdGlvblJlY3QoKX07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbmx5IHRyYW5zZm9ybSB0aGUgbm9uLXRyYW5zcGFyZW50IHBpeGVsc1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGxheWVyID0gdGhpcy5nZXRBY3RpdmVMYXllcigpLFxuICAgICAgICAgICAgc2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb25BdXRvU2VsZWN0KCksXG4gICAgICAgICAgICBpbml0aWFsUmVjdCA9IGxheWVyLmdldE5vblRyYW5zcGFyZW50Qm91bmRzKHNlbGVjdGlvbiksXG4gICAgICAgICAgICBpbml0aWFsVHJhbnNmb3JtID0gbmV3IENQVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgaWYgKGluaXRpYWxSZWN0LmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBJZiB3ZSBpbnRyb2R1Y2Ugb3RoZXIgcHJldmlld09wZXJhdGlvbnMsIHdlIG1pZ2h0IHdhbnQgdG8gY2hlY2sgd2UgYXJlbid0IG92ZXJ3cml0aW5nIHRoZW0gaGVyZS4uLlxuICAgICAgICAgKiBUaG91Z2ggcHJvYmFibHkgQ2hpY2tlblBhaW50J3MgZ2xvYmFsIGV4Y2x1c2l2ZSBtb2RlIHdpbGwgZW5mb3JjZSB0aGlzIGZvciB1cy5cbiAgICAgICAgICovXG4gICAgICAgIHByZXZpZXdPcGVyYXRpb24gPSBuZXcgQ1BBY3Rpb25UcmFuc2Zvcm1TZWxlY3Rpb24oaW5pdGlhbFJlY3QsIGluaXRpYWxUcmFuc2Zvcm0sIHRyYW5zZm9ybUludGVycG9sYXRpb24pO1xuICAgIFxuICAgICAgICBvcGFjaXR5QXJlYS5tYWtlRW1wdHkoKTsgLy8gUHJldmVudHMgYSBkcmF3aW5nIHRvb2wgYmVpbmcgY2FsbGVkIGR1cmluZyBsYXllciBmdXNpb24gdG8gZHJhdyBpdHNlbGYgdG8gdGhlIGxheWVyXG4gICAgXG4gICAgICAgIHJldHVybiB7dHJhbnNmb3JtOiBpbml0aWFsVHJhbnNmb3JtLCByZWN0OiBpbml0aWFsUmVjdCwgc2VsZWN0aW9uOiBzZWxlY3Rpb259O1xuICAgIH07XG5cblx0LyoqXG4gICAgICogRmluaXNoIGFuZCBzYXZlIHRoZSB0cmFuc2Zvcm0gdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgdGhpcy50cmFuc2Zvcm1BZmZpbmVGaW5pc2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHByZXZpZXdPcGVyYXRpb24gaW5zdGFuY2VvZiBDUEFjdGlvblRyYW5zZm9ybVNlbGVjdGlvbikge1xuICAgICAgICAgICAgYWRkVW5kbyhwcmV2aWV3T3BlcmF0aW9uKTtcbiAgICAgICAgICAgIHByZXZpZXdPcGVyYXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGxheWVyIGRhdGEgdXNpbmcgdGhlIGdpdmVuIEFmZmluZVRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q1BUcmFuc2Zvcm19IGFmZmluZVRyYW5zZm9ybVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNmb3JtQWZmaW5lQW1lbmQgPSBmdW5jdGlvbihhZmZpbmVUcmFuc2Zvcm0pIHtcbiAgICAgICAgaWYgKHByZXZpZXdPcGVyYXRpb24gaW5zdGFuY2VvZiBDUEFjdGlvblRyYW5zZm9ybVNlbGVjdGlvbikge1xuICAgICAgICAgICAgcHJldmlld09wZXJhdGlvbi5hbWVuZChhZmZpbmVUcmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBDb3B5L1Bhc3RlIGZ1bmN0aW9uc1xuICAgIFxuICAgIHRoaXMuY3V0U2VsZWN0aW9uID0gZnVuY3Rpb24oY3JlYXRlVW5kbykge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xpcGJvYXJkID0gbmV3IENQQ2xpcChjdXJMYXllci5jbG9uZVJlY3Qoc2VsZWN0aW9uKSwgc2VsZWN0aW9uLmxlZnQsIHNlbGVjdGlvbi50b3ApO1xuXG4gICAgICAgIGlmIChjcmVhdGVVbmRvKSB7XG4gICAgICAgICAgICBhZGRVbmRvKG5ldyBDUFVuZG9DdXQoY2xpcGJvYXJkLmJtcCwgdGhpcy5nZXRBY3RpdmVMYXllckluZGV4KCksIHNlbGVjdGlvbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VyTGF5ZXIuY2xlYXJSZWN0KHNlbGVjdGlvbiwgRU1QVFlfTEFZRVJfQ09MT1IpO1xuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uUmVjdChzZWxlY3Rpb24pO1xuICAgIH07XG5cbiAgICB0aGlzLmNvcHlTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBzZWxlY3Rpb24gPSB0aGF0LmdldFNlbGVjdGlvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsaXBib2FyZCA9IG5ldyBDUENsaXAoY3VyTGF5ZXIuY2xvbmVSZWN0KHNlbGVjdGlvbiksIHNlbGVjdGlvbi5sZWZ0LCBzZWxlY3Rpb24udG9wKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jb3B5U2VsZWN0aW9uTWVyZ2VkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIHNlbGVjdGlvbiA9IHRoYXQuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBmdXNpb25lZCBwaWN0dXJlIGlzIHVwIHRvIGRhdGVcbiAgICAgICAgdGhpcy5mdXNpb25MYXllcnMoKTtcbiAgICAgICAgY2xpcGJvYXJkID0gbmV3IENQQ2xpcChmdXNpb24uY2xvbmVSZWN0KHNlbGVjdGlvbiksIHNlbGVjdGlvbi5sZWZ0LCBzZWxlY3Rpb24udG9wKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3JlYXRlVW5kbyBib29sZWFuXG4gICAgICogQHBhcmFtIGNsaXAgQ1BDbGlwXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFzdGVDbGlwKGNyZWF0ZVVuZG8sIGNsaXApIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBhY3RpdmVMYXllckluZGV4ID0gdGhhdC5nZXRBY3RpdmVMYXllckluZGV4KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoY3JlYXRlVW5kbykge1xuICAgICAgICAgICAgYWRkVW5kbyhuZXcgQ1BVbmRvUGFzdGUoY2xpcCwgYWN0aXZlTGF5ZXJJbmRleCwgdGhhdC5nZXRTZWxlY3Rpb24oKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyXG4gICAgICAgICAgICBuZXdMYXllciA9IG5ldyBDUExheWVyKHRoYXQud2lkdGgsIHRoYXQuaGVpZ2h0LCB0aGF0LmdldERlZmF1bHRMYXllck5hbWUoKSksXG4gICAgICAgICAgICBzb3VyY2VSZWN0ID0gY2xpcC5ibXAuZ2V0Qm91bmRzKCksXG4gICAgICAgICAgICB4LCB5O1xuICAgICAgICBcbiAgICAgICAgbGF5ZXJzLnNwbGljZShhY3RpdmVMYXllckluZGV4ICsgMSwgMCwgbmV3TGF5ZXIpO1xuICAgICAgICB0aGF0LnNldEFjdGl2ZUxheWVySW5kZXgoYWN0aXZlTGF5ZXJJbmRleCArIDEpO1xuXG4gICAgICAgIGlmIChzb3VyY2VSZWN0LmlzSW5zaWRlKHRoYXQuZ2V0Qm91bmRzKCkpKSB7XG4gICAgICAgICAgICB4ID0gY2xpcC54O1xuICAgICAgICAgICAgeSA9IGNsaXAueTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHggPSAoKHRoYXQud2lkdGggLSBjbGlwLmJtcC53aWR0aCkgLyAyKSB8IDA7XG4gICAgICAgICAgICB5ID0gKCh0aGF0LmhlaWdodCAtIGNsaXAuYm1wLmhlaWdodCkgLyAyKSB8IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJMYXllci5jb3B5Qml0bWFwUmVjdChjbGlwLmJtcCwgeCwgeSwgc291cmNlUmVjdCk7XG4gICAgICAgIHRoYXQuZW1wdHlTZWxlY3Rpb24oKTtcblxuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnBhc3RlQ2xpcGJvYXJkID0gZnVuY3Rpb24oY3JlYXRlVW5kbykge1xuICAgICAgICBpZiAoY2xpcGJvYXJkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHBhc3RlQ2xpcChjcmVhdGVVbmRvLCBjbGlwYm9hcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldFNhbXBsZUFsbExheWVycyA9IGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgc2FtcGxlQWxsTGF5ZXJzID0gYjtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRMb2NrQWxwaGEgPSBmdW5jdGlvbihiKSB7XG4gICAgICAgIGxvY2tBbHBoYSA9IGI7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0Rm9yZWdyb3VuZENvbG9yID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICAgICAgY3VyQ29sb3IgPSBjb2xvcjtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2V0QnJ1c2ggPSBmdW5jdGlvbihicnVzaCkge1xuICAgICAgICBjdXJCcnVzaCA9IGJydXNoO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zZXRCcnVzaFRleHR1cmUgPSBmdW5jdGlvbih0ZXh0dXJlKSB7XG4gICAgICAgIGJydXNoTWFuYWdlci5zZXRUZXh0dXJlKHRleHR1cmUpO1xuICAgIH1cbiAgICBcbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIFBhaW50IGVuZ2luZVxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICB0aGlzLmJlZ2luU3Ryb2tlID0gZnVuY3Rpb24oeCwgeSwgcHJlc3N1cmUpIHtcbiAgICAgICAgaWYgKGN1ckJydXNoID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhaW50aW5nTW9kZXNbY3VyQnJ1c2gucGFpbnRNb2RlXS5iZWdpblN0cm9rZSh4LCB5LCBwcmVzc3VyZSk7XG4gICAgfTtcblxuICAgIHRoaXMuY29udGludWVTdHJva2UgPSBmdW5jdGlvbih4LCB5LCBwcmVzc3VyZSkge1xuICAgICAgICBpZiAoY3VyQnJ1c2ggPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFpbnRpbmdNb2Rlc1tjdXJCcnVzaC5wYWludE1vZGVdLmNvbnRpbnVlU3Ryb2tlKHgsIHksIHByZXNzdXJlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbmRTdHJva2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGN1ckJydXNoID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhaW50aW5nTW9kZXNbY3VyQnJ1c2gucGFpbnRNb2RlXS5lbmRTdHJva2UoKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuaGFzQWxwaGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZ1c2lvbi5oYXNBbHBoYSgpO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhcnR3b3JrIGFzIGEgc2luZ2xlIGZsYXQgUE5HIGltYWdlLlxuICAgICAqIFxuICAgICAqIFJvdGF0aW9uIGlzIFswLi4zXSBhbmQgc2VsZWN0cyBhIG11bHRpcGxlIG9mIDkwIGRlZ3JlZXMgb2YgY2xvY2t3aXNlIHJvdGF0aW9uIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGRyYXdpbmcgYmVmb3JlXG4gICAgICogc2F2aW5nLlxuICAgICAqIFxuICAgICAqIEByZXR1cm4gQSBiaW5hcnkgc3RyaW5nIG9mIHRoZSBQTkcgZmlsZSBkYXRhLlxuICAgICAqL1xuICAgIHRoaXMuZ2V0RmxhdFBORyA9IGZ1bmN0aW9uKHJvdGF0aW9uKSB7XG4gICAgICAgIHRoaXMuZnVzaW9uTGF5ZXJzKCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZnVzaW9uLmdldEFzUE5HKHJvdGF0aW9uKTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGFydHdvcmsgY2FuIGJlIGV4YWN0bHkgcmVwcmVzZW50ZWQgYXMgYSBzaW1wbGUgdHJhbnNwYXJlbnQgUE5HIChpLmUuIGRvZXNuJ3QgaGF2ZSBtdWx0aXBsZSBcbiAgICAgKiBsYXllcnMsIGFuZCBiYXNlIGxheWVyJ3Mgb3BhY2l0eSBpcyBzZXQgdG8gMTAwJSkuXG4gICAgICovXG4gICAgdGhpcy5pc1NpbXBsZURyYXdpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGF5ZXJDb3VudCgpID09IDEgJiYgdGhpcy5nZXRMYXllcigwKS5nZXRBbHBoYSgpID09IDEwMDtcbiAgICB9O1xuICAgIFxuICAgIC8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBVbmRvIGNsYXNzZXNcblxuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgY3VycmVudCBsYXllciBhbmQgdGhlIHVuZG9CdWZmZXIgKHdpdGhpbiB0aGUgdW5kb0FyZWEpIGZvciB1bmRvLCBhbmQgY2xlYXJcbiAgICAgKiB0aGUgdW5kb0FyZWEuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDUFVuZG9QYWludCgpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICByZWN0ID0gdW5kb0FyZWEuY2xvbmUoKSxcbiAgICAgICAgICAgIGRhdGEgPSB1bmRvQnVmZmVyLmNvcHlSZWN0WE9SKGN1ckxheWVyLCByZWN0KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMubGF5ZXIgPSB0aGF0LmdldEFjdGl2ZUxheWVySW5kZXgoKTtcblxuICAgICAgICB1bmRvQXJlYS5tYWtlRW1wdHkoKTtcblxuICAgICAgICB0aGlzLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoYXQuZ2V0TGF5ZXIodGhpcy5sYXllcikuc2V0UmVjdFhPUihkYXRhLCByZWN0KTtcbiAgICAgICAgICAgIGludmFsaWRhdGVGdXNpb25SZWN0KHJlY3QpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucmVkbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhhdC5nZXRMYXllcih0aGlzLmxheWVyKS5zZXRSZWN0WE9SKGRhdGEsIHJlY3QpO1xuICAgICAgICAgICAgaW52YWxpZGF0ZUZ1c2lvblJlY3QocmVjdCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5nZXRNZW1vcnlVc2VkID0gZnVuY3Rpb24odW5kb25lLCBwYXJhbSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEubGVuZ3RoO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBDUFVuZG9QYWludC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQVW5kby5wcm90b3R5cGUpO1xuICAgIENQVW5kb1BhaW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQVW5kb1BhaW50O1xuICAgIFxuICAgIGZ1bmN0aW9uIENQVW5kb0xheWVyVmlzaWJsZShfbGF5ZXJJbmRleCwgX29sZFZpcywgX25ld1Zpcykge1xuICAgICAgICB0aGlzLmxheWVySW5kZXggPSBfbGF5ZXJJbmRleDtcbiAgICAgICAgdGhpcy5vbGRWaXMgPSBfb2xkVmlzO1xuICAgICAgICB0aGlzLm5ld1ZpcyA9IF9uZXdWaXM7XG4gICAgfVxuICAgIFxuICAgIENQVW5kb0xheWVyVmlzaWJsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQVW5kby5wcm90b3R5cGUpO1xuICAgIENQVW5kb0xheWVyVmlzaWJsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUFVuZG9MYXllclZpc2libGU7XG4gICAgXG4gICAgQ1BVbmRvTGF5ZXJWaXNpYmxlLnByb3RvdHlwZS5yZWRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoYXQuZ2V0TGF5ZXIodGhpcy5sYXllckluZGV4KS52aXNpYmxlID0gdGhpcy5uZXdWaXM7XG4gICAgICAgIFxuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSh0aGlzLmxheWVySW5kZXgpO1xuICAgIH07XG5cbiAgICBDUFVuZG9MYXllclZpc2libGUucHJvdG90eXBlLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhhdC5nZXRMYXllcih0aGlzLmxheWVySW5kZXgpLnZpc2libGUgPSB0aGlzLm9sZFZpcztcbiAgICAgICAgXG4gICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgY2FsbExpc3RlbmVyc0xheWVyQ2hhbmdlKHRoaXMubGF5ZXJJbmRleCk7XG4gICAgfTtcblxuICAgIENQVW5kb0xheWVyVmlzaWJsZS5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbih1KSB7XG4gICAgICAgIGlmICh1IGluc3RhbmNlb2YgQ1BVbmRvTGF5ZXJWaXNpYmxlICYmIHRoaXMubGF5ZXJJbmRleCA9PSB1LmxheWVySW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMubmV3VmlzID0gdS5uZXdWaXM7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIENQVW5kb0xheWVyVmlzaWJsZS5wcm90b3R5cGUubm9DaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2xkVmlzID09IHRoaXMubmV3VmlzO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gQ1BVbmRvQWRkTGF5ZXIobGF5ZXJJbmRleCkge1xuICAgICAgICB0aGlzLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxheWVycy5zcGxpY2UobGF5ZXJJbmRleCArIDEsIDEpO1xuICAgICAgICAgICAgdGhhdC5zZXRBY3RpdmVMYXllckluZGV4KGxheWVySW5kZXgpO1xuICAgICAgICAgICAgaW52YWxpZGF0ZUZ1c2lvbigpO1xuICAgICAgICAgICAgY2FsbExpc3RlbmVyc0xheWVyQ2hhbmdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIG5ld0xheWVyID0gbmV3IENQTGF5ZXIodGhhdC53aWR0aCwgdGhhdC5oZWlnaHQsIHRoYXQuZ2V0RGVmYXVsdExheWVyTmFtZSgpKTtcbiAgICAgICAgICAgIG5ld0xheWVyLmNsZWFyQWxsKEVNUFRZX0xBWUVSX0NPTE9SKTtcbiAgICAgICAgICAgIGxheWVycy5zcGxpY2UobGF5ZXJJbmRleCArIDEsIDAsIG5ld0xheWVyKTtcbiAgICAgICAgICAgIHRoYXQuc2V0QWN0aXZlTGF5ZXJJbmRleChsYXllckluZGV4ICsgMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIENQVW5kb0FkZExheWVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BVbmRvLnByb3RvdHlwZSk7XG4gICAgQ1BVbmRvQWRkTGF5ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BVbmRvQWRkTGF5ZXI7XG5cbiAgICBmdW5jdGlvbiBDUFVuZG9EdXBsaWNhdGVMYXllcihsYXllckluZGV4KSB7XG4gICAgICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGF5ZXJzLnNwbGljZShsYXllckluZGV4ICsgMSwgMSk7XG4gICAgICAgICAgICB0aGF0LnNldEFjdGl2ZUxheWVySW5kZXgobGF5ZXJJbmRleCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucmVkbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgY29weVN1ZmZpeCA9IFwiIENvcHlcIixcblxuICAgICAgICAgICAgICAgIHNvdXJjZUxheWVyID0gbGF5ZXJzW2xheWVySW5kZXhdLFxuICAgICAgICAgICAgICAgIG5ld0xheWVyID0gbmV3IENQTGF5ZXIodGhhdC53aWR0aCwgdGhhdC5oZWlnaHQpLFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG5ld0xheWVyTmFtZSA9IHNvdXJjZUxheWVyLm5hbWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghbmV3TGF5ZXJOYW1lLmVuZHNXaXRoKGNvcHlTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgbmV3TGF5ZXJOYW1lICs9IGNvcHlTdWZmaXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5ld0xheWVyLmNvcHlGcm9tKHNvdXJjZUxheWVyKTtcbiAgICAgICAgICAgIG5ld0xheWVyLm5hbWUgPSBuZXdMYXllck5hbWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxheWVycy5zcGxpY2UobGF5ZXJJbmRleCArIDEsIDAsIG5ld0xheWVyKTtcblxuICAgICAgICAgICAgdGhhdC5zZXRBY3RpdmVMYXllckluZGV4KGxheWVySW5kZXggKyAxKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaW52YWxpZGF0ZUZ1c2lvbigpO1xuICAgICAgICAgICAgY2FsbExpc3RlbmVyc0xheWVyQ2hhbmdlKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIENQVW5kb0R1cGxpY2F0ZUxheWVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BVbmRvLnByb3RvdHlwZSk7XG4gICAgQ1BVbmRvRHVwbGljYXRlTGF5ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BVbmRvRHVwbGljYXRlTGF5ZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbGF5ZXJJbmRleCBpbnRcbiAgICAgKiBAcGFyYW0gbGF5ZXIgQ1BMYXllclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENQVW5kb1JlbW92ZUxheWVyKGxheWVySW5kZXgsIGxheWVyKSB7XG4gICAgICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGF5ZXJzLnNwbGljZShsYXllckluZGV4LCAwLCBsYXllcik7XG4gICAgICAgICAgICB0aGF0LnNldEFjdGl2ZUxheWVySW5kZXgobGF5ZXJJbmRleCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucmVkbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGF5ZXJzLnNwbGljZShsYXllckluZGV4LCAxKTtcbiAgICAgICAgICAgIHRoYXQuc2V0QWN0aXZlTGF5ZXJJbmRleChsYXllckluZGV4IDwgbGF5ZXJzLmxlbmd0aCA/IGxheWVySW5kZXggOiBsYXllckluZGV4IC0gMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZ2V0TWVtb3J5VXNlZCA9IGZ1bmN0aW9uKHVuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZG9uZSA/IDAgOiBsYXllci53aWR0aCAqIGxheWVyLmhlaWdodCAqIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBDUFVuZG9SZW1vdmVMYXllci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQVW5kby5wcm90b3R5cGUpO1xuICAgIENQVW5kb1JlbW92ZUxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQVW5kb1JlbW92ZUxheWVyO1xuICAgIFxuICAgIGZ1bmN0aW9uIENQVW5kb01lcmdlRG93bkxheWVyKGxheWVySW5kZXgpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBsYXllckJvdHRvbSA9IG5ldyBDUExheWVyKHRoYXQud2lkdGgsIHRoYXQuaGVpZ2h0KSxcbiAgICAgICAgICAgIGxheWVyVG9wO1xuXG4gICAgICAgIGxheWVyQm90dG9tLmNvcHlGcm9tKGxheWVyc1tsYXllckluZGV4IC0gMV0pO1xuICAgICAgICBsYXllclRvcCA9IGxheWVyc1tsYXllckluZGV4XTtcblxuICAgICAgICB0aGlzLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxheWVyc1tsYXllckluZGV4IC0gMV0uY29weUZyb20obGF5ZXJCb3R0b20pO1xuICAgICAgICAgICAgbGF5ZXJzLnNwbGljZShsYXllckluZGV4LCAwLCBsYXllclRvcCk7XG4gICAgICAgICAgICB0aGF0LnNldEFjdGl2ZUxheWVySW5kZXgobGF5ZXJJbmRleCk7XG5cbiAgICAgICAgICAgIGxheWVyQm90dG9tID0gbGF5ZXJUb3AgPSBudWxsO1xuXG4gICAgICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgICAgICAgICBjYWxsTGlzdGVuZXJzTGF5ZXJDaGFuZ2UoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxheWVyQm90dG9tID0gbmV3IENQTGF5ZXIodGhhdC53aWR0aCwgdGhhdC5oZWlnaHQpO1xuICAgICAgICAgICAgbGF5ZXJCb3R0b20uY29weUZyb20obGF5ZXJzW2xheWVySW5kZXggLSAxXSk7XG4gICAgICAgICAgICBsYXllclRvcCA9IGxheWVyc1tsYXllckluZGV4XTtcblxuICAgICAgICAgICAgdGhhdC5zZXRBY3RpdmVMYXllckluZGV4KGxheWVySW5kZXgpO1xuICAgICAgICAgICAgdGhhdC5tZXJnZURvd24oZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZ2V0TWVtb3J5VXNlZCA9IGZ1bmN0aW9uKHVuZG9uZSwgcGFyYW0pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRvbmUgPyAwIDogdGhhdC53aWR0aCAqIHRoYXQuaGVpZ2h0ICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwgKiAyO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBDUFVuZG9NZXJnZURvd25MYXllci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQVW5kby5wcm90b3R5cGUpO1xuICAgIENQVW5kb01lcmdlRG93bkxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQVW5kb01lcmdlRG93bkxheWVyO1xuXG4gICAgZnVuY3Rpb24gQ1BVbmRvTWVyZ2VBbGxMYXllcnMoKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIG9sZEFjdGl2ZUxheWVySW5kZXggPSB0aGF0LmdldEFjdGl2ZUxheWVySW5kZXgoKSxcbiAgICAgICAgICAgIG9sZExheWVycyA9IGxheWVycy5zbGljZSgwKTsgLy8gQ2xvbmUgb2xkIGxheWVycyBhcnJheVxuXG4gICAgICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGF5ZXJzID0gb2xkTGF5ZXJzLnNsaWNlKDApO1xuICAgICAgICAgICAgdGhhdC5zZXRBY3RpdmVMYXllckluZGV4KG9sZEFjdGl2ZUxheWVySW5kZXgpO1xuXG4gICAgICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgICAgICAgICBjYWxsTGlzdGVuZXJzTGF5ZXJDaGFuZ2UoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoYXQubWVyZ2VBbGxMYXllcnMoZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZ2V0TWVtb3J5VXNlZCA9IGZ1bmN0aW9uKHVuZG9uZSwgcGFyYW0pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRvbmUgPyAwIDogb2xkTGF5ZXJzLmxlbmd0aCAqIHdpZHRoICogaGVpZ2h0ICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIENQVW5kb01lcmdlQWxsTGF5ZXJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BVbmRvLnByb3RvdHlwZSk7XG4gICAgQ1BVbmRvTWVyZ2VBbGxMYXllcnMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BVbmRvTWVyZ2VBbGxMYXllcnM7XG4gICAgXG4gICAgZnVuY3Rpb24gQ1BVbmRvTW92ZUxheWVyKGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRvIDw9IGZyb20pIHtcbiAgICAgICAgICAgICAgICBtb3ZlTGF5ZXJSZWFsKHRvLCBmcm9tICsgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vdmVMYXllclJlYWwodG8gLSAxLCBmcm9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1vdmVMYXllclJlYWwoZnJvbSwgdG8pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBDUFVuZG9Nb3ZlTGF5ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUFVuZG8ucHJvdG90eXBlKTtcbiAgICBDUFVuZG9Nb3ZlTGF5ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BVbmRvTW92ZUxheWVyO1xuXG4gICAgZnVuY3Rpb24gQ1BVbmRvTGF5ZXJBbHBoYShsYXllckluZGV4LCBhbHBoYSkge1xuICAgICAgICB0aGlzLmZyb20gPSB0aGF0LmdldExheWVyKGxheWVySW5kZXgpLmdldEFscGhhKCk7XG4gICAgICAgIHRoaXMudG8gPSBhbHBoYTtcbiAgICAgICAgdGhpcy5sYXllckluZGV4ID0gbGF5ZXJJbmRleDtcbiAgICB9XG4gICAgXG4gICAgQ1BVbmRvTGF5ZXJBbHBoYS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQVW5kby5wcm90b3R5cGUpO1xuICAgIENQVW5kb0xheWVyQWxwaGEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BVbmRvTGF5ZXJBbHBoYTtcblxuICAgIENQVW5kb0xheWVyQWxwaGEucHJvdG90eXBlLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhhdC5nZXRMYXllcih0aGlzLmxheWVySW5kZXgpLnNldEFscGhhKHRoaXMuZnJvbSk7XG4gICAgICAgIFxuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSh0aGlzLmxheWVySW5kZXgpO1xuICAgIH07XG5cbiAgICBDUFVuZG9MYXllckFscGhhLnByb3RvdHlwZS5yZWRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoYXQuZ2V0TGF5ZXIodGhpcy5sYXllckluZGV4KS5zZXRBbHBoYSh0aGlzLnRvKTtcbiAgICAgICAgXG4gICAgICAgIGludmFsaWRhdGVGdXNpb24oKTtcbiAgICAgICAgY2FsbExpc3RlbmVyc0xheWVyQ2hhbmdlKHRoaXMubGF5ZXJJbmRleCk7XG4gICAgfVxuXG4gICAgQ1BVbmRvTGF5ZXJBbHBoYS5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbih1KSB7XG4gICAgICAgIGlmICh1IGluc3RhbmNlb2YgQ1BVbmRvTGF5ZXJBbHBoYSAmJiB0aGlzLmxheWVySW5kZXggPT0gdS5sYXllckluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLnRvID0gdS50bztcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgQ1BVbmRvTGF5ZXJBbHBoYS5wcm90b3R5cGUubm9DaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbSA9PSB0aGlzLnRvO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIENQVW5kb0xheWVyTW9kZShsYXllckluZGV4LCB0bykge1xuICAgICAgICB0aGlzLmxheWVySW5kZXggPSBsYXllckluZGV4O1xuICAgICAgICB0aGlzLmZyb20gPSB0aGF0LmdldExheWVyKGxheWVySW5kZXgpLmdldEJsZW5kTW9kZSgpO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgfVxuICAgIFxuICAgIENQVW5kb0xheWVyTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQVW5kby5wcm90b3R5cGUpO1xuICAgIENQVW5kb0xheWVyTW9kZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUFVuZG9MYXllck1vZGU7XG5cbiAgICBDUFVuZG9MYXllck1vZGUucHJvdG90eXBlLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhhdC5nZXRMYXllcih0aGlzLmxheWVySW5kZXgpLnNldEJsZW5kTW9kZSh0aGlzLmZyb20pO1xuICAgICAgICBcbiAgICAgICAgaW52YWxpZGF0ZUZ1c2lvbigpO1xuICAgICAgICBjYWxsTGlzdGVuZXJzTGF5ZXJDaGFuZ2UoKTtcbiAgICB9O1xuXG4gICAgQ1BVbmRvTGF5ZXJNb2RlLnByb3RvdHlwZS5yZWRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoYXQuZ2V0TGF5ZXIodGhpcy5sYXllckluZGV4KS5zZXRCbGVuZE1vZGUodGhpcy50byk7XG4gICAgICAgIFxuICAgICAgICBpbnZhbGlkYXRlRnVzaW9uKCk7XG4gICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSgpO1xuICAgIH07XG5cbiAgICBDUFVuZG9MYXllck1vZGUucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24odSkge1xuICAgICAgICBpZiAodSBpbnN0YW5jZW9mIENQVW5kb0xheWVyTW9kZSAmJiB0aGlzLmxheWVySW5kZXggPT0gdS5sYXllckluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLnRvID0gdS50bztcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgQ1BVbmRvTGF5ZXJNb2RlLnByb3RvdHlwZS5ub0NoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcm9tID09IHRoaXMudG87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gQ1BVbmRvTGF5ZXJSZW5hbWUobGF5ZXJJbmRleCwgdG8pIHtcbiAgICAgICAgdGhpcy5sYXllckluZGV4ID0gbGF5ZXJJbmRleDtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLmZyb20gPSB0aGF0LmdldExheWVyKGxheWVySW5kZXgpLm5hbWU7XG4gICAgfVxuICAgIFxuICAgIENQVW5kb0xheWVyUmVuYW1lLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BVbmRvLnByb3RvdHlwZSk7XG4gICAgQ1BVbmRvTGF5ZXJSZW5hbWUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BVbmRvTGF5ZXJSZW5hbWU7XG4gICAgXG4gICAgQ1BVbmRvTGF5ZXJSZW5hbWUucHJvdG90eXBlLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhhdC5nZXRMYXllcih0aGlzLmxheWVySW5kZXgpLm5hbWUgPSB0aGlzLmZyb207XG4gICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSh0aGlzLmxheWVySW5kZXgpO1xuICAgIH07XG5cbiAgICBDUFVuZG9MYXllclJlbmFtZS5wcm90b3R5cGUucmVkbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGF0LmdldExheWVyKHRoaXMubGF5ZXJJbmRleCkubmFtZSA9IHRoaXMudG87XG4gICAgICAgIGNhbGxMaXN0ZW5lcnNMYXllckNoYW5nZSh0aGlzLmxheWVySW5kZXgpO1xuICAgIH07XG5cbiAgICBDUFVuZG9MYXllclJlbmFtZS5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbih1KSB7XG4gICAgICAgIGlmICh1IGluc3RhbmNlb2YgQ1BVbmRvTGF5ZXJSZW5hbWUgJiYgdGhpcy5sYXllckluZGV4ID09IHUubGF5ZXJJbmRleCkge1xuICAgICAgICAgICAgdGhpcy50byA9IHUudG87XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIENQVW5kb0xheWVyUmVuYW1lLnByb3RvdHlwZS5ub0NoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcm9tID09IHRoaXMudG87XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZnJvbSBDUFJlY3RcbiAgICAgKiBAcGFyYW0gdG8gQ1BSZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gQ1BVbmRvUmVjdGFuZ2xlU2VsZWN0aW9uKGZyb20sIHRvKSB7XG4gICAgICAgIGZyb20gPSBmcm9tLmNsb25lKCk7XG4gICAgICAgIHRvID0gdG8uY2xvbmUoKTtcblxuICAgICAgICB0aGlzLnVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoYXQuc2V0U2VsZWN0aW9uKGZyb20pO1xuICAgICAgICAgICAgY2FsbExpc3RlbmVyc1VwZGF0ZVJlZ2lvbih0aGF0LmdldEJvdW5kcygpKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoYXQuc2V0U2VsZWN0aW9uKHRvKTtcbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNVcGRhdGVSZWdpb24odGhhdC5nZXRCb3VuZHMoKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5ub0NoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb20uZXF1YWxzKHRvKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgQ1BVbmRvUmVjdGFuZ2xlU2VsZWN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BVbmRvLnByb3RvdHlwZSk7XG4gICAgQ1BVbmRvUmVjdGFuZ2xlU2VsZWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQVW5kb1JlY3RhbmdsZVNlbGVjdGlvbjtcblxuICAgIC8qKlxuICAgICAqIFVwb24gY3JlYXRpb24sIHRyYW5zZm9ybXMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCByZWdpb24gb2YgdGhlIGN1cnJlbnQgbGF5ZXIgYnkgdGhlIGdpdmVuIGFmZmluZSB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NQUmVjdH0gc3JjUmVjdCAtIFJlY3RhbmdsZSB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0NQVHJhbnNmb3JtfSBhZmZpbmVUcmFuc2Zvcm0gLSBUcmFuc2Zvcm0gdG8gYXBwbHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJwb2xhdGlvbiAtIFwic21vb3RoXCIgb3IgXCJzaGFycFwiXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ1BBY3Rpb25UcmFuc2Zvcm1TZWxlY3Rpb24oc3JjUmVjdCwgYWZmaW5lVHJhbnNmb3JtLCBpbnRlcnBvbGF0aW9uKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgZnJvbVNlbGVjdGlvbiA9IHRoYXQuZ2V0U2VsZWN0aW9uKCksXG4gICAgICAgICAgICBkc3RSZWN0ID0gbnVsbCxcblxuICAgICAgICAgICAgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksXG4gICAgICAgICAgICB0ZW1wQ2FudmFzQ29udGV4dCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLFxuXG4gICAgICAgICAgICB1bmRvRGF0YSwgLy8gQSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBsYXllciB3aXRoaW4gdGhlIHVuZG9EYXRhUmVjdFxuICAgICAgICAgICAgdW5kb0RhdGFSZWN0LFxuXG4gICAgICAgICAgICAvLyBBIGNhbnZhcyBmb3IgY29tcG9zaW5nIHRoZSB0cmFuc2Zvcm0gb250b1xuICAgICAgICAgICAgZnVsbFVuZG9DYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLFxuICAgICAgICAgICAgZnVsbFVuZG9DYW52YXNDb250ZXh0ID0gZnVsbFVuZG9DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgIGFmZmluZVRyYW5zZm9ybSA9IGFmZmluZVRyYW5zZm9ybS5jbG9uZSgpO1xuICAgICAgICBpbnRlcnBvbGF0aW9uID0gaW50ZXJwb2xhdGlvbiB8fCBcInNtb290aFwiO1xuXG4gICAgICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgbGF5ZXIgPSB0aGF0LmdldExheWVyKHRoaXMubGF5ZXJJbmRleCksXG4gICAgICAgICAgICAgICAgaW52YWxpZGF0ZVJlZ2lvbiA9IGRzdFJlY3QuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICB1bmRvU3JjUmVnaW9uO1xuXG4gICAgICAgICAgICBpbnZhbGlkYXRlUmVnaW9uLnVuaW9uKHNyY1JlY3QpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB1bmRvU3JjUmVnaW9uID0gaW52YWxpZGF0ZVJlZ2lvbi5jbG9uZSgpO1xuICAgICAgICAgICAgdW5kb1NyY1JlZ2lvbi50cmFuc2xhdGUoLXVuZG9EYXRhUmVjdC5sZWZ0LCAtdW5kb0RhdGFSZWN0LnRvcCk7XG5cbiAgICAgICAgICAgIGxheWVyLmNvcHlCaXRtYXBSZWN0KHVuZG9EYXRhLCBpbnZhbGlkYXRlUmVnaW9uLmxlZnQsIGludmFsaWRhdGVSZWdpb24udG9wLCB1bmRvU3JjUmVnaW9uKTtcblxuICAgICAgICAgICAgdGhhdC5zZXRTZWxlY3Rpb24oZnJvbVNlbGVjdGlvbik7XG4gICAgICAgICAgICB0aGF0LnNldEFjdGl2ZUxheWVySW5kZXgodGhpcy5sYXllckluZGV4KTtcblxuICAgICAgICAgICAgaW52YWxpZGF0ZUZ1c2lvblJlY3QoaW52YWxpZGF0ZVJlZ2lvbik7XG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBSZXF1aXJlZCBiZWNhdXNlIGluIHRoZSBjYXNlIG9mIGEgY29weSwgd2UgZG9uJ3QgaW52YWxpZGF0ZSB0aGUgc291cmNlIHJlY3QgaW4gdGhlIGZ1c2lvbiwgc28gdGhlIGNhbnZhc1xuICAgICAgICAgICAgICogd29uJ3QgZW5kIHVwIHJlcGFpbnRpbmcgdGhlIHNlbGVjdGlvbiByZWN0YW5nbGUgdGhlcmUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNTZWxlY3Rpb25DaGFuZ2UoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGxheWVyID0gdGhhdC5nZXRMYXllcih0aGlzLmxheWVySW5kZXgpO1xuXG4gICAgICAgICAgICAvLyBNYWtlIGEgZnJlc2ggY29weSBvZiB0aGUgbGF5ZXIgaW50byBhIENhbnZhcyB0byBjb21wb3NlIG9udG9cbiAgICAgICAgICAgIGZ1bGxVbmRvQ2FudmFzQ29udGV4dC5wdXRJbWFnZURhdGEobGF5ZXIuZ2V0SW1hZ2VEYXRhKCksIDAsIDApO1xuXG4gICAgICAgICAgICAvLyBFcmFzZSB0aGUgcmVnaW9uIHdlIG1vdmVkIGZyb21cbiAgICAgICAgICAgIGZ1bGxVbmRvQ2FudmFzQ29udGV4dC5jbGVhclJlY3Qoc3JjUmVjdC5sZWZ0LCBzcmNSZWN0LnRvcCwgc3JjUmVjdC5nZXRXaWR0aCgpLCBzcmNSZWN0LmdldEhlaWdodCgpKTtcblxuICAgICAgICAgICAgc2V0Q2FudmFzSW50ZXJwb2xhdGlvbihmdWxsVW5kb0NhbnZhc0NvbnRleHQsIGludGVycG9sYXRpb24gPT0gXCJzbW9vdGhcIik7XG5cbiAgICAgICAgICAgIGZ1bGxVbmRvQ2FudmFzQ29udGV4dC5zYXZlKCk7XG5cbiAgICAgICAgICAgIC8vIEFwcGx5IHRoZSB0cmFuc2Zvcm0gd2hlbiBkcmF3aW5nIHRoZSB0cmFuc2Zvcm1lZCBmcmFnbWVudFxuICAgICAgICAgICAgZnVsbFVuZG9DYW52YXNDb250ZXh0LnNldFRyYW5zZm9ybShcbiAgICAgICAgICAgICAgICBhZmZpbmVUcmFuc2Zvcm0ubVswXSwgYWZmaW5lVHJhbnNmb3JtLm1bMV0sIGFmZmluZVRyYW5zZm9ybS5tWzJdLFxuICAgICAgICAgICAgICAgIGFmZmluZVRyYW5zZm9ybS5tWzNdLCBhZmZpbmVUcmFuc2Zvcm0ubVs0XSwgYWZmaW5lVHJhbnNmb3JtLm1bNV1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmdWxsVW5kb0NhbnZhc0NvbnRleHQuZHJhd0ltYWdlKHRlbXBDYW52YXMsIHNyY1JlY3QubGVmdCwgc3JjUmVjdC50b3ApO1xuXG4gICAgICAgICAgICBmdWxsVW5kb0NhbnZhc0NvbnRleHQucmVzdG9yZSgpO1xuXG4gICAgICAgICAgICAvLyBDb3B5IGJhY2sgdG8gdGhlIGxheWVyIGRhdGFcbiAgICAgICAgICAgIGxheWVyLnNldEltYWdlRGF0YShmdWxsVW5kb0NhbnZhc0NvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGxheWVyLndpZHRoLCBsYXllci5oZWlnaHQpKTtcblxuICAgICAgICAgICAgLy8gSW52YWxpZGF0ZSB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiByZWdpb25zIHdlIHRvdWNoZWRcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGludmFsaWRhdGVSZWdpb24gPSBzcmNSZWN0LmNsb25lKCksXG4gICAgICAgICAgICAgICAgZHN0Q29ybmVycyA9IHNyY1JlY3QudG9Qb2ludHMoKTtcblxuICAgICAgICAgICAgYWZmaW5lVHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhkc3RDb3JuZXJzKTtcblxuICAgICAgICAgICAgZHN0UmVjdCA9IENQUmVjdC5jcmVhdGVCb3VuZGluZ0JveChkc3RDb3JuZXJzKTtcbiAgICAgICAgICAgIGRzdFJlY3Qucm91bmRDb250YWluKCk7XG4gICAgICAgICAgICBsYXllci5nZXRCb3VuZHMoKS5jbGlwKGRzdFJlY3QpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpbnZhbGlkYXRlUmVnaW9uLnVuaW9uKGRzdFJlY3QpO1xuXG4gICAgICAgICAgICBpbnZhbGlkYXRlRnVzaW9uUmVjdChpbnZhbGlkYXRlUmVnaW9uKTtcblxuICAgICAgICAgICAgLy8gVHJhbnNmb3JtIHRoZSBzZWxlY3Rpb24gcmVjdCB0byBlbmNsb3NlIHRoZSB0cmFuc2Zvcm1lZCBzZWxlY3Rpb25cbiAgICAgICAgICAgIGlmICghZnJvbVNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgdG9TZWxlY3Rpb25Qb2ludHMgPSBmcm9tU2VsZWN0aW9uLnRvUG9pbnRzKCksXG4gICAgICAgICAgICAgICAgICAgIHRvU2VsZWN0aW9uUmVjdDtcblxuICAgICAgICAgICAgICAgIGFmZmluZVRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludHModG9TZWxlY3Rpb25Qb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgdG9TZWxlY3Rpb25SZWN0ID0gQ1BSZWN0LmNyZWF0ZUJvdW5kaW5nQm94KHRvU2VsZWN0aW9uUG9pbnRzKTtcbiAgICAgICAgICAgICAgICB0b1NlbGVjdGlvblJlY3Qucm91bmROZWFyZXN0KCk7XG4gICAgICAgICAgICAgICAgbGF5ZXIuZ2V0Qm91bmRzKCkuY2xpcCh0b1NlbGVjdGlvblJlY3QpO1xuXG4gICAgICAgICAgICAgICAgdGhhdC5zZXRTZWxlY3Rpb24odG9TZWxlY3Rpb25SZWN0KTtcbiAgICAgICAgICAgICAgICBjYWxsTGlzdGVuZXJzU2VsZWN0aW9uQ2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcGxhY2UgdGhlIHRyYW5zZm9ybSB3aXRoIHRoZSBnaXZlbiBvbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Q1BUcmFuc2Zvcm19IF9hZmZpbmVUcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW1lbmQgPSBmdW5jdGlvbihfYWZmaW5lVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBsYXllciA9IHRoYXQuZ2V0TGF5ZXIodGhpcy5sYXllckluZGV4KTtcblxuICAgICAgICAgICAgdGhpcy51bmRvKCk7XG5cbiAgICAgICAgICAgIGlmICh1bmRvRGF0YVJlY3QuZ2V0V2lkdGgoKSA8IGxheWVyLndpZHRoIHx8IHVuZG9EYXRhUmVjdC5nZXRIZWlnaHQoKSA8IGxheWVyLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogV2UgbmVlZCBhIGNvbXBsZXRlIGNvcHkgb2YgdGhlIGxheWVyIGluIHVuZG9EYXRhIHRvIHN1cHBvcnQgZnVydGhlciByZWRvKCkuIChBcyB3ZSBwcm9iYWJseSBwcmV2aW91c2x5XG4gICAgICAgICAgICAgICAgICogb25seSBtYWRlIGEgYmFja3VwIGNvcHkgb2YgdGhlIGFyZWFzIHdlIGVyYXNlZCB1c2luZyB0aGUgb2xkIHRyYW5zZm9ybSkuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdW5kb0RhdGEgPSBsYXllci5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIHVuZG9EYXRhUmVjdCA9IGxheWVyLmdldEJvdW5kcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZmZpbmVUcmFuc2Zvcm0gPSBfYWZmaW5lVHJhbnNmb3JtLmNsb25lKCk7XG4gICAgICAgICAgICB0aGlzLnJlZG8oKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNldEludGVycG9sYXRpb24gPSBmdW5jdGlvbihuZXdJbnRlcnBvbGF0aW9uKSB7XG4gICAgICAgICAgICBpZiAobmV3SW50ZXJwb2xhdGlvbiAhPSBpbnRlcnBvbGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbiA9IG5ld0ludGVycG9sYXRpb247XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVuZG8oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZG8oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGVkIHdoZW4gd2UncmUgbm8gbG9uZ2VyIHRoZSB0b3Agb3BlcmF0aW9uIGluIHRoZSB1bmRvIHN0YWNrLCBzbyB0aGF0IHdlIGNhbiBvcHRpbWl6ZSBmb3IgbG93ZXIgbWVtb3J5XG4gICAgICAgICAqIHVzYWdlIGluc3RlYWQgb2YgZmFzdGVyIHJldmlzaW9uIHNwZWVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGxheWVyID0gdGhhdC5nZXRMYXllcih0aGlzLmxheWVySW5kZXgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgZnVsbCB1bmRvLCBhbmQgd2UgZG9uJ3QgbmVlZCB2ZXJ5IG11Y2ggYXJlYSBmb3IgdW5kbywgdHJpbSBpdCB0byBqdXN0IHRoZSBhcmVhIHdlIG5lZWRcbiAgICAgICAgICAgIGlmICh1bmRvRGF0YVJlY3QuZ2V0V2lkdGgoKSA9PSBsYXllci53aWR0aCAmJiB1bmRvRGF0YVJlY3QuZ2V0SGVpZ2h0KCkgPT0gbGF5ZXIuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGRpcnR5UmVjdCA9IHNyY1JlY3QuZ2V0VW5pb24oZHN0UmVjdCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGlydHlSZWN0LmdldEFyZWEoKSAqIDIgPCBsYXllci53aWR0aCAqIGxheWVyLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB1bmRvRGF0YVJlY3QgPSBkaXJ0eVJlY3Q7XG4gICAgICAgICAgICAgICAgICAgIHVuZG9EYXRhID0gdW5kb0RhdGEuY2xvbmVSZWN0KHVuZG9EYXRhUmVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZ2V0TWVtb3J5VXNlZCA9IGZ1bmN0aW9uKHVuZG9uZSwgcGFyYW0pIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRvRGF0YS5nZXRNZW1vcnlTaXplKCk7XG4gICAgICAgIH07XG5cblx0ICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBjb3B5IG9mIHRoZSBhZmZpbmUgdHJhbnNmb3JtLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBhZmZpbmVUcmFuc2Zvcm0uY2xvbmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGEgY29weSBvZiB0aGUgaW5pdGlhbCBkb2N1bWVudCByZWN0YW5nbGUgKGJlZm9yZSB0aGUgdHJhbnNmb3JtIHdhcyBhcHBsaWVkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7Q1BSZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZXRJbml0aWFsVHJhbnNmb3JtUmVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNyY1JlY3QuY2xvbmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGEgY29weSBvZiB0aGUgaW5pdGlhbCB1c2VyIHNlbGVjdGlvbiByZWN0YW5nbGUgKGJlZm9yZSB0aGUgdHJhbnNmb3JtIHdhcyBhcHBsaWVkKS4gQ2FuIGJlIGVtcHR5IGlmXG4gICAgICAgICAqIHRoZSB1c2VyIGRpZG4ndCBoYXZlIGFueXRoaW5nIHNlbGVjdGVkIGJlZm9yZSB0aGUgdHJhbnNmb3JtIGJlZ2FuLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7Q1BSZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZXRJbml0aWFsU2VsZWN0aW9uUmVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21TZWxlY3Rpb24uY2xvbmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxheWVySW5kZXggPSB0aGF0LmdldEFjdGl2ZUxheWVySW5kZXgoKTtcblxuICAgICAgICBsZXRcbiAgICAgICAgICAgIGxheWVyID0gdGhhdC5nZXRMYXllcih0aGlzLmxheWVySW5kZXgpO1xuXG4gICAgICAgIHVuZG9EYXRhID0gbGF5ZXIuY2xvbmUoKTtcbiAgICAgICAgdW5kb0RhdGFSZWN0ID0gbGF5ZXIuZ2V0Qm91bmRzKCk7XG4gICAgICAgIGZ1bGxVbmRvQ2FudmFzLndpZHRoID0gbGF5ZXIud2lkdGg7XG4gICAgICAgIGZ1bGxVbmRvQ2FudmFzLmhlaWdodCA9IGxheWVyLmhlaWdodDtcblxuICAgICAgICAvLyBNYWtlIGEgY29weSBvZiBqdXN0IHRoZSBzb3VyY2UgcmVjdGFuZ2xlIGluIGl0cyBvd24gY2FudmFzIHNvIHdlIGhhdmUgaXQgYXMgYW4gaW1hZ2UgdG8gYmUgZHJhd24gbGF0ZXJcbiAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IHNyY1JlY3QuZ2V0V2lkdGgoKTtcbiAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSBzcmNSZWN0LmdldEhlaWdodCgpO1xuICAgICAgICB0ZW1wQ2FudmFzQ29udGV4dC5wdXRJbWFnZURhdGEodW5kb0RhdGEuZ2V0SW1hZ2VEYXRhKCksIC1zcmNSZWN0LmxlZnQsIC1zcmNSZWN0LnRvcCwgc3JjUmVjdC5sZWZ0LCBzcmNSZWN0LnRvcCwgc3JjUmVjdC5nZXRXaWR0aCgpLCBzcmNSZWN0LmdldEhlaWdodCgpKTtcblxuICAgICAgICB0aGlzLnJlZG8oKTtcbiAgICB9XG5cbiAgICBDUEFjdGlvblRyYW5zZm9ybVNlbGVjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQVW5kby5wcm90b3R5cGUpO1xuICAgIENQQWN0aW9uVHJhbnNmb3JtU2VsZWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQQWN0aW9uVHJhbnNmb3JtU2VsZWN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogVXBvbiBjcmVhdGlvbiwgbW92ZXMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCByZWdpb24gb2YgdGhlIGN1cnJlbnQgbGF5ZXIgYnkgdGhlIGdpdmVuIG9mZnNldCAob3IgY29waWVzIGl0IGlmXG4gICAgICogJ2NvcHknIGlzIHRydWUpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNyY1JlY3RcbiAgICAgKiBAcGFyYW0gb2Zmc2V0WFxuICAgICAqIEBwYXJhbSBvZmZzZXRZXG4gICAgICogQHBhcmFtIGNvcHlcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDUEFjdGlvbk1vdmVTZWxlY3Rpb24oc3JjUmVjdCwgb2Zmc2V0WCwgb2Zmc2V0WSwgY29weSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGZyb21TZWxlY3Rpb24gPSB0aGF0LmdldFNlbGVjdGlvbigpLFxuICAgICAgICAgICAgZHN0UmVjdCA9IG51bGwsXG5cbiAgICAgICAgICAgIGZ1bGxVbmRvLCAvLyBBIGNvcHkgb2YgdGhlIGVudGlyZSBsYXllclxuICAgICAgICAgICAgc3JjRGF0YSA9IG51bGwsIC8vIEEgY29weSBvZiB0aGUgb3JpZ2luYWwgcGl4ZWxzIGF0IHRoZSBzcmNSZWN0LCBvciBudWxsIGlmIHdlIHVzZSBhIGZ1bGxVbmRvIGluc3RlYWRcbiAgICAgICAgICAgIGRzdERhdGEgPSBudWxsIC8vIEEgY29weSBvZiB0aGUgb3JpZ2luYWwgcGl4ZWxzIGF0IHRoZSBkc3RSZWN0LCBvciBudWxsXG4gICAgICAgIDtcbiAgICAgICAgXG4gICAgICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgbGF5ZXIgPSB0aGF0LmdldExheWVyKHRoaXMubGF5ZXJJbmRleCksXG4gICAgICAgICAgICAgICAgaW52YWxpZGF0ZVJlZ2lvbiA9IGRzdFJlY3QuY2xvbmUoKTtcblxuICAgICAgICAgICAgaWYgKCFjb3B5KSB7XG4gICAgICAgICAgICAgICAgaW52YWxpZGF0ZVJlZ2lvbi51bmlvbihzcmNSZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZ1bGxVbmRvKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuY29weUJpdG1hcFJlY3QoZnVsbFVuZG8sIGludmFsaWRhdGVSZWdpb24ubGVmdCwgaW52YWxpZGF0ZVJlZ2lvbi50b3AsIGludmFsaWRhdGVSZWdpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYXllci5jb3B5Qml0bWFwUmVjdChzcmNEYXRhLCBzcmNSZWN0LmxlZnQsIHNyY1JlY3QudG9wLCBzcmNEYXRhLmdldEJvdW5kcygpKTtcblxuICAgICAgICAgICAgICAgIGlmIChkc3REYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyLmNvcHlCaXRtYXBSZWN0KGRzdERhdGEsIGRzdFJlY3QubGVmdCwgZHN0UmVjdC50b3AsIGRzdERhdGEuZ2V0Qm91bmRzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhhdC5zZXRTZWxlY3Rpb24oZnJvbVNlbGVjdGlvbik7XG4gICAgICAgICAgICB0aGF0LnNldEFjdGl2ZUxheWVySW5kZXgodGhpcy5sYXllckluZGV4KTtcblxuICAgICAgICAgICAgaW52YWxpZGF0ZUZ1c2lvblJlY3QoaW52YWxpZGF0ZVJlZ2lvbik7XG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBSZXF1aXJlZCBiZWNhdXNlIGluIHRoZSBjYXNlIG9mIGEgY29weSwgd2UgZG9uJ3QgaW52YWxpZGF0ZSB0aGUgc291cmNlIHJlY3QgaW4gdGhlIGZ1c2lvbiwgc28gdGhlIGNhbnZhc1xuICAgICAgICAgICAgICogd29uJ3QgZW5kIHVwIHJlcGFpbnRpbmcgdGhlIHNlbGVjdGlvbiByZWN0YW5nbGUgdGhlcmUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNTZWxlY3Rpb25DaGFuZ2UoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGxheWVyID0gdGhhdC5nZXRMYXllcih0aGlzLmxheWVySW5kZXgpLFxuICAgICAgICAgICAgICAgIGludmFsaWRhdGVSZWdpb24gPSBuZXcgQ1BSZWN0KDAsIDAsIDAsIDApO1xuXG4gICAgICAgICAgICBpZiAoIWNvcHkpIHtcbiAgICAgICAgICAgICAgICBsYXllci5jbGVhclJlY3Qoc3JjUmVjdCwgMCk7XG4gICAgICAgICAgICAgICAgaW52YWxpZGF0ZVJlZ2lvbi5zZXQoc3JjUmVjdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRzdFJlY3QgPSBzcmNSZWN0LmNsb25lKCk7XG4gICAgICAgICAgICBkc3RSZWN0LnRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICAgICAgICAgIGxheWVyLmdldEJvdW5kcygpLmNsaXAoZHN0UmVjdCk7XG5cbiAgICAgICAgICAgIC8qIE5vdGUgdGhhdCB3aGlsZSB3ZSBjb3VsZCBjb3B5IGltYWdlIGRhdGEgZnJvbSB0aGUgbGF5ZXIgaXRzZWxmIG9udG8gdGhlIGxheWVyIChpbnN0ZWFkIG9mIHNvdXJjaW5nIHRoYXRcbiAgICAgICAgICAgICAqIGRhdGEgZnJvbSB0aGUgdW5kbyBidWZmZXJzKSwgdGhpcyB3b3VsZCByZXF1aXJlIHRoYXQgcGFzdGVBbHBoYVJlY3QgZG8gdGhlIHJpZ2h0IHRoaW5nIHdoZW4gc291cmNlIGFuZFxuICAgICAgICAgICAgICogZGVzdCByZWN0cyBvdmVybGFwLCB3aGljaCBpdCBkb2Vzbid0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoZnVsbFVuZG8pIHtcbiAgICAgICAgICAgICAgICBsYXllci5wYXN0ZUFscGhhUmVjdChmdWxsVW5kbywgc3JjUmVjdCwgZHN0UmVjdC5sZWZ0LCBkc3RSZWN0LnRvcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxheWVyLnBhc3RlQWxwaGFSZWN0KHNyY0RhdGEsIHNyY0RhdGEuZ2V0Qm91bmRzKCksIGRzdFJlY3QubGVmdCwgZHN0UmVjdC50b3ApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbnZhbGlkYXRlUmVnaW9uLnVuaW9uKGRzdFJlY3QpO1xuXG4gICAgICAgICAgICBpbnZhbGlkYXRlRnVzaW9uUmVjdChpbnZhbGlkYXRlUmVnaW9uKTtcblxuICAgICAgICAgICAgaWYgKCFmcm9tU2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICB0b1NlbGVjdGlvbiA9IGZyb21TZWxlY3Rpb24uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICB0b1NlbGVjdGlvbi50cmFuc2xhdGUob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgICAgICAgICAgICAgdGhhdC5zZXRTZWxlY3Rpb24odG9TZWxlY3Rpb24pO1xuICAgICAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnNTZWxlY3Rpb25DaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSBmdXJ0aGVyIGJ5IHRoZSBnaXZlbiBvZmZzZXQgb24gdG9wIG9mIHRoZSBjdXJyZW50IG9mZnNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIF9vZmZzZXRYIHtpbnR9XG4gICAgICAgICAqIEBwYXJhbSBfb2Zmc2V0WSB7aW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbWVuZCA9IGZ1bmN0aW9uKF9vZmZzZXRYLCBfb2Zmc2V0WSkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgbGF5ZXIgPSB0aGF0LmdldExheWVyKHRoaXMubGF5ZXJJbmRleCk7XG5cbiAgICAgICAgICAgIGlmIChmdWxsVW5kbykge1xuICAgICAgICAgICAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5kbygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAqIFdlIGRvbid0IG5lZWQgdG8gcmVzdG9yZSB0aGUgaW1hZ2UgYXQgdGhlICpzb3VyY2UqIGxvY2F0aW9uIGFzIGEgZnVsbCB1bmRvIHdvdWxkIGRvLCBzaW5jZVxuICAgICAgICAgICAgICAgICAgICAgKiB3ZSdsbCBvbmx5IGVyYXNlIHRoYXQgYXJlYSBhZ2FpbiBvbmNlIHdlIHJlZG8oKS4gU28ganVzdCByZXN0b3JlIHRoZSBkYXRhIGF0IHRoZSBkZXN0LlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY29weUJpdG1hcFJlY3QoZnVsbFVuZG8sIGRzdFJlY3QubGVmdCwgZHN0UmVjdC50b3AsIGRzdFJlY3QpO1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkYXRlRnVzaW9uUmVjdChkc3RSZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICogV2Ugd2FudCB0byBtYWtlIGEgY29tcGxldGUgY29weSBvZiB0aGUgbGF5ZXIgaW4gZnVsbFVuZG8gdG8gc3VwcG9ydCBmYXN0IGZ1cnRoZXIgYW1lbmQoKSBjYWxscy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLnVuZG8oKTtcblxuICAgICAgICAgICAgICAgIGZ1bGxVbmRvID0gbGF5ZXIuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBzcmNEYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICBkc3REYXRhID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2Zmc2V0WCArPSBfb2Zmc2V0WDtcbiAgICAgICAgICAgIG9mZnNldFkgKz0gX29mZnNldFk7XG4gICAgICAgICAgICB0aGlzLnJlZG8oKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGVkIHdoZW4gd2UncmUgbm8gbG9uZ2VyIHRoZSB0b3Agb3BlcmF0aW9uIGluIHRoZSB1bmRvIHN0YWNrLCBzbyB0aGF0IHdlIGNhbiBvcHRpbWl6ZSBmb3IgbG93ZXIgbWVtb3J5XG4gICAgICAgICAqIHVzYWdlIGluc3RlYWQgb2YgZmFzdGVyIHJldmlzaW9uIHNwZWVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChmdWxsVW5kbyAmJiBzcmNSZWN0LmdldEFyZWEoKSAqIDIgPCB0aGF0LndpZHRoICogdGhhdC5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIG91ciBjb3B5IG9mIHRoZSBlbnRpcmUgbGF5ZXIgd2l0aCBqdXN0IGEgY29weSBvZiB0aGUgYXJlYXMgd2UgZGFtYWdlZFxuXG4gICAgICAgICAgICAgICAgc3JjRGF0YSA9IGZ1bGxVbmRvLmNsb25lUmVjdChzcmNSZWN0KTtcblxuICAgICAgICAgICAgICAgIGlmICghY29weSAmJiBkc3RSZWN0LmlzSW5zaWRlKHNyY1JlY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRzdERhdGEgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRzdERhdGEgPSBmdWxsVW5kby5jbG9uZVJlY3QoZHN0UmVjdCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVsbFVuZG8gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZ2V0TWVtb3J5VXNlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgc2l6ZSA9IDA7XG5cbiAgICAgICAgICAgIGlmIChmdWxsVW5kbykge1xuICAgICAgICAgICAgICAgIHNpemUgKz0gZnVsbFVuZG8uZ2V0TWVtb3J5U2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNyY0RhdGEpIHtcbiAgICAgICAgICAgICAgICBzaXplICs9IHNyY0RhdGEuZ2V0TWVtb3J5U2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRzdERhdGEpIHtcbiAgICAgICAgICAgICAgICBzaXplICs9IGRzdERhdGEuZ2V0TWVtb3J5U2l6ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxheWVySW5kZXggPSB0aGF0LmdldEFjdGl2ZUxheWVySW5kZXgoKTtcbiAgICAgICAgZnVsbFVuZG8gPSB0aGF0LmdldExheWVyKHRoaXMubGF5ZXJJbmRleCkuY2xvbmUoKTtcblxuICAgICAgICB0aGlzLnJlZG8oKTtcbiAgICB9XG5cbiAgICBDUEFjdGlvbk1vdmVTZWxlY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUFVuZG8ucHJvdG90eXBlKTtcbiAgICBDUEFjdGlvbk1vdmVTZWxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BBY3Rpb25Nb3ZlU2VsZWN0aW9uO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBlbmNhcHN1bGF0ZSBtdWx0aXBsZSB1bmRvIG9wZXJhdGlvbiBhcyBvbmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdW5kb2VzIENQVW5kb1tdIExpc3Qgb2YgdW5kbyBvcGVyYXRpb25zIHRvIGVuY2Fwc3VsYXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ1BNdWx0aVVuZG8odW5kb2VzKSB7XG4gICAgICAgIHRoaXMudW5kb2VzID0gdW5kb2VzO1xuICAgIH1cblxuICAgIENQTXVsdGlVbmRvLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BVbmRvLnByb3RvdHlwZSk7XG4gICAgQ1BNdWx0aVVuZG8ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BNdWx0aVVuZG87XG5cbiAgICBDUE11bHRpVW5kby5wcm90b3R5cGUudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy51bmRvZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudW5kb2VzW2ldLnVuZG8oKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDUE11bHRpVW5kby5wcm90b3R5cGUucmVkbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudW5kb2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnVuZG9lc1tpXS5yZWRvKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ1BNdWx0aVVuZG8ucHJvdG90eXBlLm5vQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdW5kb2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXVuZG9lc1tpXS5ub0NoYW5nZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgQ1BNdWx0aVVuZG8ucHJvdG90eXBlLmdldE1lbW9yeVVzZWQgPSBmdW5jdGlvbih1bmRvbmUsIHBhcmFtKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgdG90YWwgPSAwO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bmRvZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRvdGFsICs9IHVuZG9lc1tpXS5nZXRNZW1vcnlVc2VkKHVuZG9uZSwgcGFyYW0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBTdG9yZSBkYXRhIHRvIHVuZG8gYSBjdXQgb3BlcmF0aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIGJtcCBDUENvbG9yQm1wIFRoZSByZWN0YW5nbGUgb2YgaW1hZ2UgZGF0YSB0aGF0IHdhcyBjdXRcbiAgICAgKiBAcGFyYW0gbGF5ZXJJbmRleCBpbnQgSW5kZXggb2YgdGhlIGxheWVyIHRoZSBjdXQgY2FtZSBmcm9tXG4gICAgICogQHBhcmFtIHNlbGVjdGlvbiBDUFJlY3QgVGhlIGN1dCByZWN0YW5nbGUgY28tb3JkaW5hdGVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ1BVbmRvQ3V0KGJtcCwgbGF5ZXJJbmRleCwgc2VsZWN0aW9uKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5jbG9uZSgpO1xuXG4gICAgICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhhdC5zZXRBY3RpdmVMYXllckluZGV4KGxheWVySW5kZXgpO1xuICAgICAgICAgICAgY3VyTGF5ZXIuY29weUJpdG1hcFJlY3QoYm1wLCBzZWxlY3Rpb24ubGVmdCwgc2VsZWN0aW9uLnRvcCwgYm1wLmdldEJvdW5kcygpKTtcbiAgICAgICAgICAgIHRoYXQuc2V0U2VsZWN0aW9uKHNlbGVjdGlvbik7XG4gICAgICAgICAgICBpbnZhbGlkYXRlRnVzaW9uUmVjdChzZWxlY3Rpb24pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucmVkbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhhdC5zZXRBY3RpdmVMYXllckluZGV4KGxheWVySW5kZXgpO1xuICAgICAgICAgICAgY3VyTGF5ZXIuY2xlYXJSZWN0KHNlbGVjdGlvbiwgRU1QVFlfTEFZRVJfQ09MT1IpO1xuICAgICAgICAgICAgdGhhdC5lbXB0eVNlbGVjdGlvbigpO1xuICAgICAgICAgICAgaW52YWxpZGF0ZUZ1c2lvblJlY3Qoc2VsZWN0aW9uKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmdldE1lbW9yeVVzZWQgPSBmdW5jdGlvbih1bmRvbmUsIHBhcmFtKSB7XG4gICAgICAgICAgICByZXR1cm4gYm1wID09IHBhcmFtID8gMCA6IGJtcC53aWR0aCAqIGJtcC5oZWlnaHQgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgQ1BVbmRvQ3V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BVbmRvLnByb3RvdHlwZSk7XG4gICAgQ1BVbmRvQ3V0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQVW5kb0N1dDtcblxuICAgIC8qKlxuICAgICAqIFN0b3JlIGRhdGEgdG8gdW5kbyBhIHBhc3RlIG9wZXJhdGlvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjbGlwIENQQ2xpcFxuICAgICAqIEBwYXJhbSBsYXllckluZGV4IGludFxuICAgICAqIEBwYXJhbSBzZWxlY3Rpb24gQ1BSZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gQ1BVbmRvUGFzdGUoY2xpcCwgbGF5ZXJJbmRleCwgc2VsZWN0aW9uKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5jbG9uZSgpO1xuXG4gICAgICAgIHRoaXMudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGF5ZXJzLnNwbGljZShsYXllckluZGV4ICsgMSwgMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoYXQuc2V0QWN0aXZlTGF5ZXJJbmRleChsYXllckluZGV4KTtcbiAgICAgICAgICAgIHRoYXQuc2V0U2VsZWN0aW9uKHNlbGVjdGlvbik7XG5cbiAgICAgICAgICAgIGludmFsaWRhdGVGdXNpb25SZWN0KHNlbGVjdGlvbik7XG4gICAgICAgICAgICBjYWxsTGlzdGVuZXJzTGF5ZXJDaGFuZ2UoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoYXQuc2V0QWN0aXZlTGF5ZXJJbmRleChsYXllckluZGV4KTtcbiAgICAgICAgICAgIHBhc3RlQ2xpcChmYWxzZSwgY2xpcCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5nZXRNZW1vcnlVc2VkID0gZnVuY3Rpb24odW5kb25lLCBwYXJhbSkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaXAuYm1wID09IHBhcmFtID8gMCA6IGNsaXAuYm1wLndpZHRoICogY2xpcC5ibXAuaGVpZ2h0ICogNDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgQ1BVbmRvUGFzdGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUFVuZG8ucHJvdG90eXBlKTtcbiAgICBDUFVuZG9QYXN0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUFVuZG9QYXN0ZTtcbn07XG5cbkNQQXJ0d29yay5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuQ1BBcnR3b3JrLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQQXJ0d29yaztcblxuQ1BBcnR3b3JrLnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IENQUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59XG5cbkNQQXJ0d29yay5wcm90b3R5cGUuaXNQb2ludFdpdGhpbiA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICByZXR1cm4geCA+PSAwICYmIHkgPj0gMCAmJiB4IDwgdGhpcy53aWR0aCAmJiB5IDwgdGhpcy5oZWlnaHQ7XG59OyIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5pbXBvcnQgQ1BSZWN0IGZyb20gXCIuLi91dGlsL0NQUmVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUEJpdG1hcCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgLy8gV2lkdGggYW5kIGhlaWdodCBmb3JjZWQgdG8gaW50ZWdlcnNcbiAgICB0aGlzLndpZHRoID0gd2lkdGggfCAwO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHwgMDtcbn1cblxuQ1BCaXRtYXAucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgQ1BSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbn07XG5cbkNQQml0bWFwLnByb3RvdHlwZS5pc0luc2lkZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICByZXR1cm4geCA+PSAwICYmIHkgPj0gMCAmJiB4IDwgdGhpcy53aWR0aCAmJiB5IDwgdGhpcy5oZWlnaHQ7XG59OyIsIi8vIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQsIHBsZWFzZSBzZWUgY29kZWdlbmVyYXRvci9CbGVuZEdlbmVyYXRvci5qcyFcblxuICAgIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQQmxlbmQoKSB7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0XG4gICAgICAgIEJZVEVTX1BFUl9QSVhFTCA9IDQsXG4gICAgICAgIEFMUEhBX0JZVEVfT0ZGU0VUID0gMyxcbiAgICAgICAgXG4gICAgICAgIEJMRU5EX01PREVfTkFNRVMgPSBbXG4gICAgICAgICAgICBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgXCJtdWx0aXBseVwiLFxuICAgICAgICAgICAgXCJhZGRcIixcbiAgICAgICAgICAgIFwic2NyZWVuXCIsXG4gICAgICAgICAgICBcImxpZ2h0ZW5cIixcbiAgICAgICAgICAgIFwiZGFya2VuXCIsXG4gICAgICAgICAgICBcInN1YnRyYWN0XCIsXG4gICAgICAgICAgICBcImRvZGdlXCIsXG4gICAgICAgICAgICBcImJ1cm5cIixcbiAgICAgICAgICAgIFwib3ZlcmxheVwiLFxuICAgICAgICAgICAgXCJoYXJkTGlnaHRcIixcbiAgICAgICAgICAgIFwic29mdExpZ2h0XCIsXG4gICAgICAgICAgICBcInZpdmlkTGlnaHRcIixcbiAgICAgICAgICAgIFwibGluZWFyTGlnaHRcIixcbiAgICAgICAgICAgIFwicGluTGlnaHRcIlxuICAgICAgICBdLFxuICAgICAgICBcbiAgICAgICAgc29mdExpZ2h0TFVUU3F1YXJlID0gbmV3IEFycmF5KDI1NiksXG4gICAgICAgIHNvZnRMaWdodExVVFNxdWFyZVJvb3QgPSBuZXcgQXJyYXkoMjU2KTtcbiAgICBcbiAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIG11bHRpcGx5IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBUaGUgbGF5ZXIgbXVzdCBoYXZlIGl0cyBsYXllciBhbHBoYSBzZXQgdG8gMTAwXG4gKiBcbiAqIEZ1c2lvbiBwaXhlbHMgbXVzdCBiZSBvcGFxdWUsIGFuZCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQubXVsdGlwbHlPbnRvT3BhcXVlRnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoY29sb3IyIC0gKGxheWVyLmRhdGFbcGl4SW5kZXhdIF4gMHhGRikgKiBjb2xvcjIgKiBhbHBoYTEgLyAoMjU1ICogMjU1KSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoY29sb3IyIC0gKGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXSBeIDB4RkYpICogY29sb3IyICogYWxwaGExIC8gKDI1NSAqIDI1NSkpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKGNvbG9yMiAtIChsYXllci5kYXRhW3BpeEluZGV4ICsgMl0gXiAweEZGKSAqIGNvbG9yMiAqIGFscGhhMSAvICgyNTUgKiAyNTUpKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgbXVsdGlwbHkgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIEZ1c2lvbiBwaXhlbHMgbXVzdCBiZSBvcGFxdWUsIGFuZCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQubXVsdGlwbHlPbnRvT3BhcXVlRnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoY29sb3IyIC0gKGxheWVyLmRhdGFbcGl4SW5kZXhdIF4gMHhGRikgKiBjb2xvcjIgKiBhbHBoYTEgLyAoMjU1ICogMjU1KSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoY29sb3IyIC0gKGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXSBeIDB4RkYpICogY29sb3IyICogYWxwaGExIC8gKDI1NSAqIDI1NSkpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKGNvbG9yMiAtIChsYXllci5kYXRhW3BpeEluZGV4ICsgMl0gXiAweEZGKSAqIGNvbG9yMiAqIGFscGhhMSAvICgyNTUgKiAyNTUpKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgbXVsdGlwbHkgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIFRoZSBsYXllciBtdXN0IGhhdmUgaXRzIGxheWVyIGFscGhhIHNldCB0byAxMDBcbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5tdWx0aXBseU9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhPcGFxdWVMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmFscGhhMixcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweEZGKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhGRikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKChjb2xvcjEgKiBhbHBoYTFuMiArIGNvbG9yMiAqIGFscGhhbjEyICsgY29sb3IxICogY29sb3IyICogYWxwaGExMiAvIDI1NSkgLyBuZXdBbHBoYSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKChjb2xvcjEgKiBhbHBoYTFuMiArIGNvbG9yMiAqIGFscGhhbjEyICsgY29sb3IxICogY29sb3IyICogYWxwaGExMiAvIDI1NSkgLyBuZXdBbHBoYSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKChjb2xvcjEgKiBhbHBoYTFuMiArIGNvbG9yMiAqIGFscGhhbjEyICsgY29sb3IxICogY29sb3IyICogYWxwaGExMiAvIDI1NSkgLyBuZXdBbHBoYSkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBtdWx0aXBseSBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5tdWx0aXBseU9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweEZGKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhGRikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKChjb2xvcjEgKiBhbHBoYTFuMiArIGNvbG9yMiAqIGFscGhhbjEyICsgY29sb3IxICogY29sb3IyICogYWxwaGExMiAvIDI1NSkgLyBuZXdBbHBoYSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKChjb2xvcjEgKiBhbHBoYTFuMiArIGNvbG9yMiAqIGFscGhhbjEyICsgY29sb3IxICogY29sb3IyICogYWxwaGExMiAvIDI1NSkgLyBuZXdBbHBoYSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKChjb2xvcjEgKiBhbHBoYTFuMiArIGNvbG9yMiAqIGFscGhhbjEyICsgY29sb3IxICogY29sb3IyICogYWxwaGExMiAvIDI1NSkgLyBuZXdBbHBoYSkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBub3JtYWwgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIFRoZSBsYXllciBtdXN0IGhhdmUgaXRzIGxheWVyIGFscGhhIHNldCB0byAxMDBcbiAqIFxuICogRnVzaW9uIHBpeGVscyBtdXN0IGJlIG9wYXF1ZSwgYW5kIHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5ub3JtYWxPbnRvT3BhcXVlRnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGFscGhhMSA9PSAyNTUpIHtcblxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSBsYXllci5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IDI1NSAtIGFscGhhMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoKGNvbG9yMSAqIGFscGhhMSArIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSAqIGludkFscGhhMSkgLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoKGNvbG9yMSAqIGFscGhhMSArIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gKiBpbnZBbHBoYTEpIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKChjb2xvcjEgKiBhbHBoYTEgKyBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdICogaW52QWxwaGExKSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBub3JtYWwgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIEZ1c2lvbiBwaXhlbHMgbXVzdCBiZSBvcGFxdWUsIGFuZCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQubm9ybWFsT250b09wYXF1ZUZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChhbHBoYTEgPT0gMjU1KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgPSAyNTUgLSBhbHBoYTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKChjb2xvcjEgKiBhbHBoYTEgKyBmdXNpb24uZGF0YVtwaXhJbmRleF0gKiBpbnZBbHBoYTEpIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKChjb2xvcjEgKiBhbHBoYTEgKyBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdICogaW52QWxwaGExKSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9ICgoY29sb3IxICogYWxwaGExICsgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSAqIGludkFscGhhMSkgLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgbm9ybWFsIGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBUaGUgbGF5ZXIgbXVzdCBoYXZlIGl0cyBsYXllciBhbHBoYSBzZXQgdG8gMTAwXG4gKiBcbiAqIEZ1c2lvbiBjYW4gY29udGFpbiB0cmFuc3BhcmVudCBwaXhlbHMsIGJ1dCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQubm9ybWFsT250b1RyYW5zcGFyZW50RnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIHJlYWxBbHBoYSA9IChhbHBoYTEgKiAyNTUgLyBuZXdBbHBoYSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYSA9IDI1NSAtIHJlYWxBbHBoYTtcblxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAobGF5ZXIuZGF0YVtwaXhJbmRleF0gKiByZWFsQWxwaGEgKyBmdXNpb24uZGF0YVtwaXhJbmRleF0gKiBpbnZBbHBoYSkgLyAyNTU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAobGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdICogcmVhbEFscGhhICsgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSAqIGludkFscGhhKSAvIDI1NTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChsYXllci5kYXRhW3BpeEluZGV4ICsgMl0gKiByZWFsQWxwaGEgKyBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdICogaW52QWxwaGEpIC8gMjU1O1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBub3JtYWwgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIEZ1c2lvbiBjYW4gY29udGFpbiB0cmFuc3BhcmVudCBwaXhlbHMsIGJ1dCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQubm9ybWFsT250b1RyYW5zcGFyZW50RnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5hbHBoYTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIHJlYWxBbHBoYSA9IChhbHBoYTEgKiAyNTUgLyBuZXdBbHBoYSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYSA9IDI1NSAtIHJlYWxBbHBoYTtcblxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAobGF5ZXIuZGF0YVtwaXhJbmRleF0gKiByZWFsQWxwaGEgKyBmdXNpb24uZGF0YVtwaXhJbmRleF0gKiBpbnZBbHBoYSkgLyAyNTU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAobGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdICogcmVhbEFscGhhICsgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSAqIGludkFscGhhKSAvIDI1NTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChsYXllci5kYXRhW3BpeEluZGV4ICsgMl0gKiByZWFsQWxwaGEgKyBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdICogaW52QWxwaGEpIC8gMjU1O1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBhZGQgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIFRoZSBsYXllciBtdXN0IGhhdmUgaXRzIGxheWVyIGFscGhhIHNldCB0byAxMDBcbiAqIFxuICogRnVzaW9uIHBpeGVscyBtdXN0IGJlIG9wYXF1ZSwgYW5kIHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5hZGRPbnRvT3BhcXVlRnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChmdXNpb24uZGF0YVtwaXhJbmRleF0gKyBhbHBoYTEgKiBsYXllci5kYXRhW3BpeEluZGV4XSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gKyBhbHBoYTEgKiBsYXllci5kYXRhW3BpeEluZGV4ICsgMV0gLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdICsgYWxwaGExICogbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgYWRkIGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLmFkZE9udG9PcGFxdWVGdXNpb25XaXRoVHJhbnNwYXJlbnRMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSAoKChsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdKSAqIGxheWVyLmFscGhhIC8gMTAwKSAgfCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKGZ1c2lvbi5kYXRhW3BpeEluZGV4XSArIGFscGhhMSAqIGxheWVyLmRhdGFbcGl4SW5kZXhdIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSArIGFscGhhMSAqIGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gKyBhbHBoYTEgKiBsYXllci5kYXRhW3BpeEluZGV4ICsgMl0gLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBhZGQgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIFRoZSBsYXllciBtdXN0IGhhdmUgaXRzIGxheWVyIGFscGhhIHNldCB0byAxMDBcbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5hZGRPbnRvVHJhbnNwYXJlbnRGdXNpb25XaXRoT3BhcXVlTGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5hbHBoYTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGEyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBuZXdBbHBoYSA9IChhbHBoYTEgKyBhbHBoYTIgLSBhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gY2xhbXAgdGhlIGNvbG9yIHRvIDAuLi4yNTUgc2luY2Ugd2UncmUgd3JpdGluZyB0byBhIGNsYW1wZWQgYXJyYXkgYW55d2F5XG5cbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKChhbHBoYTIgKiBmdXNpb24uZGF0YVtwaXhJbmRleF0gKyBhbHBoYTEgKiBsYXllci5kYXRhW3BpeEluZGV4XSkgLyBuZXdBbHBoYSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKChhbHBoYTIgKiBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdICsgYWxwaGExICogbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdKSAvIG5ld0FscGhhKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoKGFscGhhMiAqIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gKyBhbHBoYTEgKiBsYXllci5kYXRhW3BpeEluZGV4ICsgMl0pIC8gbmV3QWxwaGEpIHwgMDtcblxuICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0gPSBuZXdBbHBoYTtcbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgYWRkIGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gY2FuIGNvbnRhaW4gdHJhbnNwYXJlbnQgcGl4ZWxzLCBidXQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLmFkZE9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwO1xuXG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBjbGFtcCB0aGUgY29sb3IgdG8gMC4uLjI1NSBzaW5jZSB3ZSdyZSB3cml0aW5nIHRvIGEgY2xhbXBlZCBhcnJheSBhbnl3YXlcblxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoKGFscGhhMiAqIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSArIGFscGhhMSAqIGxheWVyLmRhdGFbcGl4SW5kZXhdKSAvIG5ld0FscGhhKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoKGFscGhhMiAqIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gKyBhbHBoYTEgKiBsYXllci5kYXRhW3BpeEluZGV4ICsgMV0pIC8gbmV3QWxwaGEpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9ICgoYWxwaGEyICogZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSArIGFscGhhMSAqIGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXSkgLyBuZXdBbHBoYSkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBzdWJ0cmFjdCBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogVGhlIGxheWVyIG11c3QgaGF2ZSBpdHMgbGF5ZXIgYWxwaGEgc2V0IHRvIDEwMFxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLnN1YnRyYWN0T250b09wYXF1ZUZ1c2lvbldpdGhPcGFxdWVMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoZnVzaW9uLmRhdGFbcGl4SW5kZXhdICsgYWxwaGExICogbGF5ZXIuZGF0YVtwaXhJbmRleF0gLyAyNTUgLSBhbHBoYTEpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdICsgYWxwaGExICogbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdIC8gMjU1IC0gYWxwaGExKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSArIGFscGhhMSAqIGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXSAvIDI1NSAtIGFscGhhMSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIHN1YnRyYWN0IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLnN1YnRyYWN0T250b09wYXF1ZUZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoZnVzaW9uLmRhdGFbcGl4SW5kZXhdICsgYWxwaGExICogbGF5ZXIuZGF0YVtwaXhJbmRleF0gLyAyNTUgLSBhbHBoYTEpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdICsgYWxwaGExICogbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdIC8gMjU1IC0gYWxwaGExKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSArIGFscGhhMSAqIGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXSAvIDI1NSAtIGFscGhhMSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIHN1YnRyYWN0IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBUaGUgbGF5ZXIgbXVzdCBoYXZlIGl0cyBsYXllciBhbHBoYSBzZXQgdG8gMTAwXG4gKiBcbiAqIEZ1c2lvbiBjYW4gY29udGFpbiB0cmFuc3BhcmVudCBwaXhlbHMsIGJ1dCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQuc3VidHJhY3RPbnRvVHJhbnNwYXJlbnRGdXNpb25XaXRoT3BhcXVlTGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5hbHBoYTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGEyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBuZXdBbHBoYSA9IChhbHBoYTEgKyBhbHBoYTIgLSBhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGExMiA9IGFscGhhMSAqIGFscGhhMjtcblxuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gY2xhbXAgdGhlIGNvbG9yIHRvIDI1NSBzaW5jZSB3ZSdyZSB3cml0aW5nIHRvIGEgY2xhbXBlZCBhcnJheSBhbnl3YXlcblxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoKGFscGhhMiAqIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSArIGFscGhhMSAqIGxheWVyLmRhdGFbcGl4SW5kZXhdIC0gYWxwaGExMikgLyBuZXdBbHBoYSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKChhbHBoYTIgKiBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdICsgYWxwaGExICogbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdIC0gYWxwaGExMikgLyBuZXdBbHBoYSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKChhbHBoYTIgKiBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdICsgYWxwaGExICogbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdIC0gYWxwaGExMikgLyBuZXdBbHBoYSkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBzdWJ0cmFjdCBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5zdWJ0cmFjdE9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYTEyID0gYWxwaGExICogYWxwaGEyO1xuXG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBjbGFtcCB0aGUgY29sb3IgdG8gMjU1IHNpbmNlIHdlJ3JlIHdyaXRpbmcgdG8gYSBjbGFtcGVkIGFycmF5IGFueXdheVxuXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9ICgoYWxwaGEyICogZnVzaW9uLmRhdGFbcGl4SW5kZXhdICsgYWxwaGExICogbGF5ZXIuZGF0YVtwaXhJbmRleF0gLSBhbHBoYTEyKSAvIG5ld0FscGhhKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoKGFscGhhMiAqIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gKyBhbHBoYTEgKiBsYXllci5kYXRhW3BpeEluZGV4ICsgMV0gLSBhbHBoYTEyKSAvIG5ld0FscGhhKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoKGFscGhhMiAqIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gKyBhbHBoYTEgKiBsYXllci5kYXRhW3BpeEluZGV4ICsgMl0gLSBhbHBoYTEyKSAvIG5ld0FscGhhKSB8IDA7XG5cbiAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdID0gbmV3QWxwaGE7XG4gICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIHNjcmVlbiBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogVGhlIGxheWVyIG11c3QgaGF2ZSBpdHMgbGF5ZXIgYWxwaGEgc2V0IHRvIDEwMFxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLnNjcmVlbk9udG9PcGFxdWVGdXNpb25XaXRoT3BhcXVlTGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExID0gYWxwaGExIF4gMHhGRjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gMHhGRiBeIChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbG9yMiBeIDB4RkYpICogaW52QWxwaGExXG4gICAgICAgICAgICAgICAgICAgICAgICArIChsYXllci5kYXRhW3BpeEluZGV4XSBeIDB4RkYpICogKGNvbG9yMiBeIDB4RkYpICogYWxwaGExIC8gMjU1XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLyAyNTVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAweEZGIF4gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoY29sb3IyIF4gMHhGRikgKiBpbnZBbHBoYTFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXSBeIDB4RkYpICogKGNvbG9yMiBeIDB4RkYpICogYWxwaGExIC8gMjU1XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLyAyNTVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAweEZGIF4gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoY29sb3IyIF4gMHhGRikgKiBpbnZBbHBoYTFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXSBeIDB4RkYpICogKGNvbG9yMiBeIDB4RkYpICogYWxwaGExIC8gMjU1XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLyAyNTVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIHNjcmVlbiBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogRnVzaW9uIHBpeGVscyBtdXN0IGJlIG9wYXF1ZSwgYW5kIHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5zY3JlZW5PbnRvT3BhcXVlRnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4RkY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IDB4RkYgXiAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIChjb2xvcjIgXiAweEZGKSAqIGludkFscGhhMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAobGF5ZXIuZGF0YVtwaXhJbmRleF0gXiAweEZGKSAqIChjb2xvcjIgXiAweEZGKSAqIGFscGhhMSAvIDI1NVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gMjU1XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gMHhGRiBeIChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbG9yMiBeIDB4RkYpICogaW52QWxwaGExXG4gICAgICAgICAgICAgICAgICAgICAgICArIChsYXllci5kYXRhW3BpeEluZGV4ICsgMV0gXiAweEZGKSAqIChjb2xvcjIgXiAweEZGKSAqIGFscGhhMSAvIDI1NVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gMjU1XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gMHhGRiBeIChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbG9yMiBeIDB4RkYpICogaW52QWxwaGExXG4gICAgICAgICAgICAgICAgICAgICAgICArIChsYXllci5kYXRhW3BpeEluZGV4ICsgMl0gXiAweEZGKSAqIChjb2xvcjIgXiAweEZGKSAqIGFscGhhMSAvIDI1NVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gMjU1XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBzY3JlZW4gYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIFRoZSBsYXllciBtdXN0IGhhdmUgaXRzIGxheWVyIGFscGhhIHNldCB0byAxMDBcbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5zY3JlZW5PbnRvVHJhbnNwYXJlbnRGdXNpb25XaXRoT3BhcXVlTGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5hbHBoYTIsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGEyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBuZXdBbHBoYSA9IChhbHBoYTEgKyBhbHBoYTIgLSBhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMCxcblxuICAgICAgICAgICAgICAgICAgICBhbHBoYTEyID0gKGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiA9IChhbHBoYTEgKiAoYWxwaGEyIF4gMHhGRikgLyAyNTUpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGFuMTIgPSAoKGFscGhhMSBeIDB4RkYpICogYWxwaGEyIC8gMjU1KSB8IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IDB4RkYgXiAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIChjb2xvcjEgXiAweEZGKSAqIGFscGhhMW4yXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvcjIgXiAweEZGKSAqIGFscGhhbjEyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvcjEgXiAweEZGKSAqIChjb2xvcjIgXiAweEZGKSAqIGFscGhhMTIgLyAyNTVcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IDB4RkYgXiAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIChjb2xvcjEgXiAweEZGKSAqIGFscGhhMW4yXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvcjIgXiAweEZGKSAqIGFscGhhbjEyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvcjEgXiAweEZGKSAqIChjb2xvcjIgXiAweEZGKSAqIGFscGhhMTIgLyAyNTVcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IDB4RkYgXiAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIChjb2xvcjEgXiAweEZGKSAqIGFscGhhMW4yXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvcjIgXiAweEZGKSAqIGFscGhhbjEyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvcjEgXiAweEZGKSAqIChjb2xvcjIgXiAweEZGKSAqIGFscGhhMTIgLyAyNTVcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0gPSBuZXdBbHBoYTtcbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgc2NyZWVuIGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gY2FuIGNvbnRhaW4gdHJhbnNwYXJlbnQgcGl4ZWxzLCBidXQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLnNjcmVlbk9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweEZGKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhGRikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gMHhGRiBeIChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbG9yMSBeIDB4RkYpICogYWxwaGExbjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yMiBeIDB4RkYpICogYWxwaGFuMTJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yMSBeIDB4RkYpICogKGNvbG9yMiBeIDB4RkYpICogYWxwaGExMiAvIDI1NVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gMHhGRiBeIChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbG9yMSBeIDB4RkYpICogYWxwaGExbjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yMiBeIDB4RkYpICogYWxwaGFuMTJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yMSBeIDB4RkYpICogKGNvbG9yMiBeIDB4RkYpICogYWxwaGExMiAvIDI1NVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gMHhGRiBeIChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbG9yMSBeIDB4RkYpICogYWxwaGExbjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yMiBeIDB4RkYpICogYWxwaGFuMTJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yMSBeIDB4RkYpICogKGNvbG9yMiBeIDB4RkYpICogYWxwaGExMiAvIDI1NVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBsaWdodGVuIGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBUaGUgbGF5ZXIgbXVzdCBoYXZlIGl0cyBsYXllciBhbHBoYSBzZXQgdG8gMTAwXG4gKiBcbiAqIEZ1c2lvbiBwaXhlbHMgbXVzdCBiZSBvcGFxdWUsIGFuZCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQubGlnaHRlbk9udG9PcGFxdWVGdXNpb25XaXRoT3BhcXVlTGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExID0gYWxwaGExIF4gMHhGRjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gY29sb3IyID49IGNvbG9yMSA/IGNvbG9yMiA6IChjb2xvcjIgKiBpbnZBbHBoYTEgKyBjb2xvcjEgKiBhbHBoYTEpIC8gMjU1O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gY29sb3IyID49IGNvbG9yMSA/IGNvbG9yMiA6IChjb2xvcjIgKiBpbnZBbHBoYTEgKyBjb2xvcjEgKiBhbHBoYTEpIC8gMjU1O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gY29sb3IyID49IGNvbG9yMSA/IGNvbG9yMiA6IChjb2xvcjIgKiBpbnZBbHBoYTEgKyBjb2xvcjEgKiBhbHBoYTEpIC8gMjU1O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIGxpZ2h0ZW4gYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIEZ1c2lvbiBwaXhlbHMgbXVzdCBiZSBvcGFxdWUsIGFuZCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQubGlnaHRlbk9udG9PcGFxdWVGdXNpb25XaXRoVHJhbnNwYXJlbnRMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSAoKChsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdKSAqIGxheWVyLmFscGhhIC8gMTAwKSAgfCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExID0gYWxwaGExIF4gMHhGRjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gY29sb3IyID49IGNvbG9yMSA/IGNvbG9yMiA6IChjb2xvcjIgKiBpbnZBbHBoYTEgKyBjb2xvcjEgKiBhbHBoYTEpIC8gMjU1O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gY29sb3IyID49IGNvbG9yMSA/IGNvbG9yMiA6IChjb2xvcjIgKiBpbnZBbHBoYTEgKyBjb2xvcjEgKiBhbHBoYTEpIC8gMjU1O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gY29sb3IyID49IGNvbG9yMSA/IGNvbG9yMiA6IChjb2xvcjIgKiBpbnZBbHBoYTEgKyBjb2xvcjEgKiBhbHBoYTEpIC8gMjU1O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIGxpZ2h0ZW4gYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIFRoZSBsYXllciBtdXN0IGhhdmUgaXRzIGxheWVyIGFscGhhIHNldCB0byAxMDBcbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5saWdodGVuT250b1RyYW5zcGFyZW50RnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFscGhhIGlzIHVzZWQgd2hlbiBjb2xvcjEgPiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgYWxwaGExMiA9IChhbHBoYTIgKiAoYWxwaGExIF4gMHhGRikgLyBuZXdBbHBoYSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEyID0gKGFscGhhMTIgXiAweEZGKSB8IDAsXG5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFscGhhIGlzIHVzZWQgd2hlbiBjb2xvcjIgPiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgYWxwaGEyMSA9IChhbHBoYTEgKiAoYWxwaGEyIF4gMHhGRikgLyBuZXdBbHBoYSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTIxID0gKGFscGhhMjEgXiAweEZGKSB8IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9ICgoKGNvbG9yMiA+PSBjb2xvcjEpID8gKGNvbG9yMSAqIGFscGhhMjEgKyBjb2xvcjIgKiBpbnZBbHBoYTIxKSA6IChjb2xvcjIgKiBhbHBoYTEyICsgY29sb3IxICogaW52QWxwaGExMikpIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoKChjb2xvcjIgPj0gY29sb3IxKSA/IChjb2xvcjEgKiBhbHBoYTIxICsgY29sb3IyICogaW52QWxwaGEyMSkgOiAoY29sb3IyICogYWxwaGExMiArIGNvbG9yMSAqIGludkFscGhhMTIpKSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKCgoY29sb3IyID49IGNvbG9yMSkgPyAoY29sb3IxICogYWxwaGEyMSArIGNvbG9yMiAqIGludkFscGhhMjEpIDogKGNvbG9yMiAqIGFscGhhMTIgKyBjb2xvcjEgKiBpbnZBbHBoYTEyKSkgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0gPSBuZXdBbHBoYTtcbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgbGlnaHRlbiBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5saWdodGVuT250b1RyYW5zcGFyZW50RnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5hbHBoYTIsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFscGhhIGlzIHVzZWQgd2hlbiBjb2xvcjEgPiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgYWxwaGExMiA9IChhbHBoYTIgKiAoYWxwaGExIF4gMHhGRikgLyBuZXdBbHBoYSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEyID0gKGFscGhhMTIgXiAweEZGKSB8IDAsXG5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGFscGhhIGlzIHVzZWQgd2hlbiBjb2xvcjIgPiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgYWxwaGEyMSA9IChhbHBoYTEgKiAoYWxwaGEyIF4gMHhGRikgLyBuZXdBbHBoYSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTIxID0gKGFscGhhMjEgXiAweEZGKSB8IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9ICgoKGNvbG9yMiA+PSBjb2xvcjEpID8gKGNvbG9yMSAqIGFscGhhMjEgKyBjb2xvcjIgKiBpbnZBbHBoYTIxKSA6IChjb2xvcjIgKiBhbHBoYTEyICsgY29sb3IxICogaW52QWxwaGExMikpIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoKChjb2xvcjIgPj0gY29sb3IxKSA/IChjb2xvcjEgKiBhbHBoYTIxICsgY29sb3IyICogaW52QWxwaGEyMSkgOiAoY29sb3IyICogYWxwaGExMiArIGNvbG9yMSAqIGludkFscGhhMTIpKSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKCgoY29sb3IyID49IGNvbG9yMSkgPyAoY29sb3IxICogYWxwaGEyMSArIGNvbG9yMiAqIGludkFscGhhMjEpIDogKGNvbG9yMiAqIGFscGhhMTIgKyBjb2xvcjEgKiBpbnZBbHBoYTEyKSkgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0gPSBuZXdBbHBoYTtcbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgZGFya2VuIGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBUaGUgbGF5ZXIgbXVzdCBoYXZlIGl0cyBsYXllciBhbHBoYSBzZXQgdG8gMTAwXG4gKiBcbiAqIEZ1c2lvbiBwaXhlbHMgbXVzdCBiZSBvcGFxdWUsIGFuZCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQuZGFya2VuT250b09wYXF1ZUZ1c2lvbldpdGhPcGFxdWVMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgPSBhbHBoYTEgXiAweEZGO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSBjb2xvcjIgPj0gY29sb3IxID8gKGNvbG9yMiAqIGludkFscGhhMSArIGNvbG9yMSAqIGFscGhhMSkgLyAyNTUgOiBjb2xvcjI7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSBjb2xvcjIgPj0gY29sb3IxID8gKGNvbG9yMiAqIGludkFscGhhMSArIGNvbG9yMSAqIGFscGhhMSkgLyAyNTUgOiBjb2xvcjI7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSBjb2xvcjIgPj0gY29sb3IxID8gKGNvbG9yMiAqIGludkFscGhhMSArIGNvbG9yMSAqIGFscGhhMSkgLyAyNTUgOiBjb2xvcjI7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgZGFya2VuIGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLmRhcmtlbk9udG9PcGFxdWVGdXNpb25XaXRoVHJhbnNwYXJlbnRMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSAoKChsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdKSAqIGxheWVyLmFscGhhIC8gMTAwKSAgfCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExID0gYWxwaGExIF4gMHhGRjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gY29sb3IyID49IGNvbG9yMSA/IChjb2xvcjIgKiBpbnZBbHBoYTEgKyBjb2xvcjEgKiBhbHBoYTEpIC8gMjU1IDogY29sb3IyO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gY29sb3IyID49IGNvbG9yMSA/IChjb2xvcjIgKiBpbnZBbHBoYTEgKyBjb2xvcjEgKiBhbHBoYTEpIC8gMjU1IDogY29sb3IyO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gY29sb3IyID49IGNvbG9yMSA/IChjb2xvcjIgKiBpbnZBbHBoYTEgKyBjb2xvcjEgKiBhbHBoYTEpIC8gMjU1IDogY29sb3IyO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIGRhcmtlbiBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogVGhlIGxheWVyIG11c3QgaGF2ZSBpdHMgbGF5ZXIgYWxwaGEgc2V0IHRvIDEwMFxuICogXG4gKiBGdXNpb24gY2FuIGNvbnRhaW4gdHJhbnNwYXJlbnQgcGl4ZWxzLCBidXQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLmRhcmtlbk9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhPcGFxdWVMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmFscGhhMixcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBhbHBoYSBpcyB1c2VkIHdoZW4gY29sb3IxID4gY29sb3IyXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogKGFscGhhMiBeIDB4RkYpIC8gbmV3QWxwaGEpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExMiA9IChhbHBoYTEyIF4gMHhGRikgfCAwLFxuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBhbHBoYSBpcyB1c2VkIHdoZW4gY29sb3IyID4gY29sb3IxXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMjEgPSAoYWxwaGEyICogKGFscGhhMSBeIDB4RkYpIC8gbmV3QWxwaGEpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgaW52QWxwaGEyMSA9IChhbHBoYTIxIF4gMHhGRikgfCAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoKChjb2xvcjIgPj0gY29sb3IxKSA/IChjb2xvcjIgKiBhbHBoYTIxICsgY29sb3IxICogaW52QWxwaGEyMSkgOiAoY29sb3IxICogYWxwaGExMiArIGNvbG9yMiAqIGludkFscGhhMTIpKSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKCgoY29sb3IyID49IGNvbG9yMSkgPyAoY29sb3IyICogYWxwaGEyMSArIGNvbG9yMSAqIGludkFscGhhMjEpIDogKGNvbG9yMSAqIGFscGhhMTIgKyBjb2xvcjIgKiBpbnZBbHBoYTEyKSkgLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9ICgoKGNvbG9yMiA+PSBjb2xvcjEpID8gKGNvbG9yMiAqIGFscGhhMjEgKyBjb2xvcjEgKiBpbnZBbHBoYTIxKSA6IChjb2xvcjEgKiBhbHBoYTEyICsgY29sb3IyICogaW52QWxwaGExMikpIC8gMjU1KSB8IDA7XG5cbiAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdID0gbmV3QWxwaGE7XG4gICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIGRhcmtlbiBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5kYXJrZW5PbnRvVHJhbnNwYXJlbnRGdXNpb25XaXRoVHJhbnNwYXJlbnRMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmFscGhhMixcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSAoKChsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdKSAqIGxheWVyLmFscGhhIC8gMTAwKSAgfCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGEyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBuZXdBbHBoYSA9IChhbHBoYTEgKyBhbHBoYTIgLSBhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMCxcblxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYWxwaGEgaXMgdXNlZCB3aGVuIGNvbG9yMSA+IGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICBhbHBoYTEyID0gKGFscGhhMSAqIChhbHBoYTIgXiAweEZGKSAvIG5ld0FscGhhKSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMTIgPSAoYWxwaGExMiBeIDB4RkYpIHwgMCxcblxuICAgICAgICAgICAgICAgIC8vIFRoaXMgYWxwaGEgaXMgdXNlZCB3aGVuIGNvbG9yMiA+IGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICBhbHBoYTIxID0gKGFscGhhMiAqIChhbHBoYTEgXiAweEZGKSAvIG5ld0FscGhhKSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMjEgPSAoYWxwaGEyMSBeIDB4RkYpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKCgoY29sb3IyID49IGNvbG9yMSkgPyAoY29sb3IyICogYWxwaGEyMSArIGNvbG9yMSAqIGludkFscGhhMjEpIDogKGNvbG9yMSAqIGFscGhhMTIgKyBjb2xvcjIgKiBpbnZBbHBoYTEyKSkgLyAyNTUpIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9ICgoKGNvbG9yMiA+PSBjb2xvcjEpID8gKGNvbG9yMiAqIGFscGhhMjEgKyBjb2xvcjEgKiBpbnZBbHBoYTIxKSA6IChjb2xvcjEgKiBhbHBoYTEyICsgY29sb3IyICogaW52QWxwaGExMikpIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoKChjb2xvcjIgPj0gY29sb3IxKSA/IChjb2xvcjIgKiBhbHBoYTIxICsgY29sb3IxICogaW52QWxwaGEyMSkgOiAoY29sb3IxICogYWxwaGExMiArIGNvbG9yMiAqIGludkFscGhhMTIpKSAvIDI1NSkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBkb2RnZSBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogVGhlIGxheWVyIG11c3QgaGF2ZSBpdHMgbGF5ZXIgYWxwaGEgc2V0IHRvIDEwMFxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLmRvZGdlT250b09wYXF1ZUZ1c2lvbldpdGhPcGFxdWVMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgPSBhbHBoYTEgXiAweEZGO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiAqIGludkFscGhhMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiAoY29sb3IxID09IDI1NSA/IDI1NSA6IE1hdGgubWluKDI1NSwgKDI1NSAqIGNvbG9yMiAvIChjb2xvcjEgXiAweEZGKSkgfCAwKSlcbiAgICAgICAgICAgICAgICAgICAgKSAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgKiBpbnZBbHBoYTFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsICgyNTUgKiBjb2xvcjIgLyAoY29sb3IxIF4gMHhGRikpIHwgMCkpXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyICogaW52QWxwaGExXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMSAqIChjb2xvcjEgPT0gMjU1ID8gMjU1IDogTWF0aC5taW4oMjU1LCAoMjU1ICogY29sb3IyIC8gKGNvbG9yMSBeIDB4RkYpKSB8IDApKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgZG9kZ2UgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIEZ1c2lvbiBwaXhlbHMgbXVzdCBiZSBvcGFxdWUsIGFuZCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQuZG9kZ2VPbnRvT3BhcXVlRnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4RkY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyICogaW52QWxwaGExXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMSAqIChjb2xvcjEgPT0gMjU1ID8gMjU1IDogTWF0aC5taW4oMjU1LCAoMjU1ICogY29sb3IyIC8gKGNvbG9yMSBeIDB4RkYpKSB8IDApKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiAqIGludkFscGhhMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiAoY29sb3IxID09IDI1NSA/IDI1NSA6IE1hdGgubWluKDI1NSwgKDI1NSAqIGNvbG9yMiAvIChjb2xvcjEgXiAweEZGKSkgfCAwKSlcbiAgICAgICAgICAgICAgICAgICAgKSAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgKiBpbnZBbHBoYTFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsICgyNTUgKiBjb2xvcjIgLyAoY29sb3IxIF4gMHhGRikpIHwgMCkpXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBkb2RnZSBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogVGhlIGxheWVyIG11c3QgaGF2ZSBpdHMgbGF5ZXIgYWxwaGEgc2V0IHRvIDEwMFxuICogXG4gKiBGdXNpb24gY2FuIGNvbnRhaW4gdHJhbnNwYXJlbnQgcGl4ZWxzLCBidXQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLmRvZGdlT250b1RyYW5zcGFyZW50RnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweEZGKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhGRikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoY29sb3IxICogYWxwaGExbjIpXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvcjIgKiBhbHBoYW4xMilcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExMiAqIChjb2xvcjEgPT0gMjU1ID8gMjU1IDogTWF0aC5taW4oMjU1LCAoMjU1ICogY29sb3IyIC8gKGNvbG9yMSBeIDB4RkYpKSB8IDApKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbG9yMSAqIGFscGhhMW4yKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoY29sb3IyICogYWxwaGFuMTIpXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMTIgKiAoY29sb3IxID09IDI1NSA/IDI1NSA6IE1hdGgubWluKDI1NSwgKDI1NSAqIGNvbG9yMiAvIChjb2xvcjEgXiAweEZGKSkgfCAwKSlcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIChjb2xvcjEgKiBhbHBoYTFuMilcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yMiAqIGFscGhhbjEyKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEyICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsICgyNTUgKiBjb2xvcjIgLyAoY29sb3IxIF4gMHhGRikpIHwgMCkpXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBkb2RnZSBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5kb2RnZU9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYTEyID0gKGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiA9IChhbHBoYTEgKiAoYWxwaGEyIF4gMHhGRikgLyAyNTUpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGFuMTIgPSAoKGFscGhhMSBeIDB4RkYpICogYWxwaGEyIC8gMjU1KSB8IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbG9yMSAqIGFscGhhMW4yKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoY29sb3IyICogYWxwaGFuMTIpXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMTIgKiAoY29sb3IxID09IDI1NSA/IDI1NSA6IE1hdGgubWluKDI1NSwgKDI1NSAqIGNvbG9yMiAvIChjb2xvcjEgXiAweEZGKSkgfCAwKSlcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIChjb2xvcjEgKiBhbHBoYTFuMilcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKGNvbG9yMiAqIGFscGhhbjEyKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEyICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsICgyNTUgKiBjb2xvcjIgLyAoY29sb3IxIF4gMHhGRikpIHwgMCkpXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoY29sb3IxICogYWxwaGExbjIpXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvcjIgKiBhbHBoYW4xMilcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExMiAqIChjb2xvcjEgPT0gMjU1ID8gMjU1IDogTWF0aC5taW4oMjU1LCAoMjU1ICogY29sb3IyIC8gKGNvbG9yMSBeIDB4RkYpKSB8IDApKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcblxuICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0gPSBuZXdBbHBoYTtcbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgYnVybiBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogVGhlIGxheWVyIG11c3QgaGF2ZSBpdHMgbGF5ZXIgYWxwaGEgc2V0IHRvIDEwMFxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLmJ1cm5PbnRvT3BhcXVlRnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4RkY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyICogaW52QWxwaGExXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMSAqIChjb2xvcjEgPT0gMCA/IDAgOiBNYXRoLm1pbigyNTUsIDI1NSAqIChjb2xvcjIgXiAweEZGKSAvIGNvbG9yMSkgXiAweEZGKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiAqIGludkFscGhhMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiAoY29sb3IxID09IDAgPyAwIDogTWF0aC5taW4oMjU1LCAyNTUgKiAoY29sb3IyIF4gMHhGRikgLyBjb2xvcjEpIF4gMHhGRilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgKiBpbnZBbHBoYTFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExICogKGNvbG9yMSA9PSAwID8gMCA6IE1hdGgubWluKDI1NSwgMjU1ICogKGNvbG9yMiBeIDB4RkYpIC8gY29sb3IxKSBeIDB4RkYpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBidXJuIGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLmJ1cm5PbnRvT3BhcXVlRnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4RkY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyICogaW52QWxwaGExXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMSAqIChjb2xvcjEgPT0gMCA/IDAgOiBNYXRoLm1pbigyNTUsIDI1NSAqIChjb2xvcjIgXiAweEZGKSAvIGNvbG9yMSkgXiAweEZGKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiAqIGludkFscGhhMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiAoY29sb3IxID09IDAgPyAwIDogTWF0aC5taW4oMjU1LCAyNTUgKiAoY29sb3IyIF4gMHhGRikgLyBjb2xvcjEpIF4gMHhGRilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgKiBpbnZBbHBoYTFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExICogKGNvbG9yMSA9PSAwID8gMCA6IE1hdGgubWluKDI1NSwgMjU1ICogKGNvbG9yMiBeIDB4RkYpIC8gY29sb3IxKSBeIDB4RkYpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBidXJuIGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBUaGUgbGF5ZXIgbXVzdCBoYXZlIGl0cyBsYXllciBhbHBoYSBzZXQgdG8gMTAwXG4gKiBcbiAqIEZ1c2lvbiBjYW4gY29udGFpbiB0cmFuc3BhcmVudCBwaXhlbHMsIGJ1dCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQuYnVybk9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhPcGFxdWVMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmFscGhhMixcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweEZGKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhGRikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgKiBhbHBoYTFuMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2xvcjIgKiBhbHBoYW4xMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEyICogKGNvbG9yMSA9PSAwID8gMCA6IE1hdGgubWluKDI1NSwgMjU1ICogKGNvbG9yMiBeIDB4RkYpIC8gY29sb3IxKSBeIDB4RkYpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgKiBhbHBoYTFuMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2xvcjIgKiBhbHBoYW4xMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEyICogKGNvbG9yMSA9PSAwID8gMCA6IE1hdGgubWluKDI1NSwgMjU1ICogKGNvbG9yMiBeIDB4RkYpIC8gY29sb3IxKSBeIDB4RkYpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgKiBhbHBoYTFuMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2xvcjIgKiBhbHBoYW4xMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEyICogKGNvbG9yMSA9PSAwID8gMCA6IE1hdGgubWluKDI1NSwgMjU1ICogKGNvbG9yMiBeIDB4RkYpIC8gY29sb3IxKSBeIDB4RkYpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBidXJuIGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gY2FuIGNvbnRhaW4gdHJhbnNwYXJlbnQgcGl4ZWxzLCBidXQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLmJ1cm5PbnRvVHJhbnNwYXJlbnRGdXNpb25XaXRoVHJhbnNwYXJlbnRMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmFscGhhMixcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSAoKChsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdKSAqIGxheWVyLmFscGhhIC8gMTAwKSAgfCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGEyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBuZXdBbHBoYSA9IChhbHBoYTEgKyBhbHBoYTIgLSBhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMCxcblxuICAgICAgICAgICAgICAgICAgICBhbHBoYTEyID0gKGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiA9IChhbHBoYTEgKiAoYWxwaGEyIF4gMHhGRikgLyAyNTUpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGFuMTIgPSAoKGFscGhhMSBeIDB4RkYpICogYWxwaGEyIC8gMjU1KSB8IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxICogYWxwaGExbjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgY29sb3IyICogYWxwaGFuMTJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExMiAqIChjb2xvcjEgPT0gMCA/IDAgOiBNYXRoLm1pbigyNTUsIDI1NSAqIChjb2xvcjIgXiAweEZGKSAvIGNvbG9yMSkgXiAweEZGKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxICogYWxwaGExbjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgY29sb3IyICogYWxwaGFuMTJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExMiAqIChjb2xvcjEgPT0gMCA/IDAgOiBNYXRoLm1pbigyNTUsIDI1NSAqIChjb2xvcjIgXiAweEZGKSAvIGNvbG9yMSkgXiAweEZGKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxICogYWxwaGExbjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgY29sb3IyICogYWxwaGFuMTJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExMiAqIChjb2xvcjEgPT0gMCA/IDAgOiBNYXRoLm1pbigyNTUsIDI1NSAqIChjb2xvcjIgXiAweEZGKSAvIGNvbG9yMSkgXiAweEZGKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcblxuICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0gPSBuZXdBbHBoYTtcbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgb3ZlcmxheSBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogVGhlIGxheWVyIG11c3QgaGF2ZSBpdHMgbGF5ZXIgYWxwaGEgc2V0IHRvIDEwMFxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLm92ZXJsYXlPbnRvT3BhcXVlRnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4RkY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMSAqIDIgKiBjb2xvcjEgKiBjb2xvcjIgLyAyNTUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGFscGhhMSAqICgoMiAqIChjb2xvcjEgXiAweGZmKSAqIChjb2xvcjIgXiAweGZmKSAvIDI1NSkgXiAweGZmKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExICogMiAqIGNvbG9yMSAqIGNvbG9yMiAvIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExICogKCgyICogKGNvbG9yMSBeIDB4ZmYpICogKGNvbG9yMiBeIDB4ZmYpIC8gMjU1KSBeIDB4ZmYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEgKiAyICogY29sb3IxICogY29sb3IyIC8gMjU1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEgKiAoKDIgKiAoY29sb3IxIF4gMHhmZikgKiAoY29sb3IyIF4gMHhmZikgLyAyNTUpIF4gMHhmZikpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBvdmVybGF5IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLm92ZXJsYXlPbnRvT3BhcXVlRnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4RkY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMSAqIDIgKiBjb2xvcjEgKiBjb2xvcjIgLyAyNTUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGFscGhhMSAqICgoMiAqIChjb2xvcjEgXiAweGZmKSAqIChjb2xvcjIgXiAweGZmKSAvIDI1NSkgXiAweGZmKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExICogMiAqIGNvbG9yMSAqIGNvbG9yMiAvIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExICogKCgyICogKGNvbG9yMSBeIDB4ZmYpICogKGNvbG9yMiBeIDB4ZmYpIC8gMjU1KSBeIDB4ZmYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEgKiAyICogY29sb3IxICogY29sb3IyIC8gMjU1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEgKiAoKDIgKiAoY29sb3IxIF4gMHhmZikgKiAoY29sb3IyIF4gMHhmZikgLyAyNTUpIF4gMHhmZikpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBvdmVybGF5IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBUaGUgbGF5ZXIgbXVzdCBoYXZlIGl0cyBsYXllciBhbHBoYSBzZXQgdG8gMTAwXG4gKiBcbiAqIEZ1c2lvbiBjYW4gY29udGFpbiB0cmFuc3BhcmVudCBwaXhlbHMsIGJ1dCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQub3ZlcmxheU9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhPcGFxdWVMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmFscGhhMixcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYTEyID0gKGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiA9IChhbHBoYTEgKiAoYWxwaGEyIF4gMHhmZikgLyAyNTUpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGFuMTIgPSAoKGFscGhhMSBeIDB4ZmYpICogYWxwaGEyIC8gMjU1KSB8IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExMiAqIDIgKiBjb2xvcjEgKiBjb2xvcjIgLyAyNTUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGFscGhhMTIgKiAoKDIgKiAoY29sb3IxIF4gMHhmZikgKiAoY29sb3IyIF4gMHhmZikgLyAyNTUpIF4gMHhmZikpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEyICogMiAqIGNvbG9yMSAqIGNvbG9yMiAvIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExMiAqICgoMiAqIChjb2xvcjEgXiAweGZmKSAqIChjb2xvcjIgXiAweGZmKSAvIDI1NSkgXiAweGZmKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMTIgKiAyICogY29sb3IxICogY29sb3IyIC8gMjU1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEyICogKCgyICogKGNvbG9yMSBeIDB4ZmYpICogKGNvbG9yMiBeIDB4ZmYpIC8gMjU1KSBeIDB4ZmYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcblxuICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0gPSBuZXdBbHBoYTtcbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgb3ZlcmxheSBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5vdmVybGF5T250b1RyYW5zcGFyZW50RnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5hbHBoYTIsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweGZmKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhmZikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEyICogMiAqIGNvbG9yMSAqIGNvbG9yMiAvIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExMiAqICgoMiAqIChjb2xvcjEgXiAweGZmKSAqIChjb2xvcjIgXiAweGZmKSAvIDI1NSkgXiAweGZmKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMTIgKiAyICogY29sb3IxICogY29sb3IyIC8gMjU1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEyICogKCgyICogKGNvbG9yMSBeIDB4ZmYpICogKGNvbG9yMiBeIDB4ZmYpIC8gMjU1KSBeIDB4ZmYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExMiAqIDIgKiBjb2xvcjEgKiBjb2xvcjIgLyAyNTUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGFscGhhMTIgKiAoKDIgKiAoY29sb3IxIF4gMHhmZikgKiAoY29sb3IyIF4gMHhmZikgLyAyNTUpIF4gMHhmZikpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBoYXJkTGlnaHQgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIFRoZSBsYXllciBtdXN0IGhhdmUgaXRzIGxheWVyIGFscGhhIHNldCB0byAxMDBcbiAqIFxuICogRnVzaW9uIHBpeGVscyBtdXN0IGJlIG9wYXF1ZSwgYW5kIHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5oYXJkTGlnaHRPbnRvT3BhcXVlRnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4ZmY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMSAqIDIgKiBjb2xvcjEgKiBjb2xvcjIgLyAyNTUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGFscGhhMSAqICgoMiAqIChjb2xvcjEgXiAweGZmKSAqIChjb2xvcjIgXiAweGZmKSAvIDI1NSkgXiAweGZmKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExICogMiAqIGNvbG9yMSAqIGNvbG9yMiAvIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExICogKCgyICogKGNvbG9yMSBeIDB4ZmYpICogKGNvbG9yMiBeIDB4ZmYpIC8gMjU1KSBeIDB4ZmYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEgKiAyICogY29sb3IxICogY29sb3IyIC8gMjU1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEgKiAoKDIgKiAoY29sb3IxIF4gMHhmZikgKiAoY29sb3IyIF4gMHhmZikgLyAyNTUpIF4gMHhmZikpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBoYXJkTGlnaHQgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIEZ1c2lvbiBwaXhlbHMgbXVzdCBiZSBvcGFxdWUsIGFuZCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQuaGFyZExpZ2h0T250b09wYXF1ZUZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgPSBhbHBoYTEgXiAweGZmO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEgKiAyICogY29sb3IxICogY29sb3IyIC8gMjU1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEgKiAoKDIgKiAoY29sb3IxIF4gMHhmZikgKiAoY29sb3IyIF4gMHhmZikgLyAyNTUpIF4gMHhmZikpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMSAqIDIgKiBjb2xvcjEgKiBjb2xvcjIgLyAyNTUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGFscGhhMSAqICgoMiAqIChjb2xvcjEgXiAweGZmKSAqIChjb2xvcjIgXiAweGZmKSAvIDI1NSkgXiAweGZmKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExICogMiAqIGNvbG9yMSAqIGNvbG9yMiAvIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExICogKCgyICogKGNvbG9yMSBeIDB4ZmYpICogKGNvbG9yMiBeIDB4ZmYpIC8gMjU1KSBeIDB4ZmYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgaGFyZExpZ2h0IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBUaGUgbGF5ZXIgbXVzdCBoYXZlIGl0cyBsYXllciBhbHBoYSBzZXQgdG8gMTAwXG4gKiBcbiAqIEZ1c2lvbiBjYW4gY29udGFpbiB0cmFuc3BhcmVudCBwaXhlbHMsIGJ1dCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQuaGFyZExpZ2h0T250b1RyYW5zcGFyZW50RnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweGZmKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhmZikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEyICogMiAqIGNvbG9yMSAqIGNvbG9yMiAvIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExMiAqICgoMiAqIChjb2xvcjEgXiAweGZmKSAqIChjb2xvcjIgXiAweGZmKSAvIDI1NSkgXiAweGZmKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMTIgKiAyICogY29sb3IxICogY29sb3IyIC8gMjU1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEyICogKCgyICogKGNvbG9yMSBeIDB4ZmYpICogKGNvbG9yMiBeIDB4ZmYpIC8gMjU1KSBeIDB4ZmYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExMiAqIDIgKiBjb2xvcjEgKiBjb2xvcjIgLyAyNTUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGFscGhhMTIgKiAoKDIgKiAoY29sb3IxIF4gMHhmZikgKiAoY29sb3IyIF4gMHhmZikgLyAyNTUpIF4gMHhmZikpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBoYXJkTGlnaHQgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIEZ1c2lvbiBjYW4gY29udGFpbiB0cmFuc3BhcmVudCBwaXhlbHMsIGJ1dCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQuaGFyZExpZ2h0T250b1RyYW5zcGFyZW50RnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5hbHBoYTIsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweGZmKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhmZikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEyICogMiAqIGNvbG9yMSAqIGNvbG9yMiAvIDI1NSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExMiAqICgoMiAqIChjb2xvcjEgXiAweGZmKSAqIChjb2xvcjIgXiAweGZmKSAvIDI1NSkgXiAweGZmKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMTIgKiAyICogY29sb3IxICogY29sb3IyIC8gMjU1KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEyICogKCgyICogKGNvbG9yMSBeIDB4ZmYpICogKGNvbG9yMiBeIDB4ZmYpIC8gMjU1KSBeIDB4ZmYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExMiAqIDIgKiBjb2xvcjEgKiBjb2xvcjIgLyAyNTUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGFscGhhMTIgKiAoKDIgKiAoY29sb3IxIF4gMHhmZikgKiAoY29sb3IyIF4gMHhmZikgLyAyNTUpIF4gMHhmZikpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBzb2Z0TGlnaHQgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIFRoZSBsYXllciBtdXN0IGhhdmUgaXRzIGxheWVyIGFscGhhIHNldCB0byAxMDBcbiAqIFxuICogRnVzaW9uIHBpeGVscyBtdXN0IGJlIG9wYXF1ZSwgYW5kIHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5zb2Z0TGlnaHRPbnRvT3BhcXVlRnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4ZmY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMSAqIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKCgyICogY29sb3IxIC0gMjU1KSAqIHNvZnRMaWdodExVVFNxdWFyZVtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICgoMiAqIGNvbG9yMSAtIDI1NSkgKiBzb2Z0TGlnaHRMVVRTcXVhcmVSb290W2NvbG9yMl0gLyAyNTUgKyBjb2xvcjIpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMSAqIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKCgyICogY29sb3IxIC0gMjU1KSAqIHNvZnRMaWdodExVVFNxdWFyZVtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICgoMiAqIGNvbG9yMSAtIDI1NSkgKiBzb2Z0TGlnaHRMVVRTcXVhcmVSb290W2NvbG9yMl0gLyAyNTUgKyBjb2xvcjIpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMSAqIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKCgyICogY29sb3IxIC0gMjU1KSAqIHNvZnRMaWdodExVVFNxdWFyZVtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICgoMiAqIGNvbG9yMSAtIDI1NSkgKiBzb2Z0TGlnaHRMVVRTcXVhcmVSb290W2NvbG9yMl0gLyAyNTUgKyBjb2xvcjIpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBzb2Z0TGlnaHQgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIEZ1c2lvbiBwaXhlbHMgbXVzdCBiZSBvcGFxdWUsIGFuZCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQuc29mdExpZ2h0T250b09wYXF1ZUZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgPSBhbHBoYTEgXiAweGZmO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICgoMiAqIGNvbG9yMSAtIDI1NSkgKiBzb2Z0TGlnaHRMVVRTcXVhcmVbY29sb3IyXSAvIDI1NSArIGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoKDIgKiBjb2xvcjEgLSAyNTUpICogc29mdExpZ2h0TFVUU3F1YXJlUm9vdFtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICgoMiAqIGNvbG9yMSAtIDI1NSkgKiBzb2Z0TGlnaHRMVVRTcXVhcmVbY29sb3IyXSAvIDI1NSArIGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoKDIgKiBjb2xvcjEgLSAyNTUpICogc29mdExpZ2h0TFVUU3F1YXJlUm9vdFtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICgoMiAqIGNvbG9yMSAtIDI1NSkgKiBzb2Z0TGlnaHRMVVRTcXVhcmVbY29sb3IyXSAvIDI1NSArIGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoKDIgKiBjb2xvcjEgLSAyNTUpICogc29mdExpZ2h0TFVUU3F1YXJlUm9vdFtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgc29mdExpZ2h0IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBUaGUgbGF5ZXIgbXVzdCBoYXZlIGl0cyBsYXllciBhbHBoYSBzZXQgdG8gMTAwXG4gKiBcbiAqIEZ1c2lvbiBjYW4gY29udGFpbiB0cmFuc3BhcmVudCBwaXhlbHMsIGJ1dCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQuc29mdExpZ2h0T250b1RyYW5zcGFyZW50RnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG5cbiAgICAgICAgICAgICAgICAgICAgYWxwaGExMiA9IChhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgPSAoYWxwaGExICogKGFscGhhMiBeIDB4ZmYpIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhbjEyID0gKChhbHBoYTEgXiAweGZmKSAqIGFscGhhMiAvIDI1NSkgfCAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYWxwaGExMiAqICgoMiAqIGNvbG9yMSAtIDI1NSkgKiBzb2Z0TGlnaHRMVVRTcXVhcmVbY29sb3IyXSAvIDI1NSArIGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhbHBoYTEyICogKCgyICogY29sb3IxIC0gMjU1KSAqIHNvZnRMaWdodExVVFNxdWFyZVJvb3RbY29sb3IyXSAvIDI1NSArIGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYWxwaGExMiAqICgoMiAqIGNvbG9yMSAtIDI1NSkgKiBzb2Z0TGlnaHRMVVRTcXVhcmVbY29sb3IyXSAvIDI1NSArIGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhbHBoYTEyICogKCgyICogY29sb3IxIC0gMjU1KSAqIHNvZnRMaWdodExVVFNxdWFyZVJvb3RbY29sb3IyXSAvIDI1NSArIGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYWxwaGExMiAqICgoMiAqIGNvbG9yMSAtIDI1NSkgKiBzb2Z0TGlnaHRMVVRTcXVhcmVbY29sb3IyXSAvIDI1NSArIGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhbHBoYTEyICogKCgyICogY29sb3IxIC0gMjU1KSAqIHNvZnRMaWdodExVVFNxdWFyZVJvb3RbY29sb3IyXSAvIDI1NSArIGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG5cbiAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdID0gbmV3QWxwaGE7XG4gICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIHNvZnRMaWdodCBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5zb2Z0TGlnaHRPbnRvVHJhbnNwYXJlbnRGdXNpb25XaXRoVHJhbnNwYXJlbnRMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmFscGhhMixcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSAoKChsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdKSAqIGxheWVyLmFscGhhIC8gMTAwKSAgfCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGEyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBuZXdBbHBoYSA9IChhbHBoYTEgKyBhbHBoYTIgLSBhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMCxcblxuICAgICAgICAgICAgICAgICAgICBhbHBoYTEyID0gKGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiA9IChhbHBoYTEgKiAoYWxwaGEyIF4gMHhmZikgLyAyNTUpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGFuMTIgPSAoKGFscGhhMSBeIDB4ZmYpICogYWxwaGEyIC8gMjU1KSB8IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhbHBoYTEyICogKCgyICogY29sb3IxIC0gMjU1KSAqIHNvZnRMaWdodExVVFNxdWFyZVtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGFscGhhMTIgKiAoKDIgKiBjb2xvcjEgLSAyNTUpICogc29mdExpZ2h0TFVUU3F1YXJlUm9vdFtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhbHBoYTEyICogKCgyICogY29sb3IxIC0gMjU1KSAqIHNvZnRMaWdodExVVFNxdWFyZVtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGFscGhhMTIgKiAoKDIgKiBjb2xvcjEgLSAyNTUpICogc29mdExpZ2h0TFVUU3F1YXJlUm9vdFtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhbHBoYTEyICogKCgyICogY29sb3IxIC0gMjU1KSAqIHNvZnRMaWdodExVVFNxdWFyZVtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGFscGhhMTIgKiAoKDIgKiBjb2xvcjEgLSAyNTUpICogc29mdExpZ2h0TFVUU3F1YXJlUm9vdFtjb2xvcjJdIC8gMjU1ICsgY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcblxuICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0gPSBuZXdBbHBoYTtcbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgdml2aWRMaWdodCBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogVGhlIGxheWVyIG11c3QgaGF2ZSBpdHMgbGF5ZXIgYWxwaGEgc2V0IHRvIDEwMFxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLnZpdmlkTGlnaHRPbnRvT3BhcXVlRnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4ZmY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMSAqICgoY29sb3IxID09IDApID8gMCA6IDI1NSAtIE1hdGgubWluKDI1NSwgKDI1NSAtIGNvbG9yMikgKiAyNTUgLyAoMiAqIGNvbG9yMSkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsIGNvbG9yMiAqIDI1NSAvICgyICogKDI1NSAtIGNvbG9yMSkpKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMSAqICgoY29sb3IxID09IDApID8gMCA6IDI1NSAtIE1hdGgubWluKDI1NSwgKDI1NSAtIGNvbG9yMikgKiAyNTUgLyAoMiAqIGNvbG9yMSkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsIGNvbG9yMiAqIDI1NSAvICgyICogKDI1NSAtIGNvbG9yMSkpKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMSAqICgoY29sb3IxID09IDApID8gMCA6IDI1NSAtIE1hdGgubWluKDI1NSwgKDI1NSAtIGNvbG9yMikgKiAyNTUgLyAoMiAqIGNvbG9yMSkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsIGNvbG9yMiAqIDI1NSAvICgyICogKDI1NSAtIGNvbG9yMSkpKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSB2aXZpZExpZ2h0IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLnZpdmlkTGlnaHRPbnRvT3BhcXVlRnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4ZmY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMSAqICgoY29sb3IxID09IDApID8gMCA6IDI1NSAtIE1hdGgubWluKDI1NSwgKDI1NSAtIGNvbG9yMikgKiAyNTUgLyAoMiAqIGNvbG9yMSkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsIGNvbG9yMiAqIDI1NSAvICgyICogKDI1NSAtIGNvbG9yMSkpKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMSAqICgoY29sb3IxID09IDApID8gMCA6IDI1NSAtIE1hdGgubWluKDI1NSwgKDI1NSAtIGNvbG9yMikgKiAyNTUgLyAoMiAqIGNvbG9yMSkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsIGNvbG9yMiAqIDI1NSAvICgyICogKDI1NSAtIGNvbG9yMSkpKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPD0gMTI3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKGFscGhhMSAqICgoY29sb3IxID09IDApID8gMCA6IDI1NSAtIE1hdGgubWluKDI1NSwgKDI1NSAtIGNvbG9yMikgKiAyNTUgLyAoMiAqIGNvbG9yMSkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsIGNvbG9yMiAqIDI1NSAvICgyICogKDI1NSAtIGNvbG9yMSkpKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSB2aXZpZExpZ2h0IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBUaGUgbGF5ZXIgbXVzdCBoYXZlIGl0cyBsYXllciBhbHBoYSBzZXQgdG8gMTAwXG4gKiBcbiAqIEZ1c2lvbiBjYW4gY29udGFpbiB0cmFuc3BhcmVudCBwaXhlbHMsIGJ1dCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQudml2aWRMaWdodE9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhPcGFxdWVMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmFscGhhMixcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweGZmKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhmZikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEyICogKChjb2xvcjEgPT0gMCkgPyAwIDogMjU1IC0gTWF0aC5taW4oMjU1LCAoMjU1IC0gY29sb3IyKSAqIDI1NSAvICgyICogY29sb3IxKSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEyICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsIGNvbG9yMiAqIDI1NSAvICgyICogKDI1NSAtIGNvbG9yMSkpKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEyICogKChjb2xvcjEgPT0gMCkgPyAwIDogMjU1IC0gTWF0aC5taW4oMjU1LCAoMjU1IC0gY29sb3IyKSAqIDI1NSAvICgyICogY29sb3IxKSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEyICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsIGNvbG9yMiAqIDI1NSAvICgyICogKDI1NSAtIGNvbG9yMSkpKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxIDw9IDEyN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChhbHBoYTEyICogKChjb2xvcjEgPT0gMCkgPyAwIDogMjU1IC0gTWF0aC5taW4oMjU1LCAoMjU1IC0gY29sb3IyKSAqIDI1NSAvICgyICogY29sb3IxKSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhbHBoYTEyICogKGNvbG9yMSA9PSAyNTUgPyAyNTUgOiBNYXRoLm1pbigyNTUsIGNvbG9yMiAqIDI1NSAvICgyICogKDI1NSAtIGNvbG9yMSkpKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSB2aXZpZExpZ2h0IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gY2FuIGNvbnRhaW4gdHJhbnNwYXJlbnQgcGl4ZWxzLCBidXQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLnZpdmlkTGlnaHRPbnRvVHJhbnNwYXJlbnRGdXNpb25XaXRoVHJhbnNwYXJlbnRMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmFscGhhMixcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSAoKChsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdKSAqIGxheWVyLmFscGhhIC8gMTAwKSAgfCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGEyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBuZXdBbHBoYSA9IChhbHBoYTEgKyBhbHBoYTIgLSBhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMCxcblxuICAgICAgICAgICAgICAgICAgICBhbHBoYTEyID0gKGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiA9IChhbHBoYTEgKiAoYWxwaGEyIF4gMHhmZikgLyAyNTUpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGFuMTIgPSAoKGFscGhhMSBeIDB4ZmYpICogYWxwaGEyIC8gMjU1KSB8IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExMiAqICgoY29sb3IxID09IDApID8gMCA6IDI1NSAtIE1hdGgubWluKDI1NSwgKDI1NSAtIGNvbG9yMikgKiAyNTUgLyAoMiAqIGNvbG9yMSkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExMiAqIChjb2xvcjEgPT0gMjU1ID8gMjU1IDogTWF0aC5taW4oMjU1LCBjb2xvcjIgKiAyNTUgLyAoMiAqICgyNTUgLSBjb2xvcjEpKSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExMiAqICgoY29sb3IxID09IDApID8gMCA6IDI1NSAtIE1hdGgubWluKDI1NSwgKDI1NSAtIGNvbG9yMikgKiAyNTUgLyAoMiAqIGNvbG9yMSkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExMiAqIChjb2xvcjEgPT0gMjU1ID8gMjU1IDogTWF0aC5taW4oMjU1LCBjb2xvcjIgKiAyNTUgLyAoMiAqICgyNTUgLSBjb2xvcjEpKSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA8PSAxMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoYWxwaGExMiAqICgoY29sb3IxID09IDApID8gMCA6IDI1NSAtIE1hdGgubWluKDI1NSwgKDI1NSAtIGNvbG9yMikgKiAyNTUgLyAoMiAqIGNvbG9yMSkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYWxwaGExMiAqIChjb2xvcjEgPT0gMjU1ID8gMjU1IDogTWF0aC5taW4oMjU1LCBjb2xvcjIgKiAyNTUgLyAoMiAqICgyNTUgLSBjb2xvcjEpKSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcblxuICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0gPSBuZXdBbHBoYTtcbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgbGluZWFyTGlnaHQgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIFRoZSBsYXllciBtdXN0IGhhdmUgaXRzIGxheWVyIGFscGhhIHNldCB0byAxMDBcbiAqIFxuICogRnVzaW9uIHBpeGVscyBtdXN0IGJlIG9wYXF1ZSwgYW5kIHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5saW5lYXJMaWdodE9udG9PcGFxdWVGdXNpb25XaXRoT3BhcXVlTGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFscGhhMSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExID0gYWxwaGExIF4gMHhmZjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExICogTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBjb2xvcjIgKyAyICogbGF5ZXIuZGF0YVtwaXhJbmRleF0gLSAyNTUpKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMSAqIE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgY29sb3IyICsgMiAqIGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXSAtIDI1NSkpXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExICogTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBjb2xvcjIgKyAyICogbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdIC0gMjU1KSlcbiAgICAgICAgICAgICAgICAgICAgKSAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIGxpbmVhckxpZ2h0IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLmxpbmVhckxpZ2h0T250b09wYXF1ZUZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgPSBhbHBoYTEgXiAweGZmO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIGNvbG9yMiArIDIgKiBsYXllci5kYXRhW3BpeEluZGV4XSAtIDI1NSkpXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExICogTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBjb2xvcjIgKyAyICogbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdIC0gMjU1KSlcbiAgICAgICAgICAgICAgICAgICAgKSAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIGNvbG9yMiArIDIgKiBsYXllci5kYXRhW3BpeEluZGV4ICsgMl0gLSAyNTUpKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgbGluZWFyTGlnaHQgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIFRoZSBsYXllciBtdXN0IGhhdmUgaXRzIGxheWVyIGFscGhhIHNldCB0byAxMDBcbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5saW5lYXJMaWdodE9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhPcGFxdWVMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmFscGhhMixcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweGZmKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhmZikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEyICogTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBjb2xvcjIgKyAyICogY29sb3IxIC0gMjU1KSlcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMTIgKiBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIGNvbG9yMiArIDIgKiBjb2xvcjEgLSAyNTUpKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExMiAqIE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgY29sb3IyICsgMiAqIGNvbG9yMSAtIDI1NSkpXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBsaW5lYXJMaWdodCBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogRnVzaW9uIGNhbiBjb250YWluIHRyYW5zcGFyZW50IHBpeGVscywgYnV0IHRoZSBmdXNpb24gbGF5ZXIncyBvcGFjaXR5IG11c3QgYmUgc2V0IHRvIDEwMC5cbiAqL1xuXG4gICAgICAgICAgICAgICAgQ1BCbGVuZC5saW5lYXJMaWdodE9udG9UcmFuc3BhcmVudEZ1c2lvbldpdGhUcmFuc3BhcmVudExheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9ICgoKGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF0pICogbGF5ZXIuYWxwaGEgLyAxMDApICB8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGFscGhhMSArIGFscGhhMiAtIGFscGhhMSAqIGFscGhhMiAvIDI1NSkgfCAwLFxuXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMTIgPSAoYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhMW4yID0gKGFscGhhMSAqIChhbHBoYTIgXiAweGZmKSAvIDI1NSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYW4xMiA9ICgoYWxwaGExIF4gMHhmZikgKiBhbHBoYTIgLyAyNTUpIHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXhdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEyICogTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBjb2xvcjIgKyAyICogY29sb3IxIC0gMjU1KSlcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMTIgKiBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIGNvbG9yMiArIDIgKiBjb2xvcjEgLSAyNTUpKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExMiAqIE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgY29sb3IyICsgMiAqIGNvbG9yMSAtIDI1NSkpXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuXG4gICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSA9IG5ld0FscGhhO1xuICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBwaW5MaWdodCBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogVGhlIGxheWVyIG11c3QgaGF2ZSBpdHMgbGF5ZXIgYWxwaGEgc2V0IHRvIDEwMFxuICogXG4gKiBGdXNpb24gcGl4ZWxzIG11c3QgYmUgb3BhcXVlLCBhbmQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLnBpbkxpZ2h0T250b09wYXF1ZUZ1c2lvbldpdGhPcGFxdWVMYXllciA9IGZ1bmN0aW9uKGxheWVyLCBmdXNpb24sIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSB8IDAsXG53ID0gcmVjdC5nZXRXaWR0aCgpIHwgMCxcbnlTdHJpZGUgPSAoKGxheWVyLndpZHRoIC0gdykgKiBCWVRFU19QRVJfUElYRUwpIHwgMCxcbnBpeEluZGV4ID0gbGF5ZXIub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDAgOyB5IDwgaDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSxcbmNvbG9yMSxcbmNvbG9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGExKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgPSBhbHBoYTEgXiAweGZmO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiAoKGNvbG9yMiA+PSAyICogY29sb3IxKSA/ICgyICogY29sb3IxKSA6IChjb2xvcjIgPD0gMiAqIGNvbG9yMSAtIDI1NSkgPyAoMiAqIGNvbG9yMSAtIDI1NSkgOiBjb2xvcjIpXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAxXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMSAqICgoY29sb3IyID49IDIgKiBjb2xvcjEpID8gKDIgKiBjb2xvcjEpIDogKGNvbG9yMiA8PSAyICogY29sb3IxIC0gMjU1KSA/ICgyICogY29sb3IxIC0gMjU1KSA6IGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgKSAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExICogKChjb2xvcjIgPj0gMiAqIGNvbG9yMSkgPyAoMiAqIGNvbG9yMSkgOiAoY29sb3IyIDw9IDIgKiBjb2xvcjEgLSAyNTUpID8gKDIgKiBjb2xvcjEgLSAyNTUpIDogY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8qKlxuICogQmxlbmQgdGhlIGdpdmVuIGxheWVyIG9udG8gdGhlIGZ1c2lvbiB1c2luZyB0aGUgcGluTGlnaHQgYmxlbmRpbmcgb3BlcmF0b3IuXG4gKiBcbiAqIEZ1c2lvbiBwaXhlbHMgbXVzdCBiZSBvcGFxdWUsIGFuZCB0aGUgZnVzaW9uIGxheWVyJ3Mgb3BhY2l0eSBtdXN0IGJlIHNldCB0byAxMDAuXG4gKi9cblxuICAgICAgICAgICAgICAgIENQQmxlbmQucGluTGlnaHRPbnRvT3BhcXVlRnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGludkFscGhhMSA9IGFscGhhMSBeIDB4ZmY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4XSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW52QWxwaGExICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMSAqICgoY29sb3IyID49IDIgKiBjb2xvcjEpID8gKDIgKiBjb2xvcjEpIDogKGNvbG9yMiA8PSAyICogY29sb3IxIC0gMjU1KSA/ICgyICogY29sb3IxIC0gMjU1KSA6IGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgKSAvIDI1NVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYTEgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExICogKChjb2xvcjIgPj0gMiAqIGNvbG9yMSkgPyAoMiAqIGNvbG9yMSkgOiAoY29sb3IyIDw9IDIgKiBjb2xvcjEgLSAyNTUpID8gKDIgKiBjb2xvcjEgLSAyNTUpIDogY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICApIC8gMjU1XG4gICAgICAgICAgICAgICAgKSB8IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IyID0gZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMl0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGludkFscGhhMSAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEgKiAoKGNvbG9yMiA+PSAyICogY29sb3IxKSA/ICgyICogY29sb3IxKSA6IChjb2xvcjIgPD0gMiAqIGNvbG9yMSAtIDI1NSkgPyAoMiAqIGNvbG9yMSAtIDI1NSkgOiBjb2xvcjIpXG4gICAgICAgICAgICAgICAgICAgICkgLyAyNTVcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLyoqXG4gKiBCbGVuZCB0aGUgZ2l2ZW4gbGF5ZXIgb250byB0aGUgZnVzaW9uIHVzaW5nIHRoZSBwaW5MaWdodCBibGVuZGluZyBvcGVyYXRvci5cbiAqIFxuICogVGhlIGxheWVyIG11c3QgaGF2ZSBpdHMgbGF5ZXIgYWxwaGEgc2V0IHRvIDEwMFxuICogXG4gKiBGdXNpb24gY2FuIGNvbnRhaW4gdHJhbnNwYXJlbnQgcGl4ZWxzLCBidXQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLnBpbkxpZ2h0T250b1RyYW5zcGFyZW50RnVzaW9uV2l0aE9wYXF1ZUxheWVyID0gZnVuY3Rpb24obGF5ZXIsIGZ1c2lvbiwgcmVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpIHwgMCxcbncgPSByZWN0LmdldFdpZHRoKCkgfCAwLFxueVN0cmlkZSA9ICgobGF5ZXIud2lkdGggLSB3KSAqIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxucGl4SW5kZXggPSBsYXllci5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMCA7IHkgPCBoOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBCWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExLFxuYWxwaGEyLFxuY29sb3IxLFxuY29sb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyBBTFBIQV9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG5cbiAgICAgICAgICAgICAgICAgICAgYWxwaGExMiA9IChhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgPSAoYWxwaGExICogKGFscGhhMiBeIDB4ZmYpIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhbjEyID0gKChhbHBoYTEgXiAweGZmKSAqIGFscGhhMiAvIDI1NSkgfCAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMTIgKiAoKGNvbG9yMiA+PSAyICogY29sb3IxKSA/ICgyICogY29sb3IxKSA6IChjb2xvcjIgPD0gMiAqIGNvbG9yMSAtIDI1NSkgPyAoMiAqIGNvbG9yMSAtIDI1NSkgOiBjb2xvcjIpXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEyICogKChjb2xvcjIgPj0gMiAqIGNvbG9yMSkgPyAoMiAqIGNvbG9yMSkgOiAoY29sb3IyIDw9IDIgKiBjb2xvcjEgLSAyNTUpID8gKDIgKiBjb2xvcjEgLSAyNTUpIDogY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExMiAqICgoY29sb3IyID49IDIgKiBjb2xvcjEpID8gKDIgKiBjb2xvcjEpIDogKGNvbG9yMiA8PSAyICogY29sb3IxIC0gMjU1KSA/ICgyICogY29sb3IxIC0gMjU1KSA6IGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG5cbiAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdID0gbmV3QWxwaGE7XG4gICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvKipcbiAqIEJsZW5kIHRoZSBnaXZlbiBsYXllciBvbnRvIHRoZSBmdXNpb24gdXNpbmcgdGhlIHBpbkxpZ2h0IGJsZW5kaW5nIG9wZXJhdG9yLlxuICogXG4gKiBGdXNpb24gY2FuIGNvbnRhaW4gdHJhbnNwYXJlbnQgcGl4ZWxzLCBidXQgdGhlIGZ1c2lvbiBsYXllcidzIG9wYWNpdHkgbXVzdCBiZSBzZXQgdG8gMTAwLlxuICovXG5cbiAgICAgICAgICAgICAgICBDUEJsZW5kLnBpbkxpZ2h0T250b1RyYW5zcGFyZW50RnVzaW9uV2l0aFRyYW5zcGFyZW50TGF5ZXIgPSBmdW5jdGlvbihsYXllciwgZnVzaW9uLCByZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCkgfCAwLFxudyA9IHJlY3QuZ2V0V2lkdGgoKSB8IDAsXG55U3RyaWRlID0gKChsYXllci53aWR0aCAtIHcpICogQllURVNfUEVSX1BJWEVMKSB8IDAsXG5waXhJbmRleCA9IGxheWVyLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwIDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTEsXG5hbHBoYTIsXG5jb2xvcjEsXG5jb2xvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExID0gKCgobGF5ZXIuZGF0YVtwaXhJbmRleCArIEFMUEhBX0JZVEVfT0ZGU0VUXSkgKiBsYXllci5hbHBoYSAvIDEwMCkgIHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDAsXG5cbiAgICAgICAgICAgICAgICAgICAgYWxwaGExMiA9IChhbHBoYTEgKiBhbHBoYTIgLyAyNTUpIHwgMCxcbiAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgPSAoYWxwaGExICogKGFscGhhMiBeIDB4ZmYpIC8gMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIGFscGhhbjEyID0gKChhbHBoYTEgXiAweGZmKSAqIGFscGhhMiAvIDI1NSkgfCAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjEgPSBsYXllci5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleF0gPSAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhMW4yICogY29sb3IxXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhbjEyICogY29sb3IyXG4gICAgICAgICAgICAgICAgICAgICAgICArIGFscGhhMTIgKiAoKGNvbG9yMiA+PSAyICogY29sb3IxKSA/ICgyICogY29sb3IxKSA6IChjb2xvcjIgPD0gMiAqIGNvbG9yMSAtIDI1NSkgPyAoMiAqIGNvbG9yMSAtIDI1NSkgOiBjb2xvcjIpXG4gICAgICAgICAgICAgICAgICAgICkgLyBuZXdBbHBoYVxuICAgICAgICAgICAgICAgICkgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3IxID0gbGF5ZXIuZGF0YVtwaXhJbmRleCArIDFdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMiA9IGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdXNpb24uZGF0YVtwaXhJbmRleCArIDFdID0gKFxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTFuMiAqIGNvbG9yMVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYW4xMiAqIGNvbG9yMlxuICAgICAgICAgICAgICAgICAgICAgICAgKyBhbHBoYTEyICogKChjb2xvcjIgPj0gMiAqIGNvbG9yMSkgPyAoMiAqIGNvbG9yMSkgOiAoY29sb3IyIDw9IDIgKiBjb2xvcjEgLSAyNTUpID8gKDIgKiBjb2xvcjEgLSAyNTUpIDogY29sb3IyKVxuICAgICAgICAgICAgICAgICAgICApIC8gbmV3QWxwaGFcbiAgICAgICAgICAgICAgICApIHwgMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yMSA9IGxheWVyLmRhdGFbcGl4SW5kZXggKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjIgPSBmdXNpb24uZGF0YVtwaXhJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnVzaW9uLmRhdGFbcGl4SW5kZXggKyAyXSA9IChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGExbjIgKiBjb2xvcjFcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGFuMTIgKiBjb2xvcjJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgYWxwaGExMiAqICgoY29sb3IyID49IDIgKiBjb2xvcjEpID8gKDIgKiBjb2xvcjEpIDogKGNvbG9yMiA8PSAyICogY29sb3IxIC0gMjU1KSA/ICgyICogY29sb3IxIC0gMjU1KSA6IGNvbG9yMilcbiAgICAgICAgICAgICAgICAgICAgKSAvIG5ld0FscGhhXG4gICAgICAgICAgICAgICAgKSB8IDA7XG5cbiAgICAgICAgICAgIGZ1c2lvbi5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdID0gbmV3QWxwaGE7XG4gICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICBcbiAgICBDUEJsZW5kLkxNX05PUk1BTCA9IDA7XG4gICAgQ1BCbGVuZC5MTV9NVUxUSVBMWSA9IDE7XG4gICAgQ1BCbGVuZC5MTV9BREQgPSAyO1xuICAgIENQQmxlbmQuTE1fU0NSRUVOID0gMztcbiAgICBDUEJsZW5kLkxNX0xJR0hURU4gPSA0O1xuICAgIENQQmxlbmQuTE1fREFSS0VOID0gNTtcbiAgICBDUEJsZW5kLkxNX1NVQlRSQUNUID0gNjtcbiAgICBDUEJsZW5kLkxNX0RPREdFID0gNztcbiAgICBDUEJsZW5kLkxNX0JVUk4gPSA4O1xuICAgIENQQmxlbmQuTE1fT1ZFUkxBWSA9IDk7XG4gICAgQ1BCbGVuZC5MTV9IQVJETElHSFQgPSAxMDtcbiAgICBDUEJsZW5kLkxNX1NPRlRMSUdIVCA9IDExO1xuICAgIENQQmxlbmQuTE1fVklWSURMSUdIVCA9IDEyO1xuICAgIENQQmxlbmQuTE1fTElORUFSTElHSFQgPSAxMztcbiAgICBDUEJsZW5kLkxNX1BJTkxJR0hUID0gMTQ7XG5cbi8qKlxuICogRnVzZSB0aGUgZ2l2ZW4gbGF5ZXIgb24gdG9wIG9mIHRoZSBnaXZlbiBmdXNpb24gbGF5ZXIsIHVzaW5nIHRoZSBibGVuZGluZyBvcGVyYXRpb24gZGVmaW5lZCBpbiB0aGUgbGF5ZXIuXG4gKlxuICogQHBhcmFtIHtDUExheWVyfSBmdXNpb24gLSBMYXllciB0byBmdXNlIG9uIHRvcCBvZlxuICogQHBhcmFtIHtib29sZWFufSBmdXNpb25IYXNUcmFuc3BhcmVuY3kgLSBUcnVlIGlmIHRoZSBmdXNpb24gbGF5ZXIgaGFzIGFscGhhIDwgMTAwLCBvciBhbnkgdHJhbnNwYXJlbnQgcGl4ZWxzLlxuICogQHBhcmFtIHtDUExheWVyfSBsYXllciAtIExheWVyIHRoYXQgc2hvdWxkIGJlIGRyYXduIG9uIHRvcCBvZiB0aGUgZnVzaW9uXG4gKiBAcGFyYW0ge0NQUmVjdH0gcmVjdCAtIFRoZSByZWN0YW5nbGUgb2YgcGl4ZWxzIHRoYXQgc2hvdWxkIGJlIGZ1c2VkLlxuICovXG5DUEJsZW5kLmZ1c2VMYXllciA9IGZ1bmN0aW9uIChmdXNpb24sIGZ1c2lvbkhhc1RyYW5zcGFyZW5jeSwgbGF5ZXIsIHJlY3QpIHtcbiAgICBpZiAobGF5ZXIuYWxwaGEgPD0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyXG4gICAgICAgIGZ1bmNOYW1lID0gQkxFTkRfTU9ERV9OQU1FU1tsYXllci5ibGVuZE1vZGVdICsgXCJPbnRvXCI7XG5cbiAgICBpZiAoZnVzaW9uLmFscGhhIDwgMTAwKSB7XG4gICAgICAgIHRocm93IFwiRnVzaW9uIGxheWVyIGFscGhhIDwgMTAwIG5vdCBzdXBwb3J0ZWQuXCI7XG4gICAgfVxuXG4gICAgaWYgKGZ1c2lvbkhhc1RyYW5zcGFyZW5jeSkge1xuICAgICAgICBmdW5jTmFtZSArPSBcIlRyYW5zcGFyZW50RnVzaW9uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZnVuY05hbWUgKz0gXCJPcGFxdWVGdXNpb25cIjtcbiAgICB9XG5cbiAgICBpZiAobGF5ZXIuYWxwaGEgPT0gMTAwKSB7XG4gICAgICAgIGZ1bmNOYW1lICs9IFwiV2l0aE9wYXF1ZUxheWVyXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZnVuY05hbWUgKz0gXCJXaXRoVHJhbnNwYXJlbnRMYXllclwiO1xuICAgIH1cblxuICAgIGZ1c2lvbi5nZXRCb3VuZHMoKS5jbGlwKHJlY3QpO1xuXG4gICAgdGhpc1tmdW5jTmFtZV0obGF5ZXIsIGZ1c2lvbiwgcmVjdCk7XG59O1xuZnVuY3Rpb24gbWFrZUxvb2t1cFRhYmxlcygpIHtcbiAgICAvLyBWIC0gVl4yIHRhYmxlXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHYgPSBpIC8gMjU1O1xuXG4gICAgICAgIHNvZnRMaWdodExVVFNxdWFyZVtpXSA9ICgodiAtIHYgKiB2KSAqIDI1NSkgfCAwO1xuICAgIH1cblxuICAgIC8vIHNxcnQoVikgLSBWIHRhYmxlXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHYgPSBpIC8gMjU1O1xuXG4gICAgICAgIHNvZnRMaWdodExVVFNxdWFyZVJvb3RbaV0gPSAoKE1hdGguc3FydCh2KSAtIHYpICogMjU1KSB8IDA7XG4gICAgfVxufVxubWFrZUxvb2t1cFRhYmxlcygpO1xuIiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQQnJ1c2hJbmZvKHByb3BlcnRpZXMpIHtcbiAgICAvLyBTZXQgYnJ1c2ggc2V0dGluZyBmaWVsZHMgd2l0aCBkZWZhdWx0IHZhbHVlcywgdGhlbiBhcHBseSB0aGUgc3VwcGxpZWQgJ3Byb3BlcnRpZXMnIG9uIHRvcFxuICAgIGZvciAodmFyIHByb3BOYW1lIGluIENQQnJ1c2hJbmZvLkRFRkFVTFRTKSB7XG4gICAgICAgIGlmIChDUEJydXNoSW5mby5ERUZBVUxUUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID0gQ1BCcnVzaEluZm8uREVGQVVMVFNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZvciAodmFyIHByb3BOYW1lIGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IHByb3BlcnRpZXNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBTdHJva2UgbW9kZXNcbkNQQnJ1c2hJbmZvLlNNX0ZSRUVIQU5EID0gMDtcbkNQQnJ1c2hJbmZvLlNNX0xJTkUgPSAxO1xuQ1BCcnVzaEluZm8uU01fQkVaSUVSID0gMjtcblxuLy8gQnJ1c2ggZGFiIHR5cGVzXG5DUEJydXNoSW5mby5CX1JPVU5EX1BJWEVMID0gMDtcbkNQQnJ1c2hJbmZvLkJfUk9VTkRfQUEgPSAxO1xuQ1BCcnVzaEluZm8uQl9ST1VORF9BSVJCUlVTSCA9IDI7XG5DUEJydXNoSW5mby5CX1NRVUFSRV9QSVhFTCA9IDM7XG5DUEJydXNoSW5mby5CX1NRVUFSRV9BQSA9IDQ7XG5cbi8vIHBhaW50aW5nIG1vZGVzXG5DUEJydXNoSW5mby5NX1BBSU5UID0gMDtcbkNQQnJ1c2hJbmZvLk1fRVJBU0UgPSAxO1xuQ1BCcnVzaEluZm8uTV9ET0RHRSA9IDI7XG5DUEJydXNoSW5mby5NX0JVUk4gPSAzO1xuQ1BCcnVzaEluZm8uTV9XQVRFUiA9IDQ7XG5DUEJydXNoSW5mby5NX0JMVVIgPSA1O1xuQ1BCcnVzaEluZm8uTV9TTVVER0UgPSA2O1xuQ1BCcnVzaEluZm8uTV9PSUwgPSA3O1xuXG5DUEJydXNoSW5mby5ERUZBVUxUUyA9IHtcbiAgICBpc0FBOiBmYWxzZSwgaXNBaXJicnVzaDogZmFsc2UsXG4gICAgbWluU3BhY2luZzogMCwgc3BhY2luZzogMCxcbiAgICBcbiAgICBwcmVzc3VyZVNpemU6IHRydWUsXG4gICAgcHJlc3N1cmVBbHBoYTogZmFsc2UsXG4gICAgcHJlc3N1cmVTY2F0dGVyaW5nOiBmYWxzZSxcbiAgICBcbiAgICB0eXBlOiAwLCBwYWludE1vZGU6IDAsXG4gICAgc3Ryb2tlTW9kZTogQ1BCcnVzaEluZm8uU01fRlJFRUhBTkQsXG4gICAgcmVzYXQ6IDEuMCwgYmxlZWQ6IDAuMCxcblxuICAgIHRleHR1cmU6IDEuMCxcbiAgICBcbiAgICAvLyBcImN1clwiIHZhbHVlcyBhcmUgY3VycmVudCBicnVzaCBzZXR0aW5ncyAob25jZSB0YWJsZXQgcHJlc3N1cmUgYW5kIHN0dWZmIGlzIGFwcGxpZWQpXG4gICAgc2l6ZTogMCwgY3VyU2l6ZTogMCxcbiAgICBhbHBoYTogMCwgY3VyQWxwaGE6IDAsXG4gICAgc2NhdHRlcmluZzogMC4wLCBjdXJTY2F0dGVyaW5nOiAwLFxuICAgIHNxdWVlemU6IDAuMCwgY3VyU3F1ZWV6ZTogMCxcbiAgICBhbmdsZTogTWF0aC5QSSwgY3VyQW5nbGU6IDAsXG4gICAgXG4gICAgc21vb3RoaW5nOiAwLjBcbn07XG5cbkNQQnJ1c2hJbmZvLnByb3RvdHlwZS5hcHBseVByZXNzdXJlID0gZnVuY3Rpb24ocHJlc3N1cmUpIHtcbiAgICAvLyBGSVhNRTogbm8gdmFyaWFibGUgc2l6ZSBmb3Igc211ZGdlIGFuZCBvaWwgOihcbiAgICBpZiAodGhpcy5wcmVzc3VyZVNpemUgJiYgdGhpcy5wYWludE1vZGUgIT0gQ1BCcnVzaEluZm8uTV9TTVVER0UgJiYgdGhpcy5wYWludE1vZGUgIT0gQ1BCcnVzaEluZm8uTV9PSUwpIHtcbiAgICAgICAgdGhpcy5jdXJTaXplID0gTWF0aC5tYXgoMC4xLCB0aGlzLnNpemUgKiBwcmVzc3VyZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJTaXplID0gTWF0aC5tYXgoMC4xLCB0aGlzLnNpemUpO1xuICAgIH1cblxuICAgIC8vIEZJWE1FOiB3aGF0IGlzIHRoZSBwb2ludCBvZiBkb2luZyB0aGF0P1xuICAgIGlmICh0aGlzLmN1clNpemUgPiAxNikge1xuICAgICAgICB0aGlzLmN1clNpemUgPSBNYXRoLmZsb29yKHRoaXMuY3VyU2l6ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5jdXJBbHBoYSA9IHRoaXMucHJlc3N1cmVBbHBoYSA/IE1hdGguZmxvb3IodGhpcy5hbHBoYSAqIE1hdGgubWluKHByZXNzdXJlLCAxLjApKSA6IHRoaXMuYWxwaGE7XG4gICAgdGhpcy5jdXJTcXVlZXplID0gdGhpcy5zcXVlZXplO1xuICAgIHRoaXMuY3VyQW5nbGUgPSB0aGlzLmFuZ2xlO1xuICAgIHRoaXMuY3VyU2NhdHRlcmluZyA9IHRoaXMuc2NhdHRlcmluZyAqIHRoaXMuY3VyU2l6ZSAqICh0aGlzLnByZXNzdXJlU2NhdHRlcmluZyA/IHByZXNzdXJlIDogMS4wKTtcbn07XG5cbkNQQnJ1c2hJbmZvLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgQ1BCcnVzaEluZm8odGhpcyk7XG59O1xuIiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUEJydXNoSW5mbyBmcm9tIFwiLi9DUEJydXNoSW5mb1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUEJydXNoTWFuYWdlcigpIHtcbiAgICBjb25zdFxuICAgICAgICBNQVhfU1FVRUVaRSA9IDEwLFxuICAgICAgICBCUlVTSF9NQVhfRElNID0gMjAxLFxuICAgICAgICBCUlVTSF9BQV9NQVhfRElNID0gMjAyO1xuICAgIFxuICAgIC8qQ1BCcnVzaERhYiB7XG4gICAgICAgIC8vIHRoZSBicnVzaFxuICAgICAgICBVaW50OEFycmF5IGJydXNoO1xuICAgICAgICBpbnQgd2lkdGgsIGhlaWdodDtcbiAgICAgICAgXG4gICAgICAgIC8vIGFuZCB3aGVyZSBhbmQgaG93IHRvIGFwcGx5IGl0XG4gICAgICAgIGludCB4LCB5LCBhbHBoYTtcbiAgICB9Ki9cbiAgICBcbiAgICB2YXJcbiAgICAgICAgYnJ1c2ggPSBuZXcgVWludDhBcnJheShCUlVTSF9NQVhfRElNICogQlJVU0hfTUFYX0RJTSksXG4gICAgICAgIGJydXNoQUEgPSBuZXcgVWludDhBcnJheShCUlVTSF9BQV9NQVhfRElNICogQlJVU0hfQUFfTUFYX0RJTSksXG5cbiAgICAgICAgY2FjaGVCcnVzaCA9IG51bGwsXG4gICAgICAgIGNhY2hlU2l6ZSwgY2FjaGVTcXVlZXplLCBjYWNoZUFuZ2xlLFxuICAgICAgICBjYWNoZVR5cGUsXG5cbiAgICAgICAgdGhhdCA9IHRoaXM7IFxuXG4gICAgLyoqXG4gICAgICogU2hpZnQgYSBicnVzaCBieSBhIHBvc2l0aXZlIHN1Yi1waXhlbCBhbW91bnQgKGR4LCBkeSkgWzAuLjEpLCBhbmQgcmV0dXJuIHRoZSBuZXcgYnJ1c2guIFxuICAgICAqIFxuICAgICAqIFRoZSByZXN1bHRpbmcgYnJ1c2ggYXJyYXkgaXMgMSBwaXhlbCBsYXJnZXIgdGhhbiB0aGUgb3JpZ2luYWwgb25lIGluIGJvdGggZGltZW5zaW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRCcnVzaFdpdGhBQShicnVzaEluZm8sIGR4LCBkeSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIG5vbkFBQnJ1c2ggPSBnZXRCcnVzaChicnVzaEluZm8pLFxuXG4gICAgICAgICAgICBpbnRTaXplID0gTWF0aC5jZWlsKGJydXNoSW5mby5jdXJTaXplKSxcbiAgICAgICAgICAgIGludFNpemVBQSA9IE1hdGguY2VpbChicnVzaEluZm8uY3VyU2l6ZSkgKyAxO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBpbnRTaXplQUEgKiBpbnRTaXplQUE7IHgrKykge1xuICAgICAgICAgICAgYnJ1c2hBQVt4XSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHZhclxuICAgICAgICAgICAgaW52ZHhfaW52ZHkgPSAoMSAtIGR4KSAqICgxIC0gZHkpLFxuICAgICAgICAgICAgZHhfaW52ZHkgPSBkeCAqICgxIC0gZHkpLFxuICAgICAgICAgICAgZHhfZHkgPSBkeCAqIGR5LFxuICAgICAgICAgICAgaW52ZHhfZHkgPSAoMSAtIGR4KSAqIGR5LFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzcmNJbmRleCA9IDAsXG4gICAgICAgICAgICBkc3RJbmRleCA9IDA7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGludFNpemU7IHkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBpbnRTaXplOyB4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgICAgIGJydXNoQWxwaGEgPSBub25BQUJydXNoW3NyY0luZGV4XTtcblxuICAgICAgICAgICAgICAgIC8qIFxuICAgICAgICAgICAgICAgICAqIFVzZSBhIHdlaWdodGVkIHN1bSB0byBzaGlmdCB0aGUgc291cmNlIHBpeGVscydzIHBvc2l0aW9uIGJ5IGEgc3ViLXBpeGVsIGFtb3VudCBkeCwgZHkgYW5kIGFjY3VtdWxhdGVcbiAgICAgICAgICAgICAgICAgKiBpdCBpbnRvIHRoZSBmaW5hbCBicnVzaEFBIGFycmF5LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGJydXNoQUFbZHN0SW5kZXhdICs9IH5+KGJydXNoQWxwaGEgKiBpbnZkeF9pbnZkeSk7XG4gICAgICAgICAgICAgICAgYnJ1c2hBQVtkc3RJbmRleCArIDFdICs9IH5+KGJydXNoQWxwaGEgKiBkeF9pbnZkeSk7XG4gICAgICAgICAgICAgICAgYnJ1c2hBQVtkc3RJbmRleCArIDEgKyBpbnRTaXplQUFdICs9IH5+KGJydXNoQWxwaGEgKiBkeF9keSk7XG4gICAgICAgICAgICAgICAgYnJ1c2hBQVtkc3RJbmRleCArIGludFNpemVBQV0gKz0gfn4oYnJ1c2hBbHBoYSAqIGludmR4X2R5KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzcmNJbmRleCsrO1xuICAgICAgICAgICAgICAgIGRzdEluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkc3RJbmRleCArPSBpbnRTaXplQUEgLSBpbnRTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJydXNoQUE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYnVpbGRCcnVzaChicnVzaCwgYnJ1c2hJbmZvKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgaW50U2l6ZSA9IE1hdGguY2VpbChicnVzaEluZm8uY3VyU2l6ZSksXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNlbnRlciA9IGludFNpemUgLyAyLjAsXG4gICAgICAgICAgICBzcXJSYWRpdXMgPSAoYnJ1c2hJbmZvLmN1clNpemUgLyAyKSAqIChicnVzaEluZm8uY3VyU2l6ZSAvIDIpLFxuICAgIFxuICAgICAgICAgICAgeEZhY3RvciA9IDEuMCArIGJydXNoSW5mby5jdXJTcXVlZXplICogTUFYX1NRVUVFWkUsXG4gICAgICAgICAgICBjb3NBID0gTWF0aC5jb3MoYnJ1c2hJbmZvLmN1ckFuZ2xlKSxcbiAgICAgICAgICAgIHNpbkEgPSBNYXRoLnNpbihicnVzaEluZm8uY3VyQW5nbGUpLFxuICAgIFxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW50U2l6ZTsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludFNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgeCA9IChpICsgMC41IC0gY2VudGVyKSxcbiAgICAgICAgICAgICAgICAgICAgeSA9IChqICsgMC41IC0gY2VudGVyKSxcbiAgICAgICAgICAgICAgICAgICAgZHggPSAoeCAqIGNvc0EgLSB5ICogc2luQSkgKiB4RmFjdG9yLFxuICAgICAgICAgICAgICAgICAgICBkeSA9ICh5ICogY29zQSArIHggKiBzaW5BKSxcblxuICAgICAgICAgICAgICAgICAgICBzcXJEaXN0ID0gZHggKiBkeCArIGR5ICogZHk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3FyRGlzdCA8PSBzcXJSYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJ1c2hbb2Zmc2V0KytdID0gMHhGRjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicnVzaFtvZmZzZXQrK10gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBicnVzaDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBidWlsZEJydXNoQUEoYnJ1c2gsIGJydXNoSW5mbykge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGludFNpemUgPSBNYXRoLmNlaWwoYnJ1c2hJbmZvLmN1clNpemUpLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjZW50ZXIgPSBpbnRTaXplIC8gMi4wLFxuICAgICAgICAgICAgc3FyUmFkaXVzID0gKGJydXNoSW5mby5jdXJTaXplIC8gMikgKiAoYnJ1c2hJbmZvLmN1clNpemUgLyAyKSxcbiAgICAgICAgICAgIHNxclJhZGl1c0lubmVyID0gKChicnVzaEluZm8uY3VyU2l6ZSAtIDIpIC8gMikgKiAoKGJydXNoSW5mby5jdXJTaXplIC0gMikgLyAyKSxcbiAgICAgICAgICAgIHNxclJhZGl1c091dGVyID0gKChicnVzaEluZm8uY3VyU2l6ZSArIDIpIC8gMikgKiAoKGJydXNoSW5mby5jdXJTaXplICsgMikgLyAyKSxcblxuICAgICAgICAgICAgeEZhY3RvciA9IDEuMCArIGJydXNoSW5mby5jdXJTcXVlZXplICogTUFYX1NRVUVFWkUsXG4gICAgICAgICAgICBjb3NBID0gTWF0aC5jb3MoYnJ1c2hJbmZvLmN1ckFuZ2xlKSxcbiAgICAgICAgICAgIHNpbkEgPSBNYXRoLnNpbihicnVzaEluZm8uY3VyQW5nbGUpLFxuXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbnRTaXplOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgICAgICB4ID0gKGkgKyAwLjUgLSBjZW50ZXIpLFxuICAgICAgICAgICAgICAgICAgICB5ID0gKGogKyAwLjUgLSBjZW50ZXIpLFxuICAgICAgICAgICAgICAgICAgICBkeCA9ICh4ICogY29zQSAtIHkgKiBzaW5BKSAqIHhGYWN0b3IsXG4gICAgICAgICAgICAgICAgICAgIGR5ID0gKHkgKiBjb3NBICsgeCAqIHNpbkEpLFxuXG4gICAgICAgICAgICAgICAgICAgIHNxckRpc3QgPSBkeCAqIGR4ICsgZHkgKiBkeTtcblxuICAgICAgICAgICAgICAgIGlmIChzcXJEaXN0IDw9IHNxclJhZGl1c0lubmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJydXNoW29mZnNldCsrXSA9IDB4RkY7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcXJEaXN0ID4gc3FyUmFkaXVzT3V0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJ1c2hbb2Zmc2V0KytdID0gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBveSA9IDA7IG95IDwgNDsgb3krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgb3ggPSAwOyBveCA8IDQ7IG94KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gaSArIG94ICogKDEuMCAvIDQuMCkgLSBjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGogKyBveSAqICgxLjAgLyA0LjApIC0gY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR4ID0gKHggKiBjb3NBIC0geSAqIHNpbkEpICogeEZhY3RvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkeSA9ICh5ICogY29zQSArIHggKiBzaW5BKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxckRpc3QgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3FyRGlzdCA8PSBzcXJSYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJ1c2hbb2Zmc2V0KytdID0gTWF0aC5taW4oY291bnQgKiAxNiwgMjU1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnJ1c2g7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYnVpbGRCcnVzaFNxdWFyZShicnVzaCwgYnJ1c2hJbmZvKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgaW50U2l6ZSA9IE1hdGguY2VpbChicnVzaEluZm8uY3VyU2l6ZSksXG4gICAgICAgICAgICBjZW50ZXIgPSBpbnRTaXplIC8gMi4wLFxuXG4gICAgICAgICAgICBzaXplID0gYnJ1c2hJbmZvLmN1clNpemUgKiBNYXRoLnNpbihNYXRoLlBJIC8gNCksXG4gICAgICAgICAgICBzaXplWCA9IChzaXplIC8gMikgLyAoMS4wICsgYnJ1c2hJbmZvLmN1clNxdWVlemUgKiBNQVhfU1FVRUVaRSksXG4gICAgICAgICAgICBzaXplWSA9IChzaXplIC8gMiksXG5cbiAgICAgICAgICAgIGNvc0EgPSBNYXRoLmNvcyhicnVzaEluZm8uY3VyQW5nbGUpLFxuICAgICAgICAgICAgc2luQSA9IE1hdGguc2luKGJydXNoSW5mby5jdXJBbmdsZSksXG5cbiAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGludFNpemU7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnRTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgICAgIHggPSAoaSArIDAuNSAtIGNlbnRlciksXG4gICAgICAgICAgICAgICAgICAgIHkgPSAoaiArIDAuNSAtIGNlbnRlciksXG4gICAgICAgICAgICAgICAgICAgIGR4ID0gTWF0aC5hYnMoeCAqIGNvc0EgLSB5ICogc2luQSksXG4gICAgICAgICAgICAgICAgICAgIGR5ID0gTWF0aC5hYnMoeSAqIGNvc0EgKyB4ICogc2luQSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZHggPD0gc2l6ZVggJiYgZHkgPD0gc2l6ZVkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJ1c2hbb2Zmc2V0KytdID0gMHhGRjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicnVzaFtvZmZzZXQrK10gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBicnVzaDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBidWlsZEJydXNoU3F1YXJlQUEoYnJ1c2gsIGJydXNoSW5mbykge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGludFNpemUgPSBNYXRoLmNlaWwoYnJ1c2hJbmZvLmN1clNpemUpLFxuICAgICAgICAgICAgY2VudGVyID0gaW50U2l6ZSAvIDIuMCxcblxuICAgICAgICAgICAgc2l6ZSA9IGJydXNoSW5mby5jdXJTaXplICogTWF0aC5zaW4oTWF0aC5QSSAvIDQpLFxuICAgICAgICAgICAgc2l6ZVggPSAoc2l6ZSAvIDIpIC8gKDEuMCArIGJydXNoSW5mby5jdXJTcXVlZXplICogTUFYX1NRVUVFWkUpLFxuICAgICAgICAgICAgc2l6ZVkgPSAoc2l6ZSAvIDIpLFxuXG4gICAgICAgICAgICBzaXplWElubmVyID0gc2l6ZVggLSAxLFxuICAgICAgICAgICAgc2l6ZVlJbm5lciA9IHNpemVZIC0gMSxcblxuICAgICAgICAgICAgc2l6ZVhPdXRlciA9IHNpemVYICsgMSxcbiAgICAgICAgICAgIHNpemVZT3V0ZXIgPSBzaXplWSArIDEsXG5cbiAgICAgICAgICAgIGNvc0EgPSBNYXRoLmNvcyhicnVzaEluZm8uY3VyQW5nbGUpLFxuICAgICAgICAgICAgc2luQSA9IE1hdGguc2luKGJydXNoSW5mby5jdXJBbmdsZSksXG5cbiAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGludFNpemU7IGorKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnRTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgICAgIHggPSAoaSArIDAuNSAtIGNlbnRlciksXG4gICAgICAgICAgICAgICAgICAgIHkgPSAoaiArIDAuNSAtIGNlbnRlciksXG4gICAgICAgICAgICAgICAgICAgIGR4ID0gTWF0aC5hYnMoeCAqIGNvc0EgLSB5ICogc2luQSksXG4gICAgICAgICAgICAgICAgICAgIGR5ID0gTWF0aC5hYnMoeSAqIGNvc0EgKyB4ICogc2luQSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZHggPD0gc2l6ZVhJbm5lciAmJiBkeSA8PSBzaXplWUlubmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJydXNoW29mZnNldCsrXSA9IDB4RkY7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkeCA+IHNpemVYT3V0ZXIgfHwgZHkgPiBzaXplWU91dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJydXNoW29mZnNldCsrXSA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBveSA9IDA7IG95IDwgNDsgb3krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgb3ggPSAwOyBveCA8IDQ7IG94KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gaSArIG94ICogKDEuMCAvIDQuMCkgLSBjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGogKyBveSAqICgxLjAgLyA0LjApIC0gY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR4ID0gTWF0aC5hYnMoeCAqIGNvc0EgLSB5ICogc2luQSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHkgPSBNYXRoLmFicyh5ICogY29zQSArIHggKiBzaW5BKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkeCA8PSBzaXplWCAmJiBkeSA8PSBzaXplWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicnVzaFtvZmZzZXQrK10gPSBNYXRoLm1pbihjb3VudCAqIDE2LCAyNTUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBicnVzaDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBidWlsZEJydXNoU29mdChicnVzaCwgYnJ1c2hJbmZvKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgaW50U2l6ZSA9IE1hdGguY2VpbChicnVzaEluZm8uY3VyU2l6ZSksXG4gICAgICAgICAgICBjZW50ZXIgPSBpbnRTaXplIC8gMi4wLFxuICAgICAgICAgICAgc3FyUmFkaXVzID0gKGJydXNoSW5mby5jdXJTaXplIC8gMikgKiAoYnJ1c2hJbmZvLmN1clNpemUgLyAyKSxcblxuICAgICAgICAgICAgeEZhY3RvciA9IDEuMCArIGJydXNoSW5mby5jdXJTcXVlZXplICogTUFYX1NRVUVFWkUsXG4gICAgICAgICAgICBjb3NBID0gTWF0aC5jb3MoYnJ1c2hJbmZvLmN1ckFuZ2xlKSxcbiAgICAgICAgICAgIHNpbkEgPSBNYXRoLnNpbihicnVzaEluZm8uY3VyQW5nbGUpLFxuXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbnRTaXplOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgICAgICB4ID0gKGkgKyAwLjUgLSBjZW50ZXIpLFxuICAgICAgICAgICAgICAgICAgICB5ID0gKGogKyAwLjUgLSBjZW50ZXIpLFxuICAgICAgICAgICAgICAgICAgICBkeCA9ICh4ICogY29zQSAtIHkgKiBzaW5BKSAqIHhGYWN0b3IsXG4gICAgICAgICAgICAgICAgICAgIGR5ID0gKHkgKiBjb3NBICsgeCAqIHNpbkEpLFxuXG4gICAgICAgICAgICAgICAgICAgIHNxckRpc3QgPSBkeCAqIGR4ICsgZHkgKiBkeTtcblxuICAgICAgICAgICAgICAgIGlmIChzcXJEaXN0IDw9IHNxclJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICBicnVzaFtvZmZzZXQrK10gPSB+figyNTUgKiAoMSAtIChzcXJEaXN0IC8gc3FyUmFkaXVzKSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJydXNoW29mZnNldCsrXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJydXNoO1xuICAgIH0gXG4gICAgXG4gICAgLyoqXG4gICAgICogQnVpbGQgYW5kIHJldHVybiBhIGJydXNoIHRoYXQgY29uZm9ybXMgdG8gdGhlIGdpdmVuIGJydXNoIHNldHRpbmdzLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIGEgVWludDhBcnJheVxuICAgICAqLyBcbiAgICBmdW5jdGlvbiBnZXRCcnVzaChicnVzaEluZm8pIHtcbiAgICAgICAgaWYgKGNhY2hlQnJ1c2ggIT0gbnVsbCAmJiBicnVzaEluZm8uY3VyU2l6ZSA9PSBjYWNoZVNpemUgJiYgYnJ1c2hJbmZvLmN1clNxdWVlemUgPT0gY2FjaGVTcXVlZXplXG4gICAgICAgICAgICAgICAgJiYgYnJ1c2hJbmZvLmN1ckFuZ2xlID09IGNhY2hlQW5nbGUgJiYgYnJ1c2hJbmZvLnR5cGUgPT0gY2FjaGVUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVCcnVzaDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc3dpdGNoIChicnVzaEluZm8udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDUEJydXNoSW5mby5CX1JPVU5EX0FJUkJSVVNIOlxuICAgICAgICAgICAgICAgIGJydXNoID0gYnVpbGRCcnVzaFNvZnQoYnJ1c2gsIGJydXNoSW5mbyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ1BCcnVzaEluZm8uQl9ST1VORF9BQTpcbiAgICAgICAgICAgICAgICBicnVzaCA9IGJ1aWxkQnJ1c2hBQShicnVzaCwgYnJ1c2hJbmZvKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDUEJydXNoSW5mby5CX1JPVU5EX1BJWEVMOlxuICAgICAgICAgICAgICAgIGJydXNoID0gYnVpbGRCcnVzaChicnVzaCwgYnJ1c2hJbmZvKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDUEJydXNoSW5mby5CX1NRVUFSRV9BQTpcbiAgICAgICAgICAgICAgICBicnVzaCA9IGJ1aWxkQnJ1c2hTcXVhcmVBQShicnVzaCwgYnJ1c2hJbmZvKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDUEJydXNoSW5mby5CX1NRVUFSRV9QSVhFTDpcbiAgICAgICAgICAgICAgICBicnVzaCA9IGJ1aWxkQnJ1c2hTcXVhcmUoYnJ1c2gsIGJydXNoSW5mbyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhY2hlQnJ1c2ggPSBicnVzaDtcbiAgICAgICAgY2FjaGVTaXplID0gYnJ1c2hJbmZvLmN1clNpemU7XG4gICAgICAgIGNhY2hlVHlwZSA9IGJydXNoSW5mby50eXBlO1xuICAgICAgICBjYWNoZVNxdWVlemUgPSBicnVzaEluZm8uY3VyU3F1ZWV6ZTtcbiAgICAgICAgY2FjaGVBbmdsZSA9IGJydXNoSW5mby5jdXJBbmdsZTtcblxuICAgICAgICByZXR1cm4gYnJ1c2g7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGFwcGx5VGV4dHVyZShkYWIsIHRleHR1cmVBbW91bnQpIHtcbiAgICAgICAgdmFyIFxuICAgICAgICAgICAgYW1vdW50ID0gTWF0aC5mbG9vcih0ZXh0dXJlQW1vdW50ICogMjU1KSxcbiAgICAgICAgICAgIHRleHR1cmUgPSB0aGF0LnRleHR1cmUsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRleHR1cmVYID0gZGFiLnggJSB0ZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgdGV4dHVyZVkgPSBkYWIueSAlIHRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBicnVzaFBvcyA9IDAsXG4gICAgICAgICAgICB0ZXh0dXJlUG9zLCB0ZXh0dXJlRU9MO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlWCA8IDApIHtcbiAgICAgICAgICAgIHRleHR1cmVYICs9IHRleHR1cmUud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGV4dHVyZVkgPCAwKSB7XG4gICAgICAgICAgICB0ZXh0dXJlWSArPSB0ZXh0dXJlLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkYWIuaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIHRleHR1cmVQb3MgPSB0ZXh0dXJlWSAqIHRleHR1cmUud2lkdGggKyB0ZXh0dXJlWDtcbiAgICAgICAgICAgIHRleHR1cmVFT0wgPSB0ZXh0dXJlWSAqIHRleHR1cmUud2lkdGggKyB0ZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGRhYi53aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgICAgICBicnVzaFZhbHVlID0gZGFiLmJydXNoW2JydXNoUG9zXSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZVZhbHVlID0gdGV4dHVyZS5kYXRhW3RleHR1cmVQb3NdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRhYi5icnVzaFticnVzaFBvc10gPSB+fihicnVzaFZhbHVlICogKCh0ZXh0dXJlVmFsdWUgKiBhbW91bnQgLyAyNTUpIF4gMHhmZikgLyAyNTUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJydXNoUG9zKys7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGV4dHVyZVBvcysrO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlUG9zID09IHRleHR1cmVFT0wpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV3JhcCB0byBsZWZ0IHNpZGUgb2YgdGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlUG9zIC09IHRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0ZXh0dXJlWSsrO1xuICAgICAgICAgICAgaWYgKHRleHR1cmVZID09IHRleHR1cmUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZVkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB4IGZsb2F0XG4gICAgICogQHBhcmFtIHkgZmxvYXRcbiAgICAgKiBicnVzaEluZm8gLSBhIENQQnJ1c2hJbmZvIG9iamVjdFxuICAgICAqL1xuICAgIHRoaXMuZ2V0RGFiID0gZnVuY3Rpb24oeCwgeSwgYnJ1c2hJbmZvKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIGRhYiA9IHtcbiAgICAgICAgICAgICAgICBhbHBoYTogYnJ1c2hJbmZvLmN1ckFscGhhLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLmNlaWwoYnJ1c2hJbmZvLmN1clNpemUpLFxuICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5jZWlsKGJydXNoSW5mby5jdXJTaXplKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBGSVhNRTogSSBkb24ndCBsaWtlIHRoaXMgc3BlY2lhbCBjYXNlIGZvciBST1VORF9QSVhFTFxuICAgICAgICAvLyBpdCB3b3VsZCBiZSBiZXR0ZXIgdG8gaGF2ZSBicnVzaCBwcmVzZXRzIGZvciB3b3JraW5nIHdpdGggcGl4ZWxzXG4gICAgICAgIHZhciB1c2VBQSA9IGJydXNoSW5mby5pc0FBICYmIGJydXNoSW5mby50eXBlICE9IENQQnJ1c2hJbmZvLkJfUk9VTkRfUElYRUw7XG5cbiAgICAgICAgaWYgKHVzZUFBKSB7XG4gICAgICAgICAgICBkYWIud2lkdGgrKztcbiAgICAgICAgICAgIGRhYi5oZWlnaHQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhclxuICAgICAgICAgICAgbnggPSB4IC0gZGFiLndpZHRoIC8gMi4wICsgMC41LFxuICAgICAgICAgICAgbnkgPSB5IC0gZGFiLmhlaWdodCAvIDIuMCArIDAuNTtcblxuICAgICAgICAvLyB0aGlzIGlzIG5lY2Vzc2FyeSBhcyBKYXZhIHVzZXMgY29udmVydCB0b3dhcmRzIHplcm8gZmxvYXQgdG8gaW50IGNvbnZlcnNpb25cbiAgICAgICAgaWYgKG54IDwgMCkge1xuICAgICAgICAgICAgbnggLT0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnkgPCAwKSB7XG4gICAgICAgICAgICBueSAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZUFBKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBkeCA9IE1hdGguYWJzKG54IC0gfn5ueCksXG4gICAgICAgICAgICAgICAgZHkgPSBNYXRoLmFicyhueSAtIH5+bnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBkYWIuYnJ1c2ggPSBnZXRCcnVzaFdpdGhBQShicnVzaEluZm8sIGR4LCBkeSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYWIuYnJ1c2ggPSBnZXRCcnVzaChicnVzaEluZm8pO1xuICAgICAgICB9XG5cbiAgICAgICAgZGFiLnggPSB+fm54O1xuICAgICAgICBkYWIueSA9IH5+bnk7XG5cbiAgICAgICAgaWYgKGJydXNoSW5mby50ZXh0dXJlID4gMC4wICYmIHRoaXMudGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyB3ZSBuZWVkIGEgYnJ1c2ggYml0bWFwIHRoYXQgY2FuIGJlIG1vZGlmaWVkIGV2ZXJ5dGltZVxuICAgICAgICAgICAgLy8gdGhlIG9uZSBpbiBcImJydXNoXCIgY2FuIGJlIGtlcHQgaW4gY2FjaGUgc28gaWYgd2UgYXJlIHVzaW5nIGl0LCBtYWtlIGEgY29weVxuICAgICAgICAgICAgaWYgKGRhYi5icnVzaCA9PSBicnVzaCkge1xuICAgICAgICAgICAgICAgIGJydXNoQUEuc2V0KGJydXNoKTtcbiAgICAgICAgICAgICAgICBkYWIuYnJ1c2ggPSBicnVzaEFBO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBwbHlUZXh0dXJlKGRhYiwgYnJ1c2hJbmZvLnRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZGFiO1xuICAgIH1cblxuICAgIHRoaXMuc2V0VGV4dHVyZSA9IGZ1bmN0aW9uKHRleHR1cmUpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICB9XG59XG4iLCIvKlxuICAgIENoaWNrZW5QYWludFxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cblxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUEFydHdvcmsgZnJvbSBcIi4vQ1BBcnR3b3JrXCI7XG5pbXBvcnQgQ1BMYXllciBmcm9tIFwiLi9DUExheWVyXCI7XG5pbXBvcnQgQ1BDb2xvckJtcCBmcm9tIFwiLi9DUENvbG9yQm1wXCI7XG5pbXBvcnQgQXJyYXlEYXRhU3RyZWFtIGZyb20gXCIuLi91dGlsL0FycmF5RGF0YVN0cmVhbVwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUENoaWJpRmlsZSgpIHtcblxuICAgIGZ1bmN0aW9uIENQQ2hpYmlIZWFkZXIoc3RyZWFtLCBjaHVuaykge1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBzdHJlYW0ucmVhZFUzMkJFKCk7XG4gICAgICAgIHRoaXMud2lkdGggPSBzdHJlYW0ucmVhZFUzMkJFKCk7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gc3RyZWFtLnJlYWRVMzJCRSgpO1xuICAgICAgICB0aGlzLmxheWVyc05iID0gc3RyZWFtLnJlYWRVMzJCRSgpO1xuICAgIH1cbiAgICBcbiAgICBDUENoaWJpSGVhZGVyLkZJWEVEX0hFQURFUl9MRU5HVEggPSA0ICogNDtcblxuICAgIGZ1bmN0aW9uIENQQ2hpYmlDaHVua0hlYWRlcihzdHJlYW0pIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBjaHVua1R5cGUgPSBuZXcgQXJyYXkoNCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaHVua1R5cGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNodW5rVHlwZVtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoc3RyZWFtLnJlYWRCeXRlKCkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNodW5rVHlwZSA9IGNodW5rVHlwZS5qb2luKFwiXCIpO1xuICAgICAgICB0aGlzLmNodW5rU2l6ZSA9IHN0cmVhbS5yZWFkVTMyQkUoKTtcblxuICAgICAgICBpZiAoc3RyZWFtLmVvZikge1xuICAgICAgICAgICAgdGhyb3cgXCJUcnVuY2F0ZWQgY2h1bmtcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBDUENoaWJpTGF5ZXJDaHVua0hlYWRlcigpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBwYXlsb2FkT2Zmc2V0LFxuICAgICAgICAgICAgdGl0bGVMZW5ndGg7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnJlYWRGaXhlZEhlYWRlciA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAgICAgcGF5bG9hZE9mZnNldCA9IHN0cmVhbS5yZWFkVTMyQkUoKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuYmxlbmRNb2RlID0gc3RyZWFtLnJlYWRVMzJCRSgpO1xuICAgICAgICAgICAgdGhpcy5hbHBoYSA9IHN0cmVhbS5yZWFkVTMyQkUoKTtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IChzdHJlYW0ucmVhZFUzMkJFKCkgJiAxKSAhPSAwO1xuICAgIFxuICAgICAgICAgICAgdGl0bGVMZW5ndGggPSBzdHJlYW0ucmVhZFUzMkJFKCk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvKiBcbiAgICAgICAgICogQWZ0ZXIgcmVhZGluZyB0aGUgZml4ZWQgaGVhZGVyLCB1c2UgdGhpcyBmdW5jdGlvbiB0byBmaW5kIG91dCBob3cgbWFueSBtb3JlIGJ5dGVzIG9mIGhlYWRlclxuICAgICAgICAgKiBuZWVkIHRvIGJlIHJlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdldFZhcmlhYmxlSGVhZGVyTGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZE9mZnNldCAtIENQQ2hpYmlMYXllckNodW5rSGVhZGVyLkZJWEVEX0hFQURFUl9MRU5HVEg7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB0aGlzLmdldFRvdGFsSGVhZGVyTGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gQ1BDaGliaUxheWVyQ2h1bmtIZWFkZXIuRklYRURfSEVBREVSX0xFTkdUSCArIHRoaXMuZ2V0VmFyaWFibGVIZWFkZXJMZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucmVhZFZhcmlhYmxlSGVhZGVyID0gZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBzdHJlYW0ucmVhZFN0cmluZyh0aXRsZUxlbmd0aCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNraXAgdG8gdGhlIHBpeGVsIGRhdGEgKGFsbG93cyBhZGRpdGlvbmFsIGhlYWRlciBmaWVsZHMgdG8gYmUgYWRkZWQgdGhhdCB3ZSBkb24ndCB5ZXQgc3VwcG9ydClcbiAgICAgICAgICAgIHN0cmVhbS5za2lwKHBheWxvYWRPZmZzZXQgLSB0aXRsZUxlbmd0aCAtIENQQ2hpYmlMYXllckNodW5rSGVhZGVyLkZJWEVEX0hFQURFUl9MRU5HVEgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBUaGUgc2l6ZSBvZiB0aGUgaW5pdGlhbCwgZml4ZWQtbGVuZ3RoIHBvcnRpb24gb2YgdGhlIGhlYWRlclxuICAgIENQQ2hpYmlMYXllckNodW5rSGVhZGVyLkZJWEVEX0hFQURFUl9MRU5HVEggPSA0ICogNTtcblxuICAgIGNvbnN0XG4gICAgICAgIENISV9NQUdJQyA9IFwiQ0hJQklPRUtcIixcblxuICAgICAgICBDSFVOS19UQUdfSEVBRCA9IFwiSEVBRFwiLFxuICAgICAgICBDSFVOS19UQUdfTEFZRVIgPSBcIkxBWVJcIixcbiAgICAgICAgQ0hVTktfVEFHX0VORCA9IFwiWkVORFwiLFxuICAgICAgICBcbiAgICAgICAgQllURVNfUEVSX1BJWEVMID0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsXG4gICAgICAgIEFMUEhBX0JZVEVfT0ZGU0VUID0gQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVCxcbiAgICAgICAgUkVEX0JZVEVfT0ZGU0VUID0gQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVQsXG4gICAgICAgIEdSRUVOX0JZVEVfT0ZGU0VUID0gQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVCxcbiAgICAgICAgQkxVRV9CWVRFX09GRlNFVCA9IENQQ29sb3JCbXAuQkxVRV9CWVRFX09GRlNFVDtcblxuICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZUVuZENodW5rKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KENIVU5LX1RBR19FTkQubGVuZ3RoICsgNCksXG4gICAgICAgICAgICBzdHJlYW0gPSBuZXcgQXJyYXlEYXRhU3RyZWFtKGJ1ZmZlcik7XG5cbiAgICAgICAgc3RyZWFtLndyaXRlU3RyaW5nKENIVU5LX1RBR19FTkQpO1xuICAgICAgICBzdHJlYW0ud3JpdGVVMzJCRSgwKTtcblxuICAgICAgICByZXR1cm4gc3RyZWFtLmdldEFzRGF0YUFycmF5KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VyaWFsaXplSGVhZGVyQ2h1bmsoYXJ0d29yaykge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KENIVU5LX1RBR19IRUFELmxlbmd0aCArIDQgKiA1KSxcbiAgICAgICAgICAgIHN0cmVhbSA9IG5ldyBBcnJheURhdGFTdHJlYW0oYnVmZmVyKTtcblxuICAgICAgICBzdHJlYW0ud3JpdGVTdHJpbmcoQ0hVTktfVEFHX0hFQUQpO1xuICAgICAgICBzdHJlYW0ud3JpdGVVMzJCRSgxNik7IC8vIENodW5rU2l6ZVxuXG4gICAgICAgIHN0cmVhbS53cml0ZVUzMkJFKDApOyAvLyBDdXJyZW50IFZlcnNpb246IE1ham9yOiAwIE1pbm9yOiAwXG4gICAgICAgIHN0cmVhbS53cml0ZVUzMkJFKGFydHdvcmsud2lkdGgpO1xuICAgICAgICBzdHJlYW0ud3JpdGVVMzJCRShhcnR3b3JrLmhlaWdodCk7XG4gICAgICAgIHN0cmVhbS53cml0ZVUzMkJFKGFydHdvcmsuZ2V0TGF5ZXJDb3VudCgpKTtcblxuICAgICAgICByZXR1cm4gc3RyZWFtLmdldEFzRGF0YUFycmF5KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VyaWFsaXplTGF5ZXJDaHVuayhsYXllcikge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGNodW5rU2l6ZSA9IDIwICsgbGF5ZXIubmFtZS5sZW5ndGggKyBsYXllci5kYXRhLmxlbmd0aCxcblxuICAgICAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoQ0hVTktfVEFHX0xBWUVSLmxlbmd0aCArIDQgKyBjaHVua1NpemUpLFxuICAgICAgICAgICAgc3RyZWFtID0gbmV3IEFycmF5RGF0YVN0cmVhbShidWZmZXIpLFxuICAgICAgICAgICAgcG9zO1xuXG4gICAgICAgIHN0cmVhbS53cml0ZVN0cmluZyhDSFVOS19UQUdfTEFZRVIpOyAvLyBDaHVuayBJRFxuICAgICAgICBzdHJlYW0ud3JpdGVVMzJCRShjaHVua1NpemUpOyAvLyBDaHVua1NpemVcblxuICAgICAgICBzdHJlYW0ud3JpdGVVMzJCRSgyMCArIGxheWVyLm5hbWUubGVuZ3RoKTsgLy8gT2Zmc2V0IHRvIGxheWVyIGRhdGEgZnJvbSBzdGFydCBvZiBoZWFkZXJcblxuICAgICAgICBzdHJlYW0ud3JpdGVVMzJCRShsYXllci5ibGVuZE1vZGUpO1xuICAgICAgICBzdHJlYW0ud3JpdGVVMzJCRShsYXllci5hbHBoYSk7XG4gICAgICAgIHN0cmVhbS53cml0ZVUzMkJFKGxheWVyLnZpc2libGUgPyAxIDogMCk7IC8vIGxheWVyIHZpc2liaWxpdHkgYW5kIGZ1dHVyZSBmbGFnc1xuXG4gICAgICAgIHN0cmVhbS53cml0ZVUzMkJFKGxheWVyLm5hbWUubGVuZ3RoKTtcbiAgICAgICAgc3RyZWFtLndyaXRlU3RyaW5nKGxheWVyLm5hbWUpO1xuXG4gICAgICAgIC8vIENvbnZlcnQgbGF5ZXIgYnl0ZXMgZnJvbSBSR0JBIHRvIEFSR0Igb3JkZXIgdG8gbWF0Y2ggdGhlIENoaWJpIHNwZWNzXG4gICAgICAgIHBvcyA9IHN0cmVhbS5wb3M7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGF5ZXIuZGF0YS5sZW5ndGg7IGkgKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICBidWZmZXJbcG9zKytdID0gbGF5ZXIuZGF0YVtpICsgQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgYnVmZmVyW3BvcysrXSA9IGxheWVyLmRhdGFbaSArIFJFRF9CWVRFX09GRlNFVF07XG4gICAgICAgICAgICBidWZmZXJbcG9zKytdID0gbGF5ZXIuZGF0YVtpICsgR1JFRU5fQllURV9PRkZTRVRdO1xuICAgICAgICAgICAgYnVmZmVyW3BvcysrXSA9IGxheWVyLmRhdGFbaSArIEJMVUVfQllURV9PRkZTRVRdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemUgdGhlIGdpdmVuIGFydHdvcmsgdG8gQ2hpYmlmaWxlIGZvcm1hdC4gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gdGhlIHNlcmlhbGl6ZWQgQmxvYi5cbiAgICAgKi9cbiAgICB0aGlzLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKGFydHdvcmspIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgZGVmbGF0b3IgPSBuZXcgd2luZG93LnBha28uRGVmbGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsOiA3XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYmxvYlBhcnRzID0gW10sXG4gICAgICAgICAgICAgICAgbWFnaWMgPSBuZXcgVWludDhBcnJheShDSElfTUFHSUMubGVuZ3RoKTtcbiAgICBcbiAgICAgICAgICAgIC8vIFRoZSBtYWdpYyBmaWxlIHNpZ25hdHVyZSBpcyBub3QgWkxJQiBjb21wcmVzc2VkOlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDSElfTUFHSUMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBtYWdpY1tpXSA9IENISV9NQUdJQy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvYlBhcnRzLnB1c2gobWFnaWMpO1xuICAgIFxuICAgICAgICAgICAgLy8gVGhlIHJlc3QgZ2V0cyBjb21wcmVzc2VkXG4gICAgICAgICAgICBkZWZsYXRvci5wdXNoKHNlcmlhbGl6ZUhlYWRlckNodW5rKGFydHdvcmspLCBmYWxzZSk7XG4gICAgXG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBsYXllcnMgPSBhcnR3b3JrLmdldExheWVycygpLFxuICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJbnNlcnQgYSBzZXR0aW1lb3V0IGJldHdlZW4gZWFjaCBzZXJpYWxpemVkIGxheWVyLCBzbyB3ZSBjYW4gbWFpbnRhaW4gYnJvd3NlciByZXNwb25zaXZlbmVzc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXJpYWxpemVMYXllcigpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBsYXllcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmxhdG9yLnB1c2goc2VyaWFsaXplRW5kQ2h1bmsoYXJ0d29yayksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgYmxvYlBhcnRzLnB1c2goZGVmbGF0b3IucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IEJsb2IoYmxvYlBhcnRzLCB7dHlwZTogXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWZsYXRvci5wdXNoKHNlcmlhbGl6ZUxheWVyQ2h1bmsobGF5ZXJzW2krK10pLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHNlcmlhbGl6ZUxheWVyLCAxMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHNlcmlhbGl6ZUxheWVyLCAxMCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBoYXNDaGliaU1hZ2ljTWFya2VyKGFycmF5KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ0hJX01BR0lDLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXJyYXlbaV0gIT0gQ0hJX01BR0lDLmNoYXJDb2RlQXQoaSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25jYXQgdHdvIFVpbnQ4QXJyYXlzIHRvIG1ha2UgYSBuZXcgb25lIGFuZCByZXR1cm4gaXQuXG4gICAgICogXG4gICAgICogRWl0aGVyIG9uZSBtYXkgYmUgc2V0IHRvIG51bGwuIElmIGVpdGhlciBvbmUgaXMgbnVsbCwgdGhlIG90aGVyIGlzIHJldHVybmVkLiBJZiBib3RoIGFyZSBudWxsLCBudWxsIGlzXG4gICAgICogcmV0dXJuZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0QnVmZmVycyhvbmUsIHR3bykge1xuICAgICAgICBpZiAob25lID09IG51bGwgfHwgb25lLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHdvO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0d28gPT0gbnVsbCB8fCB0d28ubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBvbmU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHZhclxuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkob25lLmxlbmd0aCArIHR3by5sZW5ndGgpO1xuICAgICAgICBcbiAgICAgICAgcmVzdWx0LnNldChvbmUsIDApO1xuICAgICAgICByZXN1bHQuc2V0KHR3bywgb25lLmxlbmd0aCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBBdHRlbXB0IHRvIGxvYWQgYSBjaGliaWZpbGUgZnJvbSB0aGUgZ2l2ZW4gYXJyYXlidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIENQQXJ0d29yayBvbiBzdWNjZXNzLCBvciBudWxsIG9uIGZhaWx1cmUuXG4gICAgICovXG4gICAgdGhpcy5yZWFkID0gZnVuY3Rpb24oYXJyYXlCdWZmZXIpIHtcbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIFNUQVRFX1dBSVRfRk9SX0NIVU5LICAgICAgICAgICAgICAgPSAwLFxuICAgICAgICAgICAgU1RBVEVfREVDT0RFX0lNQUdFX0hFQURFUiAgICAgICAgICA9IDEsXG4gICAgICAgICAgICBTVEFURV9ERUNPREVfTEFZRVJfSEVBREVSX0ZJWEVEICAgID0gMixcbiAgICAgICAgICAgIFNUQVRFX0RFQ09ERV9MQVlFUl9IRUFERVJfVkFSSUFCTEUgPSAzLFxuICAgICAgICAgICAgU1RBVEVfREVDT0RFX0xBWUVSICAgICAgICAgICAgICAgICA9IDQsXG4gICAgICAgICAgICBTVEFURV9TS0lQX1RSQUlMSU5HX0NIVU5LX0JZVEVTICAgID0gNSxcbiAgICAgICAgICAgIFNUQVRFX1NVQ0NFU1MgICAgICAgICAgICAgICAgICAgICAgPSA2LFxuICAgICAgICAgICAgU1RBVEVfRkFUQUwgICAgICAgICAgICAgICAgICAgICAgICA9IDEwO1xuICAgICAgICBcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBwYWtvID0gbmV3IHdpbmRvdy5wYWtvLkluZmxhdGUoe30pLFxuICAgICAgICAgICAgc3RhdGUgPSBTVEFURV9XQUlUX0ZPUl9DSFVOSyxcbiAgICAgICAgICAgIGFydHdvcmsgPSBudWxsLFxuICAgICAgICAgICAgbGF5ZXJIZWFkZXIsIGxheWVyLCBcbiAgICAgICAgICAgIGxheWVyQnl0ZXNSZWFkLCBsYXllckJ5dGVzVG90YWwsIHNraXBDb3VudCxcbiAgICAgICAgICAgIGhlYWRlckNodW5rID0gbnVsbCwgaGVhZGVyID0gbnVsbCxcbiAgICAgICAgICAgIGNodW5rID0gbnVsbCxcbiAgICAgICAgICAgIGJ1ZmZlciA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogRGVjb2RlIEEsUixHLEIgcGl4ZWxzIGZyb20gdGhlIGdpdmVuIGJ1ZmZlciBpbnRvIHRoZSBSLEcsQixBIHBpeGVsIGFycmF5IGdpdmVuIGJ5IGxheWVyUGl4LlxuICAgICAgICAgKiBcbiAgICAgICAgICogVGhlIGxheWVyQnl0ZXNSZWFkIGFuZCBsYXllckJ5dGVzVG90YWwgdmFyaWFibGVzIGFyZSB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGRlY29kZSBwcm9jZXNzIGFuZCB0byBcbiAgICAgICAgICogbGltaXQgdGhlIG51bWJlciBvZiBieXRlcyByZWFkLCByZXNwZWN0aXZlbHkuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBidWZmZXIgd2l0aCB0aGUgcmVhZCBieXRlcyByZW1vdmVkIGZyb20gdGhlIGZyb250LCBvciBudWxsIGlmIHRoZSBidWZmZXIgd2FzIHJlYWQgaW4gaXRzIGVudGlyZXR5LlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVjb2RlUGl4ZWxzKGJ1ZmZlciwgbGF5ZXJQaXgpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIHN1YnBpeGVsID0gbGF5ZXJCeXRlc1JlYWQgJSBCWVRFU19QRVJfUElYRUwsXG4gICAgICAgICAgICAgICAgZHN0UGl4ZWxTdGFydE9mZnNldCA9IGxheWVyQnl0ZXNSZWFkIC0gc3VicGl4ZWwsXG4gICAgICAgICAgICAgICAgYnVmZmVyUG9zID0gMCxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBNYXAgZnJvbSBzb3VyY2UgY2hhbm5lbCBvcmRlciB0byBDUExheWVyJ3MgZGVzdCBvcmRlclxuICAgICAgICAgICAgICAgIGNoYW5uZWxNYXAgPSBbXG4gICAgICAgICAgICAgICAgICAgIEFMUEhBX0JZVEVfT0ZGU0VULCBSRURfQllURV9PRkZTRVQsIEdSRUVOX0JZVEVfT0ZGU0VULCBCTFVFX0JZVEVfT0ZGU0VUXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVGhlIGZpcnN0IHBpeGVsIG1pZ2h0IGJlIGEgcGFydGlhbCBvbmUgc2luY2Ugd2UgbWlnaHQgYmUgY29udGludWluZyBhIHBpeGVsIHNwbGl0IG92ZXIgYnVmZmVyc1xuICAgICAgICAgICAgZm9yICg7IHN1YnBpeGVsIDwgQllURVNfUEVSX1BJWEVMICYmIGJ1ZmZlclBvcyA8IGJ1ZmZlci5sZW5ndGg7IHN1YnBpeGVsKyspIHtcbiAgICAgICAgICAgICAgICBsYXllclBpeFtkc3RQaXhlbFN0YXJ0T2Zmc2V0ICsgY2hhbm5lbE1hcFtzdWJwaXhlbF1dID0gYnVmZmVyW2J1ZmZlclBvc107XG4gICAgICAgICAgICAgICAgbGF5ZXJCeXRlc1JlYWQrKztcbiAgICAgICAgICAgICAgICBidWZmZXJQb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSG93IG1hbnkgbW9yZSBwaXhlbHMgYXJlIHdlIHRvIHJlYWQgaW4gdGhpcyBidWZmZXI/XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBieXRlc1JlbWFpbiA9IE1hdGgubWluKGJ1ZmZlci5sZW5ndGggLSBidWZmZXJQb3MsIGxheWVyQnl0ZXNUb3RhbCAtIGxheWVyQnl0ZXNSZWFkKSB8IDAsXG4gICAgICAgICAgICAgICAgZnVsbFBpeGVsc1JlbWFpbiA9IChieXRlc1JlbWFpbiAvIEJZVEVTX1BFUl9QSVhFTCkgfCAwLFxuICAgICAgICAgICAgICAgIHN1YnBpeGVsc1JlbWFpbiA9IGJ5dGVzUmVtYWluICUgQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZ1bGxQaXhlbHNSZW1haW47IGkrKykge1xuICAgICAgICAgICAgICAgIGxheWVyUGl4W2xheWVyQnl0ZXNSZWFkICsgQUxQSEFfQllURV9PRkZTRVRdID0gYnVmZmVyW2J1ZmZlclBvc107XG4gICAgICAgICAgICAgICAgbGF5ZXJQaXhbbGF5ZXJCeXRlc1JlYWQgKyBSRURfQllURV9PRkZTRVRdID0gYnVmZmVyW2J1ZmZlclBvcyArIDFdO1xuICAgICAgICAgICAgICAgIGxheWVyUGl4W2xheWVyQnl0ZXNSZWFkICsgR1JFRU5fQllURV9PRkZTRVRdID0gYnVmZmVyW2J1ZmZlclBvcyArIDJdO1xuICAgICAgICAgICAgICAgIGxheWVyUGl4W2xheWVyQnl0ZXNSZWFkICsgQkxVRV9CWVRFX09GRlNFVF0gPSBidWZmZXJbYnVmZmVyUG9zICsgM107XG4gICAgICAgICAgICAgICAgbGF5ZXJCeXRlc1JlYWQgKz0gQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgICAgIGJ1ZmZlclBvcyArPSBCWVRFU19QRVJfUElYRUw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlYWQgYSBmcmFjdGlvbmFsIHBpeGVsIGF0IHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgZHN0UGl4ZWxTdGFydE9mZnNldCA9IGxheWVyQnl0ZXNSZWFkO1xuICAgICAgICAgICAgZm9yIChzdWJwaXhlbCA9IDA7IHN1YnBpeGVsIDwgc3VicGl4ZWxzUmVtYWluOyBzdWJwaXhlbCsrKSB7XG4gICAgICAgICAgICAgICAgbGF5ZXJQaXhbZHN0UGl4ZWxTdGFydE9mZnNldCArIGNoYW5uZWxNYXBbc3VicGl4ZWxdXSA9IGJ1ZmZlcltidWZmZXJQb3NdO1xuICAgICAgICAgICAgICAgIGxheWVyQnl0ZXNSZWFkKys7XG4gICAgICAgICAgICAgICAgYnVmZmVyUG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChidWZmZXJQb3MgPCBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gTGF5ZXIgd2FzIGNvbXBsZXRlZCBiZWZvcmUgdGhlIGVuZCBvZiB0aGUgYnVmZmVyLCB0aGVyZSBpcyBidWZmZXIgbGVmdCBvdmVyIGZvciBzb21lb25lIGVsc2UgdG8gdXNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5zdWJhcnJheShidWZmZXJQb3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBCdWZmZXIgZXhoYXVzdGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NCbG9jayhibG9jaykge1xuICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgIHN0cmVhbTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIGEgbG9vcCBoZXJlIHNvIHdlIGNhbiByZS1lbnRlciB0aGUgc3dpdGNoIHdpdGggJ2NvbnRpbnVlJ1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU1RBVEVfV0FJVF9GT1JfQ0hVTks6XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBjb25jYXRCdWZmZXJzKGJ1ZmZlciwgYmxvY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciB3aG9sZSBjaHVuayBoZWFkZXIgdG8gYmVjb21lIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlY29kZSBjaHVuayBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbSA9IG5ldyBBcnJheURhdGFTdHJlYW0oYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rID0gbmV3IENQQ2hpYmlDaHVua0hlYWRlcihzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGNodW5rIGhlYWRlciBmcm9tIHRoZSBzdGFydCBvZiB0aGUgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBidWZmZXIuc3ViYXJyYXkoc3RyZWFtLnBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJDaHVuaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5jaHVua1R5cGUgPT0gQ0hVTktfVEFHX0VORCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFX1NVQ0NFU1M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2h1bmsuY2h1bmtUeXBlID09IENIVU5LX1RBR19MQVlFUikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0RFQ09ERV9MQVlFUl9IRUFERVJfRklYRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJVbmtub3duIGNodW5rIHR5cGUgJ1wiICsgY2h1bmsuY2h1bmtUeXBlICsgXCInLCBhdHRlbXB0aW5nIHRvIHNraXAuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IGJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBDb3VudCA9IGNodW5rLmNodW5rU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBTVEFURV9TS0lQX1RSQUlMSU5HX0NIVU5LX0JZVEVTO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2h1bmsuY2h1bmtUeXBlID09IENIVU5LX1RBR19IRUFEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyQ2h1bmsgPSBjaHVuaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gZGVjb2RlIHRoZSBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0RFQ09ERV9JTUFHRV9IRUFERVI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbGUgZGlkbid0IHN0YXJ0IHdpdGggaW1hZ2UgaGVhZGVyIGNodW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBTVEFURV9GQVRBTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU1RBVEVfREVDT0RFX0lNQUdFX0hFQURFUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IGNvbmNhdEJ1ZmZlcnMoYnVmZmVyLCBibG9jayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIHdob2xlIGNodW5rIHRvIGJlIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPCBoZWFkZXJDaHVuay5jaHVua1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtID0gbmV3IEFycmF5RGF0YVN0cmVhbShidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyID0gbmV3IENQQ2hpYmlIZWFkZXIoc3RyZWFtLCBoZWFkZXJDaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaGVhZGVyLnZlcnNpb24gPj4+IDE2KSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0ZBVEFMOyAvLyB0aGUgZmlsZSB2ZXJzaW9uIGlzIGhpZ2hlciB0aGFuIHdoYXQgd2UgY2FuIGRlYWwgd2l0aCwgYmFpbCBvdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJ0d29yayA9IG5ldyBDUEFydHdvcmsoaGVhZGVyLndpZHRoLCBoZWFkZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwQ291bnQgPSBoZWFkZXJDaHVuay5jaHVua1NpemU7IC8vIFNraXAgdGhlIGhlYWRlciBjaHVuayBhbG9uZyB3aXRoIGFueSB0cmFpbGluZyBieXRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBTVEFURV9TS0lQX1RSQUlMSU5HX0NIVU5LX0JZVEVTO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFNUQVRFX0RFQ09ERV9MQVlFUl9IRUFERVJfRklYRUQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBjb25jYXRCdWZmZXJzKGJ1ZmZlciwgYmxvY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciBmaXJzdCBwYXJ0IG9mIGhlYWRlciB0byBhcnJpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXIubGVuZ3RoIDwgQ1BDaGliaUxheWVyQ2h1bmtIZWFkZXIuRklYRURfSEVBREVSX0xFTkdUSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllckhlYWRlciA9IG5ldyBDUENoaWJpTGF5ZXJDaHVua0hlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW0gPSBuZXcgQXJyYXlEYXRhU3RyZWFtKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllckhlYWRlci5yZWFkRml4ZWRIZWFkZXIoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gYnVmZmVyLnN1YmFycmF5KHN0cmVhbS5wb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0RFQ09ERV9MQVlFUl9IRUFERVJfVkFSSUFCTEVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTVEFURV9ERUNPREVfTEFZRVJfSEVBREVSX1ZBUklBQkxFOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gY29uY2F0QnVmZmVycyhidWZmZXIsIGJsb2NrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgdmFyaWFibGUgcGFydCBvZiBoZWFkZXIgdG8gYXJyaXZlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA8IGxheWVySGVhZGVyLmdldFZhcmlhYmxlSGVhZGVyTGVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtID0gbmV3IEFycmF5RGF0YVN0cmVhbShidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJIZWFkZXIucmVhZFZhcmlhYmxlSGVhZGVyKHN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zdWJhcnJheShzdHJlYW0ucG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIgPSBuZXcgQ1BMYXllcihoZWFkZXIud2lkdGgsIGhlYWRlci5oZWlnaHQsIGxheWVySGVhZGVyLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuYmxlbmRNb2RlID0gbGF5ZXJIZWFkZXIuYmxlbmRNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuYWxwaGEgPSBsYXllckhlYWRlci5hbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLnZpc2libGUgPSBsYXllckhlYWRlci52aXNpYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllckJ5dGVzUmVhZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllckJ5dGVzVG90YWwgPSBoZWFkZXIud2lkdGggKiBoZWFkZXIuaGVpZ2h0ICogQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFdoaWxlIGRlY29kaW5nIGxheWVycywgd2Ugd29uJ3Qga2VlcCBhIHBlcnNpc3RlbnQgYnVmZmVyIGFyb3VuZCwgc28gaWYgd2UgaGF2ZSBhbnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGJ5dGVzIGxlZnQgb3ZlciwgcHJvdmlkZSB0aGVtIHRvIHRoZSBuZXh0IHN0YXRlIGFzIGlmIHRoZXkgd2VyZSBhIG5ld2x5IGluZmxhdGVkIGJsb2NrLlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IGJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gU1RBVEVfREVDT0RFX0xBWUVSO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFNUQVRFX0RFQ09ERV9MQVlFUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFxuICAgICAgICAgICAgICAgICAgICAgICAgICogV2hlbiBkZWNvZGluZyBsYXllciBkYXRhLCB3ZSBuZXZlciBjb25jYXQgYmxvY2tzIHRvZ2V0aGVyLCB3ZSBhcmUgY2FwYWJsZSBvZiBkZWNvZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogcGFydGlhbCBwaXhlbHMgdGhhdCBnZXQgc3BsaXQgb3ZlciBibG9jayBib3VuZGFyaWVzLiBTbyB3ZSBkb24ndCB1c2UgJ2J1ZmZlcicgdG8gYWNjdW11bGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogZGF0YSwgYW5kIG9ubHkgcmVhZCBmcm9tIGluY29taW5nICdibG9jaydzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICovIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IGRlY29kZVBpeGVscyhibG9jaywgbGF5ZXIuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxheWVyQnl0ZXNSZWFkID49IGxheWVyQnl0ZXNUb3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnR3b3JrLmFkZExheWVyT2JqZWN0KGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgYW55IHRyYWlsaW5nIGJ5dGVzIGluIHRoZSBsYXllciBjaHVua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwQ291bnQgPSBjaHVuay5jaHVua1NpemUgLSBsYXllckhlYWRlci5nZXRUb3RhbEhlYWRlckxlbigpIC0gbGF5ZXJCeXRlc1RvdGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFX1NLSVBfVFJBSUxJTkdfQ0hVTktfQllURVM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU1RBVEVfU0tJUF9UUkFJTElOR19DSFVOS19CWVRFUzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChza2lwQ291bnQgPCBibG9jay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2sgPSBibG9jay5zdWJhcnJheShza2lwQ291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBDb3VudCAtPSBibG9jay5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChza2lwQ291bnQgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gU1RBVEVfV0FJVF9GT1JfQ0hVTks7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYXJyYXlCdWZmZXIgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XG5cbiAgICAgICAgaWYgKCFoYXNDaGliaU1hZ2ljTWFya2VyKGFycmF5QnVmZmVyKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIG5vdCBhIENoaWJpUGFpbnQgZmlsZVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgdGhlIG1hZ2ljIGhlYWRlclxuICAgICAgICBhcnJheUJ1ZmZlciA9IGFycmF5QnVmZmVyLnN1YmFycmF5KENISV9NQUdJQy5sZW5ndGgpO1xuICAgICAgICBcbiAgICAgICAgcGFrby5vbkRhdGEgPSBwcm9jZXNzQmxvY2s7XG4gICAgICAgIFxuICAgICAgICBwYWtvLm9uRW5kID0gZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgICAgICAgICBpZiAoc3RhdHVzID09PSAwICYmIHN0YXRlID09IFNUQVRFX1NVQ0NFU1MpIHtcbiAgICAgICAgICAgICAgICBhcnR3b3JrLnNldEFjdGl2ZUxheWVySW5kZXgoYXJ0d29yay5nZXRUb3Btb3N0VmlzaWJsZUxheWVyKCkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gYXJ0d29yaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGYXRhbCBlcnJvciBkZWNvZGluZyBDaGliaUZpbGVcIik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEJlZ2luIGRlY29tcHJlc3Npb24vZGVjb2RpbmdcbiAgICAgICAgcGFrby5wdXNoKGFycmF5QnVmZmVyKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBwYWtvLnJlc3VsdDtcbiAgICB9O1xufVxuIiwiLypcbiAgICBDaGlja2VuUGFpbnRcblxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG5cbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUENsaXAoYm1wLCB4LCB5KSB7XG4gICAgdGhpcy5ibXAgPSBibXA7XG4gICAgXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xufTsiLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuaW1wb3J0IENQQml0bWFwIGZyb20gXCIuL0NQQml0bWFwXCI7XG5pbXBvcnQgQ1BSZWN0IGZyb20gXCIuLi91dGlsL0NQUmVjdFwiO1xuXG5mdW5jdGlvbiBjcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCkge1xuICAgIC8vIHJldHVybiBuZXcgSW1hZ2VEYXRhKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTsgLy8gRG9lc24ndCB3b3JrIG9uIG9sZCBJRVxuICAgIHZhclxuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLFxuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICBcbiAgICByZXR1cm4gY29udGV4dC5jcmVhdGVJbWFnZURhdGEod2lkdGgsIGhlaWdodCk7XG59XG5cbi8vXG4vLyBBIDMyYnBwIGJpdG1hcCBjbGFzcyAob25lIGJ5dGUgcGVyIGNoYW5uZWwgaW4gUkdCQSBvcmRlcilcbi8vXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQQ29sb3JCbXAod2lkdGgsIGhlaWdodCkge1xuICAgIENQQml0bWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAvLyBUaGUgSW1hZ2VEYXRhIG9iamVjdCB0aGF0IGhvbGRzIHRoZSBpbWFnZSBkYXRhXG4gICAgdGhpcy5pbWFnZURhdGEgPSBjcmVhdGVJbWFnZURhdGEodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIFxuICAgIC8vIFRoZSBiaXRtYXAgZGF0YSBhcnJheSAob25lIGJ5dGUgcGVyIGNoYW5uZWwgaW4gUkdCQSBvcmRlcilcbiAgICB0aGlzLmRhdGEgPSB0aGlzLmltYWdlRGF0YS5kYXRhO1xufVxuXG5DUENvbG9yQm1wLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BCaXRtYXAucHJvdG90eXBlKTtcbkNQQ29sb3JCbXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BDb2xvckJtcDtcblxuQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwgPSA0O1xuQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVQgPSAwO1xuQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVCA9IDE7XG5DUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVQgPSAyO1xuQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVCA9IDM7XG5cbi8vIENyZWF0ZXMgYSBDUEJpdG1hcCBmcm9tIGEgcG9ydGlvbiBvZiB0aGlzIGJpdG1hcFxuQ1BDb2xvckJtcC5wcm90b3R5cGUuY2xvbmVSZWN0ID0gZnVuY3Rpb24ocmVjdCkge1xuICAgIHZhclxuICAgICAgICByZXN1bHQgPSBuZXcgQ1BDb2xvckJtcChyZWN0LmdldFdpZHRoKCksIHJlY3QuZ2V0SGVpZ2h0KCkpO1xuICAgIFxuICAgIHJlc3VsdC5jb3B5Qml0bWFwUmVjdCh0aGlzLCAwLCAwLCByZWN0KTtcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy9cbi8vIFBpeGVsIGFjY2VzcyB3aXRoIGZyaWVuZGx5IGNsaXBwaW5nLiBQaXhlbCB3aWxsIGJlIDMyLWJpdCBpbnRlZ2VyIGluIEFSR0IgZm9ybWF0XG4vL1xuQ1BDb2xvckJtcC5wcm90b3R5cGUuZ2V0UGl4ZWwgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgeCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMud2lkdGggLSAxLCB4KSk7XG4gICAgeSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuaGVpZ2h0IC0gMSwgeSkpO1xuXG4gICAgdmFyXG4gICAgICAgIHBpeEluZGV4ID0gdGhpcy5vZmZzZXRPZlBpeGVsKHgsIHkpO1xuICAgIFxuICAgIHJldHVybiAodGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0gPDwgMjQpIFxuICAgICAgICB8ICh0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0gICAgPDwgMTYpIFxuICAgICAgICB8ICh0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkdSRUVOX0JZVEVfT0ZGU0VUXSAgPDwgOCkgXG4gICAgICAgIHwgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXTtcbn07XG5cbi8qKlxuICogR2V0IGFuIHIsZyxiLGEgYXJyYXkgb2YgdGhlIHhvciBvZiB0aGlzIGJpdG1hcCBhbmQgdGhlIGdpdmVuIG9uZSwgd2l0aGluIHRoZSBnaXZlbiByZWN0YW5nbGVcbiAqXG4gKiBAcmV0dXJucyB7VWludDhBcnJheX1cbiAqL1xuQ1BDb2xvckJtcC5wcm90b3R5cGUuY29weVJlY3RYT1IgPSBmdW5jdGlvbihibXAsIHJlY3QpIHtcbiAgICByZWN0ID0gdGhpcy5nZXRCb3VuZHMoKS5jbGlwKHJlY3QpO1xuICAgIFxuICAgIHZhciBcbiAgICAgICAgdyA9IHJlY3QuZ2V0V2lkdGgoKSxcbiAgICAgICAgaCA9IHJlY3QuZ2V0SGVpZ2h0KCksXG4gICAgICAgIFxuICAgICAgICBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3ICogaCAqIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMKSxcbiAgICAgICAgXG4gICAgICAgIG91dHB1dEluZGV4ID0gMCxcbiAgICAgICAgYm1wMUluZGV4ID0gdGhpcy5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApLCBcbiAgICAgICAgYm1wMkluZGV4ID0gYm1wLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCksXG4gICAgICAgIFxuICAgICAgICBibXAxWVNraXAgPSAodGhpcy53aWR0aCAtIHcpICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsXG4gICAgICAgIGJtcDJZU2tpcCA9IChibXAud2lkdGggLSB3KSAqIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMLFxuICAgICAgICBcbiAgICAgICAgd2lkdGhCeXRlcyA9IHcgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICBcbiAgICBmb3IgKHZhciB5ID0gcmVjdC50b3A7IHkgPCByZWN0LmJvdHRvbTsgeSsrLCBibXAxSW5kZXggKz0gYm1wMVlTa2lwLCBibXAySW5kZXggKz0gYm1wMllTa2lwKSB7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGhCeXRlczsgeCsrLCBvdXRwdXRJbmRleCsrLCBibXAxSW5kZXgrKywgYm1wMkluZGV4KyspIHtcbiAgICAgICAgICAgIGJ1ZmZlcltvdXRwdXRJbmRleF0gPSB0aGlzLmRhdGFbYm1wMUluZGV4XSBeIGJtcC5kYXRhW2JtcDJJbmRleF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYnVmZmVyO1xufTtcblxuQ1BDb2xvckJtcC5wcm90b3R5cGUuc2V0UmVjdFhPUiA9IGZ1bmN0aW9uKGJ1ZmZlciwgcmVjdCkge1xuICAgIHJlY3QgPSB0aGlzLmdldEJvdW5kcygpLmNsaXAocmVjdCk7XG4gICAgXG4gICAgdmFyIFxuICAgICAgICB3ID0gcmVjdC5nZXRXaWR0aCgpLFxuICAgICAgICBoID0gcmVjdC5nZXRIZWlnaHQoKSxcbiAgICAgICAgXG4gICAgICAgIGJtcDFJbmRleCA9IHRoaXMub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSxcbiAgICAgICAgYnVmZmVySW5kZXggPSAwLFxuICAgICAgICBcbiAgICAgICAgYm1wMVlTa2lwID0gKHRoaXMud2lkdGggLSB3KSAqIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMLFxuICAgICAgICBcbiAgICAgICAgd2lkdGhCeXRlcyA9IHcgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICBcbiAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGg7IHkrKykge1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHdpZHRoQnl0ZXM7IHgrKykge1xuICAgICAgICAgICAgdGhpcy5kYXRhW2JtcDFJbmRleCsrXSBePSBidWZmZXJbYnVmZmVySW5kZXgrK107XG4gICAgICAgIH1cbiAgICAgICAgYm1wMUluZGV4ICs9IGJtcDFZU2tpcDtcbiAgICB9XG59O1xuXG4vL1xuLy8gQ29weSBhbm90aGVyIGJpdG1hcCBpbnRvIHRoaXMgb25lIHVzaW5nIGFscGhhIGJsZW5kaW5nXG4vL1xuQ1BDb2xvckJtcC5wcm90b3R5cGUucGFzdGVBbHBoYVJlY3QgPSBmdW5jdGlvbihibXAsIHNyY1JlY3QsIHgsIHkpIHtcbiAgICB2YXJcbiAgICAgICAgc3JjUmVjdENweSA9IHNyY1JlY3QuY2xvbmUoKSxcbiAgICAgICAgZHN0UmVjdCA9IG5ldyBDUFJlY3QoeCwgeSwgMCwgMCk7XG4gICAgXG4gICAgdGhpcy5nZXRCb3VuZHMoKS5jbGlwU291cmNlRGVzdChzcmNSZWN0Q3B5LCBkc3RSZWN0KTtcblxuICAgIHZhclxuICAgICAgICBzcmNZU3RyaWRlID0gKGJtcC53aWR0aCAtIGRzdFJlY3QuZ2V0V2lkdGgoKSkgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCxcbiAgICAgICAgZHN0WVN0cmlkZSA9ICh0aGlzLndpZHRoIC0gZHN0UmVjdC5nZXRXaWR0aCgpKSAqIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMLFxuICAgICAgICBcbiAgICAgICAgc3JjT2Zmc2V0ID0gYm1wLm9mZnNldE9mUGl4ZWwoc3JjUmVjdENweS5sZWZ0LCBzcmNSZWN0Q3B5LnRvcCksXG4gICAgICAgIGRzdE9mZnNldCA9IHRoaXMub2Zmc2V0T2ZQaXhlbChkc3RSZWN0LmxlZnQsIGRzdFJlY3QudG9wKTtcblxuICAgIGZvciAodmFyIHkgPSBkc3RSZWN0LnRvcDsgeSA8IGRzdFJlY3QuYm90dG9tOyB5KyssIHNyY09mZnNldCArPSBzcmNZU3RyaWRlLCBkc3RPZmZzZXQgKz0gZHN0WVN0cmlkZSkge1xuICAgICAgICBmb3IgKHZhciB4ID0gZHN0UmVjdC5sZWZ0OyB4IDwgZHN0UmVjdC5yaWdodDsgeCsrKSB7XG4gICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgYWxwaGExID0gYm1wLmRhdGFbc3JjT2Zmc2V0ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF07XG5cbiAgICAgICAgICAgIGlmIChhbHBoYTEgPD0gMCkge1xuICAgICAgICAgICAgICAgIGRzdE9mZnNldCArPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgICAgICAgICBzcmNPZmZzZXQgKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhbHBoYTEgPT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtkc3RPZmZzZXQrK10gPSBibXAuZGF0YVtzcmNPZmZzZXQrK107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBhbHBoYTIgPSB0aGlzLmRhdGFbZHN0T2Zmc2V0ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0sXG4gICAgICAgICAgICAgICAgbmV3QWxwaGEgPSAoYWxwaGExICsgYWxwaGEyIC0gYWxwaGExICogYWxwaGEyIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChuZXdBbHBoYSA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgICAgIHJlYWxBbHBoYSA9IChhbHBoYTEgKiAyNTUgLyBuZXdBbHBoYSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYSA9IDI1NSAtIHJlYWxBbHBoYTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrLCBkc3RPZmZzZXQrKywgc3JjT2Zmc2V0KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhW2RzdE9mZnNldF0gPSAoYm1wLmRhdGFbc3JjT2Zmc2V0XSArICh0aGlzLmRhdGFbZHN0T2Zmc2V0XSAqIGludkFscGhhIC0gYm1wLmRhdGFbc3JjT2Zmc2V0XSAqIGludkFscGhhKSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFbZHN0T2Zmc2V0KytdID0gbmV3QWxwaGE7XG4gICAgICAgICAgICAgICAgc3JjT2Zmc2V0Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRzdE9mZnNldCArPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgICAgICAgICBzcmNPZmZzZXQgKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKiogXG4gKiBDb3B5IHRoZSByZWN0YW5nbGUgYXQgc3JjUmVjdCBmcm9tIGJtcCBvbnRvIHRoaXMgaW1hZ2UgYXQgKGRzdFgsIGRzdFkpLlxuICovIFxuQ1BDb2xvckJtcC5wcm90b3R5cGUuY29weUJpdG1hcFJlY3QgPSBmdW5jdGlvbihibXAsIGRzdFgsIGRzdFksIHNyY1JlY3QpIHtcbiAgICB2YXJcbiAgICAgICAgc3JjUmVjdCA9IHNyY1JlY3QuY2xvbmUoKSxcbiAgICAgICAgZHN0UmVjdCA9IG5ldyBDUFJlY3QoZHN0WCwgZHN0WSwgMCwgMCk7XG5cbiAgICB0aGlzLmdldEJvdW5kcygpLmNsaXBTb3VyY2VEZXN0KHNyY1JlY3QsIGRzdFJlY3QpO1xuXG4gICAgdmFyIFxuICAgICAgICB3ID0gZHN0UmVjdC5nZXRXaWR0aCgpIHwgMCxcbiAgICAgICAgaCA9IGRzdFJlY3QuZ2V0SGVpZ2h0KCkgfCAwO1xuXG4gICAgLy8gQXJlIHdlIGp1c3QgdHJ5aW5nIHRvIGR1cGxpY2F0ZSB0aGUgYml0bWFwP1xuICAgIGlmIChkc3RSZWN0LmxlZnQgPT0gMCAmJiBkc3RSZWN0LnRvcCA9PSAwICYmIHcgPT0gdGhpcy53aWR0aCAmJiBoID09IHRoaXMuaGVpZ2h0ICYmIHcgPT0gYm1wLndpZHRoICYmIGggPT0gYm1wLmhlaWdodCkge1xuICAgICAgICB0aGlzLmNvcHlEYXRhRnJvbShibXApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgZHN0SW5kZXggPSB0aGlzLm9mZnNldE9mUGl4ZWwoZHN0UmVjdC5sZWZ0LCBkc3RSZWN0LnRvcCksXG4gICAgICAgICAgICBzcmNJbmRleCA9IGJtcC5vZmZzZXRPZlBpeGVsKHNyY1JlY3QubGVmdCwgc3JjUmVjdC50b3ApLFxuXG4gICAgICAgICAgICBkc3RZU2tpcCA9ICh0aGlzLndpZHRoIC0gdykgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCxcbiAgICAgICAgICAgIHNyY1lTa2lwID0gKGJtcC53aWR0aCAtIHcpICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG5cbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoOyB5KyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhW2RzdEluZGV4XSA9IGJtcC5kYXRhW3NyY0luZGV4XTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFbZHN0SW5kZXggKyAxXSA9IGJtcC5kYXRhW3NyY0luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhW2RzdEluZGV4ICsgMl0gPSBibXAuZGF0YVtzcmNJbmRleCArIDJdO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtkc3RJbmRleCArIDNdID0gYm1wLmRhdGFbc3JjSW5kZXggKyAzXTtcbiAgICAgICAgICAgICAgICBkc3RJbmRleCArPSA0O1xuICAgICAgICAgICAgICAgIHNyY0luZGV4ICs9IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcmNJbmRleCArPSBzcmNZU2tpcDtcbiAgICAgICAgICAgIGRzdEluZGV4ICs9IGRzdFlTa2lwO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy9cbi8vIENvcGllcyB0aGUgQWxwaGEgY2hhbm5lbCBmcm9tIGFub3RoZXIgYml0bWFwLiBBc3N1bWVzIGJvdGggYml0bWFwcyBhcmUgdGhlIHNhbWUgd2lkdGguXG4vL1xuQ1BDb2xvckJtcC5wcm90b3R5cGUuY29weUFscGhhRnJvbSA9IGZ1bmN0aW9uKGJtcCwgcmVjdCkge1xuICAgIHJlY3QgPSB0aGlzLmdldEJvdW5kcygpLmNsaXAocmVjdCk7XG5cbiAgICB2YXIgXG4gICAgICAgIHcgPSByZWN0LmdldFdpZHRoKCksXG4gICAgICAgIGggPSByZWN0LmdldEhlaWdodCgpLFxuICAgICAgICBcbiAgICAgICAgcGl4SW5kZXggPSB0aGlzLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUIC8qIEFwcGx5IG9mZnNldCBoZXJlIHNvIHdlIGRvbid0IGhhdmUgdG8gZG8gaXQgcGVyLXBpeGVsKi8sXG4gICAgICAgIHlTa2lwID0gKHRoaXMud2lkdGggLSB3KSAqIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgIFxuICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaDsgeSsrKSB7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXhdID0gYm1wLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICAgICAgcGl4SW5kZXggKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG4gICAgICAgIH1cbiAgICAgICAgcGl4SW5kZXggKz0geVNraXA7XG4gICAgfVxufTtcblxuQ1BDb2xvckJtcC5wcm90b3R5cGUuY29weURhdGFGcm9tID0gZnVuY3Rpb24oYm1wKSB7XG4gICAgaWYgKGJtcC53aWR0aCAhPSB0aGlzLndpZHRoIHx8IGJtcC5oZWlnaHQgIT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IGJtcC53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBibXAuaGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5pbWFnZURhdGEgPSBjcmVhdGVJbWFnZURhdGEodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmltYWdlRGF0YS5kYXRhO1xuICAgIH1cblxuICAgIGlmIChcInNldFwiIGluIHRoaXMuZGF0YSkge1xuICAgICAgICB0aGlzLmRhdGEuc2V0KGJtcC5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJRSBkb2Vzbid0IHVzZSBVaW50OENsYW1wZWRBcnJheSBmb3IgSW1hZ2VEYXRhLCBzbyBzZXQoKSBpc24ndCBhdmFpbGFibGVcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpXSA9IGJtcC5kYXRhW2ldO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBGbG9vZCBmaWxsIHRoZSBnaXZlbiBjb2xvciBzdGFydGluZyBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICogQHBhcmFtIHggaW50XG4gKiBAcGFyYW0geSBpbnRcbiAqIEBwYXJhbSBjb2xvciBpbnRcbiAqL1xuQ1BDb2xvckJtcC5wcm90b3R5cGUuZmxvb2RGaWxsID0gZnVuY3Rpb24oeCwgeSwgY29sb3IpIHtcbiAgICBpZiAoIXRoaXMuaXNJbnNpZGUoeCwgeSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhclxuICAgICAgICBvbGRDb2xvciA9IHRoaXMuZ2V0UGl4ZWwoeCwgeSksXG4gICAgICAgIFxuICAgICAgICBvbGRBbHBoYSA9IChvbGRDb2xvciA+PiAyNCkgJiAweEZGLFxuICAgICAgICBvbGRSZWQgPSAob2xkQ29sb3IgPj4gMTYpICYgMHhGRixcbiAgICAgICAgb2xkR3JlZW4gPSAob2xkQ29sb3IgPj4gOCkgJiAweEZGLFxuICAgICAgICBvbGRCbHVlID0gb2xkQ29sb3IgJiAweEZGLFxuICAgICAgICBcbiAgICAgICAgY29sb3JBbHBoYSA9IChjb2xvciA+PiAyNCkgJiAweEZGLFxuICAgICAgICBjb2xvclJlZCA9IChjb2xvciA+PiAxNikgJiAweEZGLFxuICAgICAgICBjb2xvckdyZWVuID0gKGNvbG9yID4+IDgpICYgMHhGRixcbiAgICAgICAgY29sb3JCbHVlID0gY29sb3IgJiAweEZGLFxuICAgICAgICBcbiAgICAgICAgc3RhY2sgPSBbXSxcbiAgICAgICAgY2xpcCA9IHRoaXMuZ2V0Qm91bmRzKCksXG4gICAgICAgIFxuICAgICAgICBkYXRhID0gdGhpcy5kYXRhO1xuICAgIFxuICAgIC8vIENoYW5nZSB0aGUgbGVmdCBhbmQgcmlnaHQgYm91bmRzIGZyb20gcGl4ZWwgaW5kZXhlcyBpbnRvIGJ5dGUgaW5kZXhlcyBmb3IgZWFzeSBjbGlwcGluZ1xuICAgIGNsaXAubGVmdCAqPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICBjbGlwLnJpZ2h0ICo9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgIFxuICAgIHN0YWNrLnB1c2goe3gxOiB4ICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsIHgyOiB4ICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsIHk6IHksIGR5OiAtMX0pO1xuICAgIHN0YWNrLnB1c2goe3gxOiB4ICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsIHgyOiB4ICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsIHk6IHkgKyAxLCBkeTogMX0pO1xuICAgIFxuICAgIC8qIFxuICAgICAqIElmIHdlIGFyZSBmaWxsaW5nIDEwMCUgdHJhbnNwYXJlbnQgYXJlYXMgdGhlbiB3ZSBuZWVkIHRvIGlnbm9yZSB0aGUgcmVzaWR1YWwgY29sb3IgaW5mb3JtYXRpb25cbiAgICAgKiAoaXQgd291bGQgYWxzbyBiZSBwb3NzaWJsZSB0byBjbGVhciBpdCB3aGVuIGVyYXNpbmcsIGJ1dCB0aGVuIHRoZSBwZXJmb3JtYW5jZSBpbXBhY3Qgd291bGQgYmUgb24gdGhlIGVyYXNlciBcbiAgICAgKiByYXRoZXIgdGhhbiBvbiB0aGlzIGxvdyBpbXBvcnRhbmNlIGZsb29kIGZpbGwpXG4gICAgICovXG4gICAgaWYgKG9sZEFscGhhID09IDApIHtcbiAgICAgICAgaWYgKGNvbG9yQWxwaGEgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgbGluZSA9IHN0YWNrLnBvcCgpO1xuICAgIFxuICAgICAgICAgICAgaWYgKGxpbmUueSA8IGNsaXAudG9wIHx8IGxpbmUueSA+PSBjbGlwLmJvdHRvbSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgbGluZU9mZnNldCA9IHRoaXMub2Zmc2V0T2ZQaXhlbCgwLCBsaW5lLnkpLFxuICAgIFxuICAgICAgICAgICAgICAgIGxlZnQgPSBsaW5lLngxLCBuZXh0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgICAgICAgbGVmdCA+PSBjbGlwLmxlZnQgXG4gICAgICAgICAgICAgICAgJiYgZGF0YVtsZWZ0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdID09IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0gPSBjb2xvclJlZDtcbiAgICAgICAgICAgICAgICBkYXRhW2xlZnQgKyBsaW5lT2Zmc2V0ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPSBjb2xvckdyZWVuO1xuICAgICAgICAgICAgICAgIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdID0gY29sb3JCbHVlO1xuICAgICAgICAgICAgICAgIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSA9IGNvbG9yQWxwaGE7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGVmdCAtPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGxlZnQgPj0gbGluZS54MSkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA8PSBsaW5lLngyIFxuICAgICAgICAgICAgICAgICAgICAmJiBkYXRhW2xlZnQgKyBsaW5lT2Zmc2V0ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0gIT0gb2xkQWxwaGFcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCArPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dCA9IGxlZnQgKyBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgICAgICAgICBpZiAobGVmdCA+IGxpbmUueDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZWZ0ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0IDwgbGluZS54MSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHt4MTogbGVmdCwgeDI6IGxpbmUueDEgLSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCwgeTogbGluZS55IC0gbGluZS5keSwgZHk6IC1saW5lLmR5fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5leHQgPSBsaW5lLngxICsgQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG4gICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgZGF0YVtsZWZ0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXSA9IGNvbG9yUmVkO1xuICAgICAgICAgICAgICAgIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkdSRUVOX0JZVEVfT0ZGU0VUXSA9IGNvbG9yR3JlZW47XG4gICAgICAgICAgICAgICAgZGF0YVtsZWZ0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuQkxVRV9CWVRFX09GRlNFVF0gPSBjb2xvckJsdWU7XG4gICAgICAgICAgICAgICAgZGF0YVtsZWZ0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdID0gY29sb3JBbHBoYTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgICAgICAgICAgIG5leHQgPCBjbGlwLnJpZ2h0IFxuICAgICAgICAgICAgICAgICAgICAmJiBkYXRhW25leHQgKyBsaW5lT2Zmc2V0ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0gPT0gb2xkQWxwaGFcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtuZXh0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXSA9IGNvbG9yUmVkO1xuICAgICAgICAgICAgICAgICAgICBkYXRhW25leHQgKyBsaW5lT2Zmc2V0ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPSBjb2xvckdyZWVuO1xuICAgICAgICAgICAgICAgICAgICBkYXRhW25leHQgKyBsaW5lT2Zmc2V0ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXSA9IGNvbG9yQmx1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtuZXh0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdID0gY29sb3JBbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG5leHQgKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe3gxOiBsZWZ0LCB4MjogbmV4dCAtIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMLCB5OiBsaW5lLnkgKyBsaW5lLmR5LCBkeTogbGluZS5keX0pO1xuICAgIFxuICAgICAgICAgICAgICAgIGlmIChuZXh0IC0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwgPiBsaW5lLngyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe3gxOiBsaW5lLngyICsgQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsIHgyOiBuZXh0IC0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsIHk6IGxpbmUueSAtIGxpbmUuZHksIGR5OiAtbGluZS5keX0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBsZWZ0ID0gbmV4dCArIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgICAgIHdoaWxlIChcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA8PSBsaW5lLngyICYmIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSAhPSBvbGRBbHBoYVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBuZXh0ID0gbGVmdCArIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgfSB3aGlsZSAobGVmdCA8PSBsaW5lLngyKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb2xvciA9PSBvbGRDb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGxpbmUgPSBzdGFjay5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGxpbmUueSA8IGNsaXAudG9wIHx8IGxpbmUueSA+PSBjbGlwLmJvdHRvbSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBsaW5lT2Zmc2V0ID0gdGhpcy5vZmZzZXRPZlBpeGVsKDAsIGxpbmUueSksXG5cbiAgICAgICAgICAgICAgICBsZWZ0ID0gbGluZS54MSwgbmV4dDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgICAgIGxlZnQgPj0gY2xpcC5sZWZ0IFxuICAgICAgICAgICAgICAgICYmIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0gPT0gb2xkUmVkXG4gICAgICAgICAgICAgICAgJiYgZGF0YVtsZWZ0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuR1JFRU5fQllURV9PRkZTRVRdID09IG9sZEdyZWVuXG4gICAgICAgICAgICAgICAgJiYgZGF0YVtsZWZ0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuQkxVRV9CWVRFX09GRlNFVF0gPT0gb2xkQmx1ZVxuICAgICAgICAgICAgICAgICYmIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSA9PSBvbGRBbHBoYVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtsZWZ0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXSA9IGNvbG9yUmVkO1xuICAgICAgICAgICAgICAgIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkdSRUVOX0JZVEVfT0ZGU0VUXSA9IGNvbG9yR3JlZW47XG4gICAgICAgICAgICAgICAgZGF0YVtsZWZ0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuQkxVRV9CWVRFX09GRlNFVF0gPSBjb2xvckJsdWU7XG4gICAgICAgICAgICAgICAgZGF0YVtsZWZ0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdID0gY29sb3JBbHBoYTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZWZ0IC09IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAobGVmdCA+PSBsaW5lLngxKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgICAgICAgICBsZWZ0IDw9IGxpbmUueDIgXG4gICAgICAgICAgICAgICAgICAgICYmICEoXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZnQgKyBsaW5lT2Zmc2V0ICsgQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVRdID09IG9sZFJlZFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgZGF0YVtsZWZ0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuR1JFRU5fQllURV9PRkZTRVRdID09IG9sZEdyZWVuXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBkYXRhW2xlZnQgKyBsaW5lT2Zmc2V0ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXSA9PSBvbGRCbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBkYXRhW2xlZnQgKyBsaW5lT2Zmc2V0ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0gPT0gb2xkQWxwaGFcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0ID0gbGVmdCArIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0ID4gbGluZS54Mikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxlZnQgKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG4gICAgICAgICAgICAgICAgaWYgKGxlZnQgPCBsaW5lLngxKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe3gxOiBsZWZ0LCB4MjogbGluZS54MSAtIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMLCB5OiBsaW5lLnkgLSBsaW5lLmR5LCBkeTogLWxpbmUuZHl9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dCA9IGxpbmUueDEgKyBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0gPSBjb2xvclJlZDtcbiAgICAgICAgICAgICAgICBkYXRhW2xlZnQgKyBsaW5lT2Zmc2V0ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPSBjb2xvckdyZWVuO1xuICAgICAgICAgICAgICAgIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdID0gY29sb3JCbHVlO1xuICAgICAgICAgICAgICAgIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSA9IGNvbG9yQWxwaGE7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgICAgICAgICBuZXh0IDwgY2xpcC5yaWdodCBcbiAgICAgICAgICAgICAgICAgICAgJiYgZGF0YVtuZXh0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXSA9PSBvbGRSZWRcbiAgICAgICAgICAgICAgICAgICAgJiYgZGF0YVtuZXh0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuR1JFRU5fQllURV9PRkZTRVRdID09IG9sZEdyZWVuXG4gICAgICAgICAgICAgICAgICAgICYmIGRhdGFbbmV4dCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdID09IG9sZEJsdWVcbiAgICAgICAgICAgICAgICAgICAgJiYgZGF0YVtuZXh0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdID09IG9sZEFscGhhXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbmV4dCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0gPSBjb2xvclJlZDtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtuZXh0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuR1JFRU5fQllURV9PRkZTRVRdID0gY29sb3JHcmVlbjtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtuZXh0ICsgbGluZU9mZnNldCArIENQQ29sb3JCbXAuQkxVRV9CWVRFX09GRlNFVF0gPSBjb2xvckJsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbmV4dCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSA9IGNvbG9yQWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBuZXh0ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHt4MTogbGVmdCwgeDI6IG5leHQgLSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCwgeTogbGluZS55ICsgbGluZS5keSwgZHk6IGxpbmUuZHl9KTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXh0IC0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwgPiBsaW5lLngyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goe3gxOiBsaW5lLngyICsgQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsIHgyOiBuZXh0IC0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsIHk6IGxpbmUueSAtIGxpbmUuZHksIGR5OiAtbGluZS5keX0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxlZnQgPSBuZXh0ICsgQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG4gICAgICAgICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgICAgICAgICBsZWZ0IDw9IGxpbmUueDIgJiYgIShcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0gPT0gb2xkUmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBkYXRhW2xlZnQgKyBsaW5lT2Zmc2V0ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPT0gb2xkR3JlZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdID09IG9sZEJsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGRhdGFbbGVmdCArIGxpbmVPZmZzZXQgKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSA9PSBvbGRBbHBoYVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbmV4dCA9IGxlZnQgKyBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgICAgIH0gd2hpbGUgKGxlZnQgPD0gbGluZS54Mik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFByZW11bHRpcGx5IHRoZSBSR0IgY2hhbm5lbHMgaW4gdGhlIGdpdmVuIFIsRyxCLEEgY2hhbm5lbCBidWZmZXIgd2l0aCB0aGUgYWxwaGEgY2hhbm5lbC5cbiAqIFxuICogQHBhcmFtIGJ1ZmZlciBSLEcsQixBIGNoYW5uZWwgYXJyYXlcbiAqIEBwYXJhbSBsZW4gTnVtYmVyIG9mIHBpeGVscyBpbiBidWZmZXIgdG8gbW9kaWZ5XG4gKi9cbmZ1bmN0aW9uIG11bHRpcGx5QWxwaGEoYnVmZmVyLCBsZW4pIHtcbiAgICB2YXJcbiAgICAgICAgcGl4SW5kZXggPSAwO1xuICAgIFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBhbHBoYSA9IGJ1ZmZlcltwaXhJbmRleCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdO1xuICAgICAgICBcbiAgICAgICAgLy8gTXVsdGlwbHkgdGhlIFJHQiBjaGFubmVscyBieSBhbHBoYVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDM7IGorKywgcGl4SW5kZXgrKykge1xuICAgICAgICAgICAgYnVmZmVyW3BpeEluZGV4XSA9IE1hdGgucm91bmQoYnVmZmVyW3BpeEluZGV4XSAqIGFscGhhIC8gMjU1KTtcbiAgICAgICAgfVxuICAgICAgICBwaXhJbmRleCsrOyAvLyBEb24ndCBtb2RpZnkgYWxwaGEgY2hhbm5lbFxuICAgIH1cbn1cblxuLyoqXG4gKiBJbnZlcnNlIG9mIG11bHRpcGx5QWxwaGEoKVxuICovXG5mdW5jdGlvbiBzZXBhcmF0ZUFscGhhKGJ1ZmZlciwgbGVuKSB7XG4gICAgdmFyXG4gICAgICAgIHBpeEluZGV4ID0gMDtcbiAgICBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgYWxwaGEgPSBidWZmZXJbcGl4SW5kZXggKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXTtcbiAgICAgICAgXG4gICAgICAgIGlmIChhbHBoYSAhPSAwKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBpbnZBbHBoYSA9IDI1NSAvIGFscGhhO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDM7IGorKywgcGl4SW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcltwaXhJbmRleF0gPSBNYXRoLm1pbihNYXRoLnJvdW5kKGJ1ZmZlcltwaXhJbmRleF0gKiBpbnZBbHBoYSksIDI1NSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEb24ndCBtb2RpZnkgYWxwaGEgY2hhbm5lbFxuICAgICAgICAgICAgcGl4SW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBpeEluZGV4ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBib3hCbHVyTGluZShzcmMsIGRzdCwgbGVuLCByYWRpdXMpIHtcbiAgICB2YXJcbiAgICAgICAgdG90YWxQaXhlbHMgPSAwLCB0b3RhbENoYW5uZWxzID0gWzAsIDAsIDAsIDBdLFxuICAgICAgICBwaXhJbmRleCwgZHN0SW5kZXg7XG4gICAgXG4gICAgcGl4SW5kZXggPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaXVzICYmIGkgPCBsZW47IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMOyBqKyspIHtcbiAgICAgICAgICAgIHRvdGFsQ2hhbm5lbHNbal0gKz0gc3JjW3BpeEluZGV4KytdO1xuICAgICAgICB9XG4gICAgICAgIHRvdGFsUGl4ZWxzKys7XG4gICAgfVxuICAgIFxuICAgIGRzdEluZGV4ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIC8vIE5ldyBwaXhlbCBqb2lucyB0aGUgd2luZG93IGF0IHRoZSByaWdodFxuICAgICAgICBpZiAoaSArIHJhZGl1cyA8IGxlbikge1xuICAgICAgICAgICAgcGl4SW5kZXggPSAoaSArIHJhZGl1cykgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdG90YWxDaGFubmVsc1tqXSArPSBzcmNbcGl4SW5kZXgrK107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3RhbFBpeGVscysrO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDsgaisrKSB7XG4gICAgICAgICAgICBkc3RbZHN0SW5kZXgrK10gPSBNYXRoLnJvdW5kKHRvdGFsQ2hhbm5lbHNbal0gLyB0b3RhbFBpeGVscyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbGQgcGl4ZWwgbGVhdmVzIHRoZSB3aW5kb3cgYXQgdGhlIGxlZnRcbiAgICAgICAgaWYgKGkgLSByYWRpdXMgPj0gMCkge1xuICAgICAgICAgICAgcGl4SW5kZXggPSAoaSAtIHJhZGl1cykgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdG90YWxDaGFubmVsc1tqXSAtPSBzcmNbcGl4SW5kZXgrK107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3RhbFBpeGVscy0tO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIENvcHkgYSBjb2x1bW4gb2YgcGl4ZWxzIGluIHRoZSBiaXRtYXAgdG8gdGhlIGdpdmVuIFIsRyxCLEEgYnVmZmVyLlxuICogXG4gKiBAcGFyYW0geCBYLWNvb3JkaW5hdGUgb2YgY29sdW1uXG4gKiBAcGFyYW0geSBZLWNvb3JkaW5hdGUgb2YgdG9wIG9mIGNvbHVtbiB0byBjb3B5XG4gKiBAcGFyYW0gbGVuIE51bWJlciBvZiBwaXhlbHMgdG8gY29weVxuICogQHBhcmFtIGJ1ZmZlciBSLEcsQixBIGFycmF5XG4gKi9cbkNQQ29sb3JCbXAucHJvdG90eXBlLmNvcHlQaXhlbENvbHVtblRvQXJyYXkgPSBmdW5jdGlvbih4LCB5LCBsZW4sIGJ1ZmZlcikge1xuICAgIHZhclxuICAgICAgICB5SnVtcCA9ICh0aGlzLndpZHRoIC0gMSkgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCxcbiAgICAgICAgZHN0T2Zmc2V0ID0gMCxcbiAgICAgICAgc3JjT2Zmc2V0ID0gdGhpcy5vZmZzZXRPZlBpeGVsKHgsIHkpO1xuICAgIFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDsgaisrKSB7XG4gICAgICAgICAgICBidWZmZXJbZHN0T2Zmc2V0KytdID0gdGhpcy5kYXRhW3NyY09mZnNldCsrXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc3JjT2Zmc2V0ICs9IHlKdW1wO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb3B5IHRoZSBwaXhlbHMgZnJvbSB0aGUgZ2l2ZW4gUixHLEIsQSBidWZmZXIgdG8gYSBjb2x1bW4gb2YgcGl4ZWxzIGluIHRoZSBiaXRtYXAuXG4gKiBcbiAqIEBwYXJhbSB4IFgtY29vcmRpbmF0ZSBvZiBjb2x1bW5cbiAqIEBwYXJhbSB5IFktY29vcmRpbmF0ZSBvZiB0b3Agb2YgY29sdW1uIHRvIGNvcHlcbiAqIEBwYXJhbSBsZW4gTnVtYmVyIG9mIHBpeGVscyB0byBjb3B5XG4gKiBAcGFyYW0gYnVmZmVyIFIsRyxCLEEgYXJyYXkgdG8gY29weSBmcm9tXG4gKi9cbkNQQ29sb3JCbXAucHJvdG90eXBlLmNvcHlBcnJheVRvUGl4ZWxDb2x1bW4gPSBmdW5jdGlvbih4LCB5LCBsZW4sIGJ1ZmZlcikge1xuICAgIHZhclxuICAgICAgICB5SnVtcCA9ICh0aGlzLndpZHRoIC0gMSkgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCxcbiAgICAgICAgc3JjT2Zmc2V0ID0gMCxcbiAgICAgICAgZHN0T2Zmc2V0ID0gdGhpcy5vZmZzZXRPZlBpeGVsKHgsIHkpO1xuICAgIFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDsgaisrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbZHN0T2Zmc2V0KytdID0gYnVmZmVyW3NyY09mZnNldCsrXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZHN0T2Zmc2V0ICs9IHlKdW1wO1xuICAgIH1cbn1cblxuQ1BDb2xvckJtcC5wcm90b3R5cGUuYm94Qmx1ciA9IGZ1bmN0aW9uKHJlY3QsIHJhZGl1c1gsIHJhZGl1c1kpIHtcbiAgICByZWN0ID0gdGhpcy5nZXRCb3VuZHMoKS5jbGlwKHJlY3QpO1xuXG4gICAgdmFyXG4gICAgICAgIHJlY3RXaWR0aCA9IHJlY3QuZ2V0V2lkdGgoKSxcbiAgICAgICAgcmVjdFdpZHRoQnl0ZXMgPSByZWN0V2lkdGggKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCxcbiAgICAgICAgcmVjdEhlaWdodCA9IHJlY3QuZ2V0SGVpZ2h0KCksXG4gICAgICAgIHJlY3RMZW5ndGggPSBNYXRoLm1heChyZWN0V2lkdGgsIHJlY3RIZWlnaHQpLFxuXG4gICAgICAgIHNyYyA9IG5ldyBVaW50OEFycmF5KHJlY3RMZW5ndGggKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCksXG4gICAgICAgIGRzdCA9IG5ldyBVaW50OEFycmF5KHJlY3RMZW5ndGggKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCk7XG5cbiAgICBmb3IgKHZhciB5ID0gcmVjdC50b3A7IHkgPCByZWN0LmJvdHRvbTsgeSsrKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgcGl4T2Zmc2V0ID0gdGhpcy5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgeSk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJlY3RXaWR0aEJ5dGVzOyB4KyspIHtcbiAgICAgICAgICAgIHNyY1t4XSA9IHRoaXMuZGF0YVtwaXhPZmZzZXQrK107XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIG11bHRpcGx5QWxwaGEoc3JjLCByZWN0V2lkdGgpO1xuICAgICAgICBib3hCbHVyTGluZShzcmMsIGRzdCwgcmVjdFdpZHRoLCByYWRpdXNYKTtcbiAgICAgICAgXG4gICAgICAgIHBpeE9mZnNldCA9IHRoaXMub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHkpO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCByZWN0V2lkdGhCeXRlczsgeCsrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4T2Zmc2V0KytdID0gZHN0W3hdO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZvciAodmFyIHggPSByZWN0LmxlZnQ7IHggPCByZWN0LnJpZ2h0OyB4KyspIHtcbiAgICAgICAgdGhpcy5jb3B5UGl4ZWxDb2x1bW5Ub0FycmF5KHgsIHJlY3QudG9wLCByZWN0SGVpZ2h0LCBzcmMpO1xuICAgICAgICBcbiAgICAgICAgYm94Qmx1ckxpbmUoc3JjLCBkc3QsIHJlY3RIZWlnaHQsIHJhZGl1c1kpO1xuICAgICAgICBzZXBhcmF0ZUFscGhhKGRzdCwgcmVjdEhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNvcHlBcnJheVRvUGl4ZWxDb2x1bW4oeCwgcmVjdC50b3AsIHJlY3RIZWlnaHQsIGRzdCk7XG4gICAgfVxufTtcblxuQ1BDb2xvckJtcC5wcm90b3R5cGUub2Zmc2V0T2ZQaXhlbCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICByZXR1cm4gKCh5ICogdGhpcy53aWR0aCArIHgpICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHwgMDtcbn07XG5cbkNQQ29sb3JCbXAucHJvdG90eXBlLmdldE1lbW9yeVNpemUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLmxlbmd0aDtcbn07XG5cbi8vIExvYWQgZnJvbSBhIGxvYWRlZCBIVE1MIEltYWdlIG9iamVjdFxuQ1BDb2xvckJtcC5wcm90b3R5cGUubG9hZEZyb21JbWFnZSA9IGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgdmFyXG4gICAgICAgIGltYWdlQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgaW1hZ2VDb250ZXh0ID0gaW1hZ2VDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgaW1hZ2VDYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICBpbWFnZUNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgXG4gICAgaW1hZ2VDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiY29weVwiO1xuICAgIGltYWdlQ29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICAgIFxuICAgIHRoaXMuaW1hZ2VEYXRhID0gaW1hZ2VDb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgdGhpcy5kYXRhID0gdGhpcy5pbWFnZURhdGEuZGF0YTtcbn07XG5cbkNQQ29sb3JCbXAucHJvdG90eXBlLmdldEltYWdlRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlRGF0YTtcbn07XG5cbi8qKlxuICogUmVwbGFjZSB0aGUgaW1hZ2UgZGF0YSB3aXRoIHRoZSBwcm92aWRlZCBJbWFnZURhdGEgb2JqZWN0IChpLmUuIHVzZSBpdCBieSByZWZlcmVuY2UpLlxuICpcbiAqIEBwYXJhbSBpbWFnZURhdGEge0ltYWdlRGF0YX1cbiAqL1xuQ1BDb2xvckJtcC5wcm90b3R5cGUuc2V0SW1hZ2VEYXRhID0gZnVuY3Rpb24oaW1hZ2VEYXRhKSB7XG4gICAgdGhpcy53aWR0aCA9IGltYWdlRGF0YS53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQ7XG4gICAgdGhpcy5pbWFnZURhdGEgPSBpbWFnZURhdGE7XG4gICAgdGhpcy5kYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG59O1xuIiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUEJpdG1hcCBmcm9tIFwiLi9DUEJpdG1hcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUEdyZXlCbXAod2lkdGgsIGhlaWdodCwgYml0RGVwdGgpIHtcblxuICAgIENQQml0bWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cbiAgICB0aGlzLmJpdERlcHRoID0gYml0RGVwdGg7XG4gICAgXG4gICAgc3dpdGNoIChiaXREZXB0aCkge1xuICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQzMkFycmF5KHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgVWludDE2QXJyYXkod2lkdGggKiBoZWlnaHQpO1xuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQpO1xuICAgIH1cblxuICAgIHRoaXMuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgQ1BHcmV5Qm1wKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmJpdERlcHRoKTtcbiAgICAgICAgXG4gICAgICAgIHJlc3VsdC5kYXRhLnNldCh0aGlzLmRhdGEpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuY2xlYXJBbGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kYXRhW2ldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuY2xlYXJSZWN0ID0gZnVuY3Rpb24ocmVjdCwgdmFsdWUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5nZXRCb3VuZHMoKS5jbGlwKHJlY3QpLFxuICAgICAgICAgICAgeVN0cmlkZSA9IHRoaXMud2lkdGggLSByZWN0LmdldFdpZHRoKCksXG4gICAgICAgICAgICBwaXhJbmRleCA9IHRoaXMub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIHkgPSByZWN0LnRvcDsgeSA8IHJlY3QuYm90dG9tOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSByZWN0LmxlZnQ7IHggPCByZWN0LnJpZ2h0OyB4KyssIHBpeEluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5taXJyb3JIb3Jpem9udGFsbHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIG5ld0RhdGFbeSAqIHdpZHRoICsgeF0gPSB0aGlzLmRhdGFbeSAqIHdpZHRoICsgd2lkdGggLSB4IC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEgPSBuZXdEYXRhO1xuICAgIH07XG5cbiAgICB0aGlzLmFwcGx5TFVUID0gZnVuY3Rpb24obHV0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbaV0gPSBsdXQudGFibGVbdGhpcy5kYXRhW2ldXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy50b0NhbnZhcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGltYWdlRGF0YSA9IHRoaXMudG9JbWFnZURhdGEoKSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBcbiAgICAgICAgY2FudmFzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgY29udGV4dC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnRvSW1hZ2VEYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLFxuICAgICAgICAgICAgaW1hZ2VEYXRhID0gY29udGV4dC5jcmVhdGVJbWFnZURhdGEodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzcmNJbmRleCA9IDAsXG4gICAgICAgICAgICBkc3RJbmRleCA9IDA7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHRoaXMuaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbZHN0SW5kZXgrK10gPSB0aGlzLmRhdGFbc3JjSW5kZXhdO1xuICAgICAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2RzdEluZGV4KytdID0gdGhpcy5kYXRhW3NyY0luZGV4XTtcbiAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtkc3RJbmRleCsrXSA9IHRoaXMuZGF0YVtzcmNJbmRleF07XG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbZHN0SW5kZXgrK10gPSAweEZGO1xuICAgICAgICAgICAgICAgIHNyY0luZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBpbWFnZURhdGE7XG4gICAgfTtcbn1cblxuQ1BHcmV5Qm1wLnByb3RvdHlwZS5vZmZzZXRPZlBpeGVsID0gZnVuY3Rpb24oeCwgeSkge1xuICAgIHJldHVybiB5ICogdGhpcy53aWR0aCArIHg7XG59IiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUENvbG9yQm1wIGZyb20gJy4vQ1BDb2xvckJtcCc7XG5pbXBvcnQgQ1BCbGVuZCBmcm9tICcuL0NQQmxlbmQnO1xuXG4vKipcbiAqIE5vdGUgbGF5ZXIgaXMgbm90IGNsZWFyZWQgdG8gYW55IHNwZWNpZmljIHZhbHVlcyB1cG9uIGluaXRpYWwgY3JlYXRpb24sIHVzZSBjbGVhckFsbCgpLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUExheWVyKHdpZHRoLCBoZWlnaHQsIG5hbWUpIHtcbiAgICAvLyBTdXBlci1jb25zdHJ1Y3RvclxuICAgIENQQ29sb3JCbXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBcbiAgICB0aGlzLm5hbWUgPSBuYW1lIHx8IFwiXCI7XG4gICAgXG4gICAgdGhpcy5hbHBoYSA9IDEwMDtcbiAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgIHRoaXMuYmxlbmRNb2RlID0gQ1BCbGVuZC5MTV9OT1JNQUw7XG59XG5cbkNQTGF5ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUENvbG9yQm1wLnByb3RvdHlwZSk7XG5DUExheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQTGF5ZXI7XG5cbmNvbnN0XG4gICAgQllURVNfUEVSX1BJWEVMID0gNCxcbiAgICBcbiAgICBBTFBIQV9CWVRFX09GRlNFVCA9IDM7XG5cbkNQTGF5ZXIucHJvdG90eXBlLmNsZWFyQWxsID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICB2YXJcbiAgICAgICAgYSA9IChjb2xvciA+PiAyNCkgJiAweEZGLFxuICAgICAgICByID0gKGNvbG9yID4+IDE2KSAmIDB4RkYsXG4gICAgICAgIGcgPSAoY29sb3IgPj4gOCkgJiAweEZGLFxuICAgICAgICBiID0gY29sb3IgJiAweEZGO1xuICAgIFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0ICogQllURVNfUEVSX1BJWEVMOyApIHtcbiAgICAgICAgdGhpcy5kYXRhW2krK10gPSByO1xuICAgICAgICB0aGlzLmRhdGFbaSsrXSA9IGc7XG4gICAgICAgIHRoaXMuZGF0YVtpKytdID0gYjtcbiAgICAgICAgdGhpcy5kYXRhW2krK10gPSBhO1xuICAgIH1cbn07XG5cbkNQTGF5ZXIucHJvdG90eXBlLmNsZWFyUmVjdCA9IGZ1bmN0aW9uKHJlY3QsIGNvbG9yKSB7XG4gICAgdmFyXG4gICAgICAgIGEgPSAoY29sb3IgPj4gMjQpICYgMHhGRixcbiAgICAgICAgciA9IChjb2xvciA+PiAxNikgJiAweEZGLFxuICAgICAgICBnID0gKGNvbG9yID4+IDgpICYgMHhGRixcbiAgICAgICAgYiA9IGNvbG9yICYgMHhGRjtcbiAgICBcbiAgICB2YXJcbiAgICAgICAgcmVjdCA9IHRoaXMuZ2V0Qm91bmRzKCkuY2xpcChyZWN0KSxcbiAgICAgICAgeVN0cmlkZSA9ICh0aGlzLndpZHRoIC0gcmVjdC5nZXRXaWR0aCgpKSAqIEJZVEVTX1BFUl9QSVhFTCxcbiAgICAgICAgXG4gICAgICAgIHBpeEluZGV4ID0gdGhpcy5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApO1xuICAgIFxuICAgIGZvciAodmFyIHkgPSByZWN0LnRvcDsgeSA8IHJlY3QuYm90dG9tOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgZm9yICh2YXIgeCA9IHJlY3QubGVmdDsgeCA8IHJlY3QucmlnaHQ7IHgrKykge1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4KytdID0gcjtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCsrXSA9IGc7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXgrK10gPSBiO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4KytdID0gYTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHJlY3QgQ1BSZWN0XG4gKiBAcGFyYW0gc291cmNlIENQTGF5ZXJcbiAqL1xuQ1BMYXllci5wcm90b3R5cGUuY29weVJlZ2lvbkhGbGlwID0gZnVuY3Rpb24ocmVjdCwgc291cmNlKSB7XG4gICAgcmVjdCA9IHRoaXMuZ2V0Qm91bmRzKCkuY2xpcChyZWN0KTtcblxuICAgIGZvciAodmFyIHkgPSByZWN0LnRvcDsgeSA8IHJlY3QuYm90dG9tOyB5KyspIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBkc3RPZmZzZXQgPSB0aGlzLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCB5KSxcbiAgICAgICAgICAgIHNyY09mZnNldCA9IHNvdXJjZS5vZmZzZXRPZlBpeGVsKHJlY3QucmlnaHQgLSAxLCB5KTtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIHggPSByZWN0LmxlZnQ7IHggPCByZWN0LnJpZ2h0OyB4KyssIHNyY09mZnNldCAtPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCAqIDIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtkc3RPZmZzZXQrK10gPSBzb3VyY2UuZGF0YVtzcmNPZmZzZXQrK107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSByZWN0IENQUmVjdFxuICogQHBhcmFtIHNvdXJjZSBDUExheWVyXG4gKi9cbkNQTGF5ZXIucHJvdG90eXBlLmNvcHlSZWdpb25WRmxpcCA9IGZ1bmN0aW9uKHJlY3QsIHNvdXJjZSkge1xuICAgIHJlY3QgPSB0aGlzLmdldEJvdW5kcygpLmNsaXAocmVjdCk7XG4gICAgXG4gICAgdmFyXG4gICAgICAgIHdpZHRoQnl0ZXMgPSByZWN0LmdldFdpZHRoKCkgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcblxuICAgIGZvciAodmFyIHkgPSByZWN0LnRvcDsgeSA8IHJlY3QuYm90dG9tOyB5KyspIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBkc3RPZmZzZXQgPSB0aGlzLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCB5KSxcbiAgICAgICAgICAgIHNyY09mZnNldCA9IHNvdXJjZS5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC5ib3R0b20gLSAxIC0gKHkgLSByZWN0LnRvcCkpO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aEJ5dGVzOyB4KyspIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtkc3RPZmZzZXQrK10gPSBzb3VyY2UuZGF0YVtzcmNPZmZzZXQrK107XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHIgQ1BSZWN0XG4gKi9cbkNQTGF5ZXIucHJvdG90eXBlLmZpbGxXaXRoTm9pc2UgPSBmdW5jdGlvbihyZWN0KSB7XG4gICAgcmVjdCA9IHRoaXMuZ2V0Qm91bmRzKCkuY2xpcChyZWN0KTtcblxuICAgIHZhclxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgeVN0cmlkZSA9ICh0aGlzLndpZHRoIC0gcmVjdC5nZXRXaWR0aCgpKSAqIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMLFxuICAgICAgICBcbiAgICAgICAgcGl4SW5kZXggPSB0aGlzLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCk7XG5cbiAgICBmb3IgKHZhciB5ID0gcmVjdC50b3A7IHkgPCByZWN0LmJvdHRvbTsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgIGZvciAodmFyIHggPSByZWN0LmxlZnQ7IHggPCByZWN0LnJpZ2h0OyB4KyssIHBpeEluZGV4ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IChNYXRoLnJhbmRvbSgpICogMHgxMDApIHwgMDtcblxuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVRdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkdSRUVOX0JZVEVfT0ZGU0VUXSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0gPSAweEZGO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZXBsYWNlIHRoZSBwaXhlbHMgaW4gdGhlIGdpdmVuIHJlY3Qgd2l0aCB0aGUgZ2l2ZW4gaG9yaXpvbnRhbCBncmFkaWVudC5cbiAqXG4gKiBAcGFyYW0gcmVjdCBDUFJlY3RcbiAqIEBwYXJhbSBmcm9tWCBpbnRcbiAqIEBwYXJhbSB0b1ggaW50XG4gKiBAcGFyYW0gZ3JhZGllbnRQb2ludHMgaW50W11cbiAqL1xuQ1BMYXllci5wcm90b3R5cGUuZ3JhZGllbnRIb3J6UmVwbGFjZSA9IGZ1bmN0aW9uKHJlY3QsIGZyb21YLCB0b1gsIGdyYWRpZW50UG9pbnRzKSB7XG4gICAgdmFyXG4gICAgICAgIGZyb21Db2xvciA9IHtcbiAgICAgICAgICAgIHI6IChncmFkaWVudFBvaW50c1swXSA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgZzogKGdyYWRpZW50UG9pbnRzWzBdID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGI6IGdyYWRpZW50UG9pbnRzWzBdICYgMHhGRixcbiAgICAgICAgICAgIGE6IChncmFkaWVudFBvaW50c1swXSA+PiAyNCkgJiAweEZGXG4gICAgICAgIH0sXG4gICAgICAgIHRvQ29sb3IgPSB7XG4gICAgICAgICAgICByOiAoZ3JhZGllbnRQb2ludHNbMV0gPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIGc6IChncmFkaWVudFBvaW50c1sxXSA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBiOiBncmFkaWVudFBvaW50c1sxXSAmIDB4RkYsXG4gICAgICAgICAgICBhOiAoZ3JhZGllbnRQb2ludHNbMV0gPj4gMjQpICYgMHhGRlxuICAgICAgICB9LFxuXG4gICAgICAgIHlTdHJpZGUgPSAodGhpcy53aWR0aCAtIHJlY3QuZ2V0V2lkdGgoKSkgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCxcbiAgICAgICAgcGl4SW5kZXggPSB0aGlzLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwLFxuICAgICAgICBoID0gKHJlY3QuYm90dG9tIC0gcmVjdC50b3ApIHwgMDtcblxuICAgIGlmICh0b1ggPCBmcm9tWCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHRlbXAgPSB0b1g7XG4gICAgICAgIHRvWCA9IGZyb21YO1xuICAgICAgICBmcm9tWCA9IHRlbXA7XG5cbiAgICAgICAgdGVtcCA9IGZyb21Db2xvcjtcbiAgICAgICAgZnJvbUNvbG9yID0gdG9Db2xvcjtcbiAgICAgICAgdG9Db2xvciA9IHRlbXA7XG4gICAgfVxuICAgIFxuICAgIHZhclxuICAgICAgICBncmFkaWVudFJhbmdlID0gKHRvWCAtIGZyb21YKSB8IDAsXG4gICAgICAgIHJTdGVwID0gKHRvQ29sb3IuciAtIGZyb21Db2xvci5yKSAvIGdyYWRpZW50UmFuZ2UsXG4gICAgICAgIGdTdGVwID0gKHRvQ29sb3IuZyAtIGZyb21Db2xvci5nKSAvIGdyYWRpZW50UmFuZ2UsXG4gICAgICAgIGJTdGVwID0gKHRvQ29sb3IuYiAtIGZyb21Db2xvci5iKSAvIGdyYWRpZW50UmFuZ2UsXG4gICAgICAgIGFTdGVwID0gKHRvQ29sb3IuYSAtIGZyb21Db2xvci5hKSAvIGdyYWRpZW50UmFuZ2UsXG4gICAgXG4gICAgICAgIGp1bXAgPSBNYXRoLm1heChyZWN0LmxlZnQgLSBmcm9tWCwgMCk7XG5cbiAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGg7IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICAvLyBUaGUgc29saWQgY29sb3Igc2VjdGlvbiBiZWZvcmUgdGhlIGdyYWRpZW50XG4gICAgICAgIHZhclxuICAgICAgICAgICAgeCA9IHJlY3QubGVmdDtcblxuICAgICAgICBmb3IgKHZhciB4RW5kID0gTWF0aC5taW4oZnJvbVgsIHJlY3QucmlnaHQpIHwgMDsgeCA8IHhFbmQ7IHgrKywgcGl4SW5kZXggKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXSA9IGZyb21Db2xvci5yO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPSBmcm9tQ29sb3IuZztcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuQkxVRV9CWVRFX09GRlNFVF0gPSBmcm9tQ29sb3IuYjtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdID0gZnJvbUNvbG9yLmE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbiB0aGUgZ3JhZGllbnRcbiAgICAgICAgdmFyXG4gICAgICAgICAgICByID0gZnJvbUNvbG9yLnIgKyByU3RlcCAqIGp1bXAsXG4gICAgICAgICAgICBnID0gZnJvbUNvbG9yLmcgKyBnU3RlcCAqIGp1bXAsXG4gICAgICAgICAgICBiID0gZnJvbUNvbG9yLmIgKyBiU3RlcCAqIGp1bXAsXG4gICAgICAgICAgICBhID0gZnJvbUNvbG9yLmEgKyBhU3RlcCAqIGp1bXA7XG5cbiAgICAgICAgZm9yICh4RW5kID0gTWF0aC5taW4odG9YLCByZWN0LnJpZ2h0KSB8IDA7IHggPCB4RW5kOyB4KyssIHBpeEluZGV4ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0gPSByO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPSBnO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXSA9IGI7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSA9IGE7XG5cbiAgICAgICAgICAgIHIgKz0gclN0ZXA7XG4gICAgICAgICAgICBnICs9IGdTdGVwO1xuICAgICAgICAgICAgYiArPSBiU3RlcDtcbiAgICAgICAgICAgIGEgKz0gYVN0ZXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgc2VjdGlvbiBhZnRlciB0aGUgZW5kIG9mIHRoZSBncmFkaWVudFxuICAgICAgICBmb3IgKDsgeCA8IHJlY3QucmlnaHQ7IHgrKywgcGl4SW5kZXggKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXSA9IHRvQ29sb3IucjtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuR1JFRU5fQllURV9PRkZTRVRdID0gdG9Db2xvci5nO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXSA9IHRvQ29sb3IuYjtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdID0gdG9Db2xvci5hO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZXBsYWNlIHRoZSBwaXhlbHMgaW4gdGhlIGdpdmVuIHJlY3Qgd2l0aCB0aGUgZ2l2ZW4gdmVydGljYWwgZ3JhZGllbnQuXG4gKlxuICogQHBhcmFtIHtDUFJlY3R9IHJlY3RcbiAqIEBwYXJhbSBmcm9tWSBpbnRcbiAqIEBwYXJhbSB0b1kgaW50XG4gKiBAcGFyYW0gZ3JhZGllbnRQb2ludHMgaW50W11cbiAqL1xuQ1BMYXllci5wcm90b3R5cGUuZ3JhZGllbnRWZXJ0UmVwbGFjZSA9IGZ1bmN0aW9uKHJlY3QsIGZyb21ZLCB0b1ksIGdyYWRpZW50UG9pbnRzKSB7XG4gICAgdmFyXG4gICAgICAgIGZyb21Db2xvciA9IHtcbiAgICAgICAgICAgIHI6IChncmFkaWVudFBvaW50c1swXSA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgZzogKGdyYWRpZW50UG9pbnRzWzBdID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGI6IGdyYWRpZW50UG9pbnRzWzBdICYgMHhGRixcbiAgICAgICAgICAgIGE6IChncmFkaWVudFBvaW50c1swXSA+PiAyNCkgJiAweEZGXG4gICAgICAgIH0sXG4gICAgICAgIHRvQ29sb3IgPSB7XG4gICAgICAgICAgICByOiAoZ3JhZGllbnRQb2ludHNbMV0gPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIGc6IChncmFkaWVudFBvaW50c1sxXSA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBiOiBncmFkaWVudFBvaW50c1sxXSAmIDB4RkYsXG4gICAgICAgICAgICBhOiAoZ3JhZGllbnRQb2ludHNbMV0gPj4gMjQpICYgMHhGRlxuICAgICAgICB9LFxuXG4gICAgICAgIHlTdHJpZGUgPSAodGhpcy53aWR0aCAtIHJlY3QuZ2V0V2lkdGgoKSkgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCxcbiAgICAgICAgcGl4SW5kZXggPSB0aGlzLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwLFxuICAgICAgICB3ID0gKHJlY3QucmlnaHQgLSByZWN0LmxlZnQpIHwgMDtcblxuICAgIGlmICh0b1kgPCBmcm9tWSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHRlbXAgPSB0b1k7XG4gICAgICAgIHRvWSA9IGZyb21ZO1xuICAgICAgICBmcm9tWSA9IHRlbXA7XG5cbiAgICAgICAgdGVtcCA9IGZyb21Db2xvcjtcbiAgICAgICAgZnJvbUNvbG9yID0gdG9Db2xvcjtcbiAgICAgICAgdG9Db2xvciA9IHRlbXA7XG4gICAgfVxuXG4gICAgdmFyXG4gICAgICAgIHkgPSByZWN0LnRvcDtcblxuICAgIC8vIFRoZSBzb2xpZCBjb2xvciBzZWN0aW9uIGJlZm9yZSB0aGUgc3RhcnQgb2YgdGhlIGdyYWRpZW50XG4gICAgZm9yICh2YXIgeUVuZCA9IE1hdGgubWluKHJlY3QuYm90dG9tLCBmcm9tWSkgfCAwOyB5IDwgeUVuZDsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVRdID0gZnJvbUNvbG9yLnI7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkdSRUVOX0JZVEVfT0ZGU0VUXSA9IGZyb21Db2xvci5nO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXSA9IGZyb21Db2xvci5iO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0gPSBmcm9tQ29sb3IuYTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluc2lkZSB0aGUgZ3JhZGllbnRcbiAgICB2YXJcbiAgICAgICAgZ3JhZGllbnRSYW5nZSA9ICh0b1kgLSBmcm9tWSkgfCAwLFxuICAgICAgICByU3RlcCA9ICh0b0NvbG9yLnIgLSBmcm9tQ29sb3IucikgLyBncmFkaWVudFJhbmdlLFxuICAgICAgICBnU3RlcCA9ICh0b0NvbG9yLmcgLSBmcm9tQ29sb3IuZykgLyBncmFkaWVudFJhbmdlLFxuICAgICAgICBiU3RlcCA9ICh0b0NvbG9yLmIgLSBmcm9tQ29sb3IuYikgLyBncmFkaWVudFJhbmdlLFxuICAgICAgICBhU3RlcCA9ICh0b0NvbG9yLmEgLSBmcm9tQ29sb3IuYSkgLyBncmFkaWVudFJhbmdlLFxuICAgICAgICBcbiAgICAgICAganVtcCA9IE1hdGgubWF4KHkgLSBmcm9tWSwgMCksXG4gICAgICAgIHIgPSBmcm9tQ29sb3IuciArIHJTdGVwICoganVtcCxcbiAgICAgICAgZyA9IGZyb21Db2xvci5nICsgZ1N0ZXAgKiBqdW1wLFxuICAgICAgICBiID0gZnJvbUNvbG9yLmIgKyBiU3RlcCAqIGp1bXAsXG4gICAgICAgIGEgPSBmcm9tQ29sb3IuYSArIGFTdGVwICoganVtcDtcblxuICAgIGZvciAodmFyIHlFbmQgPSBNYXRoLm1pbihyZWN0LmJvdHRvbSwgdG9ZKSB8IDA7IHkgPCB5RW5kOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyssIHBpeEluZGV4ICs9IENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0gPSByO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPSBnO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXSA9IGI7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSA9IGE7XG4gICAgICAgIH1cblxuICAgICAgICByICs9IHJTdGVwO1xuICAgICAgICBnICs9IGdTdGVwO1xuICAgICAgICBiICs9IGJTdGVwO1xuICAgICAgICBhICs9IGFTdGVwO1xuICAgIH1cblxuICAgIC8vIFRoZSBzZWN0aW9uIGFmdGVyIHRoZSBlbmQgb2YgdGhlIGdyYWRpZW50XG4gICAgZm9yICg7IHkgPCByZWN0LmJvdHRvbTsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVRdID0gdG9Db2xvci5yO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPSB0b0NvbG9yLmc7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdID0gdG9Db2xvci5iO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0gPSB0b0NvbG9yLmE7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFJlcGxhY2UgdGhlIHBpeGVscyBpbiB0aGUgZ2l2ZW4gcmVjdCB3aXRoIHRoZSBnaXZlbiBncmFkaWVudC5cbiAqXG4gKiBAcGFyYW0gcmVjdCBDUFJlY3RcbiAqIEBwYXJhbSBmcm9tWCBpbnRcbiAqIEBwYXJhbSBmcm9tWSBpbnRcbiAqIEBwYXJhbSB0b1ggaW50XG4gKiBAcGFyYW0gdG9ZIGludFxuICogQHBhcmFtIGdyYWRpZW50UG9pbnRzIGludFtdXG4gKi9cbkNQTGF5ZXIucHJvdG90eXBlLmdyYWRpZW50UmVwbGFjZSA9IGZ1bmN0aW9uKHJlY3QsIGZyb21YLCBmcm9tWSwgdG9YLCB0b1ksIGdyYWRpZW50UG9pbnRzKSB7XG4gICAgdmFyXG4gICAgICAgIHlTdHJpZGUgPSAodGhpcy53aWR0aCAtIHJlY3QuZ2V0V2lkdGgoKSkgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCxcbiAgICAgICAgcGl4SW5kZXggPSB0aGlzLm9mZnNldE9mUGl4ZWwocmVjdC5sZWZ0LCByZWN0LnRvcCkgfCAwLFxuICAgICAgICB3ID0gKHJlY3QucmlnaHQgLSByZWN0LmxlZnQpIHwgMCxcblxuICAgICAgICBmcm9tQ29sb3IgPSB7XG4gICAgICAgICAgICByOiAoZ3JhZGllbnRQb2ludHNbMF0gPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIGc6IChncmFkaWVudFBvaW50c1swXSA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBiOiBncmFkaWVudFBvaW50c1swXSAmIDB4RkYsXG4gICAgICAgICAgICBhOiAoZ3JhZGllbnRQb2ludHNbMF0gPj4gMjQpICYgMHhGRlxuICAgICAgICB9LFxuICAgICAgICB0b0NvbG9yID0ge1xuICAgICAgICAgICAgcjogKGdyYWRpZW50UG9pbnRzWzFdID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICBnOiAoZ3JhZGllbnRQb2ludHNbMV0gPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgYjogZ3JhZGllbnRQb2ludHNbMV0gJiAweEZGLFxuICAgICAgICAgICAgYTogKGdyYWRpZW50UG9pbnRzWzFdID4+IDI0KSAmIDB4RkZcbiAgICAgICAgfSxcblxuICAgIC8vIEhvdyBtYW55IHBpeGVscyB2ZXJ0aWNhbGx5IGRvZXMgdGhlIGdyYWRpZW50IHNlcXVlbmNlIGNvbXBsZXRlIG92ZXIgKCtpbmZpbml0eSBmb3IgaG9yaXpvbnRhbCBncmFkaWVudHMhKVxuICAgICAgICB2ZXJ0UmFuZ2UgPSAodG9ZIC0gZnJvbVkpICsgKCh0b1ggLSBmcm9tWCkgKiAodG9YIC0gZnJvbVgpKSAvICh0b1kgLSBmcm9tWSksXG4gICAgLy8gU2FtZSBmb3IgaG9yaXpvbnRhbFxuICAgICAgICBob3J6UmFuZ2UgPSAodG9YIC0gZnJvbVgpICsgKCh0b1kgLSBmcm9tWSkgKiAodG9ZIC0gZnJvbVkpKSAvICh0b1ggLSBmcm9tWCksXG4gICAgICAgIGhvcnpTdGVwID0gMSAvIGhvcnpSYW5nZTtcblxuICAgIGZvciAodmFyIHkgPSByZWN0LnRvcDsgeSA8IHJlY3QuYm90dG9tOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgIC8vIFRoZSBwb3NpdGlvbiB0aGUgcm93IHN0YXJ0cyBhdCBpbiB0aGUgZ3JhZGllbnQgWzAuMCAuLi4gMS4wKVxuICAgICAgICAgICAgcHJvcCA9IChyZWN0LmxlZnQgLSBmcm9tWCkgLyBob3J6UmFuZ2UgKyAoeSAtIGZyb21ZKSAvIHZlcnRSYW5nZTtcblxuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHc7IHgrKywgcGl4SW5kZXggKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIHByb3BDbGFtcGVkID0gTWF0aC5taW4oTWF0aC5tYXgocHJvcCwgMC4wKSwgMS4wKSxcbiAgICAgICAgICAgICAgICBpbnZQcm9wQ2xhbXBlZCA9IDEgLSBwcm9wQ2xhbXBlZDtcblxuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVRdID0gZnJvbUNvbG9yLnIgKiBpbnZQcm9wQ2xhbXBlZCArIHRvQ29sb3IuciAqIHByb3BDbGFtcGVkO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPSBmcm9tQ29sb3IuZyAqIGludlByb3BDbGFtcGVkICsgdG9Db2xvci5nICogcHJvcENsYW1wZWQ7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdID0gZnJvbUNvbG9yLmIgKiBpbnZQcm9wQ2xhbXBlZCArIHRvQ29sb3IuYiAqIHByb3BDbGFtcGVkO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0gPSBmcm9tQ29sb3IuYSAqIGludlByb3BDbGFtcGVkICsgdG9Db2xvci5hICogcHJvcENsYW1wZWQ7XG5cbiAgICAgICAgICAgIHByb3AgKz0gaG9yelN0ZXA7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIEFscGhhIGJsZW5kIHRoZSBnaXZlbiBncmFkaWVudCBvbnRvIHRoZSBwaXhlbHMgaW4gdGhlIGdpdmVuIHJlY3QuXG4gKlxuICogQHBhcmFtIHJlY3QgQ1BSZWN0XG4gKiBAcGFyYW0gZnJvbVggaW50XG4gKiBAcGFyYW0gZnJvbVkgaW50XG4gKiBAcGFyYW0gdG9YIGludFxuICogQHBhcmFtIHRvWSBpbnRcbiAqIEBwYXJhbSBncmFkaWVudFBvaW50cyBpbnRbXVxuICovXG5DUExheWVyLnByb3RvdHlwZS5ncmFkaWVudEFscGhhID0gZnVuY3Rpb24ocmVjdCwgZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSwgZ3JhZGllbnRQb2ludHMpIHtcbiAgICB2YXJcbiAgICAgICAgeVN0cmlkZSA9ICh0aGlzLndpZHRoIC0gcmVjdC5nZXRXaWR0aCgpKSAqIENQQ29sb3JCbXAuQllURVNfUEVSX1BJWEVMLFxuICAgICAgICBwaXhJbmRleCA9IHRoaXMub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSB8IDAsXG4gICAgICAgIHcgPSAocmVjdC5yaWdodCAtIHJlY3QubGVmdCkgfCAwLFxuXG4gICAgICAgIGZyb21Db2xvciA9IHtcbiAgICAgICAgICAgIHI6IChncmFkaWVudFBvaW50c1swXSA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgZzogKGdyYWRpZW50UG9pbnRzWzBdID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGI6IGdyYWRpZW50UG9pbnRzWzBdICYgMHhGRixcbiAgICAgICAgICAgIGE6IChncmFkaWVudFBvaW50c1swXSA+PiAyNCkgJiAweEZGXG4gICAgICAgIH0sXG4gICAgICAgIHRvQ29sb3IgPSB7XG4gICAgICAgICAgICByOiAoZ3JhZGllbnRQb2ludHNbMV0gPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIGc6IChncmFkaWVudFBvaW50c1sxXSA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBiOiBncmFkaWVudFBvaW50c1sxXSAmIDB4RkYsXG4gICAgICAgICAgICBhOiAoZ3JhZGllbnRQb2ludHNbMV0gPj4gMjQpICYgMHhGRlxuICAgICAgICB9LFxuXG4gICAgLy8gSG93IG1hbnkgcGl4ZWxzIHZlcnRpY2FsbHkgZG9lcyB0aGUgZ3JhZGllbnQgc2VxdWVuY2UgY29tcGxldGUgb3ZlciAoK2luZmluaXR5IGZvciBob3Jpem9udGFsIGdyYWRpZW50cyEpXG4gICAgICAgIHZlcnRSYW5nZSA9ICh0b1kgLSBmcm9tWSkgKyAoKHRvWCAtIGZyb21YKSAqICh0b1ggLSBmcm9tWCkpIC8gKHRvWSAtIGZyb21ZKSxcbiAgICAvLyBTYW1lIGZvciBob3Jpem9udGFsXG4gICAgICAgIGhvcnpSYW5nZSA9ICh0b1ggLSBmcm9tWCkgKyAoKHRvWSAtIGZyb21ZKSAqICh0b1kgLSBmcm9tWSkpIC8gKHRvWCAtIGZyb21YKSxcbiAgICAgICAgaG9yelN0ZXAgPSAxIC8gaG9yelJhbmdlO1xuXG4gICAgZm9yICh2YXIgeSA9IHJlY3QudG9wOyB5IDwgcmVjdC5ib3R0b207IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgLy8gVGhlIHBvc2l0aW9uIHRoZSByb3cgc3RhcnRzIGF0IGluIHRoZSBncmFkaWVudCBbMC4wIC4uLiAxLjApXG4gICAgICAgICAgICBwcm9wID0gKHJlY3QubGVmdCAtIGZyb21YKSAvIGhvcnpSYW5nZSArICh5IC0gZnJvbVkpIC8gdmVydFJhbmdlO1xuXG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrLCBwaXhJbmRleCArPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgcHJvcENsYW1wZWQgPSBNYXRoLm1pbihNYXRoLm1heChwcm9wLCAwLjApLCAxLjApLFxuICAgICAgICAgICAgICAgIGludlByb3BDbGFtcGVkID0gMSAtIHByb3BDbGFtcGVkLFxuXG4gICAgICAgICAgICAgICAgLy8gVGhlIGdyYWRpZW50IGNvbG9yIHRvIGRyYXdcbiAgICAgICAgICAgICAgICByID0gZnJvbUNvbG9yLnIgKiBpbnZQcm9wQ2xhbXBlZCArIHRvQ29sb3IuciAqIHByb3BDbGFtcGVkLFxuICAgICAgICAgICAgICAgIGcgPSBmcm9tQ29sb3IuZyAqIGludlByb3BDbGFtcGVkICsgdG9Db2xvci5nICogcHJvcENsYW1wZWQsXG4gICAgICAgICAgICAgICAgYiA9IGZyb21Db2xvci5iICogaW52UHJvcENsYW1wZWQgKyB0b0NvbG9yLmIgKiBwcm9wQ2xhbXBlZCxcbiAgICAgICAgICAgICAgICBhID0gZnJvbUNvbG9yLmEgKiBpbnZQcm9wQ2xhbXBlZCArIHRvQ29sb3IuYSAqIHByb3BDbGFtcGVkLFxuXG4gICAgICAgICAgICAgICAgYWxwaGEyID0gdGhpcy5kYXRhW3BpeEluZGV4ICsgQUxQSEFfQllURV9PRkZTRVRdLFxuICAgICAgICAgICAgICAgIG5ld0FscGhhID0gKGEgKyBhbHBoYTIgLSBhICogYWxwaGEyIC8gMjU1KSB8IDA7XG5cbiAgICAgICAgICAgIGlmIChuZXdBbHBoYSA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgcmVhbEFscGhhID0gKGEgKiAyNTUgLyBuZXdBbHBoYSkgfCAwLFxuICAgICAgICAgICAgICAgICAgICBpbnZBbHBoYSA9IDI1NSAtIHJlYWxBbHBoYTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXSA9ICAgKChyICogcmVhbEFscGhhICsgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5SRURfQllURV9PRkZTRVRdICogaW52QWxwaGEpIC8gMjU1KSB8IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPSAoKGcgKiByZWFsQWxwaGEgKyB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkdSRUVOX0JZVEVfT0ZGU0VUXSAqIGludkFscGhhKSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuQkxVRV9CWVRFX09GRlNFVF0gPSAgKChiICogcmVhbEFscGhhICsgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5CTFVFX0JZVEVfT0ZGU0VUXSAqIGludkFscGhhKSAvIDI1NSkgfCAwO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuQUxQSEFfQllURV9PRkZTRVRdID0gbmV3QWxwaGE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByb3AgKz0gaG9yelN0ZXA7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIERyYXcgYSBncmFkaWVudCB3aGljaCBiZWdpbnMgYXQgZnJvbVgsIGZyb21ZIGFuZCBlbmRzIGF0IHRvWCwgdG9ZLCBjbGlwcGVkIHRvIHRoZSBnaXZlbiByZWN0LCBvbiB0b3Agb2YgdGhlXG4gKiBwaXhlbHMgaW4gdGhlIGxheWVyLlxuICpcbiAqIEBwYXJhbSBncmFkaWVudFBvaW50cyBBcnJheSB3aXRoIGdyYWRpZW50IGNvbG9ycyAoQVJHQiBpbnRlZ2VycylcbiAqIEBwYXJhbSByZWN0IENQUmVjdFxuICogQHBhcmFtIHJlcGxhY2UgU2V0IHRvIHRydWUgdG8gcmVwbGFjZSB0aGUgcGl4ZWxzIGluIHRoZSBsYXllciByYXRoZXIgdGhhbiBibGVuZGluZyB0aGUgZ3JhZGllbnQgb24gdG9wIG9mIHRoZW0uXG4gKi9cbkNQTGF5ZXIucHJvdG90eXBlLmdyYWRpZW50ID0gZnVuY3Rpb24ocmVjdCwgZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSwgZ3JhZGllbnRQb2ludHMsIHJlcGxhY2UpIHtcbiAgICByZWN0ID0gdGhpcy5nZXRCb3VuZHMoKS5jbGlwKHJlY3QpO1xuXG4gICAgLy8gRGVnZW5lcmF0ZSBjYXNlXG4gICAgaWYgKGZyb21YID09IHRvWCAmJiBmcm9tWSA9PSB0b1kpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE9wYXF1ZSBibGVuZCBpZiBwb3NzaWJsZVxuICAgIGlmIChyZXBsYWNlIHx8IGdyYWRpZW50UG9pbnRzWzBdID4+PiAyNCA9PSAyNTUgJiYgZ3JhZGllbnRQb2ludHNbMV0gPj4+IDI0ID09IDI1NSkge1xuICAgICAgICBpZiAoZnJvbVggPT0gdG9YKSB7XG4gICAgICAgICAgICB0aGlzLmdyYWRpZW50VmVydFJlcGxhY2UocmVjdCwgZnJvbVksIHRvWSwgZ3JhZGllbnRQb2ludHMpO1xuICAgICAgICB9IGVsc2UgaWYgKGZyb21ZID09IHRvWSkge1xuICAgICAgICAgICAgdGhpcy5ncmFkaWVudEhvcnpSZXBsYWNlKHJlY3QsIGZyb21YLCB0b1gsIGdyYWRpZW50UG9pbnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhZGllbnRSZXBsYWNlKHJlY3QsIGZyb21YLCBmcm9tWSwgdG9YLCB0b1ksIGdyYWRpZW50UG9pbnRzKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZ3JhZGllbnRBbHBoYShyZWN0LCBmcm9tWCwgZnJvbVksIHRvWCwgdG9ZLCBncmFkaWVudFBvaW50cyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0gciBDUFJlY3RcbiAqL1xuQ1BMYXllci5wcm90b3R5cGUuZmlsbFdpdGhDb2xvck5vaXNlID0gZnVuY3Rpb24ocmVjdCkge1xuICAgIHJlY3QgPSB0aGlzLmdldEJvdW5kcygpLmNsaXAocmVjdCk7XG5cbiAgICB2YXJcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHlTdHJpZGUgPSAodGhpcy53aWR0aCAtIHJlY3QuZ2V0V2lkdGgoKSkgKiBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCxcbiAgICAgICAgXG4gICAgICAgIHBpeEluZGV4ID0gdGhpcy5vZmZzZXRPZlBpeGVsKHJlY3QubGVmdCwgcmVjdC50b3ApO1xuXG4gICAgZm9yICh2YXIgeSA9IHJlY3QudG9wOyB5IDwgcmVjdC5ib3R0b207IHkrKywgcGl4SW5kZXggKz0geVN0cmlkZSkge1xuICAgICAgICBmb3IgKHZhciB4ID0gcmVjdC5sZWZ0OyB4IDwgcmVjdC5yaWdodDsgeCsrLCBwaXhJbmRleCArPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgdmFsdWUgPSAoTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMCkgfCAwO1xuXG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0gPSAodmFsdWUgPj4gMTYpICYgMHhGRjtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuR1JFRU5fQllURV9PRkZTRVRdID0gKHZhbHVlID4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuQkxVRV9CWVRFX09GRlNFVF0gPSB2YWx1ZSAmIDB4RkY7XG4gICAgICAgICAgICB0aGlzLmRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSA9IDB4RkY7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSByIENQUmVjdFxuICovXG5DUExheWVyLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbihyZWN0KSB7XG4gICAgcmVjdCA9IHRoaXMuZ2V0Qm91bmRzKCkuY2xpcChyZWN0KTtcblxuICAgIHZhclxuICAgICAgICB5U3RyaWRlID0gKHRoaXMud2lkdGggLSByZWN0LmdldFdpZHRoKCkpICogQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwsXG4gICAgICAgIFxuICAgICAgICBwaXhJbmRleCA9IHRoaXMub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKTtcblxuICAgIGZvciAodmFyIHkgPSByZWN0LnRvcDsgeSA8IHJlY3QuYm90dG9tOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgZm9yICh2YXIgeCA9IHJlY3QubGVmdDsgeCA8IHJlY3QucmlnaHQ7IHgrKywgcGl4SW5kZXggKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXSBePSAweEZGO1xuICAgICAgICAgICAgdGhpcy5kYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gXj0gMHhGRjtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuQkxVRV9CWVRFX09GRlNFVF0gXj0gMHhGRjtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbkNQTGF5ZXIucHJvdG90eXBlLmdldEFscGhhID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYWxwaGE7XG59O1xuXG5DUExheWVyLnByb3RvdHlwZS5nZXRCbGVuZE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5ibGVuZE1vZGU7XG59O1xuXG5DUExheWVyLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhclxuICAgICAgICByZXN1bHQgPSBuZXcgQ1BMYXllcih0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgXCJcIik7XG5cbiAgICByZXN1bHQuY29weUZyb20odGhpcyk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuQ1BMYXllci5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbihsYXllcikge1xuICAgIHRoaXMubmFtZSA9IGxheWVyLm5hbWU7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBsYXllci5ibGVuZE1vZGU7XG4gICAgdGhpcy5hbHBoYSA9IGxheWVyLmFscGhhO1xuICAgIHRoaXMudmlzaWJsZSA9IGxheWVyLnZpc2libGU7XG5cbiAgICB0aGlzLmNvcHlEYXRhRnJvbShsYXllcik7XG59O1xuXG4vLyBEbyB3ZSBoYXZlIGFueSBub24tb3BhcXVlIHBpeGVscyBpbiB0aGUgZW50aXJlIGxheWVyP1xuQ1BMYXllci5wcm90b3R5cGUuaGFzQWxwaGEgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5hbHBoYSAhPSAxMDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIHZhciBcbiAgICAgICAgcGl4SW5kZXggPSBBTFBIQV9CWVRFX09GRlNFVDtcbiAgICBcbiAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgYWxwaGFBbmRlZCA9IDB4RkY7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKywgcGl4SW5kZXggKz0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICBhbHBoYUFuZGVkICY9IHRoaXMuZGF0YVtwaXhJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIE9ubHkgY2hlY2sgb25jZSBwZXIgcm93IGluIG9yZGVyIHRvIHJlZHVjZSBicmFuY2hpbmcgaW4gdGhlIGlubmVyIGxvb3BcbiAgICAgICAgaWYgKGFscGhhQW5kZWQgIT0gMHhGRikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8gRG8gd2UgaGF2ZSBhbnkgc2VtaS10cmFuc3BhcmVudCBwaXhlbHMgaW4gdGhlIGdpdmVuIHJlY3RhbmdsZT9cbkNQTGF5ZXIucHJvdG90eXBlLmhhc0FscGhhSW5SZWN0ID0gZnVuY3Rpb24ocmVjdCkge1xuICAgIGlmICh0aGlzLmFscGhhICE9IDEwMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZWN0ID0gdGhpcy5nZXRCb3VuZHMoKS5jbGlwKHJlY3QpO1xuXG4gICAgdmFyIFxuICAgICAgICB5U3RyaWRlID0gKHRoaXMud2lkdGggLSByZWN0LmdldFdpZHRoKCkpICogQllURVNfUEVSX1BJWEVMLFxuICAgICAgICBwaXhJbmRleCA9IHRoaXMub2Zmc2V0T2ZQaXhlbChyZWN0LmxlZnQsIHJlY3QudG9wKSArIEFMUEhBX0JZVEVfT0ZGU0VUO1xuICAgIFxuICAgIGZvciAodmFyIHkgPSByZWN0LnRvcDsgeSA8IHJlY3QuYm90dG9tOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBhbHBoYUFuZGVkID0gMHhGRjtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIHggPSByZWN0LmxlZnQ7IHggPCByZWN0LnJpZ2h0OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgYWxwaGFBbmRlZCAmPSB0aGlzLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IGNoZWNrIG9uY2UgcGVyIHJvdyBpbiBvcmRlciB0byByZWR1Y2UgYnJhbmNoaW5nIGluIHRoZSBpbm5lciBsb29wXG4gICAgICAgIGlmIChhbHBoYUFuZGVkICE9IDB4RkYpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogR2V0IGEgcmVjdGFuZ2xlIHRoYXQgZW5jbG9zZXMgYW55IG5vbi10cmFuc3BhcmVudCBwaXhlbHMgaW4gdGhlIGxheWVyIHdpdGhpbiB0aGUgZ2l2ZW4gaW5pdGlhbEJvdW5kcyAob3IgYW4gZW1wdHlcbiAqIHJlY3QgaWYgdGhlIHBpeGVscyBpbnNpZGUgdGhlIGdpdmVuIGJvdW5kcyBhcmUgMTAwJSB0cmFuc3BhcmVudCkuXG4gKlxuICogQHBhcmFtIHtDUFJlY3R9IGluaXRpYWxCb3VuZHMgLSBUaGUgcmVjdCB0byBzZWFyY2ggd2l0aGluIChwYXNzIGdldEJvdW5kcygpIHRvIHNlYXJjaCB0aGUgd2hvbGUgbGF5ZXIpXG4gKlxuICogQHJldHVybnMge0NQUmVjdH1cbiAqL1xuQ1BMYXllci5wcm90b3R5cGUuZ2V0Tm9uVHJhbnNwYXJlbnRCb3VuZHMgPSBmdW5jdGlvbihpbml0aWFsQm91bmRzKSB7XG4gICAgdmFyXG4gICAgICAgIHBpeEluZGV4LFxuICAgICAgICByZXN1bHQgPSBpbml0aWFsQm91bmRzLmNsb25lKCksXG4gICAgICAgIHgsIHksXG4gICAgICAgIGFscGhhT3JlZCxcbiAgICAgICAgeVN0cmlkZTtcblxuICAgIC8vIEZpbmQgdGhlIGZpcnN0IG5vbi10cmFuc3BhcmVudCByb3dcbiAgICB5U3RyaWRlID0gKHRoaXMud2lkdGggLSByZXN1bHQuZ2V0V2lkdGgoKSkgKiBCWVRFU19QRVJfUElYRUw7XG4gICAgcGl4SW5kZXggPSB0aGlzLm9mZnNldE9mUGl4ZWwocmVzdWx0LmxlZnQsIHJlc3VsdC50b3ApICsgQUxQSEFfQllURV9PRkZTRVQ7XG5cbiAgICBmb3IgKHkgPSByZXN1bHQudG9wOyB5IDwgcmVzdWx0LmJvdHRvbTsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgIGFscGhhT3JlZCA9IDB4MDA7XG5cbiAgICAgICAgZm9yICh2YXIgeCA9IHJlc3VsdC5sZWZ0OyB4IDwgcmVzdWx0LnJpZ2h0OyB4KyssIHBpeEluZGV4ICs9IEJZVEVTX1BFUl9QSVhFTCkge1xuICAgICAgICAgICAgYWxwaGFPcmVkIHw9IHRoaXMuZGF0YVtwaXhJbmRleF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbmx5IGNoZWNrIG9uY2UgcGVyIHJvdyBpbiBvcmRlciB0byByZWR1Y2UgYnJhbmNoaW5nIGluIHRoZSBpbm5lciBsb29wXG4gICAgICAgIGlmIChhbHBoYU9yZWQgIT0gMHgwMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bHQudG9wID0geTtcblxuICAgIGlmIChyZXN1bHQudG9wID09IHJlc3VsdC5ib3R0b20pIHtcbiAgICAgICAgLy8gUmVjdCBpcyBlbXB0eSwgbm8gb3BhcXVlIHBpeGVscyBpbiB0aGUgaW5pdGlhbEJvdW5kc1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIE5vdyB0aGUgbGFzdCBub24tdHJhbnNwYXJlbnQgcm93XG4gICAgcGl4SW5kZXggPSB0aGlzLm9mZnNldE9mUGl4ZWwocmVzdWx0LnJpZ2h0IC0gMSwgcmVzdWx0LmJvdHRvbSAtIDEpICsgQUxQSEFfQllURV9PRkZTRVQ7XG4gICAgZm9yICh5ID0gcmVzdWx0LmJvdHRvbSAtIDE7IHkgPj0gcmVzdWx0LnRvcDsgeS0tLCBwaXhJbmRleCAtPSB5U3RyaWRlKSB7XG4gICAgICAgIGFscGhhT3JlZCA9IDB4MDA7XG5cbiAgICAgICAgZm9yICh2YXIgeCA9IHJlc3VsdC5yaWdodCAtIDE7IHggPj0gcmVzdWx0LmxlZnQ7IHgtLSwgcGl4SW5kZXggLT0gQllURVNfUEVSX1BJWEVMKSB7XG4gICAgICAgICAgICBhbHBoYU9yZWQgfD0gdGhpcy5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9ubHkgY2hlY2sgb25jZSBwZXIgcm93IGluIG9yZGVyIHRvIHJlZHVjZSBicmFuY2hpbmcgaW4gdGhlIGlubmVyIGxvb3BcbiAgICAgICAgaWYgKGFscGhhT3JlZCAhPSAweDAwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc3VsdC5ib3R0b20gPSB5ICsgMTsgLyogKzEgc2luY2UgdGhlIGJvdHRvbS9yaWdodCBlZGdlcyBvZiB0aGUgcmVjdCBhcmUgZXhjbHVzaXZlICovXG5cbiAgICAvLyBOb3cgY29sdW1ucyBmcm9tIHRoZSBsZWZ0XG4gICAgeVN0cmlkZSA9IEJZVEVTX1BFUl9QSVhFTCAqIHRoaXMud2lkdGg7XG4gICAgZm9yICh4ID0gcmVzdWx0LmxlZnQ7IHggPCByZXN1bHQucmlnaHQ7IHgrKykge1xuICAgICAgICBwaXhJbmRleCA9IHRoaXMub2Zmc2V0T2ZQaXhlbCh4LCByZXN1bHQudG9wKSArIEFMUEhBX0JZVEVfT0ZGU0VUO1xuICAgICAgICBhbHBoYU9yZWQgPSAweDAwO1xuXG4gICAgICAgIGZvciAoeSA9IHJlc3VsdC50b3A7IHkgPCByZXN1bHQuYm90dG9tOyB5KyssIHBpeEluZGV4ICs9IHlTdHJpZGUpIHtcbiAgICAgICAgICAgIGFscGhhT3JlZCB8PSB0aGlzLmRhdGFbcGl4SW5kZXhdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFscGhhT3JlZCAhPSAweDAwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc3VsdC5sZWZ0ID0geDtcblxuICAgIC8vIEFuZCBjb2x1bW5zIGZyb20gdGhlIHJpZ2h0XG4gICAgZm9yICh4ID0gcmVzdWx0LnJpZ2h0IC0gMTsgeCA+PSByZXN1bHQubGVmdDsgeC0tKSB7XG4gICAgICAgIHBpeEluZGV4ID0gdGhpcy5vZmZzZXRPZlBpeGVsKHgsIHJlc3VsdC50b3ApICsgQUxQSEFfQllURV9PRkZTRVQ7XG4gICAgICAgIGFscGhhT3JlZCA9IDB4MDBcblxuICAgICAgICBmb3IgKHkgPSByZXN1bHQudG9wOyB5IDwgcmVzdWx0LmJvdHRvbTsgeSsrLCBwaXhJbmRleCArPSB5U3RyaWRlKSB7XG4gICAgICAgICAgICBhbHBoYU9yZWQgfD0gdGhpcy5kYXRhW3BpeEluZGV4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbHBoYU9yZWQgIT0gMHgwMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bHQucmlnaHQgPSB4ICsgMTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5DUExheWVyLnByb3RvdHlwZS5zZXRBbHBoYSA9IGZ1bmN0aW9uKGFscGhhKSB7XG4gICAgdGhpcy5hbHBoYSA9IGFscGhhO1xufTtcblxuQ1BMYXllci5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24oYmxlbmRNb2RlKSB7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBibGVuZE1vZGU7XG59O1xuXG5DUExheWVyLnByb3RvdHlwZS5nZXRBbHBoYSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFscGhhO1xufTtcblxuQ1BMYXllci5wcm90b3R5cGUuZ2V0QmxlbmRNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxlbmRNb2RlO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGNhbnZhcyB3aXRoIGEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBjYW52YXMuXG4gKiBcbiAqIFJvdGF0aW9uIGlzIFswLi4zXSBhbmQgc2VsZWN0cyBhIG11bHRpcGxlIG9mIDkwIGRlZ3JlZXMgb2YgY2xvY2t3aXNlIHJvdGF0aW9uIHRvIGJlIGFwcGxpZWQuXG4gKi9cbmZ1bmN0aW9uIGdldFJvdGF0ZWRDYW52YXMoY2FudmFzLCByb3RhdGlvbikge1xuICAgIHJvdGF0aW9uID0gcm90YXRpb24gJSA0O1xuICAgIFxuICAgIGlmIChyb3RhdGlvbiA9PSAwKSB7XG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfVxuICAgIFxuICAgIHZhclxuICAgICAgICByb3RhdGVkQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgcm90YXRlZENhbnZhc0NvbnRleHQgPSByb3RhdGVkQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGlmIChyb3RhdGlvbiAlIDIgPT0gMCkge1xuICAgICAgICByb3RhdGVkQ2FudmFzLndpZHRoID0gY2FudmFzLndpZHRoO1xuICAgICAgICByb3RhdGVkQ2FudmFzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcm90YXRlZENhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIHJvdGF0ZWRDYW52YXMuaGVpZ2h0ID0gY2FudmFzLndpZHRoO1xuICAgIH1cbiAgICBcbiAgICBzd2l0Y2ggKHJvdGF0aW9uKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIC8vIDkwIGRlZ3JlZSBjbG9ja3dpc2U6XG4gICAgICAgICAgICByb3RhdGVkQ2FudmFzQ29udGV4dC5yb3RhdGUoTWF0aC5QSSAvIDIpO1xuICAgICAgICAgICAgcm90YXRlZENhbnZhc0NvbnRleHQuZHJhd0ltYWdlKGNhbnZhcywgMCwgLWNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJvdGF0ZWRDYW52YXNDb250ZXh0LnJvdGF0ZShNYXRoLlBJKTtcbiAgICAgICAgICAgIHJvdGF0ZWRDYW52YXNDb250ZXh0LmRyYXdJbWFnZShjYW52YXMsIC1jYW52YXMud2lkdGgsIC1jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAvLyA5MCBkZWdyZWUgY291bnRlci1jbG9ja3dpc2U6XG4gICAgICAgICAgICByb3RhdGVkQ2FudmFzQ29udGV4dC5yb3RhdGUoLU1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgIHJvdGF0ZWRDYW52YXNDb250ZXh0LmRyYXdJbWFnZShjYW52YXMsIC1jYW52YXMud2lkdGgsIDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByb3RhdGVkQ2FudmFzO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVCYXNlNjRQTkdEYXRhVVJMKHVybCkge1xuICAgIGlmICh0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiIHx8ICF1cmwubWF0Y2goL15kYXRhOmltYWdlXFwvcG5nO2Jhc2U2NCwvaSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gd2luZG93LmF0b2IodXJsLnN1YnN0cmluZyhcImRhdGE6aW1hZ2VcXC9wbmc7YmFzZTY0LFwiLmxlbmd0aCkpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgbGF5ZXIgYXMgYSBQTkcgaW1hZ2UuXG4gKiBcbiAqIFJvdGF0aW9uIGlzIFswLi4zXSBhbmQgc2VsZWN0cyBhIG11bHRpcGxlIG9mIDkwIGRlZ3JlZXMgb2YgY2xvY2t3aXNlIHJvdGF0aW9uIHRvIGJlIGFwcGxpZWQsIG9yIDAgdG8gbGVhdmVcbiAqIHVucm90YXRlZC5cbiAqL1xuQ1BMYXllci5wcm90b3R5cGUuZ2V0QXNQTkcgPSBmdW5jdGlvbihyb3RhdGlvbikge1xuICAgIHZhclxuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLFxuICAgICAgICBjYW52YXNDb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICBcbiAgICAvLyBGaXJzdCBkcmF3IG91ciBpbWFnZSBkYXRhIG9udG8gYSBjYW52YXMuLi5cbiAgICBjYW52YXMud2lkdGggPSB0aGlzLmltYWdlRGF0YS53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5pbWFnZURhdGEuaGVpZ2h0O1xuICAgIFxuICAgIGNhbnZhc0NvbnRleHQucHV0SW1hZ2VEYXRhKHRoaXMuaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICBcbiAgICAvLyBSb3RhdGUgaXQgaWYgbmVlZGVkXG4gICAgY2FudmFzID0gZ2V0Um90YXRlZENhbnZhcyhjYW52YXMsIHJvdGF0aW9uIHx8IDApO1xuICAgIFxuICAgIHJldHVybiBkZWNvZGVCYXNlNjRQTkdEYXRhVVJMKGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpKTtcbn07XG4iLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BMb29rVXBUYWJsZSgpIHtcbiAgICB0aGlzLnRhYmxlID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTtcblxuICAgIHRoaXMubG9hZElkZW50aXR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudGFibGVbaV0gPSBpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubG9hZEJyaWdodG5lc3NDb250cmFzdCA9IGZ1bmN0aW9uKGJyaWdodG5lc3MsIGNvbnRyYXN0KSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIHNsb3BlID0gY29udHJhc3QgPiAwLjAgPyAoMS4wIC8gKDEuMDAwMSAtIGNvbnRyYXN0KSk6IDEuMCArIGNvbnRyYXN0LFxuICAgICAgICAgICAgb2Zmc2V0ID0gMC41IC0gc2xvcGUgKiAwLjUgKyBicmlnaHRuZXNzO1xuICAgICAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICB4ID0gaSAvIDI1NS4wLFxuICAgICAgICAgICAgICAgIHkgPSB4ICogc2xvcGUgKyBvZmZzZXQ7XG5cbiAgICAgICAgICAgIHRoaXMudGFibGVbaV0gPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KH5+KHkgKiAyNTUuMCksIDApKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmludmVydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnRhYmxlW2ldID0gMjU1IC0gdGhpcy50YWJsZVtpXTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCJpbXBvcnQgQ1BDaGliaUZpbGUgZnJvbSBcIi4vQ1BDaGliaUZpbGVcIjtcbmltcG9ydCBDUEFydHdvcmsgZnJvbSBcIi4vQ1BBcnR3b3JrXCI7XG5pbXBvcnQgQ1BMYXllciBmcm9tIFwiLi9DUExheWVyXCI7XG5pbXBvcnQgQWRvYmVDb2xvclRhYmxlIGZyb20gXCIuLi91dGlsL0Fkb2JlQ29sb3JUYWJsZVwiO1xuXG4vKipcbiAqIExvYWRzIENoaWNrZW5QYWludCByZXNvdXJjZXMgZnJvbSBhIHJlbW90ZSBzZXJ2ZXIgYW5kIGVtaXRzIHByb2dyZXNzIGV2ZW50cy5cbiAqXG4gKiBsb2FkSW1hZ2VVUkwgLSBVUkwgb2YgUE5HL0pQRUcgaW1hZ2UgdG8gbG9hZCBmb3IgZWRpdGluZyAob3B0aW9uYWwpXG4gKiBsb2FkQ2hpYmlGaWxlVVJMIC0gVVJMIG9mIC5jaGkgZmlsZSB0byBsb2FkIGZvciBlZGl0aW5nIChvcHRpb25hbCkuIFVzZWQgaW4gcHJlZmVyZW5jZSB0byBsb2FkSW1hZ2UuXG4gKiBsb2FkU3dhdGNoZXNVUkwgLSBVUkwgb2YgYW4gLmFjbyBwYWxldHRlIHRvIGxvYWQgKG9wdGlvbmFsKVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUFJlc291cmNlTG9hZGVyKG9wdGlvbnMpIHtcbiAgICB2YXJcbiAgICAgICAgcmVzb3VyY2VzID0gW10sXG4gICAgICAgIGNvbXBsZXRlZCA9IHt9LFxuICAgICAgICB0aGF0ID0gdGhpcztcblxuICAgIGlmIChvcHRpb25zLmxvYWRDaGliaUZpbGVVcmwgJiYgKFwiXCIgKyBvcHRpb25zLmxvYWRDaGliaUZpbGVVcmwpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgdXJsOiBvcHRpb25zLmxvYWRDaGliaUZpbGVVcmwsXG4gICAgICAgICAgICBmcmllbmRseTogXCJkcmF3aW5nIGxheWVyc1wiLFxuICAgICAgICAgICAgbmFtZTogXCJsYXllcnNcIixcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChvcHRpb25zLmxvYWRJbWFnZVVybCAmJiAoXCJcIiArIG9wdGlvbnMubG9hZEltYWdlVXJsKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdXJsOiBvcHRpb25zLmxvYWRJbWFnZVVybCxcbiAgICAgICAgICAgICAgICBmcmllbmRseTogXCJkcmF3aW5nXCIsXG4gICAgICAgICAgICAgICAgbmFtZTogXCJmbGF0XCIsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChvcHRpb25zLmxvYWRTd2F0Y2hlc1VybCkge1xuICAgICAgICByZXNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICB1cmw6IG9wdGlvbnMubG9hZFN3YXRjaGVzVXJsLFxuICAgICAgICAgICAgZnJpZW5kbHk6IFwiY29sb3Igc3dhdGNoZXNcIixcbiAgICAgICAgICAgIG5hbWU6IFwic3dhdGNoZXNcIixcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIG5vUHJvZ3Jlc3M6IHRydWUgLy8gU28gc2hvcnQgdGhhdCB3ZSBtYXkgYXMgd2VsbCBrZWVwIHRoZSBzbW9vdGhpZSBkcmFpbmVkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlY29kZVJlc291cmNlKHJlc291cmNlLCByZXNvdXJjZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgc3dpdGNoIChyZXNvdXJjZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImZsYXRcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvYiA9IG5ldyBCbG9iKFtyZXNvdXJjZURhdGFdLCB7dHlwZTogXCJpbWFnZS9wbmdcIn0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZVVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnR3b3JrID0gbmV3IENQQXJ0d29yayh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyID0gbmV3IENQTGF5ZXIodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIFwiTGF5ZXIgMVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5sb2FkRnJvbUltYWdlKGltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnR3b3JrLmFkZExheWVyT2JqZWN0KGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoaW1hZ2VVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXJ0d29yayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVVybDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3dhdGNoZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgQWRvYmVDb2xvclRhYmxlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSByZWFkZXIucmVhZChyZXNvdXJjZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjb2xvcnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsYXllcnNcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgQ1BDaGliaUZpbGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFydHdvcmsgPSByZWFkZXIucmVhZChyZXNvdXJjZURhdGEpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGFydHdvcmspO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlcG9ydFByb2dyZXNzKHJlc291cmNlLCBwcm9ncmVzcykge1xuICAgICAgICBpZiAocHJvZ3Jlc3MgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoYXQuZW1pdEV2ZW50KFwibG9hZGluZ1Byb2dyZXNzXCIsIFsxLjAsIFwiTG9hZGluZyB5b3VyIFwiICsgcmVzb3VyY2UuZnJpZW5kbHkgKyBcIi4uLlwiXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGF0LmVtaXRFdmVudChcImxvYWRpbmdQcm9ncmVzc1wiLCBbcHJvZ3Jlc3MsIFwiTG9hZGluZyB5b3VyIFwiICsgcmVzb3VyY2UuZnJpZW5kbHkgKyBcIiAoXCIgKyBNYXRoLnJvdW5kKHByb2dyZXNzICogMTAwKSArIFwiJSkuLi5cIl0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocmVzb3VyY2VzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGF0LmVtaXRFdmVudChcImxvYWRpbmdDb21wbGV0ZVwiLCBbY29tcGxldGVkXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXJcbiAgICAgICAgICAgIHJlc291cmNlID0gcmVzb3VyY2VzLnNoaWZ0KCksXG4gICAgICAgICAgICB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChldnQubGVuZ3RoQ29tcHV0YWJsZSAmJiAhcmVzb3VyY2Uubm9Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHByb2dyZXNzID0gZXZ0LmxvYWRlZCAvIGV2dC50b3RhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXBvcnRQcm9ncmVzcyhyZXNvdXJjZSwgcHJvZ3Jlc3MpO1xuICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRmF0YWwoKSB7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2UucmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXRFdmVudChcImxvYWRpbmdGYWlsdXJlXCIsIFtcIkZhaWxlZCB0byBsb2FkIHlvdXIgXCIgKyByZXNvdXJjZS5mcmllbmRseSArIFwiLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdW5pbXBvcnRhbnQgcmVzb3VyY2VzXG4gICAgICAgICAgICAgICAgdGhhdC5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoYXQuZW1pdEV2ZW50KFwibG9hZGluZ1Byb2dyZXNzXCIsIFsxLjAsIFwiU3RhcnRpbmcgQ2hpY2tlblBhaW50Li4uXCJdKTtcbiAgICBcbiAgICAgICAgICAgICAgICAvLyBZaWVsZCB0byB0aGUgRE9NIHRvIGdpdmUgaXQgYSBjaGFuY2UgdG8gcGFpbnQgdGhlIGxvYWRlZCBtZXNzYWdlIGJlZm9yZSB3ZSBiZWdpbiBkZWNvZGluZ1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlUmVzb3VyY2UocmVzb3VyY2UsIHJlc3BvbnNlKS50aGVuKGZ1bmN0aW9uKGRlY29kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVjb2RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRbcmVzb3VyY2UubmFtZV0gPSBkZWNvZGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSBvbiB0byB0aGUgbmV4dCBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZW1pdEV2ZW50KFwibG9hZGluZ0ZhaWx1cmVcIiwgW1wiRmFpbGVkIHRvIHJlYWQgeW91ciBcIiArIHJlc291cmNlLmZyaWVuZGx5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVGYXRhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBoYW5kbGVGYXRhbCk7XG5cbiAgICAgICAgcmVwb3J0UHJvZ3Jlc3MocmVzb3VyY2UsIHJlc291cmNlLm5vUHJvZ3Jlc3MgPyBudWxsIDogMC4wKTtcblxuICAgICAgICB4aHIub3BlbihcIkdFVFwiLCByZXNvdXJjZS51cmwsIHRydWUpO1xuICAgICAgICBcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG59XG5cbkNQUmVzb3VyY2VMb2FkZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcbkNQUmVzb3VyY2VMb2FkZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BSZXNvdXJjZUxvYWRlcjtcbiIsImltcG9ydCBDUENoaWJpRmlsZSBmcm9tIFwiLi9DUENoaWJpRmlsZVwiO1xuaW1wb3J0IENQQXJ0d29yayBmcm9tIFwiLi9DUEFydHdvcmtcIjtcbmltcG9ydCBBZG9iZUNvbG9yVGFibGUgZnJvbSBcIi4uL3V0aWwvQWRvYmVDb2xvclRhYmxlXCI7XG5cbi8qKlxuICogV2UgZ2VuZXJhbGx5IGNhbid0IGRvIG11Y2ggd2l0aCBiaW5hcnkgc3RyaW5ncyBiZWNhdXNlIHZhcmlvdXMgbWV0aG9kcyB3aWxsIHRyeSB0byBVVEYtOCBtYW5nbGUgdGhlbS5cbiAqIFRoaXMgZnVuY3Rpb24gY29udmVydHMgc3VjaCBhIHN0cmluZyB0byBhIFVpbnQ4QXJyYXkgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVN0cmluZ1RvQnl0ZUFycmF5KHMpIHtcbiAgICB2YXJcbiAgICAgICAgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFNhdmVzIENoaWNrZW5QYWludCByZXNvdXJjZXMgdG8gYSByZW1vdGUgc2VydmVyIG9yIHRvIHRoZSBkaXNrIGFuZCBlbWl0cyBwcm9ncmVzcyBldmVudHMuXG4gKlxuICogT3B0aW9uczpcbiAqICAgICB1cmwgLSBVUkwgdG8gc2VuZCB0by4gSWYgb21pdHRlZCwgd2lsbCBzYXZlIHRvIHRoZSBkaXNrIGluc3RlYWQuXG4gKiAgICAgYXJ0d29yayAtIEFydHdvcmsgdG8gc2VuZFxuICogICAgIHJvdGF0aW9uIC0gSW50ZWdlciBbMC4uM10gb2YgdGhlIG51bWJlciBvZiA5MCBkZWdyZWUgcm90YXRpb24gc3RlcHMgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byBjYW52YXMgdXBvbiBvcGVuaW5nLlxuICogICAgIHN3YXRjaGVzIC0gQXJyYXkgb2YgQVJHQiBpbnRlZ2VyIGNvbG9ycyB0byBzYXZlIGFzIHRoZSBpbWFnZSBzd2F0Y2hlcyAob3B0aW9uYWwpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQUmVzb3VyY2VTYXZlcihvcHRpb25zKSB7XG4gICAgdmFyXG4gICAgICAgIHRoYXQgPSB0aGlzLFxuICAgICAgICBcbiAgICAgICAgY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgXG4gICAgb3B0aW9ucy5yb3RhdGlvbiA9IG9wdGlvbnMucm90YXRpb24gfHwgMDtcbiAgICBcbiAgICBmdW5jdGlvbiByZXBvcnRQcm9ncmVzcyhwcm9ncmVzcykge1xuICAgICAgICBpZiAocHJvZ3Jlc3MgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoYXQuZW1pdEV2ZW50KFwic2F2aW5nUHJvZ3Jlc3NcIiwgWzEuMCwgXCJTYXZpbmcgeW91ciBkcmF3aW5nIHRvIHRoZSBzZXJ2ZXIuLi5cIl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhhdC5lbWl0RXZlbnQoXCJzYXZpbmdQcm9ncmVzc1wiLCBbcHJvZ3Jlc3MsIFwiU2F2aW5nIHlvdXIgZHJhd2luZyB0byB0aGUgc2VydmVyLi4uICAoXCIgKyBNYXRoLnJvdW5kKHByb2dyZXNzICogMTAwKSArIFwiJSlcIl0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHJlcG9ydEZhdGFsKHNlcnZlck1lc3NhZ2UpIHtcbiAgICAgICAgdGhhdC5lbWl0RXZlbnQoXCJzYXZpbmdGYWlsdXJlXCIsIFtzZXJ2ZXJNZXNzYWdlXSk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHBvc3REcmF3aW5nKGZvcm1EYXRhKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgXG4gICAgICAgIHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChldnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgICAgIHByb2dyZXNzID0gZXZ0LmxvYWRlZCAvIGV2dC50b3RhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXBvcnRQcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICBcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgcmVwb3J0UHJvZ3Jlc3MoMS4wKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09IDIwMCAmJiAvXkNISUJJT0svLnRlc3QodGhpcy5yZXNwb25zZSkpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmVtaXRFdmVudChcInNhdmluZ0NvbXBsZXRlXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXBvcnRGYXRhbCh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZmFsc2UpO1xuICAgIFxuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmVwb3J0RmF0YWwodGhpcy5yZXNwb25zZSk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICBcbiAgICAgICAgcmVwb3J0UHJvZ3Jlc3MoMCk7XG4gICAgXG4gICAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCBvcHRpb25zLnVybCwgdHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIFxuICAgICAgICB4aHIuc2VuZChmb3JtRGF0YSk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEJlZ2luIHNhdmluZyB0aGUgZGF0YSBwcm92aWRlZCBpbiB0aGUgY29uc3RydWN0b3IuIFJldHVybnMgaW1tZWRpYXRlbHksIGFuZCBmaXJlcyB0aGVzZSBldmVudHMgdG8gcmVwb3J0IHRoZVxuICAgICAqIHNhdmluZyBwcm9ncmVzczpcbiAgICAgKiBcbiAgICAgKiBzYXZpbmdQcm9ncmVzcyhwcm9ncmVzcykgLSBQcm9ncmVzcyBpcyBbMC4wIC4uLiAxLjBdIGFuZCByZXBvcnRzIGhvdyBtdWNoIGhhcyB1cGxvYWRlZCBzbyBmYXIsIG9yIG51bGwgaWYgdGhlIFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsIHByb2dyZXNzIGNvdWxkIG5vdCBiZSBkZXRlcm1pbmVkLlxuICAgICAqIHNhdmluZ0ZhaWx1cmUoZXJyb3IpICAgICAtIFdoZW4gc2F2aW5nIGZhaWxzLCBhbG9uZyB3aXRoIGEgc3RyaW5nIGVycm9yIG1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlci4gXG4gICAgICogc2F2aW5nQ29tcGxldGUoKSAgICAgICAgIC0gV2hlbiBzYXZpbmcgY29tcGxldGVzIHN1Y2Nlc2Z1bGx5XG4gICAgICovXG4gICAgdGhpcy5zYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgZmxhdCxcbiAgICAgICAgICAgIGZsYXRCbG9iLFxuICAgICAgICAgICAgc3dhdGNoZXNCbG9iO1xuXG4gICAgICAgIGZsYXQgPSBiaW5hcnlTdHJpbmdUb0J5dGVBcnJheShvcHRpb25zLmFydHdvcmsuZ2V0RmxhdFBORyhvcHRpb25zLnJvdGF0aW9uKSk7XG4gICAgICAgIGZsYXRCbG9iID0gbmV3IEJsb2IoW2ZsYXRdLCB7dHlwZTogXCJpbWFnZS9wbmdcIn0pO1xuICAgICAgICBmbGF0ID0gbnVsbDsgLy8gRG9uJ3QgbmVlZCB0aGlzIGFueSBtb3JlXG4gICAgICAgIFxuICAgICAgICB2YXJcbiAgICAgICAgICAgIHNlcmlhbGl6ZUxheWVycztcblxuICAgICAgICBpZiAoZmFsc2UpIHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZUxheWVycyA9IFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZUxheWVycyA9IChuZXcgQ1BDaGliaUZpbGUoKSkuc2VyaWFsaXplKG9wdGlvbnMuYXJ0d29yayk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNlcmlhbGl6ZUxheWVycy50aGVuKGZ1bmN0aW9uKGNoaWJpQmxvYikge1xuICAgICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgIHRoYXQuZW1pdEV2ZW50KFwic2F2aW5nRmFpbHVyZVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN3YXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGFjbyA9IG5ldyBBZG9iZUNvbG9yVGFibGUoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzd2F0Y2hlc0Jsb2IgPSBuZXcgQmxvYihbYWNvLndyaXRlKG9wdGlvbnMuc3dhdGNoZXMpXSwge3R5cGU6IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dhdGNoZXNCbG9iID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVybCkge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXIgPSBcIlRoaXMgbWFya2VyIGVuc3VyZXMgdGhlIHVwbG9hZCB3YXNuJ3QgdHJ1bmNhdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJiZWdpbk1hcmtlclwiLCBtYXJrZXIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcInBpY3R1cmVcIiwgZmxhdEJsb2IpO1xuICAgICAgICAgICAgICAgIGZsYXRCbG9iID0gbnVsbDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoY2hpYmlCbG9iKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImNoaWJpZmlsZVwiLCBjaGliaUJsb2IpO1xuICAgICAgICAgICAgICAgICAgICBjaGliaUJsb2IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIExheWVycyB3aWxsIG5lZWQgdG8gYmUgcm90YXRlZCB1cG9uIG9wZW5pbmdcbiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKFwicm90YXRpb25cIiwgXCJcIiArIG9wdGlvbnMucm90YXRpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAqIEJlY2F1c2UgdGhlIGltYWdlIGlzIGEgZmxhdCBQTkcsIHdlIHJvdGF0ZSBpdCBiZWZvcmUgd2Ugc2F2ZWQgaXQgYW5kIGl0IGRvZXNuJ3QgbmVlZCBmdXJ0aGVyXG4gICAgICAgICAgICAgICAgICAgICAqIHJvdGF0aW9uIHVwb24gb3BlbmluZy5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcInJvdGF0aW9uXCIsIFwiMFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHN3YXRjaGVzQmxvYikge1xuICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJzd2F0Y2hlc1wiLCBzd2F0Y2hlc0Jsb2IpO1xuICAgICAgICAgICAgICAgICAgICBzd2F0Y2hlc0Jsb2IgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImVuZE1hcmtlclwiLCBtYXJrZXIpO1xuXG4gICAgICAgICAgICAgICAgcG9zdERyYXdpbmcoZm9ybURhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2F2ZUFzKGZsYXRCbG9iLCBcIm9la2FraS5wbmdcIik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGNoaWJpQmxvYikge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2F2ZUFzKGNoaWJpQmxvYiwgXCJvZWtha2kuY2hpXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3dhdGNoZXNCbG9iKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zYXZlQXMoc3dhdGNoZXNCbG9iLCBcIm9la2FraS5hY29cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbmNlbGxlZCA9IHRydWU7XG4gICAgfTtcbn1cblxuQ1BSZXNvdXJjZVNhdmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5DUFJlc291cmNlU2F2ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BSZXNvdXJjZVNhdmVyO1xuIiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQVW5kbygpIHtcbn1cblxuLyoqXG4gKiBBdHRlbXB0IHRvIG1lcmdlIHRoZSBnaXZlbiB1bmRvIGludG8gdGhpcyBvbmUsIGFuZCByZXR1cm4gdHJ1ZSBpZiBzdWNjZXNzZnVsLlxuICpcbiAqIEBwYXJhbSB1bmRvXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuQ1BVbmRvLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uKHVuZG8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHRoaXMgdW5kbyBkaWRuJ3QgbW9kaWZ5IHRoZSBkb2N1bWVudC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuQ1BVbmRvLnByb3RvdHlwZS5ub0NoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgYnl0ZXMgb2YgbWVtb3J5IHVzZWQgYnkgdGhpcyB1bmRvLCBvciAwIGlmIGl0IGNhbm5vdCBiZSBlc3RpbWF0ZWQuXG4gKlxuICogQHBhcmFtIHVuZG9uZVxuICogQHBhcmFtIHBhcmFtXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5DUFVuZG8ucHJvdG90eXBlLmdldE1lbW9yeVVzZWQgPSBmdW5jdGlvbih1bmRvbmUsIHBhcmFtKSB7XG4gICAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIENhbGwgd2hlbiB0aGlzIHVuZG8gaXMgbm8gbG9uZ2VyIG9uIHRoZSB0b3Agb2YgdGhlIHN0YWNrLCBzbyBpdCBjYW4gb3B0aW1pemUgaXRzIG1lbW9yeSB1c2FnZS5cbiAqL1xuQ1BVbmRvLnByb3RvdHlwZS5jb21wYWN0ID0gZnVuY3Rpb24oKSB7XG59O1xuIiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQQWJvdXREaWFsb2cocGFyZW50KSB7XG4gICAgdmFyXG4gICAgICAgIGRpYWxvZyA9IFxuICAgICAgICAgICAgJChgPGRpdiBjbGFzcz1cIm1vZGFsIGZhZGUgY2hpY2tlbnBhaW50LWFib3V0LWRpYWxvZ1wiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+QWJvdXQgQ2hpY2tlblBhaW50PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBhcHAgaXMgYWRhcHRlZCBmcm9tIENoaWNrZW5QYWludCwgYSB0cmFuc2xhdGlvbiBvZiA8YSBocmVmPVwiaHR0cDovL3d3dy5jaGliaXBhaW50LmNvbS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5DaGliaVBhaW50PC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdCBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyLiBBbGwgUmlnaHRzIFJlc2VydmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9cIj5HTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZTwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmUgY2xhc3M9XCJwcmUtc2Nyb2xsYWJsZSBjaGlja2VucGFpbnQtdGhpcmQtcGFydHktbGljZW5zZXNcIj5JbmNsdWRlcyBpY29ucyBmcm9tIHRoZSA8YSBocmVmPVwiaHR0cDovL3RhbmdvLmZyZWVkZXNrdG9wLm9yZy9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5UYW5nbyBEZXNrdG9wIFByb2plY3Q8L2E+XG5cbkluY2x1ZGVzIHRoZXNlIE1JVC1saWNlbnNlZCBsaWJyYXJpZXM6XG5cbiAgICBJbmNsdWRlcyB0aGUgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0ZpbGVTYXZlci5qc1wiPkZpbGVTYXZlci5qcyBsaWJyYXJ5PC9hPlxuICAgIEZpbGVTYXZlci5qcyBDb3B5cmlnaHQgwqkgMjAxNSA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cDovL2VsaWdyZXkuY29tL1wiPkVsaSBHcmV5PC9hPlxuXG4gICAgSW5jbHVkZXMgdGhlIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL3Bha29cIj5QYWtvIHpsaWIgY29tcHJlc3Npb24gbGlicmFyeTwvYT5cbiAgICBDb3B5cmlnaHQgKEMpIDIwMTQtMjAxNSBieSBWaXRhbHkgUHV6cmluXG4gICAgXG4gICAgSW5jbHVkZXMgdGhlIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vbWFkcm9iYnkva2V5bWFzdGVyXCI+a2V5bWFzdGVyLmpzPC9hPiBrZXlib2FyZCBsaWJyYXJ5XG4gICAgQ29weXJpZ2h0IChjKSAyMDExLTIwMTMgVGhvbWFzIEZ1Y2hzXG5cbiAgICBJbmNsdWRlcyB0aGUgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9zdGVmYW5wZW5uZXIvZXM2LXByb21pc2VcIj5lczYtcHJvbWlzZTwvYT4gbGlicmFyeVxuICAgIENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9yc1xuXG4gICAgSW5jbHVkZXMgdGhlIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwOi8vYmVuYWxtYW4uY29tL3Byb2plY3RzL2pxdWVyeS10aHJvdHRsZS1kZWJvdW5jZS1wbHVnaW4vXCI+alF1ZXJ5IHRocm90dGxlLWRlYm91bmNlPC9hPiBsaWJyYXJ5XG4gICAgQ29weXJpZ2h0IChjKSAyMDEwIFwiQ293Ym95XCIgQmVuIEFsbWFuXG5cbiAgICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICAgIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gICAgZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0XG4gICAgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsXG4gICAgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yXG4gICAgc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbiAgICBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZ1xuICAgIGNvbmRpdGlvbnM6XG5cbiAgICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICAgIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAgICBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVNcbiAgICBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICAgIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIFxuICAgIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLFxuICAgIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuICAgIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1JcbiAgICBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbkluY2x1ZGVzIHRoZSA8YSBocmVmPVwiaHR0cDovL3d3dy5qcXVlcnkuY29tL1wiIHRhcmdldD1cIl9ibGFua1wiPkpRdWVyeSBsaWJyYXJ5PC9hPlxuQ29weXJpZ2h0IDxhIGhyZWY9XCJodHRwczovL2pxdWVyeS5vcmcvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+alF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczwvYT5cbiAgICBcbiAgICBUaGlzIHNvZnR3YXJlIGNvbnNpc3RzIG9mIHZvbHVudGFyeSBjb250cmlidXRpb25zIG1hZGUgYnkgbWFueVxuICAgIGluZGl2aWR1YWxzLiBGb3IgZXhhY3QgY29udHJpYnV0aW9uIGhpc3RvcnksIHNlZSB0aGUgcmV2aXNpb24gXG4gICAgaGlzdG9yeSBhdmFpbGFibGUgYXQgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnlcbiAgICBcbiAgICBUaGUgZm9sbG93aW5nIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgdGhpcyBzb2Z0d2FyZSBcbiAgICBleGNlcHQgYXMgZG9jdW1lbnRlZCBiZWxvdzpcbiAgICBcbiAgICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBcbiAgICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICAgIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dFxuICAgIHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBcbiAgICBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3JcbiAgICBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZVxuICAgIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nXG4gICAgY29uZGl0aW9uczpcbiAgICBcbiAgICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICAgIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICAgIFxuICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gICAgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTXG4gICAgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAgICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVFxuICAgIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLFxuICAgIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuICAgIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1JcbiAgICBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gICAgICAgICAgICAgICAgICAgIDwvcHJlPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIGApO1xuICAgIFxuICAgIC8vIERlc3Ryb3kgdGhlIG1vZGFsIHVwb24gY2xvc2VcbiAgICBkaWFsb2cub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBkaWFsb2cucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgXG4gICAgZGlhbG9nLm1vZGFsKHtcbiAgICAgICAgc2hvdzogZmFsc2VcbiAgICB9KTtcbiAgICBcbiAgICAvLyBGaXggdGhlIGJhY2tkcm9wIGxvY2F0aW9uIGluIHRoZSBET00gYnkgcmVwYXJlbnRpbmcgaXQgdG8gdGhlIGNoaWNrZW5wYWludCBjb250YWluZXJcbiAgICBkaWFsb2cuZGF0YShcImJzLm1vZGFsXCIpLiRib2R5ID0gJChwYXJlbnQpO1xuICAgIFxuICAgIHBhcmVudC5hcHBlbmRDaGlsZChkaWFsb2dbMF0pO1xuXG4gICAgdGhpcy5zaG93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRpYWxvZy5tb2RhbChcInNob3dcIik7XG4gICAgfTtcbn0iLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BCb3hCbHVyRGlhbG9nKHBhcmVudCwgY29udHJvbGxlcikge1xuICAgIHZhclxuICAgICAgICBkaWFsb2cgPSBcbiAgICAgICAgICAgICQoYDxkaXYgY2xhc3M9XCJtb2RhbCBmYWRlXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwibW9kYWwtdGl0bGVcIj5Cb3ggYmx1cjwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+Qmx1ciBhbW91bnQgKHBpeGVscyk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgY2hpY2tlbnBhaW50LWJsdXItYW1vdW50XCIgdmFsdWU9XCIzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkl0ZXJhdGlvbnMgKDEtOCwgbGFyZ2VyIGdpdmVzIHNtb290aGVyIGJsdXIpPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGNoaWNrZW5wYWludC1ibHVyLWl0ZXJhdGlvbnNcIiB2YWx1ZT1cIjFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGNoaWNrZW5wYWludC1hcHBseS1ib3gtYmx1clwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+T2s8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgKSxcbiAgICAgICAgXG4gICAgICAgIGJsdXJBbW91bnRFbGVtID0gJChcIi5jaGlja2VucGFpbnQtYmx1ci1hbW91bnRcIiwgZGlhbG9nKSxcbiAgICAgICAgYmx1ckl0ZXJhdGlvbnNFbGVtID0gJChcIi5jaGlja2VucGFpbnQtYmx1ci1pdGVyYXRpb25zXCIsIGRpYWxvZyksXG4gICAgICAgIGFwcGx5QnV0dG9uID0gJChcIi5jaGlja2VucGFpbnQtYXBwbHktYm94LWJsdXJcIiwgZGlhbG9nKTtcblxuICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkaWFsb2cubW9kYWwoXCJzaG93XCIpO1xuICAgIH07XG4gICAgXG4gICAgYXBwbHlCdXR0b24uY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGJsdXIgPSBNYXRoLm1heChwYXJzZUludChibHVyQW1vdW50RWxlbS52YWwoKSwgMTApLCAxKSxcbiAgICAgICAgICAgIGl0ZXJhdGlvbnMgPSBNYXRoLm1pbihNYXRoLm1heChwYXJzZUludChibHVySXRlcmF0aW9uc0VsZW0udmFsKCksIDEwKSwgMSksIDgpO1xuICAgICAgICBcbiAgICAgICAgY29udHJvbGxlci5nZXRBcnR3b3JrKCkuYm94Qmx1cihibHVyLCBibHVyLCBpdGVyYXRpb25zKTtcbiAgICB9KTtcbiAgICBcbiAgICBkaWFsb2dcbiAgICAgICAgLm1vZGFsKHtcbiAgICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgIC5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGJsdXJBbW91bnRFbGVtLmZvY3VzKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlCdXR0b24uY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgXG4gICAgLy8gRml4IHRoZSBiYWNrZHJvcCBsb2NhdGlvbiBpbiB0aGUgRE9NIGJ5IHJlcGFyZW50aW5nIGl0IHRvIHRoZSBjaGlja2VucGFpbnQgY29udGFpbmVyXG4gICAgZGlhbG9nLmRhdGEoXCJicy5tb2RhbFwiKS4kYm9keSA9ICQocGFyZW50KTtcbiAgICBcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZGlhbG9nWzBdKTtcbiAgICBcbiAgICAvKiBUT0RPXG4gICAgcGFuZWwuYWRkKG5ldyBKTGFiZWwoXCJCbHVyIGFtb3VudDpcIikpO1xuICAgIFNwaW5uZXJNb2RlbCBibHVyWFNNID0gbmV3IFNwaW5uZXJOdW1iZXJNb2RlbCgzLCAxLCAxMDAsIDEpO1xuICAgIFxuICAgIHBhbmVsLmFkZChuZXcgSkxhYmVsKFwiSXRlcmF0aW9uczpcIikpO1xuICAgIFNwaW5uZXJNb2RlbCBpdGVyU00gPSBuZXcgU3Bpbm5lck51bWJlck1vZGVsKDEsIDEsIDgsIDEpO1xuICAgICovXG59IiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDaGlja2VuUGFpbnQgZnJvbSBcIi4uL0NoaWNrZW5QYWludFwiO1xuXG5pbXBvcnQgQ1BQYWxldHRlIGZyb20gXCIuL0NQUGFsZXR0ZVwiO1xuaW1wb3J0IENQQ2hlY2tib3ggZnJvbSBcIi4vQ1BDaGVja2JveFwiO1xuaW1wb3J0IENQQ29sb3JTd2F0Y2ggZnJvbSBcIi4vQ1BDb2xvclN3YXRjaFwiO1xuaW1wb3J0IENQU2xpZGVyIGZyb20gXCIuL0NQU2xpZGVyXCI7XG5pbXBvcnQge2NyZWF0ZUNoZWNrZXJib2FyZFBhdHRlcm59IGZyb20gXCIuL0NQR1VJVXRpbHNcIjtcblxuaW1wb3J0IENQTGF5ZXIgZnJvbSBcIi4uL2VuZ2luZS9DUExheWVyXCI7XG5cbmltcG9ydCBDUENvbG9yIGZyb20gXCIuLi91dGlsL0NQQ29sb3JcIjtcbmltcG9ydCB7aXNDYW52YXNJbnRlcnBvbGF0aW9uU3VwcG9ydGVkfSBmcm9tIFwiLi4vdXRpbC9DUFBvbHlmaWxsXCI7XG5cbmZ1bmN0aW9uIHNsaWRlckNoZWNrYm94R3JvdXAoY2hlY2tib3gsIHNsaWRlcikge1xuICAgIHZhclxuICAgICAgICBncm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBncm91cC5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1jaGVja2JveC1zbGlkZXItZ3JvdXBcIjtcblxuICAgIGdyb3VwLmFwcGVuZENoaWxkKGNoZWNrYm94LmdldEVsZW1lbnQoKSk7XG4gICAgZ3JvdXAuYXBwZW5kQ2hpbGQoc2xpZGVyLmdldEVsZW1lbnQoKSk7XG5cbiAgICByZXR1cm4gZ3JvdXA7XG59XG5cbmZ1bmN0aW9uIGZpbGxDb21ib2JveChjb21ibywgb3B0aW9uTmFtZXMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9uTmFtZXMpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuXG4gICAgICAgIG9wdGlvbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvcHRpb25OYW1lc1trZXldKSk7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IGtleTtcblxuICAgICAgICBjb21iby5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gQ1BHcmFkaWVudFByZXZpZXcoY29udHJvbGxlcikge1xuICAgIHZhclxuICAgICAgICB0aGF0ID0gdGhpcyxcblxuICAgICAgICB3ID0gMTUwLCBoID0gMzIsXG5cbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksXG5cbiAgICAgICAgY2hlY2tlcmJvYXJkID0gY3JlYXRlQ2hlY2tlcmJvYXJkUGF0dGVybihjYW52YXNDb250ZXh0KSxcblxuICAgICAgICBpbWFnZSA9IG5ldyBDUExheWVyKHcsIGgsIFwiXCIpLFxuICAgICAgICBpbWFnZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksXG4gICAgICAgIGltYWdlQ2FudmFzQ29udGV4dCA9IGltYWdlQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxcblxuICAgICAgICBncmFkaWVudCA9IGNvbnRyb2xsZXIuZ2V0Q3VyR3JhZGllbnQoKTtcblxuICAgIGZ1bmN0aW9uIHBhaW50KCkge1xuICAgICAgICBpbWFnZS5ncmFkaWVudChpbWFnZS5nZXRCb3VuZHMoKSwgMCwgMCwgaW1hZ2Uud2lkdGgsIDAsIGdyYWRpZW50LCB0cnVlKTtcbiAgICAgICAgaW1hZ2VDYW52YXNDb250ZXh0LnB1dEltYWdlRGF0YShpbWFnZS5pbWFnZURhdGEsIDAsIDAsIDAsIDAsIHcsIGgpO1xuXG4gICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY2FudmFzQ29udGV4dC5kcmF3SW1hZ2UoaW1hZ2VDYW52YXMsIDAsIDApO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgIH07XG5cbiAgICBjb250cm9sbGVyLm9uKFwiZ3JhZGllbnRDaGFuZ2VcIiwgZnVuY3Rpb24oX2dyYWRpZW50KSB7XG4gICAgICAgIGdyYWRpZW50ID0gX2dyYWRpZW50O1xuXG4gICAgICAgIHBhaW50KCk7XG4gICAgfSk7XG5cbiAgICBjYW52YXMud2lkdGggPSBpbWFnZUNhbnZhcy53aWR0aCA9IHc7XG4gICAgY2FudmFzLmhlaWdodCA9IGltYWdlQ2FudmFzLmhlaWdodCA9IGg7XG5cbiAgICBjYW52YXMuY2xhc3NOYW1lID0gJ2NoaWNrZW5wYWludC1ncmFkaWVudC1wcmV2aWV3JztcblxuICAgIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gY2hlY2tlcmJvYXJkO1xuXG4gICAgcGFpbnQoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BCcnVzaFBhbGV0dGUoY29udHJvbGxlcikge1xuICAgIENQUGFsZXR0ZS5jYWxsKHRoaXMsIGNvbnRyb2xsZXIsIFwiYnJ1c2hcIiwgXCJUb29sIG9wdGlvbnNcIik7XG5cbiAgICB2YXJcbiAgICAgICAgYnJ1c2hQYW5lbCA9IG5ldyBDUEJydXNoUGFuZWwoY29udHJvbGxlciksXG4gICAgICAgIGdyYWRpZW50UGFuZWwgPSBuZXcgQ1BHcmFkaWVudFBhbmVsKGNvbnRyb2xsZXIpLFxuICAgICAgICB0cmFuc2Zvcm1QYW5lbCA9IG5ldyBDUFRyYW5zZm9ybVBhbmVsKGNvbnRyb2xsZXIpLFxuXG4gICAgICAgIGJvZHkgPSB0aGlzLmdldEJvZHlFbGVtZW50KCk7XG5cbiAgICBib2R5LmFwcGVuZENoaWxkKGJydXNoUGFuZWwuZ2V0RWxlbWVudCgpKTtcbiAgICBib2R5LmFwcGVuZENoaWxkKGdyYWRpZW50UGFuZWwuZ2V0RWxlbWVudCgpKTtcbiAgICBib2R5LmFwcGVuZENoaWxkKHRyYW5zZm9ybVBhbmVsLmdldEVsZW1lbnQoKSk7XG5cbiAgICBjb250cm9sbGVyLm9uKCdtb2RlQ2hhbmdlJywgZnVuY3Rpb24obW9kZSkge1xuICAgICAgICBicnVzaFBhbmVsLmdldEVsZW1lbnQoKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGdyYWRpZW50UGFuZWwuZ2V0RWxlbWVudCgpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgdHJhbnNmb3JtUGFuZWwuZ2V0RWxlbWVudCgpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ2hpY2tlblBhaW50Lk1fR1JBRElFTlRGSUxMOlxuICAgICAgICAgICAgICAgIGdyYWRpZW50UGFuZWwuZ2V0RWxlbWVudCgpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ2hpY2tlblBhaW50Lk1fVFJBTlNGT1JNOlxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybVBhbmVsLmdldEVsZW1lbnQoKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJydXNoUGFuZWwuZ2V0RWxlbWVudCgpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICB9XG4gICAgfSk7XG59XG5cbkNQQnJ1c2hQYWxldHRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BQYWxldHRlLnByb3RvdHlwZSk7XG5DUEJydXNoUGFsZXR0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUEJydXNoUGFsZXR0ZTtcblxuZnVuY3Rpb24gQ1BCcnVzaFBhbmVsKGNvbnRyb2xsZXIpIHtcbiAgICBjb25zdFxuICAgICAgICBUSVBfTkFNRVMgPSBbXCJSb3VuZCBQaXhlbGF0ZWRcIiwgXCJSb3VuZCBIYXJkIEVkZ2VcIiwgXCJSb3VuZCBTb2Z0XCIsIFwiU3F1YXJlIFBpeGVsYXRlZFwiLCBcIlNxdWFyZSBIYXJkIEVkZ2VcIl0sXG4gICAgICAgIEJSVVNIX1NJWkVTID0gWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxNSwgMjAsIDI1LCAzMCwgMzUsIDQwLCA0NSwgNTAsIDYwLCA3MCwgODAsIDkwLCAxMDAsIDEyNSwgMTUwLCAxNzUsIDIwMF07XG5cbiAgICB2YXJcbiAgICAgICAgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuXG4gICAgICAgIHRpcENvbWJvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSxcblxuICAgICAgICBhbHBoYUNCID0gbmV3IENQQ2hlY2tib3goZmFsc2UsIFwiQ29udHJvbCBicnVzaCBvcGFjaXR5IHdpdGggcGVuIHByZXNzdXJlXCIpLFxuICAgICAgICBhbHBoYVNsaWRlciA9IG5ldyBDUFNsaWRlcigxLCAyNTUpLFxuXG4gICAgICAgIHNpemVDQiA9IG5ldyBDUENoZWNrYm94KHRydWUsIFwiQ29udHJvbCBicnVzaCBzaXplIHdpdGggcGVuIHByZXNzdXJlXCIpLFxuICAgICAgICBzaXplU2xpZGVyID0gbmV3IENQU2xpZGVyKDEsIDIwMCwgZmFsc2UsIHRydWUpLFxuXG4gICAgICAgIHNjYXR0ZXJpbmdDQiAgPSBuZXcgQ1BDaGVja2JveChmYWxzZSwgXCJDb250cm9sIGJydXNoIHNjYXR0ZXJpbmcgd2l0aCBwZW4gcHJlc3N1cmVcIiksXG4gICAgICAgIHNjYXR0ZXJpbmdTbGlkZXIgPSBuZXcgQ1BTbGlkZXIoMCwgMTAwMCwgZmFsc2UsIHRydWUpLFxuXG4gICAgICAgIHJlc2F0U2xpZGVyID0gbmV3IENQU2xpZGVyKDAsIDEwMCwgZmFsc2UsIHRydWUpLFxuICAgICAgICBibGVlZFNsaWRlciA9IG5ldyBDUFNsaWRlcigwLCAxMDAsIGZhbHNlLCB0cnVlKSxcbiAgICAgICAgc3BhY2luZ1NsaWRlciA9IG5ldyBDUFNsaWRlcigwLCAxMDAsIGZhbHNlLCB0cnVlKSxcbiAgICAgICAgc21vb3RoaW5nU2xpZGVyID0gbmV3IENQU2xpZGVyKDAsIDEwMCwgZmFsc2UsIHRydWUpLFxuXG4gICAgICAgIGJydXNoUHJldmlldyA9IG5ldyBDUEJydXNoUGFsZXR0ZS5DUEJydXNoUHJldmlldyhjb250cm9sbGVyKTtcblxuICAgIGZ1bmN0aW9uIGZpbGxXaXRoSW5pdGlhbFZhbHVlcygpIHtcbiAgICAgICAgYWxwaGFDQi5zZXRWYWx1ZShjb250cm9sbGVyLmdldEJydXNoSW5mbygpLnByZXNzdXJlQWxwaGEpO1xuICAgICAgICBhbHBoYVNsaWRlci5zZXRWYWx1ZShjb250cm9sbGVyLmdldEFscGhhKCkpO1xuXG4gICAgICAgIHNpemVDQi5zZXRWYWx1ZShjb250cm9sbGVyLmdldEJydXNoSW5mbygpLnByZXNzdXJlU2l6ZSk7XG4gICAgICAgIHNpemVTbGlkZXIuc2V0VmFsdWUoY29udHJvbGxlci5nZXRCcnVzaFNpemUoKSk7XG5cbiAgICAgICAgc2NhdHRlcmluZ0NCLnNldFZhbHVlKGNvbnRyb2xsZXIuZ2V0QnJ1c2hJbmZvKCkucHJlc3N1cmVTY2F0dGVyaW5nKTtcbiAgICAgICAgc2NhdHRlcmluZ1NsaWRlci5zZXRWYWx1ZSh+fihjb250cm9sbGVyLmdldEJydXNoSW5mbygpLnNjYXR0ZXJpbmcgKiAxMDApKTtcblxuICAgICAgICB0aXBDb21iby52YWx1ZSA9IGNvbnRyb2xsZXIuZ2V0QnJ1c2hJbmZvKCkudHlwZTtcblxuICAgICAgICByZXNhdFNsaWRlci5zZXRWYWx1ZSh+fihjb250cm9sbGVyLmdldEJydXNoSW5mbygpLnJlc2F0ICogMTAwKSk7XG4gICAgICAgIGJsZWVkU2xpZGVyLnNldFZhbHVlKH5+KGNvbnRyb2xsZXIuZ2V0QnJ1c2hJbmZvKCkuYmxlZWQgKiAxMDApKTtcbiAgICAgICAgc3BhY2luZ1NsaWRlci5zZXRWYWx1ZSh+fihjb250cm9sbGVyLmdldEJydXNoSW5mbygpLnNwYWNpbmcgKiAxMDApKTtcbiAgICAgICAgc21vb3RoaW5nU2xpZGVyLnNldFZhbHVlKH5+KGNvbnRyb2xsZXIuZ2V0QnJ1c2hJbmZvKCkuc21vb3RoaW5nICogMTAwKSk7XG4gICAgfVxuXG4gICAgdGhpcy5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwYW5lbDtcbiAgICB9O1xuXG4gICAgYWxwaGFTbGlkZXIudGl0bGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFwiT3BhY2l0eTogXCIgKyB2YWx1ZTtcbiAgICB9O1xuXG4gICAgYWxwaGFTbGlkZXIub24oJ3ZhbHVlQ2hhbmdlJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuc2V0QWxwaGEodmFsdWUpO1xuICAgIH0pO1xuXG4gICAgc2l6ZVNsaWRlci50aXRsZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gXCJCcnVzaCBzaXplOiBcIiArIHZhbHVlO1xuICAgIH1cblxuICAgIHNpemVTbGlkZXIub24oJ3ZhbHVlQ2hhbmdlJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuc2V0QnJ1c2hTaXplKHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHJlc2F0U2xpZGVyLnRpdGxlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBcIkNvbG9yOiBcIiArIHZhbHVlICsgXCIlXCI7XG4gICAgfTtcblxuICAgIHJlc2F0U2xpZGVyLm9uKCd2YWx1ZUNoYW5nZScsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBjb250cm9sbGVyLmdldEJydXNoSW5mbygpLnJlc2F0ID0gdmFsdWUgLyAxMDAuMDtcbiAgICAgICAgY29udHJvbGxlci5jYWxsVG9vbExpc3RlbmVycygpO1xuICAgIH0pO1xuXG4gICAgYmxlZWRTbGlkZXIudGl0bGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFwiQmxlbmQ6IFwiICsgdmFsdWUgKyBcIiVcIjtcbiAgICB9O1xuXG4gICAgYmxlZWRTbGlkZXIub24oJ3ZhbHVlQ2hhbmdlJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0QnJ1c2hJbmZvKCkuYmxlZWQgPSB2YWx1ZSAvIDEwMC4wO1xuICAgICAgICBjb250cm9sbGVyLmNhbGxUb29sTGlzdGVuZXJzKCk7XG4gICAgfSk7XG5cbiAgICBzcGFjaW5nU2xpZGVyLnRpdGxlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBcIlNwYWNpbmc6IFwiICsgdmFsdWUgKyBcIiVcIjtcbiAgICB9O1xuXG4gICAgc3BhY2luZ1NsaWRlci5vbigndmFsdWVDaGFuZ2UnLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgY29udHJvbGxlci5nZXRCcnVzaEluZm8oKS5zcGFjaW5nID0gdmFsdWUgLyAxMDAuMDtcbiAgICAgICAgY29udHJvbGxlci5jYWxsVG9vbExpc3RlbmVycygpO1xuICAgIH0pO1xuXG4gICAgc2NhdHRlcmluZ1NsaWRlci50aXRsZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gXCJTY2F0dGVyaW5nOiBcIiArIHZhbHVlICsgXCIlXCI7XG4gICAgfTtcblxuICAgIHNjYXR0ZXJpbmdTbGlkZXIub24oJ3ZhbHVlQ2hhbmdlJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0QnJ1c2hJbmZvKCkuc2NhdHRlcmluZyA9IHZhbHVlIC8gMTAwLjA7XG4gICAgICAgIGNvbnRyb2xsZXIuY2FsbFRvb2xMaXN0ZW5lcnMoKTtcbiAgICB9KTtcblxuICAgIHNtb290aGluZ1NsaWRlci50aXRsZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gXCJTbW9vdGhpbmc6IFwiICsgdmFsdWUgKyBcIiVcIjtcbiAgICB9O1xuXG4gICAgc21vb3RoaW5nU2xpZGVyLm9uKCd2YWx1ZUNoYW5nZScsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBjb250cm9sbGVyLmdldEJydXNoSW5mbygpLnNtb290aGluZyA9IHZhbHVlIC8gMTAwLjA7XG4gICAgICAgIGNvbnRyb2xsZXIuY2FsbFRvb2xMaXN0ZW5lcnMoKTtcbiAgICB9KTtcblxuICAgIHNjYXR0ZXJpbmdDQi5vbigndmFsdWVDaGFuZ2UnLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgY29udHJvbGxlci5nZXRCcnVzaEluZm8oKS5wcmVzc3VyZVNjYXR0ZXJpbmcgPSBzdGF0ZTtcbiAgICAgICAgY29udHJvbGxlci5jYWxsVG9vbExpc3RlbmVycygpO1xuICAgIH0pO1xuXG4gICAgYWxwaGFDQi5vbigndmFsdWVDaGFuZ2UnLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgY29udHJvbGxlci5nZXRCcnVzaEluZm8oKS5wcmVzc3VyZUFscGhhID0gc3RhdGU7XG4gICAgICAgIGNvbnRyb2xsZXIuY2FsbFRvb2xMaXN0ZW5lcnMoKTtcbiAgICB9KTtcblxuICAgIHNpemVDQi5vbigndmFsdWVDaGFuZ2UnLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgY29udHJvbGxlci5nZXRCcnVzaEluZm8oKS5wcmVzc3VyZVNpemUgPSBzdGF0ZTtcbiAgICAgICAgY29udHJvbGxlci5jYWxsVG9vbExpc3RlbmVycygpO1xuICAgIH0pO1xuXG4gICAgdGlwQ29tYm8uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0QnJ1c2hJbmZvKCkudHlwZSA9IHBhcnNlSW50KHRpcENvbWJvLnZhbHVlLCAxMCk7XG4gICAgfSk7XG5cbiAgICB0aXBDb21iby5jbGFzc05hbWUgPSAnZm9ybS1jb250cm9sJztcbiAgICBmaWxsQ29tYm9ib3godGlwQ29tYm8sIFRJUF9OQU1FUyk7XG5cbiAgICBwYW5lbC5hcHBlbmRDaGlsZCh0aXBDb21ibyk7XG5cbiAgICBwYW5lbC5hcHBlbmRDaGlsZChicnVzaFByZXZpZXcuZ2V0RWxlbWVudCgpKTtcblxuICAgIHBhbmVsLmFwcGVuZENoaWxkKHNsaWRlckNoZWNrYm94R3JvdXAoc2l6ZUNCLCBzaXplU2xpZGVyKSk7XG4gICAgcGFuZWwuYXBwZW5kQ2hpbGQoc2xpZGVyQ2hlY2tib3hHcm91cChhbHBoYUNCLCBhbHBoYVNsaWRlcikpO1xuICAgIHBhbmVsLmFwcGVuZENoaWxkKHJlc2F0U2xpZGVyLmdldEVsZW1lbnQoKSk7XG4gICAgcGFuZWwuYXBwZW5kQ2hpbGQoYmxlZWRTbGlkZXIuZ2V0RWxlbWVudCgpKTtcbiAgICBwYW5lbC5hcHBlbmRDaGlsZChzcGFjaW5nU2xpZGVyLmdldEVsZW1lbnQoKSk7XG4gICAgcGFuZWwuYXBwZW5kQ2hpbGQoc2xpZGVyQ2hlY2tib3hHcm91cChzY2F0dGVyaW5nQ0IsIHNjYXR0ZXJpbmdTbGlkZXIpKTtcbiAgICBwYW5lbC5hcHBlbmRDaGlsZChzbW9vdGhpbmdTbGlkZXIuZ2V0RWxlbWVudCgpKTtcblxuICAgIGZpbGxXaXRoSW5pdGlhbFZhbHVlcygpO1xuXG4gICAgY29udHJvbGxlci5vbigndG9vbENoYW5nZScsIGZ1bmN0aW9uKHRvb2wsIHRvb2xJbmZvKSB7XG4gICAgICAgIGFscGhhU2xpZGVyLnNldFZhbHVlKHRvb2xJbmZvLmFscGhhKTtcbiAgICAgICAgc2l6ZVNsaWRlci5zZXRWYWx1ZSh0b29sSW5mby5zaXplKTtcbiAgICAgICAgc2l6ZUNCLnNldFZhbHVlKHRvb2xJbmZvLnByZXNzdXJlU2l6ZSk7XG4gICAgICAgIGFscGhhQ0Iuc2V0VmFsdWUodG9vbEluZm8ucHJlc3N1cmVBbHBoYSk7XG4gICAgICAgIHRpcENvbWJvLnZhbHVlID0gdG9vbEluZm8udHlwZTtcbiAgICAgICAgc2NhdHRlcmluZ0NCLnNldFZhbHVlKHRvb2xJbmZvLnByZXNzdXJlU2NhdHRlcmluZyk7XG5cbiAgICAgICAgaWYgKH5+KHRvb2xJbmZvLnJlc2F0ICogMTAwLjApICE9IHJlc2F0U2xpZGVyLnZhbHVlKSB7XG4gICAgICAgICAgICByZXNhdFNsaWRlci5zZXRWYWx1ZSh+fih0b29sSW5mby5yZXNhdCAqIDEwMC4wKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAofn4odG9vbEluZm8uYmxlZWQgKiAxMDAuMCkgIT0gYmxlZWRTbGlkZXIudmFsdWUpIHtcbiAgICAgICAgICAgIGJsZWVkU2xpZGVyLnNldFZhbHVlKH5+KHRvb2xJbmZvLmJsZWVkICogMTAwLjApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh+fih0b29sSW5mby5zcGFjaW5nICogMTAwLjApICE9IHNwYWNpbmdTbGlkZXIudmFsdWUpIHtcbiAgICAgICAgICAgIHNwYWNpbmdTbGlkZXIuc2V0VmFsdWUofn4odG9vbEluZm8uc3BhY2luZyAqIDEwMC4wKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAofn4odG9vbEluZm8uc2NhdHRlcmluZyAqIDEwMC4wKSAhPSBzY2F0dGVyaW5nU2xpZGVyLnZhbHVlKSB7XG4gICAgICAgICAgICBzY2F0dGVyaW5nU2xpZGVyLnNldFZhbHVlKH5+KHRvb2xJbmZvLnNjYXR0ZXJpbmcgKiAxMDAuMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKH5+KHRvb2xJbmZvLnNtb290aGluZyAqIDEwMC4wKSAhPSBzbW9vdGhpbmdTbGlkZXIudmFsdWUpIHtcbiAgICAgICAgICAgIHNtb290aGluZ1NsaWRlci5zZXRWYWx1ZSh+fih0b29sSW5mby5zbW9vdGhpbmcgKiAxMDAuMCkpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBrZXkoXCIxLDIsMyw0LDUsNiw3LDgsOSwwXCIsIGZ1bmN0aW9uKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgc2hvcnRjdXQgPSBwYXJzZUludChoYW5kbGVyLnNob3J0Y3V0LCAxMCk7XG5cbiAgICAgICAgaWYgKHNob3J0Y3V0ID09IDApIHtcbiAgICAgICAgICAgIHNob3J0Y3V0ID0gMTA7XG4gICAgICAgIH1cblxuICAgICAgICBjb250cm9sbGVyLnNldEFscGhhKE1hdGgucm91bmQoc2hvcnRjdXQgLyAxMCAqIDI1NSkpO1xuICAgIH0pO1xuXG4gICAga2V5KFwieyxbXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHNpemUgPSBjb250cm9sbGVyLmdldEJydXNoU2l6ZSgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBCUlVTSF9TSVpFUy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKHNpemUgPiBCUlVTSF9TSVpFU1tpXSkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuc2V0QnJ1c2hTaXplKEJSVVNIX1NJWkVTW2ldKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAga2V5KFwifSxdXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHNpemUgPSBjb250cm9sbGVyLmdldEJydXNoU2l6ZSgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQlJVU0hfU0laRVMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzaXplIDwgQlJVU0hfU0laRVNbaV0pIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnNldEJydXNoU2l6ZShCUlVTSF9TSVpFU1tpXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuQ1BCcnVzaFBhbGV0dGUuQ1BCcnVzaFByZXZpZXcgPSBmdW5jdGlvbihjb250cm9sbGVyKSB7XG4gICAgdmFyXG4gICAgICAgIHNpemUgPSAxNixcbiAgICAgICAgXG4gICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksXG4gICAgICAgIGNhbnZhc0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLFxuICAgICAgICBcbiAgICAgICAgbW91c2VDYXB0dXJlZCA9IGZhbHNlO1xuICAgIFxuICAgIGZ1bmN0aW9uIHBhaW50KCkge1xuICAgICAgICBjYW52YXNDb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzQ29udGV4dC5hcmMoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIsIHNpemUgLyAyICogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgICAgY2FudmFzQ29udGV4dC5zdHJva2UoKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaGFuZGxlTW91c2VEcmFnKGUpIHtcbiAgICAgICAgdmFyIFxuICAgICAgICAgICAgb2Zmc2V0ID0gJChjYW52YXMpLm9mZnNldCgpLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwdCA9IHt4OiBlLnBhZ2VYIC0gb2Zmc2V0LmxlZnQsIHk6IGUucGFnZVkgLSBvZmZzZXQudG9wfSxcbiAgICAgICAgXG4gICAgICAgICAgICB4ID0gcHQueCAtICQoY2FudmFzKS53aWR0aCgpIC8gMixcbiAgICAgICAgICAgIHkgPSBwdC55IC0gJChjYW52YXMpLmhlaWdodCgpIC8gMixcblxuICAgICAgICAgICAgbmV3U2l6ZSA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpICogMik7XG4gICAgICAgIFxuICAgICAgICBzaXplID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMjAwLCBuZXdTaXplKSk7XG5cbiAgICAgICAgcGFpbnQoKTtcbiAgICAgICAgY29udHJvbGxlci5zZXRCcnVzaFNpemUoc2l6ZSk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoZSkge1xuICAgICAgICBpZiAobW91c2VDYXB0dXJlZCkge1xuICAgICAgICAgICAgbW91c2VDYXB0dXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZURyYWcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgIH07XG4gICAgXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCFtb3VzZUNhcHR1cmVkKSB7XG4gICAgICAgICAgICBtb3VzZUNhcHR1cmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZURyYWcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBoYW5kbGVNb3VzZURyYWcoZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb250cm9sbGVyLm9uKFwidG9vbENoYW5nZVwiLCBmdW5jdGlvbih0b29sLCB0b29sSW5mbykge1xuICAgICAgICBpZiAodG9vbEluZm8uc2l6ZSAhPSBzaXplKSB7XG4gICAgICAgICAgICBzaXplID0gdG9vbEluZm8uc2l6ZTtcbiAgICAgICAgICAgIHBhaW50KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjYW52YXMud2lkdGggPSA2NDsgXG4gICAgY2FudmFzLmhlaWdodCA9IDY0O1xuICAgIFxuICAgIGlmICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEpIHtcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzLndpZHRoICsgJ3B4JztcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQgKyAncHgnO1xuICAgICAgICBcbiAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzLndpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgfVxuICAgIFxuICAgIGNhbnZhcy5jbGFzc05hbWUgPSAnY2hpY2tlbnBhaW50LWJydXNoLXByZXZpZXcnO1xuXG4gICAgY2FudmFzQ29udGV4dC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG4gICAgY2FudmFzQ29udGV4dC5saW5lV2lkdGggPSAxLjAgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICBcbiAgICBwYWludCgpO1xufVxuXG5mdW5jdGlvbiBDUEdyYWRpZW50UGFuZWwoY29udHJvbGxlcikge1xuICAgIHZhclxuICAgICAgICBncmFkaWVudFBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcblxuICAgICAgICBncmFkaWVudFByZXZpZXcgPSBuZXcgQ1BHcmFkaWVudFByZXZpZXcoY29udHJvbGxlciksXG5cbiAgICAgICAgZ3JhZGllbnRTdGFydFN3YXRjaCA9IG5ldyBDUENvbG9yU3dhdGNoKG5ldyBDUENvbG9yKGNvbnRyb2xsZXIuZ2V0Q3VyR3JhZGllbnQoKVswXSAmIDB4RkZGRkZGKSksXG4gICAgICAgIGdyYWRpZW50RW5kU3dhdGNoID0gbmV3IENQQ29sb3JTd2F0Y2gobmV3IENQQ29sb3IoY29udHJvbGxlci5nZXRDdXJHcmFkaWVudCgpWzFdICYgMHhGRkZGRkYpKTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUdyYWRpZW50KCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGdyYWRpZW50ID0gbmV3IEFycmF5KDIpO1xuXG4gICAgICAgIGdyYWRpZW50WzBdID0gKGdyYWRpZW50U3RhcnRTd2F0Y2guZ2V0QWxwaGEoKSA8PCAyNCkgfCBncmFkaWVudFN0YXJ0U3dhdGNoLmdldENvbG9yUmdiKCk7XG4gICAgICAgIGdyYWRpZW50WzFdID0gKGdyYWRpZW50RW5kU3dhdGNoLmdldEFscGhhKCkgPDwgMjQpIHwgIGdyYWRpZW50RW5kU3dhdGNoLmdldENvbG9yUmdiKCk7XG5cbiAgICAgICAgY29udHJvbGxlci5zZXRDdXJHcmFkaWVudChncmFkaWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBncmFkaWVudFBhbmVsO1xuICAgIH07XG5cbiAgICBncmFkaWVudFBhbmVsLmNsYXNzTmFtZSA9IFwiY2hpY2tlbnBhaW50LWdyYWRpZW50LXBhbmVsXCI7XG4gICAgZ3JhZGllbnRQYW5lbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICBncmFkaWVudFN0YXJ0U3dhdGNoLm9uKFwiY29sb3JDaGFuZ2VcIiwgdXBkYXRlR3JhZGllbnQpO1xuICAgIGdyYWRpZW50U3RhcnRTd2F0Y2gub24oXCJhbHBoYUNoYW5nZVwiLCB1cGRhdGVHcmFkaWVudCk7XG4gICAgZ3JhZGllbnRFbmRTd2F0Y2gub24oXCJjb2xvckNoYW5nZVwiLCB1cGRhdGVHcmFkaWVudCk7XG4gICAgZ3JhZGllbnRFbmRTd2F0Y2gub24oXCJhbHBoYUNoYW5nZVwiLCB1cGRhdGVHcmFkaWVudCk7XG5cbiAgICB2YXJcbiAgICAgICAgdGl0bGUsIGNvbG9yc0dyb3VwLCBjb2xvckdyb3VwO1xuXG4gICAgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICB0aXRsZS5pbm5lckhUTUwgPSBcIkdyYWRpZW50XCI7XG5cbiAgICBncmFkaWVudFBhbmVsLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICBncmFkaWVudFBhbmVsLmFwcGVuZENoaWxkKGdyYWRpZW50UHJldmlldy5nZXRFbGVtZW50KCkpO1xuXG4gICAgY29sb3JzR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbG9yc0dyb3VwLmNsYXNzTmFtZSA9IFwiY2hpY2tlbnBhaW50LWdyYWRpZW50LWNvbG9yc1wiO1xuXG4gICAgY29sb3JHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29sb3JHcm91cC5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1ncmFkaWVudC1zdGFydC1jb2xvclwiO1xuXG4gICAgY29sb3JHcm91cC5hcHBlbmRDaGlsZChncmFkaWVudFN0YXJ0U3dhdGNoLmdldEVsZW1lbnQoKSk7XG5cbiAgICBjb2xvcnNHcm91cC5hcHBlbmRDaGlsZChjb2xvckdyb3VwKTtcblxuICAgIGNvbG9yR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbG9yR3JvdXAuY2xhc3NOYW1lID0gXCJjaGlja2VucGFpbnQtZ3JhZGllbnQtZW5kLWNvbG9yXCI7XG5cbiAgICBjb2xvckdyb3VwLmFwcGVuZENoaWxkKGdyYWRpZW50RW5kU3dhdGNoLmdldEVsZW1lbnQoKSk7XG5cbiAgICBjb2xvcnNHcm91cC5hcHBlbmRDaGlsZChjb2xvckdyb3VwKTtcblxuICAgIGdyYWRpZW50UGFuZWwuYXBwZW5kQ2hpbGQoY29sb3JzR3JvdXApO1xufVxuXG5mdW5jdGlvbiBDUFRyYW5zZm9ybVBhbmVsKGNvbnRyb2xsZXIpIHtcbiAgICBjb25zdFxuICAgICAgICBUUkFOU0ZPUk1fSU5URVJQT0xBVElPTiA9IHtzbW9vdGg6IFwiU21vb3RoXCIsIHNoYXJwOiBcIlNoYXJwXCJ9O1xuXG4gICAgdmFyXG4gICAgICAgIHBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcblxuICAgICAgICBhY2NlcHRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLFxuICAgICAgICByZWplY3RCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLFxuICAgICAgICBpbnRlcnBDb21ibyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG5cbiAgICB0aGlzLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHBhbmVsO1xuICAgIH07XG5cbiAgICBwYW5lbC5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC10cmFuc2Zvcm0tcGFuZWxcIjtcbiAgICBwYW5lbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICBhY2NlcHRCdXR0b24udHlwZSA9IFwiYnV0dG9uXCI7XG4gICAgcmVqZWN0QnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xuXG4gICAgYWNjZXB0QnV0dG9uLmNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiO1xuICAgIHJlamVjdEJ1dHRvbi5jbGFzc05hbWUgPSBcImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIjtcblxuICAgIGFjY2VwdEJ1dHRvbi5pbm5lckhUTUwgPSBcIkFwcGx5IHRyYW5zZm9ybVwiO1xuICAgIHJlamVjdEJ1dHRvbi5pbm5lckhUTUwgPSBcIkNhbmNlbFwiO1xuXG4gICAgaW50ZXJwQ29tYm8uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuc2V0VHJhbnNmb3JtSW50ZXJwb2xhdGlvbih0aGlzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGludGVycENvbWJvLmNsYXNzTmFtZSA9ICdmb3JtLWNvbnRyb2wgY2hpY2tlbnBhaW50LXRyYW5zZm9ybS1pbnRlcnBvbGF0aW9uJztcbiAgICBmaWxsQ29tYm9ib3goaW50ZXJwQ29tYm8sIFRSQU5TRk9STV9JTlRFUlBPTEFUSU9OKTtcblxuICAgIGlmIChpc0NhbnZhc0ludGVycG9sYXRpb25TdXBwb3J0ZWQoKSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGludGVycEdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIGludGVycExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuXG4gICAgICAgIGludGVycExhYmVsLmlubmVySFRNTCA9IFwiVHJhbnNmb3JtIHN0eWxlXCI7XG5cbiAgICAgICAgaW50ZXJwR3JvdXAuY2xhc3NOYW1lID0gXCJmb3JtLWdyb3VwXCI7XG4gICAgICAgIGludGVycEdyb3VwLmFwcGVuZENoaWxkKGludGVycExhYmVsKTtcbiAgICAgICAgaW50ZXJwR3JvdXAuYXBwZW5kQ2hpbGQoaW50ZXJwQ29tYm8pO1xuXG4gICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGludGVycEdyb3VwKTtcbiAgICB9XG5cbiAgICB2YXJcbiAgICAgICAgYnV0dG9uR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYWNjZXB0QnV0dG9uKTtcbiAgICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChyZWplY3RCdXR0b24pO1xuXG4gICAgYnV0dG9uR3JvdXAuY2xhc3NOYW1lID0gXCJmb3JtLWdyb3VwXCI7XG5cbiAgICBwYW5lbC5hcHBlbmRDaGlsZChidXR0b25Hcm91cCk7XG5cbiAgICBhY2NlcHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgY29udHJvbGxlci5hY3Rpb25QZXJmb3JtZWQoe2FjdGlvbjogXCJDUFRyYW5zZm9ybUFjY2VwdFwifSk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHJlamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBjb250cm9sbGVyLmFjdGlvblBlcmZvcm1lZCh7YWN0aW9uOiBcIkNQVHJhbnNmb3JtUmVqZWN0XCJ9KTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufVxuIiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUFJlY3QgZnJvbSBcIi4uL3V0aWwvQ1BSZWN0XCI7XG5pbXBvcnQgQ1BUcmFuc2Zvcm0gZnJvbSBcIi4uL3V0aWwvQ1BUcmFuc2Zvcm1cIjtcbmltcG9ydCBDUFdhY29tVGFibGV0IGZyb20gXCIuLi91dGlsL0NQV2Fjb21UYWJsZXRcIjtcbmltcG9ydCBDUEJlemllciBmcm9tIFwiLi4vdXRpbC9DUEJlemllclwiO1xuaW1wb3J0IHt0aHJvdHRsZX0gZnJvbSBcIi4uL3V0aWwvdGhyb3R0bGUtZGVib3VuY2VcIjtcbmltcG9ydCBDUFBvbHlnb24gZnJvbSBcIi4uL3V0aWwvQ1BQb2x5Z29uXCI7XG5pbXBvcnQge3NldENhbnZhc0ludGVycG9sYXRpb259IGZyb20gXCIuLi91dGlsL0NQUG9seWZpbGxcIjtcblxuaW1wb3J0IENoaWNrZW5QYWludCBmcm9tIFwiLi4vQ2hpY2tlblBhaW50XCI7XG5cbmltcG9ydCBDUEJydXNoSW5mbyBmcm9tIFwiLi4vZW5naW5lL0NQQnJ1c2hJbmZvXCI7XG5cbmltcG9ydCB7Y3JlYXRlQ2hlY2tlcmJvYXJkUGF0dGVybn0gZnJvbSBcIi4vQ1BHVUlVdGlsc1wiO1xuaW1wb3J0IENQU2Nyb2xsYmFyIGZyb20gXCIuL0NQU2Nyb2xsYmFyXCI7XG5pbXBvcnQgQ1BWZWN0b3IgZnJvbSBcIi4uL3V0aWwvQ1BWZWN0b3JcIjtcblxuZnVuY3Rpb24gQ1BNb2RlU3RhY2soKSB7XG4gICAgdGhpcy5tb2RlcyA9IFtdO1xufVxuXG4vKiBXZSBoYXZlIHR3byBkaXN0aW5ndWlzaGVkIG1vZGUgaW5kZXhlcyB3aGljaCBjb3JyZXNwb25kIHRvIHRoZSBDUERlZmF1bHRNb2RlIGFuZCB0aGUgbW9kZSB0aGF0IHRoZSB1c2VyIGhhcyBzZWxlY3RlZFxuICogaW4gdGhlIHRvb2wgcGFsZXR0ZSAodGhlIGdsb2JhbCBkcmF3aW5nIG1vZGUpLiBPbiB0b3Agb2YgdGhhdCBhcmUgb3RoZXIgdHJhbnNpZW50IG1vZGVzLlxuICovXG5DUE1vZGVTdGFjay5NT0RFX0lOREVYX0RFRkFVTFQgPSAwO1xuQ1BNb2RlU3RhY2suTU9ERV9JTkRFWF9VU0VSID0gMTtcblxuQ1BNb2RlU3RhY2sucHJvdG90eXBlLnNldE1vZGUgPSBmdW5jdGlvbihpbmRleCwgbmV3TW9kZSkge1xuICAgIHZhclxuICAgICAgICBvbGRNb2RlID0gdGhpcy5tb2Rlc1tpbmRleF07XG5cbiAgICBpZiAob2xkTW9kZSA9PSBuZXdNb2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2xkTW9kZSkge1xuICAgICAgICBvbGRNb2RlLmxlYXZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5tb2Rlc1tpbmRleF0gPSBuZXdNb2RlO1xuICAgIG5ld01vZGUuZW50ZXIoKTtcbn07XG5cbkNQTW9kZVN0YWNrLnByb3RvdHlwZS5zZXREZWZhdWx0TW9kZSA9IGZ1bmN0aW9uKG5ld01vZGUpIHtcbiAgICBuZXdNb2RlLnRyYW5zaWVudCA9IGZhbHNlO1xuICAgIG5ld01vZGUuY2FwdHVyZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5zZXRNb2RlKENQTW9kZVN0YWNrLk1PREVfSU5ERVhfREVGQVVMVCwgbmV3TW9kZSk7XG59O1xuXG5DUE1vZGVTdGFjay5wcm90b3R5cGUuc2V0VXNlck1vZGUgPSBmdW5jdGlvbihuZXdNb2RlKSB7XG4gICAgLy8gTGVhdmUgYW55IHRyYW5zaWVudCBtb2RlcyB0aGF0IHdlcmUgb24gdG9wIG9mIHRoZSB1c2VyIG1vZGVcbiAgICBmb3IgKHZhciBpID0gdGhpcy5tb2Rlcy5sZW5ndGggLSAxOyBpID4gQ1BNb2RlU3RhY2suTU9ERV9JTkRFWF9VU0VSOyBpLS0pIHtcbiAgICAgICAgdGhpcy5tb2Rlc1tpXS5sZWF2ZSgpO1xuICAgICAgICB0aGlzLm1vZGVzLnNwbGljZShpLCAxKTtcbiAgICB9XG5cbiAgICBuZXdNb2RlLnRyYW5zaWVudCA9IGZhbHNlO1xuICAgIG5ld01vZGUuY2FwdHVyZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5zZXRNb2RlKENQTW9kZVN0YWNrLk1PREVfSU5ERVhfVVNFUiwgbmV3TW9kZSk7XG59O1xuXG4vKipcbiAqIERlbGl2ZXIgdGhlIGV2ZW50IHdpdGggdGhlIGdpdmVuIG5hbWUgYW5kIGFycmF5IG9mIHBhcmFtZXRlcnMgdG8gdGhlIG1vZGUgc3RhY2suXG4gKlxuICogQHBhcmFtIGV2ZW50XG4gKiBAcGFyYW0gcGFyYW1zXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgbW9kZSBjYXB0dXJlZCB0aGUgZXZlbnRcbiAqL1xuQ1BNb2RlU3RhY2sucHJvdG90eXBlLmRlbGl2ZXJFdmVudCA9IGZ1bmN0aW9uKGV2ZW50LCBwYXJhbXMpIHtcbiAgICBmb3IgKHZhciBpID0gdGhpcy5tb2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIG1vZGUgPSB0aGlzLm1vZGVzW2ldO1xuXG4gICAgICAgIGlmIChtb2RlW2V2ZW50XS5hcHBseShtb2RlLCBwYXJhbXMpIHx8IG1vZGUuY2FwdHVyZSAmJiBldmVudCAhPSBcInBhaW50XCIpIHtcbiAgICAgICAgICAgIC8qIElmIHRoZSBldmVudCB3YXMgaGFuZGxlZCwgZG9uJ3QgdHJ5IHRvIGRlbGl2ZXIgaXQgdG8gYW55dGhpbmcgZnVydGhlciB1cCB0aGUgc3RhY2sgKi9cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8gV2UgY2FuIGNhbGwgdGhlc2Ugcm91dGluZXMgdG8gZGVsaXZlciBldmVudHMgdGhhdCBidWJibGUgdXAgdGhlIG1vZGUgc3RhY2tcbmZvciAobGV0IGV2ZW50TmFtZSBvZiBbXCJtb3VzZURvd25cIiwgXCJtb3VzZVVwXCJdKSB7XG4gICAgQ1BNb2RlU3RhY2sucHJvdG90eXBlW2V2ZW50TmFtZV0gPSBmdW5jdGlvbiAoZSwgYnV0dG9uLCBwcmVzc3VyZSkge1xuICAgICAgICB0aGlzLmRlbGl2ZXJFdmVudChldmVudE5hbWUsIFtlLCBidXR0b24sIHByZXNzdXJlXSk7XG4gICAgfTtcbn1cblxuZm9yIChsZXQgZXZlbnROYW1lIG9mIFtcIm1vdXNlRHJhZ1wiLCBcIm1vdXNlTW92ZVwiXSkge1xuICAgIENQTW9kZVN0YWNrLnByb3RvdHlwZVtldmVudE5hbWVdID0gZnVuY3Rpb24gKGUsIHByZXNzdXJlKSB7XG4gICAgICAgIHRoaXMuZGVsaXZlckV2ZW50KGV2ZW50TmFtZSwgW2UsIHByZXNzdXJlXSk7XG4gICAgfTtcbn1cblxuZm9yIChsZXQgZXZlbnROYW1lIG9mIFtcImtleURvd25cIiwgXCJrZXlVcFwiXSkge1xuICAgIENQTW9kZVN0YWNrLnByb3RvdHlwZVtldmVudE5hbWVdID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsaXZlckV2ZW50KGV2ZW50TmFtZSwgW2VdKSkge1xuICAgICAgICAgICAgLy8gU3dhbGxvdyBoYW5kbGVkIGtleXByZXNzZXNcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbkNQTW9kZVN0YWNrLnByb3RvdHlwZS5wYWludCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICB0aGlzLmRlbGl2ZXJFdmVudChcInBhaW50XCIsIFtjb250ZXh0XSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG1vZGUgdG8gdGhlIHRvcCBvZiB0aGUgbW9kZSBzdGFjay5cbiAqXG4gKiBAcGFyYW0gbW9kZSB7Q1BNb2RlfVxuICogQHBhcmFtIHRyYW5zaWVudCB7Ym9vbGVhbn0gU2V0IHRvIHRydWUgaWYgdGhlIG1vZGUgaXMgZXhwZWN0ZWQgdG8gcmVtb3ZlIGl0c2VsZiBmcm9tIHN0YWNrIHVwb24gY29tcGxldGlvbi5cbiAqL1xuQ1BNb2RlU3RhY2sucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihtb2RlLCB0cmFuc2llbnQpIHtcbiAgICB2YXJcbiAgICAgICAgcHJldmlvdXNUb3AgPSB0aGlzLnBlZWsoKTtcblxuICAgIGlmIChwcmV2aW91c1RvcCkge1xuICAgICAgICBwcmV2aW91c1RvcC5zdXNwZW5kKCk7XG4gICAgfVxuXG4gICAgbW9kZS50cmFuc2llbnQgPSB0cmFuc2llbnQ7XG4gICAgbW9kZS5jYXB0dXJlID0gZmFsc2U7XG5cbiAgICBtb2RlLmVudGVyKCk7XG5cbiAgICB0aGlzLm1vZGVzLnB1c2gobW9kZSk7XG59O1xuXG5DUE1vZGVTdGFjay5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLm1vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZXNbdGhpcy5tb2Rlcy5sZW5ndGggLSAxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbm9kZSBhdCB0aGUgdG9wIG9mIHRoZSBzdGFjayBhbmQgcmV0dXJuIHRoZSBuZXcgdG9wIG9mIHRoZSBzdGFjay5cbiAqXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuQ1BNb2RlU3RhY2sucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhclxuICAgICAgICBvdXRnb2luZ01vZGUgPSB0aGlzLm1vZGVzLnBvcCgpLFxuICAgICAgICBuZXdUb3AgPSB0aGlzLnBlZWsoKTtcblxuICAgIGlmIChvdXRnb2luZ01vZGUpIHtcbiAgICAgICAgb3V0Z29pbmdNb2RlLmxlYXZlKCk7XG4gICAgfVxuXG4gICAgaWYgKG5ld1RvcCkge1xuICAgICAgICBuZXdUb3AucmVzdW1lKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1RvcDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQQ2FudmFzKGNvbnRyb2xsZXIpIHtcbiAgICBjb25zdFxuICAgICAgICBCVVRUT05fUFJJTUFSWSA9IDAsXG4gICAgICAgIEJVVFRPTl9XSEVFTCA9IDEsXG4gICAgICAgIEJVVFRPTl9TRUNPTkRBUlkgPSAyLFxuXG4gICAgICAgIE1JTl9aT09NID0gMC4xMCxcbiAgICAgICAgTUFYX1pPT00gPSAxNi4wLFxuXG4gICAgICAgIENVUlNPUl9ERUZBVUxUID0gXCJkZWZhdWx0XCIsIENVUlNPUl9QQU5OQUJMRSA9IFwiZ3JhYlwiLCBDVVJTT1JfUEFOTklORyA9IFwiZ3JhYmJpbmdcIiwgQ1VSU09SX0NST1NTSEFJUiA9IFwiY3Jvc3NoYWlyXCIsXG4gICAgICAgIENVUlNPUl9NT1ZFID0gXCJtb3ZlXCIsIENVUlNPUl9ORVNXX1JFU0laRSA9IFwibmVzdy1yZXNpemVcIiwgQ1VSU09SX05XU0VfUkVTSVpFID0gXCJud3NlLXJlc2l6ZVwiLFxuICAgICAgICBDVVJTT1JfTlNfUkVTSVpFID0gXCJucy1yZXNpemVcIiwgQ1VSU09SX0VXX1JFU0laRSA9IFwiZXctcmVzaXplXCI7XG5cbiAgICB2YXJcbiAgICAgICAgdGhhdCA9IHRoaXMsXG4gICAgXG4gICAgICAgIGNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIGNhbnZhc0NvbnRhaW5lclRvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIGNhbnZhc0NvbnRhaW5lckJvdHRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIFxuICAgICAgICAvLyBPdXIgY2FudmFzIHRoYXQgZmlsbHMgdGhlIGVudGlyZSBzY3JlZW5cbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksXG4gICAgICAgIFxuICAgICAgICAvLyBPdXIgY2FjaGUgb2YgdGhlIGFydHdvcmsncyBmdXNpb24gdG8gYmUgZHJhd24gb250byBvdXIgbWFpbiBjYW52YXMgdXNpbmcgb3VyIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAgICAgIGFydHdvcmtDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLFxuICAgICAgICBhcnR3b3JrQ2FudmFzQ29udGV4dCA9IGFydHdvcmtDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLFxuICAgICAgICBcbiAgICAgICAgY2hlY2tlcmJvYXJkUGF0dGVybiA9IGNyZWF0ZUNoZWNrZXJib2FyZFBhdHRlcm4oY2FudmFzQ29udGV4dCksXG4gICAgICAgIFxuICAgICAgICBhcnR3b3JrID0gY29udHJvbGxlci5nZXRBcnR3b3JrKCksXG5cbiAgICAgICAgLy8gQ2FudmFzIHRyYW5zZm9ybWF0aW9uc1xuICAgICAgICB6b29tID0gMSxcbiAgICAgICAgb2Zmc2V0WCA9IDAsIG9mZnNldFkgPSAwLFxuICAgICAgICBjYW52YXNSb3RhdGlvbiA9IDAuMCxcbiAgICAgICAgdHJhbnNmb3JtID0gbmV3IENQVHJhbnNmb3JtKCksXG4gICAgICAgIGludGVycG9sYXRpb24gPSBmYWxzZSxcblxuICAgICAgICAvLyBHcmlkIG9wdGlvbnNcbiAgICAgICAgc2hvd0dyaWQgPSBmYWxzZSxcbiAgICAgICAgZ3JpZFNpemUgPSAzMixcbiAgICAgICAgXG4gICAgICAgIG1vdXNlWCA9IDAsIG1vdXNlWSA9IDAsXG5cbiAgICAgICAgbW91c2VJbiA9IGZhbHNlLCBtb3VzZURvd24gPSBbZmFsc2UsIGZhbHNlLCBmYWxzZV0gLyogVHJhY2sgZWFjaCBidXR0b24gaW5kZXBlbmRlbnRseSAqLywgd2Fjb21QZW5Eb3duID0gZmFsc2UsXG4gICAgICAgIFxuICAgICAgICAvKiBUaGUgYXJlYSBvZiB0aGUgZG9jdW1lbnQgdGhhdCBzaG91bGQgaGF2ZSBpdHMgbGF5ZXJzIGZ1c2VkIGFuZCByZXBhaW50ZWQgdG8gdGhlIHNjcmVlblxuICAgICAgICAgKiAoaS5lLiBhbiBhcmVhIG1vZGlmaWVkIGJ5IGRyYXdpbmcgdG9vbHMpLiBcbiAgICAgICAgICogXG4gICAgICAgICAqIEluaXRpYWxseSBzZXQgdG8gdGhlIHNpemUgb2YgdGhlIGFydHdvcmsgc28gd2UgY2FuIHJlcGFpbnQgdGhlIHdob2xlIHRoaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgYXJ0d29ya1VwZGF0ZVJlZ2lvbiA9IG5ldyBDUFJlY3QoMCwgMCwgYXJ0d29yay53aWR0aCwgYXJ0d29yay5oZWlnaHQpLFxuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcmVhIG9mIHRoZSBjYW52YXMgdGhhdCBzaG91bGQgYmUgcmVwYWludGVkIHRvIHRoZSBzY3JlZW4gZHVyaW5nIHRoZSBuZXh0IHJlcGFpbnQgaW50ZXJuYWwgKGluIGNhbnZhc1xuICAgICAgICAgKiBjb29yZGluYXRlcykuXG4gICAgICAgICAqL1xuICAgICAgICByZXBhaW50UmVnaW9uID0gbmV3IENQUmVjdCgwLCAwLCAwLCAwKSxcbiAgICAgICAgc2NoZWR1bGVkUmVwYWludCA9IGZhbHNlLFxuICAgICAgICBcbiAgICAgICAgLy9cbiAgICAgICAgLy8gTW9kZXMgc3lzdGVtOiBtb2RlcyBjb250cm9sIHRoZSB3YXkgdGhlIEdVSSBpcyByZWFjdGluZyB0byB0aGUgdXNlciBpbnB1dFxuICAgICAgICAvLyBBbGwgdGhlIHRvb2xzIGFyZSBpbXBsZW1lbnRlZCB0aHJvdWdoIG1vZGVzXG4gICAgICAgIC8vXG4gICAgICAgIFxuICAgICAgICBkZWZhdWx0TW9kZSxcbiAgICAgICAgY29sb3JQaWNrZXJNb2RlLFxuICAgICAgICBwYW5Nb2RlLFxuICAgICAgICByb3RhdGVDYW52YXNNb2RlLFxuICAgICAgICBmbG9vZEZpbGxNb2RlLFxuICAgICAgICBncmFkaWVudEZpbGxNb2RlLFxuICAgICAgICByZWN0U2VsZWN0aW9uTW9kZSxcbiAgICAgICAgbW92ZVRvb2xNb2RlLFxuICAgICAgICB0cmFuc2Zvcm1Nb2RlLFxuXG4gICAgICAgIC8vIHRoaXMgbXVzdCBjb3JyZXNwb25kIHRvIHRoZSBzdHJva2UgbW9kZXMgZGVmaW5lZCBpbiBDUFRvb2xJbmZvXG4gICAgICAgIGRyYXdpbmdNb2RlcyA9IFtdLFxuXG4gICAgICAgIG1vZGVTdGFjayA9IG5ldyBDUE1vZGVTdGFjaygpLFxuXG4gICAgICAgIGN1ckRyYXdNb2RlLCBjdXJTZWxlY3RlZE1vZGUsXG4gICAgICAgIFxuICAgICAgICBob3J6U2Nyb2xsID0gbmV3IENQU2Nyb2xsYmFyKGZhbHNlKSwgXG4gICAgICAgIHZlcnRTY3JvbGwgPSBuZXcgQ1BTY3JvbGxiYXIodHJ1ZSksXG4gICAgICAgIFxuICAgICAgICB0YWJsZXQgPSBDUFdhY29tVGFibGV0LmdldFJlZigpO1xuXG4gICAgTWF0aC5zaWduID0gTWF0aC5zaWduIHx8IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgeCA9ICt4OyAvLyBjb252ZXJ0IHRvIGEgbnVtYmVyXG4gICAgICAgIGlmICh4ID09PSAwIHx8IGlzTmFOKHgpKSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCA+IDAgPyAxIDogLTE7XG4gICAgfTtcblxuICAgIC8vIFBhcmVudCBjbGFzcyB3aXRoIGVtcHR5IGV2ZW50IGhhbmRsZXJzIGZvciB0aG9zZSBkcmF3aW5nIG1vZGVzIHRoYXQgZG9uJ3QgbmVlZCBldmVyeSBldmVudFxuICAgIGZ1bmN0aW9uIENQTW9kZSgpIHtcbiAgICB9XG5cblx0LyoqXG4gICAgICogVHJ1ZSBpZiB0aGlzIG1vZGUgd2lsbCBiZSBleGl0aW5nIHRoZSBtb2RlIHN0YWNrIGFzIHNvb24gYXMgdGhlIGN1cnJlbnQgaW50ZXJhdGlvbiBpcyBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIENQTW9kZS5wcm90b3R5cGUudHJhbnNpZW50ID0gZmFsc2U7XG5cblx0LyoqXG4gICAgICogSWYgdHJ1ZSwgbm8gaW5wdXQgZXZlbnRzIHdpbGwgYmUgc2VudCB0byBhbnkgbW9kZXMgdW5kZXJuZWF0aCB0aGlzIG9uZSAoZXZlbnQgc3RyZWFtIGlzIGNhcHR1cmVkKS5cbiAgICAgKlxuICAgICAqIFBhaW50aW5nIGV2ZW50cyB3aWxsIGNvbnRpbnVlIHRvIGJ1YmJsZS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIENQTW9kZS5wcm90b3R5cGUuY2FwdHVyZSA9IGZhbHNlO1xuICAgIFxuICAgIENQTW9kZS5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0Q3Vyc29yKENVUlNPUl9ERUZBVUxUKTtcbiAgICB9O1xuXG4gICAgQ1BNb2RlLnByb3RvdHlwZS5sZWF2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNhcHR1cmUgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgQ1BNb2RlLnByb3RvdHlwZS5tb3VzZU1vdmUgPSBDUE1vZGUucHJvdG90eXBlLnBhaW50ID0gQ1BNb2RlLnByb3RvdHlwZS5tb3VzZURvd25cbiAgICAgICAgPSBDUE1vZGUucHJvdG90eXBlLm1vdXNlRHJhZyA9IENQTW9kZS5wcm90b3R5cGUubW91c2VVcCA9IENQTW9kZS5wcm90b3R5cGUua2V5RG93blxuICAgICAgICA9IENQTW9kZS5wcm90b3R5cGUuc3VzcGVuZCA9IENQTW9kZS5wcm90b3R5cGUucmVzdW1lID0gQ1BNb2RlLnByb3RvdHlwZS5rZXlVcCA9IGZ1bmN0aW9uKCkge307XG5cbiAgICAvL1xuICAgIC8vIERlZmF1bHQgVUkgTW9kZSB3aGVuIG5vdCBkb2luZyBhbnl0aGluZzogdXNlZCB0byBzdGFydCB0aGUgb3RoZXIgbW9kZXNcbiAgICAvL1xuXG4gICAgZnVuY3Rpb24gQ1BEZWZhdWx0TW9kZSgpIHtcbiAgICB9XG4gICAgXG4gICAgQ1BEZWZhdWx0TW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQTW9kZS5wcm90b3R5cGUpO1xuICAgIENQRGVmYXVsdE1vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BEZWZhdWx0TW9kZTtcbiAgICBcbiAgICBDUERlZmF1bHRNb2RlLnByb3RvdHlwZS5tb3VzZURvd24gPSBmdW5jdGlvbihlLCBidXR0b24sIHByZXNzdXJlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgc3BhY2VQcmVzc2VkID0ga2V5LmlzUHJlc3NlZChcInNwYWNlXCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFzcGFjZVByZXNzZWRcbiAgICAgICAgICAgICAgICAmJiAoYnV0dG9uID09IEJVVFRPTl9TRUNPTkRBUlkgfHwgYnV0dG9uID09IEJVVFRPTl9QUklNQVJZICYmIGUuYWx0S2V5KSkge1xuICAgICAgICAgICAgbW9kZVN0YWNrLnB1c2goY29sb3JQaWNrZXJNb2RlLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIEF2b2lkIGluZmluaXRlIHJlY3Vyc2lvbiBieSBvbmx5IGRlbGl2ZXJpbmcgdGhlIGV2ZW50IHRvIHRoZSBuZXcgbW9kZSAoZG9uJ3QgbGV0IGl0IGJ1YmJsZSBiYWNrIHRvIHVzISlcbiAgICAgICAgICAgIG1vZGVTdGFjay5wZWVrKCkubW91c2VEb3duKGUsIGJ1dHRvbiwgcHJlc3N1cmUpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PSBCVVRUT05fV0hFRUwgfHwgc3BhY2VQcmVzc2VkICYmIGJ1dHRvbiA9PSBCVVRUT05fUFJJTUFSWSkge1xuICAgICAgICAgICAgaWYgKGUuYWx0S2V5KSB7XG4gICAgICAgICAgICAgICAgbW9kZVN0YWNrLnB1c2gocm90YXRlQ2FudmFzTW9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbW9kZVN0YWNrLnBlZWsoKS5tb3VzZURvd24oZSwgYnV0dG9uLCBwcmVzc3VyZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVTdGFjay5wdXNoKHBhbk1vZGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1vZGVTdGFjay5wZWVrKCkubW91c2VEb3duKGUsIGJ1dHRvbiwgcHJlc3N1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBDUERlZmF1bHRNb2RlLnByb3RvdHlwZS5rZXlEb3duID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09IDMyIC8qIFNwYWNlICovKSB7XG4gICAgICAgICAgICBpZiAoZS5hbHRLZXkpIHtcbiAgICAgICAgICAgICAgICBtb2RlU3RhY2sucHVzaChyb3RhdGVDYW52YXNNb2RlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBtb2RlU3RhY2sucGVlaygpLmtleURvd24oZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBzdGFydCB0aGUgcGFuIG1vZGUgYmVmb3JlIHRoZSBtb3VzZSBidXR0b24gaXMgZXZlbiBwcmVzc2VkLCBzbyB0aGF0IHRoZSBcImdyYWJiYWJsZVwiIGN1cnNvciBhcHBlYXJzXG4gICAgICAgICAgICAgICAgbW9kZVN0YWNrLnB1c2gocGFuTW9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbW9kZVN0YWNrLnBlZWsoKS5rZXlEb3duKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cdC8qKlxuICAgICAqIEEgYmFzZSBmb3IgdGhlIHRocmVlIGRyYXdpbmcgbW9kZXMsIHNvIHRoZXkgY2FuIGFsbCBzaGFyZSB0aGUgc2FtZSBicnVzaC1wcmV2aWV3LWNpcmNsZSBkcmF3aW5nIGJlaGF2aW91ci5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENQRHJhd2luZ01vZGUoKSB7XG4gICAgICAgIHRoaXMuc2hvdWxkUGFpbnRCcnVzaFByZXZpZXcgPSBmYWxzZTtcblxuICAgICAgICAvKiBUaGUgbGFzdCByZWN0YW5nbGUgd2UgZGlydGllZCB3aXRoIGEgYnJ1c2ggcHJldmlldyBjaXJjbGUsIG9yIG51bGwgaWYgb25lIGhhc24ndCBiZWVuIGRyYXduIHlldCAqL1xuICAgICAgICB0aGlzLm9sZFByZXZpZXdSZWN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBDUERyYXdpbmdNb2RlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BNb2RlLnByb3RvdHlwZSk7XG4gICAgQ1BEcmF3aW5nTW9kZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUERyYXdpbmdNb2RlO1xuXG4gICAgLyoqXG4gICAgICogR2V0IGEgcmVjdGFuZ2xlIHRoYXQgZW5jbG9zZXMgdGhlIHByZXZpZXcgYnJ1c2gsIGluIHNjcmVlbiBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBDUERyYXdpbmdNb2RlLnByb3RvdHlwZS5nZXRCcnVzaFByZXZpZXdPdmFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgYnJ1c2hTaXplID0gY29udHJvbGxlci5nZXRCcnVzaFNpemUoKSAqIHpvb207XG5cbiAgICAgICAgcmV0dXJuIG5ldyBDUFJlY3QoXG4gICAgICAgICAgICBtb3VzZVggLSBicnVzaFNpemUgLyAyLFxuICAgICAgICAgICAgbW91c2VZIC0gYnJ1c2hTaXplIC8gMixcbiAgICAgICAgICAgIG1vdXNlWCArIGJydXNoU2l6ZSAvIDIsXG4gICAgICAgICAgICBtb3VzZVkgKyBicnVzaFNpemUgLyAyXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFF1ZXVlcyB1cCB0aGUgYnJ1c2ggcHJldmlldyBvdmFsIHRvIGJlIGRyYXduLlxuICAgICAqL1xuICAgIENQRHJhd2luZ01vZGUucHJvdG90eXBlLnF1ZXVlQnJ1c2hQcmV2aWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8qIElmIHdlJ3JlIG5vdCB0aGUgdG9wLW1vc3QgbW9kZSwgaXQncyB1bmxpa2VseSB0aGF0IGxlZnQgY2xpY2tpbmcgd2lsbCBkcmF3aW5nIGZvciB1cywgc28gZG9uJ3QgY29uc2lkZXJcbiAgICAgICAgICogcGFpbnRpbmcgdGhlIGJydXNoIHByZXZpZXdcbiAgICAgICAgICovXG4gICAgICAgIGlmIChtb2RlU3RhY2sucGVlaygpICE9IHRoaXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hvdWxkUGFpbnRCcnVzaFByZXZpZXcgPSB0cnVlO1xuXG4gICAgICAgIHZhclxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuZ2V0QnJ1c2hQcmV2aWV3T3ZhbCgpO1xuXG4gICAgICAgIHJlY3QuZ3JvdygyLCAyKTtcblxuICAgICAgICAvLyBJZiBhIGJydXNoIHByZXZpZXcgd2FzIGRyYXduIHByZXZpb3VzbHksIHN0cmV0Y2ggdGhlIHJlcGFpbnQgcmVnaW9uIHRvIHJlbW92ZSB0aGF0IG9sZCBjb3B5XG4gICAgICAgIGlmICh0aGlzLm9sZFByZXZpZXdSZWN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlY3QudW5pb24odGhpcy5vbGRQcmV2aWV3UmVjdCk7XG4gICAgICAgICAgICB0aGlzLm9sZFByZXZpZXdSZWN0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcGFpbnRSZWN0KHJlY3QpO1xuICAgIH07XG5cblx0LyoqXG4gICAgICogRXJhc2UgdGhlIGJydXNoIHByZXZpZXcgaWYgb25lIGhhZCBiZWVuIGRyYXduXG4gICAgICovXG4gICAgQ1BEcmF3aW5nTW9kZS5wcm90b3R5cGUuZXJhc2VCcnVzaFByZXZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zaG91bGRQYWludEJydXNoUHJldmlldyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLm9sZFByZXZpZXdSZWN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlcGFpbnRSZWN0KHRoaXMub2xkUHJldmlld1JlY3QpO1xuICAgICAgICAgICAgdGhpcy5vbGRQcmV2aWV3UmVjdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ1BEcmF3aW5nTW9kZS5wcm90b3R5cGUubW91c2VNb3ZlID0gZnVuY3Rpb24oZSwgcHJlc3N1cmUpIHtcbiAgICAgICAgdGhpcy5xdWV1ZUJydXNoUHJldmlldygpO1xuICAgIH07XG5cbiAgICBDUERyYXdpbmdNb2RlLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBDUE1vZGUucHJvdG90eXBlLmVudGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKG1vdXNlSW4pIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVCcnVzaFByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDUERyYXdpbmdNb2RlLnByb3RvdHlwZS5sZWF2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBDUE1vZGUucHJvdG90eXBlLmxlYXZlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZXJhc2VCcnVzaFByZXZpZXcoKTtcbiAgICB9O1xuXG4gICAgQ1BEcmF3aW5nTW9kZS5wcm90b3R5cGUuc3VzcGVuZCA9IENQRHJhd2luZ01vZGUucHJvdG90eXBlLmxlYXZlO1xuICAgIENQRHJhd2luZ01vZGUucHJvdG90eXBlLnJlc3VtZSA9IENQRHJhd2luZ01vZGUucHJvdG90eXBlLmVudGVyO1xuXG4gICAgQ1BEcmF3aW5nTW9kZS5wcm90b3R5cGUucGFpbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkUGFpbnRCcnVzaFByZXZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkUGFpbnRCcnVzaFByZXZpZXcgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgciA9IHRoaXMuZ2V0QnJ1c2hQcmV2aWV3T3ZhbCgpO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmFyYyhcbiAgICAgICAgICAgICAgICAoci5sZWZ0ICsgci5yaWdodCkgLyAyLFxuICAgICAgICAgICAgICAgIChyLnRvcCArIHIuYm90dG9tKSAvIDIsXG4gICAgICAgICAgICAgICAgci5nZXRXaWR0aCgpIC8gMixcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIE1hdGguUEkgKiAyXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgICAgICAgICByLmdyb3coMiwgMik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9sZFByZXZpZXdSZWN0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9sZFByZXZpZXdSZWN0ID0gcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbGRQcmV2aWV3UmVjdC51bmlvbihyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBDUEZyZWVoYW5kTW9kZSgpIHtcbiAgICAgICAgQ1BEcmF3aW5nTW9kZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc21vb3RoTW91c2UgPSB7eDowLjAsIHk6MC4wfTtcbiAgICB9XG4gICAgXG4gICAgQ1BGcmVlaGFuZE1vZGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUERyYXdpbmdNb2RlLnByb3RvdHlwZSk7XG4gICAgQ1BGcmVlaGFuZE1vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BGcmVlaGFuZE1vZGU7XG4gICAgXG4gICAgQ1BGcmVlaGFuZE1vZGUucHJvdG90eXBlLm1vdXNlRG93biA9IGZ1bmN0aW9uKGUsIGJ1dHRvbiwgcHJlc3N1cmUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhcHR1cmUgJiYgYnV0dG9uID09IEJVVFRPTl9QUklNQVJZICYmICFlLmFsdEtleSAmJiAha2V5LmlzUHJlc3NlZChcInNwYWNlXCIpICYmIHNob3VsZERyYXdUb1RoaXNMYXllcigpKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBwZiA9IGNvb3JkVG9Eb2N1bWVudCh7eDogbW91c2VYLCB5Om1vdXNlWX0pO1xuXG4gICAgICAgICAgICB0aGlzLmVyYXNlQnJ1c2hQcmV2aWV3KCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FwdHVyZSA9IHRydWU7XG4gICAgICAgICAgICBhcnR3b3JrLmJlZ2luU3Ryb2tlKHBmLngsIHBmLnksIHByZXNzdXJlKTtcblxuICAgICAgICAgICAgdGhpcy5zbW9vdGhNb3VzZSA9IHBmO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDUEZyZWVoYW5kTW9kZS5wcm90b3R5cGUubW91c2VEcmFnID0gZnVuY3Rpb24oZSwgcHJlc3N1cmUpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FwdHVyZSkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgcGYgPSBjb29yZFRvRG9jdW1lbnQoe3g6IG1vdXNlWCwgeTogbW91c2VZfSksXG4gICAgICAgICAgICAgICAgc21vb3RoaW5nID0gTWF0aC5taW4oMC45OTksIE1hdGgucG93KGNvbnRyb2xsZXIuZ2V0QnJ1c2hJbmZvKCkuc21vb3RoaW5nLCAwLjMpKTtcblxuICAgICAgICAgICAgdGhpcy5zbW9vdGhNb3VzZS54ID0gKDEuMCAtIHNtb290aGluZykgKiBwZi54ICsgc21vb3RoaW5nICogdGhpcy5zbW9vdGhNb3VzZS54O1xuICAgICAgICAgICAgdGhpcy5zbW9vdGhNb3VzZS55ID0gKDEuMCAtIHNtb290aGluZykgKiBwZi55ICsgc21vb3RoaW5nICogdGhpcy5zbW9vdGhNb3VzZS55O1xuXG4gICAgICAgICAgICBhcnR3b3JrLmNvbnRpbnVlU3Ryb2tlKHRoaXMuc21vb3RoTW91c2UueCwgdGhpcy5zbW9vdGhNb3VzZS55LCBwcmVzc3VyZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU1vdmUoZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ1BGcmVlaGFuZE1vZGUucHJvdG90eXBlLm1vdXNlVXAgPSBmdW5jdGlvbihlLCBidXR0b24sIHByZXNzdXJlKSB7XG4gICAgICAgIGlmICh0aGlzLmNhcHR1cmUpIHtcbiAgICAgICAgICAgIGlmIChidXR0b24gPT0gQlVUVE9OX1BSSU1BUlkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcHR1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhcnR3b3JrLmVuZFN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgICAgICBcbiAgICBmdW5jdGlvbiBDUExpbmVNb2RlKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGRyYWdMaW5lRnJvbSwgZHJhZ0xpbmVUbyxcbiAgICAgICAgICAgIExJTkVfUFJFVklFV19XSURUSCA9IDE7XG5cbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmdW5jdGlvbihlLCBidXR0b24sIHByZXNzdXJlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FwdHVyZSAmJiBidXR0b24gPT0gQlVUVE9OX1BSSU1BUlkgJiYgIWUuYWx0S2V5ICYmICFrZXkuaXNQcmVzc2VkKFwic3BhY2VcIikgJiYgc2hvdWxkRHJhd1RvVGhpc0xheWVyKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcHR1cmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRyYWdMaW5lRnJvbSA9IGRyYWdMaW5lVG8gPSB7eDogbW91c2VYICsgMC41LCB5OiBtb3VzZVkgKyAwLjV9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lcmFzZUJydXNoUHJldmlldygpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5tb3VzZURyYWcgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgLy8gVGhlIG9sZCBsaW5lIHBvc2l0aW9uIHRoYXQgd2UnbGwgaW52YWxpZGF0ZSBmb3IgcmVkcmF3XG4gICAgICAgICAgICAgICAgICAgIGludmFsaWRhdGVSZWN0ID0gbmV3IENQUmVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGRyYWdMaW5lRnJvbS54LCBkcmFnTGluZVRvLngpIC0gTElORV9QUkVWSUVXX1dJRFRIIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGRyYWdMaW5lRnJvbS55LCBkcmFnTGluZVRvLnkpIC0gTElORV9QUkVWSUVXX1dJRFRIIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KGRyYWdMaW5lRnJvbS54LCBkcmFnTGluZVRvLngpICsgTElORV9QUkVWSUVXX1dJRFRIICsgMSArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChkcmFnTGluZUZyb20ueSwgZHJhZ0xpbmVUby55KSArIExJTkVfUFJFVklFV19XSURUSCArIDEgKyAxXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBkcmFnTGluZVRvID0ge3g6IG1vdXNlWCArIDAuNSwgeTogbW91c2VZICsgMC41fTsgLy8gVGFyZ2V0IGNlbnRyZSBvZiBwaXhlbFxuXG4gICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU25hcCB0byBuZWFyZXN0IDQ1IGRlZ3JlZXNcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwID0gTWF0aC5QSSAvIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZSA9IE1hdGgucm91bmQoTWF0aC5hdGFuMihkcmFnTGluZVRvLnkgLSBkcmFnTGluZUZyb20ueSwgZHJhZ0xpbmVUby54IC0gZHJhZ0xpbmVGcm9tLngpIC8gc25hcCk7XG5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhbmdsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdMaW5lVG8ueSA9IGRyYWdMaW5lRnJvbS55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0xpbmVUby54ID0gZHJhZ0xpbmVGcm9tLng7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGUgKj0gc25hcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBNYXRoLnNxcnQoKGRyYWdMaW5lVG8ueSAtIGRyYWdMaW5lRnJvbS55KSAqIChkcmFnTGluZVRvLnkgLSBkcmFnTGluZUZyb20ueSkgKyAoZHJhZ0xpbmVUby54IC0gZHJhZ0xpbmVGcm9tLngpICogKGRyYWdMaW5lVG8ueCAtIGRyYWdMaW5lRnJvbS54KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnTGluZVRvLnggPSBkcmFnTGluZUZyb20ueCArIGxlbmd0aCAqIE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnTGluZVRvLnkgPSBkcmFnTGluZUZyb20ueSArIGxlbmd0aCAqIE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRoZSBuZXcgbGluZSBwb3NpdGlvblxuICAgICAgICAgICAgICAgIGludmFsaWRhdGVSZWN0LnVuaW9uKG5ldyBDUFJlY3QoXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGRyYWdMaW5lRnJvbS54LCBkcmFnTGluZVRvLngpIC0gTElORV9QUkVWSUVXX1dJRFRIIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oZHJhZ0xpbmVGcm9tLnksIGRyYWdMaW5lVG8ueSkgLSBMSU5FX1BSRVZJRVdfV0lEVEggLSAxLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChkcmFnTGluZUZyb20ueCwgZHJhZ0xpbmVUby54KSArIExJTkVfUFJFVklFV19XSURUSCArIDEgKyAxLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChkcmFnTGluZUZyb20ueSwgZHJhZ0xpbmVUby55KSArIExJTkVfUFJFVklFV19XSURUSCArIDEgKyAxXG4gICAgICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgICAgICByZXBhaW50UmVjdChpbnZhbGlkYXRlUmVjdCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZU1vdmUuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vdXNlVXAgPSBmdW5jdGlvbihlLCBidXR0b24sIHByZXNzdXJlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlICYmIGJ1dHRvbiA9PSBCVVRUT05fUFJJTUFSWSkge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBmcm9tID0gY29vcmRUb0RvY3VtZW50KGRyYWdMaW5lRnJvbSksXG4gICAgICAgICAgICAgICAgICAgIHRvID0gY29vcmRUb0RvY3VtZW50KGRyYWdMaW5lVG8pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYXB0dXJlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdMaW5lKGZyb20sIHRvKTtcblxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkYXRlUmVjdCA9IG5ldyBDUFJlY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihkcmFnTGluZUZyb20ueCwgZHJhZ0xpbmVUby54KSAtIExJTkVfUFJFVklFV19XSURUSCAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihkcmFnTGluZUZyb20ueSwgZHJhZ0xpbmVUby55KSAtIExJTkVfUFJFVklFV19XSURUSCAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChkcmFnTGluZUZyb20ueCwgZHJhZ0xpbmVUby54KSArIExJTkVfUFJFVklFV19XSURUSCArIDEgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoZHJhZ0xpbmVGcm9tLnksIGRyYWdMaW5lVG8ueSkgKyBMSU5FX1BSRVZJRVdfV0lEVEggKyAxICsgMVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJlcGFpbnRSZWN0KGludmFsaWRhdGVSZWN0KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucGFpbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhcHR1cmUpIHtcbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LmxpbmVXaWR0aCA9IExJTkVfUFJFVklFV19XSURUSDtcbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQubW92ZVRvKGRyYWdMaW5lRnJvbS54LCBkcmFnTGluZUZyb20ueSk7XG4gICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dC5saW5lVG8oZHJhZ0xpbmVUby54LCBkcmFnTGluZVRvLnkpO1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERyYXcgdGhlIHJlZ3VsYXIgYnJ1c2ggcHJldmlldyBjaXJjbGVcbiAgICAgICAgICAgICAgICBDUERyYXdpbmdNb2RlLnByb3RvdHlwZS5wYWludC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIENQRHJhd2luZ01vZGUuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgXG4gICAgQ1BMaW5lTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQRHJhd2luZ01vZGUucHJvdG90eXBlKTtcbiAgICBDUExpbmVNb2RlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQTGluZU1vZGU7XG5cbiAgICBDUExpbmVNb2RlLnByb3RvdHlwZS5kcmF3TGluZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gICAgICAgIGFydHdvcmsuYmVnaW5TdHJva2UoZnJvbS54LCBmcm9tLnksIDEpO1xuICAgICAgICBhcnR3b3JrLmNvbnRpbnVlU3Ryb2tlKHRvLngsIHRvLnksIDEpO1xuICAgICAgICBhcnR3b3JrLmVuZFN0cm9rZSgpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBDUEJlemllck1vZGUoKSB7XG4gICAgICAgIGNvbnN0XG4gICAgICAgICAgICBCRVpJRVJfUE9JTlRTID0gNTAwLFxuICAgICAgICAgICAgQkVaSUVSX1BPSU5UU19QUkVWSUVXID0gMTAwO1xuXG4gICAgICAgIHZhclxuICAgICAgICAgICAgZHJhZ0Jlemllck1vZGUgPSAwLCAvLyAwIEluaXRpYWwgZHJhZywgMSBmaXJzdCBjb250cm9sIHBvaW50LCAyIHNlY29uZCBwb2ludFxuICAgICAgICAgICAgZHJhZ0JlemllclAwLCBkcmFnQmV6aWVyUDEsIGRyYWdCZXppZXJQMiwgZHJhZ0JlemllclAzO1xuXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZnVuY3Rpb24oZSwgYnV0dG9uLCBwcmVzc3VyZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNhcHR1cmUgJiYgYnV0dG9uID09IEJVVFRPTl9QUklNQVJZICYmICFlLmFsdEtleSAmJiAha2V5LmlzUHJlc3NlZChcInNwYWNlXCIpICYmIHNob3VsZERyYXdUb1RoaXNMYXllcigpKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIHAgPSBjb29yZFRvRG9jdW1lbnQoe3g6IG1vdXNlWCwgeTogbW91c2VZfSk7XG5cbiAgICAgICAgICAgICAgICBkcmFnQmV6aWVyTW9kZSA9IDA7XG4gICAgICAgICAgICAgICAgZHJhZ0JlemllclAwID0gZHJhZ0JlemllclAxID0gZHJhZ0JlemllclAyID0gZHJhZ0JlemllclAzID0gcDtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcHR1cmUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lcmFzZUJydXNoUHJldmlldygpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSGFuZGxlcyB0aGUgZmlyc3QgcGFydCBvZiB0aGUgQmV6aWVyIHdoZXJlIHRoZSB1c2VyIGRyYWdzIG91dCBhIHN0cmFpZ2h0IGxpbmVcbiAgICAgICAgdGhpcy5tb3VzZURyYWcgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlICYmIGRyYWdCZXppZXJNb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgcCA9IGNvb3JkVG9Eb2N1bWVudCh7eDogbW91c2VYLCB5OiBtb3VzZVl9KTtcblxuICAgICAgICAgICAgICAgIGRyYWdCZXppZXJQMiA9IGRyYWdCZXppZXJQMyA9IHA7XG5cbiAgICAgICAgICAgICAgICB0aGF0LnJlcGFpbnRBbGwoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlTW92ZS5jYWxsKHRoaXMsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubW91c2VVcCA9IGZ1bmN0aW9uKGUsIGJ1dHRvbiwgcHJlc3N1cmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhcHR1cmUgJiYgYnV0dG9uID09IEJVVFRPTl9QUklNQVJZKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRyYWdCZXppZXJNb2RlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ0Jlemllck1vZGUgPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZHJhZ0Jlemllck1vZGUgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkcmFnQmV6aWVyTW9kZSA9IDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkcmFnQmV6aWVyTW9kZSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgICAgIHAwID0gZHJhZ0JlemllclAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcDEgPSBkcmFnQmV6aWVyUDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwMiA9IGRyYWdCZXppZXJQMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHAzID0gZHJhZ0JlemllclAzLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBiZXppZXIgPSBuZXcgQ1BCZXppZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGJlemllci54MCA9IHAwLng7XG4gICAgICAgICAgICAgICAgICAgIGJlemllci55MCA9IHAwLnk7XG4gICAgICAgICAgICAgICAgICAgIGJlemllci54MSA9IHAxLng7XG4gICAgICAgICAgICAgICAgICAgIGJlemllci55MSA9IHAxLnk7XG4gICAgICAgICAgICAgICAgICAgIGJlemllci54MiA9IHAyLng7XG4gICAgICAgICAgICAgICAgICAgIGJlemllci55MiA9IHAyLnk7XG4gICAgICAgICAgICAgICAgICAgIGJlemllci54MyA9IHAzLng7XG4gICAgICAgICAgICAgICAgICAgIGJlemllci55MyA9IHAzLnk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IG5ldyBBcnJheShCRVpJRVJfUE9JTlRTKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBuZXcgQXJyYXkoQkVaSUVSX1BPSU5UUyk7XG5cbiAgICAgICAgICAgICAgICAgICAgYmV6aWVyLmNvbXB1dGUoeCwgeSwgQkVaSUVSX1BPSU5UUyk7XG5cbiAgICAgICAgICAgICAgICAgICAgYXJ0d29yay5iZWdpblN0cm9rZSh4WzBdLCB5WzBdLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBCRVpJRVJfUE9JTlRTOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFydHdvcmsuY29udGludWVTdHJva2UoeFtpXSwgeVtpXSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJ0d29yay5lbmRTdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5yZXBhaW50QWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5tb3VzZU1vdmUgPSBmdW5jdGlvbihlLCBwcmVzc3VyZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZSkge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBwID0gY29vcmRUb0RvY3VtZW50KHt4OiBtb3VzZVgsIHk6IG1vdXNlWX0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRyYWdCZXppZXJNb2RlID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ0JlemllclAxID0gcDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRyYWdCZXppZXJNb2RlID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ0JlemllclAyID0gcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhhdC5yZXBhaW50QWxsKCk7IC8vIEZJWE1FOiByZXBhaW50IG9ubHkgdGhlIGJlemllciByZWdpb25cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEcmF3IHRoZSBub3JtYWwgYnJ1c2ggcHJldmlldyB3aGlsZSBub3QgaW4gdGhlIG1pZGRsZSBvZiBhIGJlemllciBvcGVyYXRpb25cbiAgICAgICAgICAgICAgICBDUERyYXdpbmdNb2RlLnByb3RvdHlwZS5tb3VzZU1vdmUuY2FsbCh0aGlzLCBlLCBwcmVzc3VyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5wYWludCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZSkge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBiZXppZXIgPSBuZXcgQ1BCZXppZXIoKSxcblxuICAgICAgICAgICAgICAgICAgICBwMCA9IGNvb3JkVG9EaXNwbGF5KGRyYWdCZXppZXJQMCksXG4gICAgICAgICAgICAgICAgICAgIHAxID0gY29vcmRUb0Rpc3BsYXkoZHJhZ0JlemllclAxKSxcbiAgICAgICAgICAgICAgICAgICAgcDIgPSBjb29yZFRvRGlzcGxheShkcmFnQmV6aWVyUDIpLFxuICAgICAgICAgICAgICAgICAgICBwMyA9IGNvb3JkVG9EaXNwbGF5KGRyYWdCZXppZXJQMyk7XG5cbiAgICAgICAgICAgICAgICBiZXppZXIueDAgPSBwMC54O1xuICAgICAgICAgICAgICAgIGJlemllci55MCA9IHAwLnk7XG4gICAgICAgICAgICAgICAgYmV6aWVyLngxID0gcDEueDtcbiAgICAgICAgICAgICAgICBiZXppZXIueTEgPSBwMS55O1xuICAgICAgICAgICAgICAgIGJlemllci54MiA9IHAyLng7XG4gICAgICAgICAgICAgICAgYmV6aWVyLnkyID0gcDIueTtcbiAgICAgICAgICAgICAgICBiZXppZXIueDMgPSBwMy54O1xuICAgICAgICAgICAgICAgIGJlemllci55MyA9IHAzLnk7XG5cbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgeCA9IG5ldyBBcnJheShCRVpJRVJfUE9JTlRTX1BSRVZJRVcpLFxuICAgICAgICAgICAgICAgICAgICB5ID0gbmV3IEFycmF5KEJFWklFUl9QT0lOVFNfUFJFVklFVyk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJlemllci5jb21wdXRlKHgsIHksIEJFWklFUl9QT0lOVFNfUFJFVklFVyk7XG5cbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQubW92ZVRvKHhbMF0sIHlbMF0pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgQkVaSUVSX1BPSU5UU19QUkVWSUVXOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dC5saW5lVG8oeFtpXSwgeVtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQubW92ZVRvKH5+cDAueCwgfn5wMC55KTtcbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LmxpbmVUbyh+fnAxLngsIH5+cDEueSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dC5tb3ZlVG8ofn5wMi54LCB+fnAyLnkpO1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQubGluZVRvKH5+cDMueCwgfn5wMy55KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBQYWludCB0aGUgcmVndWxhciBicnVzaCBwcmV2aWV3XG4gICAgICAgICAgICAgICAgQ1BEcmF3aW5nTW9kZS5wcm90b3R5cGUucGFpbnQuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBDUERyYXdpbmdNb2RlLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIFxuICAgIENQQmV6aWVyTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQRHJhd2luZ01vZGUucHJvdG90eXBlKTtcbiAgICBDUEJlemllck1vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BCZXppZXJNb2RlO1xuXG4gICAgZnVuY3Rpb24gQ1BDb2xvclBpY2tlck1vZGUoKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIG1vdXNlQnV0dG9uO1xuXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZnVuY3Rpb24oZSwgYnV0dG9uLCBwcmVzc3VyZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgha2V5LmlzUHJlc3NlZChcInNwYWNlXCIpICYmIChidXR0b24gPT0gQlVUVE9OX1BSSU1BUlkgJiYgKCF0aGlzLnRyYW5zaWVudCB8fCBlLmFsdEtleSkgfHwgYnV0dG9uID09IEJVVFRPTl9TRUNPTkRBUlkpKSB7XG4gICAgICAgICAgICAgICAgbW91c2VCdXR0b24gPSBidXR0b247XG4gICAgICAgICAgICAgICAgdGhpcy5jYXB0dXJlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHNldEN1cnNvcihDVVJTT1JfQ1JPU1NIQUlSKTtcblxuICAgICAgICAgICAgICAgIHRoaXMubW91c2VEcmFnKGUpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHJhbnNpZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgbm90IHNhbXBsaW5nIGFuZCB3ZSBnZXQgYSBidXR0b24gbm90IGludGVuZGVkIGZvciB1cywgd2UgcHJvYmFibHkgc2hvdWxkbid0IGJlIG9uIHRoZSBzdGFja1xuICAgICAgICAgICAgICAgIG1vZGVTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vdXNlRHJhZyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhcHR1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgcGYgPSBjb29yZFRvRG9jdW1lbnQoe3g6IG1vdXNlWCwgeTogbW91c2VZfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXJ0d29yay5pc1BvaW50V2l0aGluKHBmLngsIHBmLnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuc2V0Q3VyQ29sb3JSZ2IoYXJ0d29yay5jb2xvclBpY2tlcihwZi54LCBwZi55KSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5tb3VzZVVwID0gZnVuY3Rpb24oZSwgYnV0dG9uLCBwcmVzc3VyZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZSAmJiBidXR0b24gPT0gbW91c2VCdXR0b24pIHtcbiAgICAgICAgICAgICAgICBtb3VzZUJ1dHRvbiA9IC0xO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNldEN1cnNvcihDVVJTT1JfREVGQVVMVCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2llbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZW50ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIENQTW9kZS5wcm90b3R5cGUuZW50ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIG1vdXNlQnV0dG9uID0gLTE7XG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIENQQ29sb3JQaWNrZXJNb2RlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BNb2RlLnByb3RvdHlwZSk7XG4gICAgQ1BDb2xvclBpY2tlck1vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BDb2xvclBpY2tlck1vZGU7XG5cbiAgICBmdW5jdGlvbiBDUFBhbk1vZGUoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgcGFubmluZ1gsIHBhbm5pbmdZLFxuICAgICAgICAgICAgcGFubmluZ09mZnNldCxcbiAgICAgICAgICAgIHBhbm5pbmdCdXR0b247XG5cbiAgICAgICAgdGhpcy5rZXlEb3duID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAzMiAvKiBTcGFjZSAqLykge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIG5vdCBhbHJlYWR5IHBhbm5pbmcsIHRoZW4gYWR2ZXJ0aXNlIHRoYXQgYSBsZWZ0LWNsaWNrIHdvdWxkIHBhblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jYXB0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnNvcihDVVJTT1JfUEFOTkFCTEUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMua2V5VXAgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2llbnQgJiYgcGFubmluZ0J1dHRvbiAhPSBCVVRUT05fV0hFRUwgJiYgZS5rZXlDb2RlID09IDMyIC8qIFNwYWNlICovKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3Vyc29yKENVUlNPUl9ERUZBVUxUKTtcblxuICAgICAgICAgICAgICAgIG1vZGVTdGFjay5wb3AoKTsgLy8geWllbGQgY29udHJvbCB0byB0aGUgZGVmYXVsdCBtb2RlXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZ1bmN0aW9uKGUsIGJ1dHRvbiwgcHJlc3N1cmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhcHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uID09IEJVVFRPTl9XSEVFTCB8fCBrZXkuaXNQcmVzc2VkKFwic3BhY2VcIikgJiYgYnV0dG9uID09IEJVVFRPTl9QUklNQVJZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXB0dXJlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwYW5uaW5nQnV0dG9uID0gYnV0dG9uO1xuICAgICAgICAgICAgICAgIHBhbm5pbmdYID0gZS5wYWdlWDtcbiAgICAgICAgICAgICAgICBwYW5uaW5nWSA9IGUucGFnZVk7XG4gICAgICAgICAgICAgICAgcGFubmluZ09mZnNldCA9IHRoYXQuZ2V0T2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgc2V0Q3Vyc29yKENVUlNPUl9QQU5OSU5HKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRyYW5zaWVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIG5vdCBwYW5uaW5nIGFuZCB3ZSBnZXQgYSBidXR0b24gbm90IGludGVuZGVkIGZvciB1cywgd2UgcHJvYmFibHkgc2hvdWxkbid0IGJlIG9uIHRoZSBzdGFja1xuICAgICAgICAgICAgICAgIG1vZGVTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vdXNlRHJhZyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhcHR1cmUpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnNldE9mZnNldChwYW5uaW5nT2Zmc2V0LnggKyBlLnBhZ2VYIC0gcGFubmluZ1gsIHBhbm5pbmdPZmZzZXQueSArIGUucGFnZVkgLSBwYW5uaW5nWSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vdXNlVXAgPSBmdW5jdGlvbihlLCBidXR0b24sIHByZXNzdXJlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlICYmIGJ1dHRvbiA9PSBwYW5uaW5nQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgcGFubmluZ0J1dHRvbiA9IC0xO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNpZW50ICYmICFrZXkuaXNQcmVzc2VkKFwic3BhY2VcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3Vyc29yKENVUlNPUl9ERUZBVUxUKTtcblxuICAgICAgICAgICAgICAgICAgICBtb2RlU3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5lbnRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2V0Q3Vyc29yKENVUlNPUl9QQU5OQUJMRSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIENQUGFuTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQTW9kZS5wcm90b3R5cGUpO1xuICAgIENQUGFuTW9kZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUEZsb29kRmlsbE1vZGU7XG5cbiAgICBmdW5jdGlvbiBDUEZsb29kRmlsbE1vZGUoKSB7XG4gICAgfVxuICAgIFxuICAgIENQRmxvb2RGaWxsTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQTW9kZS5wcm90b3R5cGUpO1xuICAgIENQRmxvb2RGaWxsTW9kZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUEZsb29kRmlsbE1vZGU7XG5cbiAgICBDUEZsb29kRmlsbE1vZGUucHJvdG90eXBlLm1vdXNlRG93biA9IGZ1bmN0aW9uKGUsIGJ1dHRvbiwgcHJlc3N1cmUpIHtcbiAgICAgICAgaWYgKGJ1dHRvbiA9PSBCVVRUT05fUFJJTUFSWSAmJiAhZS5hbHRLZXkgJiYgIWtleS5pc1ByZXNzZWQoXCJzcGFjZVwiKSAmJiBzaG91bGREcmF3VG9UaGlzTGF5ZXIoKSkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgcGYgPSBjb29yZFRvRG9jdW1lbnQoe3g6IG1vdXNlWCwgeTogbW91c2VZfSk7XG5cbiAgICAgICAgICAgIGlmIChhcnR3b3JrLmlzUG9pbnRXaXRoaW4ocGYueCwgcGYueSkpIHtcbiAgICAgICAgICAgICAgICBhcnR3b3JrLmZsb29kRmlsbChwZi54LCBwZi55KTtcbiAgICAgICAgICAgICAgICB0aGF0LnJlcGFpbnRBbGwoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gQ1BSZWN0U2VsZWN0aW9uTW9kZSgpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBmaXJzdENsaWNrLFxuICAgICAgICAgICAgY3VyUmVjdCA9IG5ldyBDUFJlY3QoMCwgMCwgMCwgMCksXG4gICAgICAgICAgICBzZWxlY3RpbmdCdXR0b24gPSAtMTtcblxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZ1bmN0aW9uIChlLCBidXR0b24sIHByZXNzdXJlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FwdHVyZSAmJiBidXR0b24gPT0gQlVUVE9OX1BSSU1BUlkgJiYgIWUuYWx0S2V5ICYmICFrZXkuaXNQcmVzc2VkKFwic3BhY2VcIikpIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgcCA9IGNvb3JkVG9Eb2N1bWVudEludCh7eDogbW91c2VYLCB5OiBtb3VzZVl9KTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdGluZ0J1dHRvbiA9IGJ1dHRvbjtcblxuICAgICAgICAgICAgICAgIGN1clJlY3QubWFrZUVtcHR5KCk7XG4gICAgICAgICAgICAgICAgZmlyc3RDbGljayA9IHA7XG5cbiAgICAgICAgICAgICAgICB0aGF0LnJlcGFpbnRBbGwoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vdXNlRHJhZyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYXB0dXJlKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgcCA9IGNvb3JkVG9Eb2N1bWVudEludCh7eDogbW91c2VYLCB5OiBtb3VzZVl9KSxcbiAgICAgICAgICAgICAgICBzcXVhcmUgPSBlLnNoaWZ0S2V5LFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNxdWFyZURpc3QgPSB+fk1hdGgubWF4KE1hdGguYWJzKHAueCAtIGZpcnN0Q2xpY2sueCksIE1hdGguYWJzKHAueSAtIGZpcnN0Q2xpY2sueSkpO1xuXG4gICAgICAgICAgICBpZiAocC54ID49IGZpcnN0Q2xpY2sueCkge1xuICAgICAgICAgICAgICAgIGN1clJlY3QubGVmdCA9IGZpcnN0Q2xpY2sueDtcbiAgICAgICAgICAgICAgICBjdXJSZWN0LnJpZ2h0ID0gKHNxdWFyZSA/IGZpcnN0Q2xpY2sueCArIHNxdWFyZURpc3QgOiBwLngpICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VyUmVjdC5sZWZ0ID0gc3F1YXJlID8gZmlyc3RDbGljay54IC0gc3F1YXJlRGlzdCA6IHAueDtcbiAgICAgICAgICAgICAgICBjdXJSZWN0LnJpZ2h0ID0gZmlyc3RDbGljay54ICsgMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHAueSA+PSBmaXJzdENsaWNrLnkpIHtcbiAgICAgICAgICAgICAgICBjdXJSZWN0LnRvcCA9IGZpcnN0Q2xpY2sueTtcbiAgICAgICAgICAgICAgICBjdXJSZWN0LmJvdHRvbSA9IChzcXVhcmUgPyBmaXJzdENsaWNrLnkgKyBzcXVhcmVEaXN0IDogcC55KSArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1clJlY3QudG9wID0gc3F1YXJlID8gZmlyc3RDbGljay55IC0gc3F1YXJlRGlzdCA6IHAueTtcbiAgICAgICAgICAgICAgICBjdXJSZWN0LmJvdHRvbSA9IGZpcnN0Q2xpY2sueSArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoYXQucmVwYWludEFsbCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vdXNlVXAgPSBmdW5jdGlvbiAoZSwgYnV0dG9uLCBwcmVzc3VyZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZSAmJiBidXR0b24gPT0gc2VsZWN0aW5nQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgYXJ0d29yay5yZWN0YW5nbGVTZWxlY3Rpb24oY3VyUmVjdCk7XG4gICAgICAgICAgICAgICAgY3VyUmVjdC5tYWtlRW1wdHkoKTtcblxuICAgICAgICAgICAgICAgIHRoYXQucmVwYWludEFsbCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYXB0dXJlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW5nQnV0dG9uID0gLTE7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnBhaW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIWN1clJlY3QuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dC5saW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgICAgIHBsb3RTZWxlY3Rpb25SZWN0KGNhbnZhc0NvbnRleHQsIGN1clJlY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIENQUmVjdFNlbGVjdGlvbk1vZGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUE1vZGUucHJvdG90eXBlKTtcbiAgICBDUFJlY3RTZWxlY3Rpb25Nb2RlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQUmVjdFNlbGVjdGlvbk1vZGU7XG5cbiAgICBmdW5jdGlvbiBDUE1vdmVUb29sTW9kZSgpIHtcbiAgICAgICAgdmFyIFxuICAgICAgICAgICAgbGFzdFBvaW50LFxuICAgICAgICAgICAgY29weU1vZGUsXG4gICAgICAgICAgICBmaXJzdE1vdmUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZ1bmN0aW9uKGUsIGJ1dHRvbiwgcHJlc3N1cmUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYXB0dXJlICYmIGJ1dHRvbiA9PSBCVVRUT05fUFJJTUFSWSAmJiAha2V5LmlzUHJlc3NlZChcInNwYWNlXCIpICYmIHNob3VsZERyYXdUb1RoaXNMYXllcigpKSB7XG4gICAgICAgICAgICAgICAgbGFzdFBvaW50ID0gY29vcmRUb0RvY3VtZW50KHt4OiBtb3VzZVgsIHk6IG1vdXNlWX0pO1xuXG4gICAgICAgICAgICAgICAgY29weU1vZGUgPSBlLmFsdEtleTtcbiAgICAgICAgICAgICAgICBmaXJzdE1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vdXNlRHJhZyA9IHRocm90dGxlKDI1LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIHAgPSBjb29yZFRvRG9jdW1lbnQoe3g6IG1vdXNlWCwgeTogbW91c2VZfSksXG5cbiAgICAgICAgICAgICAgICAgICAgbW92ZUZsb2F0ID0ge3g6IHAueCAtIGxhc3RQb2ludC54LCB5OiBwLnkgLSBsYXN0UG9pbnQueX0sXG4gICAgICAgICAgICAgICAgICAgIG1vdmVJbnQgPSB7eDogfn5tb3ZlRmxvYXQueCwgeTogfn5tb3ZlRmxvYXQueX07IC8vIFJvdW5kIHRvd2FyZHMgemVyb1xuXG4gICAgICAgICAgICAgICAgYXJ0d29yay5tb3ZlKG1vdmVJbnQueCwgbW92ZUludC55LCBjb3B5TW9kZSAmJiBmaXJzdE1vdmUpO1xuXG4gICAgICAgICAgICAgICAgZmlyc3RNb3ZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIE51ZGdlIHRoZSBsYXN0IHBvaW50IGJ5IHRoZSByZW1haW5kZXIgd2Ugd2VyZW4ndCBhYmxlIHRvIG1vdmUgdGhpcyBpdGVyYXRpb24gKGR1ZSB0byBtb3ZlKCkgb25seVxuICAgICAgICAgICAgICAgICAqIGFjY2VwdGluZyBpbnRlZ2VyIG9mZnNldHMpLiBUaGlzJ2xsIGNhcnJ5IHRoYXQgZnJhY3Rpb25hbCBwYXJ0IG9mIHRoZSBtb3ZlIG92ZXIgZm9yIG5leHQgaXRlcmF0aW9uLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGxhc3RQb2ludC54ID0gcC54IC0gKG1vdmVGbG9hdC54IC0gbW92ZUludC54KTtcbiAgICAgICAgICAgICAgICBsYXN0UG9pbnQueSA9IHAueSAtIChtb3ZlRmxvYXQueSAtIG1vdmVJbnQueSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5tb3VzZVVwID0gZnVuY3Rpb24oZSwgYnV0dG9uLCBwcmVzc3VyZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZSAmJiBidXR0b24gPT0gQlVUVE9OX1BSSU1BUlkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcHR1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2llbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBDUE1vdmVUb29sTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQTW9kZS5wcm90b3R5cGUpO1xuICAgIENQTW92ZVRvb2xNb2RlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQTW92ZVRvb2xNb2RlO1xuXG4gICAgQ1BNb3ZlVG9vbE1vZGUucHJvdG90eXBlLm1vdXNlTW92ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCFrZXkuaXNQcmVzc2VkKFwic3BhY2VcIikgJiYgIWUuYWx0S2V5KSB7XG4gICAgICAgICAgICBzZXRDdXJzb3IoQ1VSU09SX01PVkUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ1BNb3ZlVG9vbE1vZGUucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldEN1cnNvcihDVVJTT1JfTU9WRSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIENQVHJhbnNmb3JtTW9kZSgpIHtcbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIEhBTkRMRV9SQURJVVMgPSAzLFxuXG4gICAgICAgICAgICBEUkFHX05PTkUgPSAtMSxcbiAgICAgICAgICAgIERSQUdfUk9UQVRFID0gLTIsXG4gICAgICAgICAgICBEUkFHX01PVkUgPSAtMyxcbiAgICAgICAgICAgIERSQUdfTldfQ09STkVSID0gMCxcbiAgICAgICAgICAgIERSQUdfTl9FREdFID0gMSxcbiAgICAgICAgICAgIERSQUdfTkVfQ09STkVSID0gMixcbiAgICAgICAgICAgIERSQUdfRV9FREdFID0gMyxcbiAgICAgICAgICAgIERSQUdfU0VfQ09STkVSID0gNCxcbiAgICAgICAgICAgIERSQUdfU19FREdFID0gNSxcbiAgICAgICAgICAgIERSQUdfU1dfQ09STkVSID0gNixcbiAgICAgICAgICAgIERSQUdfV19FREdFID0gNztcblxuICAgICAgICB2YXJcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7Q1BUcmFuc2Zvcm19IFRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uICovXG4gICAgICAgICAgICBhZmZpbmUsXG4gICAgICAgICAgICAvKiogQHR5cGUge0NQUmVjdH0gVGhlIGluaXRpYWwgZG9jdW1lbnQgcmVjdGFuZ2xlIHRvIHRyYW5zZm9ybSAqL1xuICAgICAgICAgICAgc3JjUmVjdCxcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7Q1BQb2x5Z29ufSBUaGUgaW5pdGlhbCB0cmFuc2Zvcm0gcmVjdCAqL1xuICAgICAgICAgICAgb3JpZ0Nvcm5lclBvaW50cyxcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7Q1BQb2x5Z29ufSBUaGUgY3VycmVudCBjb3JuZXJzIG9mIHRoZSB0cmFuc2Zvcm0gcmVjdCBpbiBkb2N1bWVudCBzcGFjZSAqL1xuICAgICAgICAgICAgY29ybmVyUG9pbnRzLFxuXG4gICAgICAgICAgICBkcmFnZ2luZ01vZGUgPSBEUkFHX05PTkUsXG5cbiAgICAgICAgICAgIGxhc3REcmFnUG9pbnREaXNwbGF5LFxuICAgICAgICAgICAgbGFzdERyYWdQb2ludERvYyxcblxuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBob3cgbWFueSBkZWdyZWVzIHdlJ3ZlIHJvdGF0ZWQgc28gZmFyIGR1cmluZyB0aGlzIHRyYW5zZm9ybWF0aW9uXG4gICAgICAgICAgICByb3RhdGlvbkFjY3VtdWxhdG9yO1xuXG5cdFx0LyoqXG4gICAgICAgICAqIEdldCB0aGUgcG9seWdvbiB0aGF0IHJlcHJlc2VudHMgdGhlIGN1cnJlbnQgdHJhbnNmb3JtIHJlc3VsdCBhcmVhIGluIGRpc3BsYXkgY29vcmRpbmF0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtDUFBvbHlnb259XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjb3JuZXJzVG9EaXNwbGF5UG9seWdvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBjb3JuZXJQb2ludHMuZ2V0VHJhbnNmb3JtZWQodHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGF2ZXJhZ2VQb2ludHMocDEsIHAyKSB7XG4gICAgICAgICAgICByZXR1cm4ge3g6IChwMS54ICsgcDIueCkgLyAyLCB5OiAocDEueSArIHAyLnkpIC8gMn07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByb3VuZFBvaW50KHApIHtcbiAgICAgICAgICAgIHJldHVybiB7eCA6IE1hdGgucm91bmQocC54KSwgeTogTWF0aC5yb3VuZChwLnkpfTtcbiAgICAgICAgfVxuXG5cdFx0LyoqXG4gICAgICAgICAqIERlY2lkZSB3aGljaCBkcmFnIGFjdGlvbiBzaG91bGQgYmUgdGFrZW4gaWYgb3VyIG1vdXNlIHdhcyBwcmVzc2VkIGluIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtDUFBvbHlnb259IGNvcm5lcnMgLSBUaGUgY29ybmVycyBvZiB0aGUgY3VycmVudCB0cmFuc2Zvcm0gYXJlYVxuICAgICAgICAgKiBAcGFyYW0gbW91c2UgLSBUaGUgbW91c2UgcG9pbnRcbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gQSBEUkFHXyogY29uc3RhbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNsYXNzaWZ5RHJhZ0FjdGlvbihjb3JuZXJzLCBtb3VzZSkge1xuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBIQU5ETEVfQ0FQVFVSRV9SQURJVVMgPSA3LFxuICAgICAgICAgICAgICAgIEhBTkRMRV9DQVBUVVJFX1JBRElVU19TUVIgPSBIQU5ETEVfQ0FQVFVSRV9SQURJVVMgKiBIQU5ETEVfQ0FQVFVSRV9SQURJVVMsXG4gICAgICAgICAgICAgICAgRURHRV9DQVBUVVJFX1JBRElVUyA9IEhBTkRMRV9DQVBUVVJFX1JBRElVUyxcbiAgICAgICAgICAgICAgICBFREdFX0NBUFRVUkVfUkFESVVTX1NRUiA9IEVER0VfQ0FQVFVSRV9SQURJVVMgKiBFREdFX0NBUFRVUkVfUkFESVVTO1xuXG4gICAgICAgICAgICAvLyBBcmUgd2UgZHJhZ2dpbmcgYSBjb3JuZXI/XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvcm5lcnMucG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKChtb3VzZS54IC0gY29ybmVycy5wb2ludHNbaV0ueCkgKiAobW91c2UueCAtIGNvcm5lcnMucG9pbnRzW2ldLngpICsgKG1vdXNlLnkgLSBjb3JuZXJzLnBvaW50c1tpXS55KSAqIChtb3VzZS55IC0gY29ybmVycy5wb2ludHNbaV0ueSkgPD0gSEFORExFX0NBUFRVUkVfUkFESVVTX1NRUikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAqIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBcmUgd2UgZHJhZ2dpbmcgYW4gZWRnZT9cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29ybmVycy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgZWRnZVAxID0gY29ybmVycy5wb2ludHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VQMiA9IGNvcm5lcnMucG9pbnRzWyhpICsgMSkgJSBjb3JuZXJzLnBvaW50cy5sZW5ndGhdLFxuXG4gICAgICAgICAgICAgICAgICAgIHZFZGdlID0gbmV3IENQVmVjdG9yKGVkZ2VQMi54IC0gZWRnZVAxLngsIGVkZ2VQMi55IC0gZWRnZVAxLnkpLFxuICAgICAgICAgICAgICAgICAgICB2TW91c2UgPSBuZXcgQ1BWZWN0b3IobW91c2UueCAtIGVkZ2VQMS54LCBtb3VzZS55IC0gZWRnZVAxLnkpLFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdkVkZ2VMZW4gPSB2RWRnZS5nZXRMZW5ndGgoKSxcblxuICAgICAgICAgICAgICAgICAgICB2RWRnZVNjYWxlZCA9IHZFZGdlLmdldFNjYWxlZCgxIC8gdkVkZ2VMZW4pLFxuICAgICAgICAgICAgICAgICAgICB2TW91c2VTY2FsZWQgPSB2TW91c2UuZ2V0U2NhbGVkKDEgLyB2RWRnZUxlbiksXG5cbiAgICAgICAgICAgICAgICAgICAgbW91c2VQcm9wT25MaW5lID0gdkVkZ2VTY2FsZWQuZ2V0RG90UHJvZHVjdCh2TW91c2VTY2FsZWQpO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgd2l0aGluIHRoZSBlbmRzIG9mIHRoZSBsaW5lIChwZXJwZW5kaWN1bGFybHkgc3BlYWtpbmcpXG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlUHJvcE9uTGluZSA+PSAwLjAgJiYgbW91c2VQcm9wT25MaW5lIDw9IDEuMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGdpdmVzIHVzIHRoZSBwb2ludCBvbiB0aGUgbGluZSBjbG9zZXN0IHRvIHRoZSBtb3VzZVxuICAgICAgICAgICAgICAgICAgICB2RWRnZS5zY2FsZShtb3VzZVByb3BPbkxpbmUpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh2RWRnZS54IC0gdk1vdXNlLngpICogKHZFZGdlLnggLSB2TW91c2UueCkgKyAodkVkZ2UueSAtIHZNb3VzZS55KSAqICh2RWRnZS55IC0gdk1vdXNlLnkpIDw9IEVER0VfQ0FQVFVSRV9SQURJVVNfU1FSKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAqIDIgKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29ybmVycy5jb250YWluc1BvaW50KG1vdXNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBEUkFHX01PVkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBEUkFHX1JPVEFURTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldEN1cnNvckZvckhhbmRsZXMoKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBjb3JuZXJzID0gY29ybmVyc1RvRGlzcGxheVBvbHlnb24oKSxcbiAgICAgICAgICAgICAgICBtb3VzZSA9IHt4OiBtb3VzZVgsIHk6IG1vdXNlWX0sXG4gICAgICAgICAgICAgICAgZHJhZ0FjdGlvbiA9IGNsYXNzaWZ5RHJhZ0FjdGlvbihjb3JuZXJzLCBtb3VzZSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZHJhZ0FjdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgRFJBR19OV19DT1JORVI6XG4gICAgICAgICAgICAgICAgY2FzZSBEUkFHX05FX0NPUk5FUjpcbiAgICAgICAgICAgICAgICBjYXNlIERSQUdfU0VfQ09STkVSOlxuICAgICAgICAgICAgICAgIGNhc2UgRFJBR19TV19DT1JORVI6XG4gICAgICAgICAgICAgICAgICAgIC8vIENob29zZSBhIGN1cnNvciBmb3IgYSA0NS1kZWdyZWUgcmVzaXplIGZyb20gdGhpcyBjb3JuZXJcbiAgICAgICAgICAgICAgICAgICAgbGV0XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJJbmRleCA9IH5+KGRyYWdBY3Rpb24gLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lckJlZm9yZSA9IGNvcm5lcnMucG9pbnRzWyhjb3JuZXJJbmRleCArIDMpICUgNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXIgPSBjb3JuZXJzLnBvaW50c1tjb3JuZXJJbmRleF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJBZnRlciA9IGNvcm5lcnMucG9pbnRzWyhjb3JuZXJJbmRleCArIDEpICUgNF0sXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGEgdmVjdG9yIHdoaWNoIHBvaW50cyA0NSBkZWdyZWVzIHRvd2FyZCB0aGUgY2VudGVyIG9mIHRoZSBib3gsIHRoaXMnbGwgZG8gZm9yIGN1cnNvciBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHY0NSA9IENQVmVjdG9yLnN1YnRyYWN0UG9pbnRzKGNvcm5lckJlZm9yZSwgY29ybmVyKS5ub3JtYWxpemUoKS5hZGQoQ1BWZWN0b3Iuc3VidHJhY3RQb2ludHMoY29ybmVyQWZ0ZXIsIGNvcm5lcikubm9ybWFsaXplKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFJlc2l6ZUN1cnNvckZvclZlY3Rvcih2NDUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERSQUdfTl9FREdFOlxuICAgICAgICAgICAgICAgIGNhc2UgRFJBR19FX0VER0U6XG4gICAgICAgICAgICAgICAgY2FzZSBEUkFHX1NfRURHRTpcbiAgICAgICAgICAgICAgICBjYXNlIERSQUdfV19FREdFOlxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNpemluZyBmcm9tIGhlcmUgd2lsbCBtb3ZlIGVkZ2UgcGVycGVuZGljdWxhcmx5XG4gICAgICAgICAgICAgICAgICAgIGxldFxuICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyMSA9IGNvcm5lcnMucG9pbnRzW35+KGRyYWdBY3Rpb24gLyAyKV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXIyID0gY29ybmVycy5wb2ludHNbKH5+KGRyYWdBY3Rpb24gLyAyKSArIDEpICUgNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2UGVycCA9IENQVmVjdG9yLnN1YnRyYWN0UG9pbnRzKGNvcm5lcjIsIGNvcm5lcjEpLmdldFBlcnBlbmRpY3VsYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNpemVDdXJzb3JGb3JWZWN0b3IodlBlcnApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERSQUdfTU9WRTpcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3Vyc29yKENVUlNPUl9NT1ZFKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBEUkFHX1JPVEFURTpcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3Vyc29yKENVUlNPUl9ERUZBVUxUKTsgLy8gVE9ETyBhZGQgYSBjdXN0b20gcm90YXRpb24gY3Vyc29yXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnNvcihDVVJTT1JfREVGQVVMVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZ1bmN0aW9uKGUsIGJ1dHRvbiwgcHJlc3N1cmUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYXB0dXJlICYmIGJ1dHRvbiA9PSBCVVRUT05fUFJJTUFSWSAmJiAhZS5hbHRLZXkgJiYgIWtleS5pc1ByZXNzZWQoXCJzcGFjZVwiKSkge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBjb3JuZXJzID0gY29ybmVyc1RvRGlzcGxheVBvbHlnb24oKTtcblxuICAgICAgICAgICAgICAgIGRyYWdnaW5nTW9kZSA9IGNsYXNzaWZ5RHJhZ0FjdGlvbihjb3JuZXJzLCB7eDogbW91c2VYLCB5OiBtb3VzZVl9KTtcblxuICAgICAgICAgICAgICAgIGxhc3REcmFnUG9pbnREaXNwbGF5ID0ge3g6IG1vdXNlWCwgeTogbW91c2VZfTtcbiAgICAgICAgICAgICAgICBsYXN0RHJhZ1BvaW50RG9jID0gY29vcmRUb0RvY3VtZW50KGxhc3REcmFnUG9pbnREaXNwbGF5KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBzZXRDdXJzb3JGb3JIYW5kbGVzKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vdXNlRHJhZyA9IHRocm90dGxlKDQwLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIE1JTl9TQ0FMRSA9IDAuMDAxO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdQb2ludERpc3BsYXkgPSB7eDogbW91c2VYLCB5OiBtb3VzZVl9O1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChkcmFnZ2luZ01vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEUkFHX01PVkU6XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnUG9pbnREb2MgPSByb3VuZFBvaW50KGNvb3JkVG9Eb2N1bWVudChkcmFnUG9pbnREaXNwbGF5KSksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbiA9IENQVmVjdG9yLnN1YnRyYWN0UG9pbnRzKGRyYWdQb2ludERvYywgbGFzdERyYWdQb2ludERvYyksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHRyYW5zbGF0ZSBpbiB3aG9sZS1waXhlbCBpbmNyZW1lbnRzIChpbiBkb2N1bWVudCBzcGFjZSBub3QgY2FudmFzIHNwYWNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uUm91bmRlZCA9IHRyYW5zbGF0aW9uLmdldFRydW5jYXRlZCgpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25SZW1haW5kZXIgPSB0cmFuc2xhdGlvbi5zdWJ0cmFjdCh0cmFuc2xhdGlvblJvdW5kZWQpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlSW5zdGFuY2UgPSBuZXcgQ1BUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEFwcGx5IHRoZSB0cmFuc2xhdGUgKmFmdGVyKiB0aGUgY3VycmVudCBhZmZpbmUgaXMgYXBwbGllZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlSW5zdGFuY2UudHJhbnNsYXRlKHRyYW5zbGF0aW9uUm91bmRlZC54LCB0cmFuc2xhdGlvblJvdW5kZWQueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFmZmluZS5wcmVNdWx0aXBseSh0cmFuc2xhdGVJbnN0YW5jZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFjY3VtdWxhdGUgdGhlIGZyYWN0aW9uYWwgbW92ZSB0aGF0IHdlIGRpZG4ndCBhcHBseSBmb3IgbmV4dCB0aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0RHJhZ1BvaW50RG9jID0gQ1BWZWN0b3Iuc3VidHJhY3RQb2ludHMoZHJhZ1BvaW50RG9jLCB0cmFuc2xhdGlvblJlbWFpbmRlcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIERSQUdfUk9UQVRFOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEUkFHX1JPVEFURV9TTkFQX0FOR0xFID0gTWF0aC5QSSAvIDQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlckRvYyA9IGNvcm5lclBvaW50cy5nZXRDZW50ZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJEaXNwbGF5ID0gY29vcmRUb0Rpc3BsYXkoY2VudGVyRG9jKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZE1vdXNlQW5nbGUgPSBNYXRoLmF0YW4yKGxhc3REcmFnUG9pbnREaXNwbGF5LnkgLSBjZW50ZXJEaXNwbGF5LnksIGxhc3REcmFnUG9pbnREaXNwbGF5LnggLSBjZW50ZXJEaXNwbGF5LngpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld01vdXNlQW5nbGUgPSBNYXRoLmF0YW4yKGRyYWdQb2ludERpc3BsYXkueSAtIGNlbnRlckRpc3BsYXkueSwgZHJhZ1BvaW50RGlzcGxheS54IC0gY2VudGVyRGlzcGxheS54KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWx0YU1vdXNlQW5nbGUgPSBuZXdNb3VzZUFuZ2xlIC0gb2xkTW91c2VBbmdsZSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZUFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZUluc3RhbmNlID0gbmV3IENQVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uQWNjdW11bGF0b3IgKz0gZGVsdGFNb3VzZUFuZ2xlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogVGhlIHJvdGF0aW9uIGluIHRoZSBkZWNvbXBvc2l0aW9uIHdhcyBtYWRlIGFib3V0IHRoZSBvcmlnaW4uIFdlIHdhbnQgdG8gcm90YXRlIGFib3V0IHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGNlbnRlciBvZiB0aGUgc2VsZWN0aW9uLCBzbyBmaXJzdCByb3RhdGUgdGhlIHNlbGVjdGlvbiB0byBzcXVhcmUgaXQgdXAgd2l0aCB0aGUgYXhlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiB0aGVuIHdlJ2xsIHBpdm90IHRoZSBzZWxlY3Rpb24gYWJvdXQgaXRzIGNlbnRlciB0byB0aGUgbmV3IGFuZ2xlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZUFuZ2xlID0gLWFmZmluZS5kZWNvbXBvc2UoKS5yb3RhdGUgKyBNYXRoLnJvdW5kKHJvdGF0aW9uQWNjdW11bGF0b3IgLyBEUkFHX1JPVEFURV9TTkFQX0FOR0xFKSAqIERSQUdfUk9UQVRFX1NOQVBfQU5HTEU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZUFuZ2xlID0gZGVsdGFNb3VzZUFuZ2xlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBBcHBseSB0aGUgcm90YXRpb24gKmFmdGVyKiB0aGUgY3VycmVudCBhZmZpbmUgaW5zdGVhZCBvZiBiZWZvcmUgaXQsIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGVuZCB1cCBzY2FsaW5nIG9uIHRvcCBvZiB0aGUgcm90YXRlZCBzZWxlY3Rpb24gbGF0ZXIgKHdoaWNoIHdvdWxkIGNhdXNlIGFuIHVud2FudGVkIHNoZWFyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVJbnN0YW5jZS5yb3RhdGVBcm91bmRQb2ludChyb3RhdGVBbmdsZSwgY2VudGVyRG9jLngsIGNlbnRlckRvYy55KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYWZmaW5lLnByZU11bHRpcGx5KHJvdGF0ZUluc3RhbmNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdERyYWdQb2ludERpc3BsYXkgPSBkcmFnUG9pbnREaXNwbGF5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEUkFHX05XX0NPUk5FUjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEUkFHX05FX0NPUk5FUjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEUkFHX1NFX0NPUk5FUjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEUkFHX1NXX0NPUk5FUjpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmdDb3JuZXIgPSB+fihkcmFnZ2luZ01vZGUgLyAyKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZENvcm5lciA9IG9yaWdDb3JuZXJQb2ludHMucG9pbnRzW2RyYWdnaW5nQ29ybmVyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjb3JuZXIgd2UgZHJhZ2dlZCB3aWxsIG1vdmUgaW50byBpdHMgbmV3IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29ybmVyID0gYWZmaW5lLmdldEludmVydGVkKCkuZ2V0VHJhbnNmb3JtZWRQb2ludChyb3VuZFBvaW50KGNvb3JkVG9Eb2N1bWVudChkcmFnUG9pbnREaXNwbGF5KSkpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgb3Bwb3NpdGUgY29ybmVyIHRvIHRoZSBvbmUgd2UgZHJhZ2dlZCBtdXN0IG5vdCBtb3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZml4Q29ybmVyID0gb3JpZ0Nvcm5lclBvaW50cy5wb2ludHNbKGRyYWdnaW5nQ29ybmVyICsgMikgJSA0XSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyogTm93IHdlIGNhbiBzZWUgaG93IG11Y2ggd2UnZCBuZWVkIHRvIHNjYWxlIHRoZSBvcmlnaW5hbCByZWN0YW5nbGUgYWJvdXQgdGhlIGZpeGVkIGNvcm5lclxuICAgICAgICAgICAgICAgICAgICAgICAgICogZm9yIHRoZSBvdGhlciBjb3JuZXIgdG8gcmVhY2ggdGhlIG5ldyBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWCA9IChuZXdDb3JuZXIueCAtIGZpeENvcm5lci54KSAvIChvbGRDb3JuZXIueCAtIGZpeENvcm5lci54KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVkgPSAobmV3Q29ybmVyLnkgLSBmaXhDb3JuZXIueSkgLyAob2xkQ29ybmVyLnkgLSBmaXhDb3JuZXIueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBJZiB0aGUgdXNlciByZXNpemVkIGl0IHVudGlsIGl0IHdhcyB6ZXJvLXNpemVkLCBqdXN0IGlnbm9yZSB0aGF0IHBvc2l0aW9uIGFuZCBhc3N1bWUgdGhleSdsbCBtb3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBwYXN0IGl0IGluIGEgbXNlYy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHNjYWxlWCkgPCBNSU5fU0NBTEUgfHwgTWF0aC5hYnMoc2NhbGVZKSA8IE1JTl9TQ0FMRSB8fCBpc05hTihzY2FsZVgpIHx8IGlzTmFOKHNjYWxlWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9lcyB1c2VyIHdhbnQgcHJvcG9ydGlvbmFsIHJlc2l6ZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhcmdlc3RTY2FsZSA9IE1hdGgubWF4KHNjYWxlWCwgc2NhbGVZKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWCA9IGxhcmdlc3RTY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVkgPSBsYXJnZXN0U2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0cmFuc2Zvcm0gd2UgZG8gaGVyZSB3aWxsIGJlIHBlcmZvcm1lZCBmaXJzdCBiZWZvcmUgYW55IG9mIHRoZSBvdGhlciB0cmFuc2Zvcm1zIChzY2FsZSwgcm90YXRlLCBldGMpXG4gICAgICAgICAgICAgICAgICAgICAgICBhZmZpbmUuc2NhbGVBcm91bmRQb2ludChzY2FsZVgsIHNjYWxlWSwgZml4Q29ybmVyLngsIGZpeENvcm5lci55KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEUkFHX05fRURHRTpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEUkFHX1NfRURHRTpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEUkFHX0VfRURHRTpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEUkFHX1dfRURHRTpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVySW5kZXggPSB+fihkcmFnZ2luZ01vZGUgLyAyKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZEhhbmRsZSA9IGF2ZXJhZ2VQb2ludHMob3JpZ0Nvcm5lclBvaW50cy5wb2ludHNbY29ybmVySW5kZXhdLCBvcmlnQ29ybmVyUG9pbnRzLnBvaW50c1soY29ybmVySW5kZXggKyAxKSAlIDRdKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGhhbmRsZSB3ZSBkcmFnZ2VkIHdpbGwgbW92ZSBpbnRvIGl0cyBuZXcgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdIYW5kbGUgPSBhZmZpbmUuZ2V0SW52ZXJ0ZWQoKS5nZXRUcmFuc2Zvcm1lZFBvaW50KHJvdW5kUG9pbnQoY29vcmRUb0RvY3VtZW50KGRyYWdQb2ludERpc3BsYXkpKSksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBvcHBvc2l0ZSBoYW5kbGUgdG8gdGhlIG9uZSB3ZSBkcmFnZ2VkIG11c3Qgbm90IG1vdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXhIYW5kbGUgPSBhdmVyYWdlUG9pbnRzKG9yaWdDb3JuZXJQb2ludHMucG9pbnRzWyhjb3JuZXJJbmRleCArIDIpICUgNF0sIG9yaWdDb3JuZXJQb2ludHMucG9pbnRzWyhjb3JuZXJJbmRleCArIDMpICUgNF0pLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVYLCBzY2FsZVksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRWZWN0b3IgPSBDUFZlY3Rvci5zdWJ0cmFjdFBvaW50cyhvbGRIYW5kbGUsIGZpeEhhbmRsZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmVjdG9yID0gQ1BWZWN0b3Iuc3VidHJhY3RQb2ludHMobmV3SGFuZGxlLCBmaXhIYW5kbGUpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkTGVuZ3RoID0gb2xkVmVjdG9yLmdldExlbmd0aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugb25seSB0YWtlIHRoZSBsZW5ndGggaW4gdGhlIHBlcnBlbmRpY3VsYXIgZGlyZWN0aW9uIHRvIHRoZSB0cmFuc2Zvcm0gZWRnZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdMZW5ndGggPSBvbGRWZWN0b3IuZ2V0RG90UHJvZHVjdChuZXdWZWN0b3IpIC8gb2xkTGVuZ3RoLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2NhbGUgPSBuZXdMZW5ndGggLyBvbGRMZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBJZiB0aGUgdXNlciByZXNpemVkIGl0IHVudGlsIGl0IHdhcyB6ZXJvLXNpemVkLCBqdXN0IGlnbm9yZSB0aGF0IHBvc2l0aW9uIGFuZCBhc3N1bWUgdGhleSdsbCBtb3ZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBwYXN0IGl0IGluIGEgbXNlYy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKG5ld1NjYWxlKSA8IE1JTl9TQ0FMRSB8fCBpc05hTihuZXdTY2FsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdnaW5nTW9kZSA9PSBEUkFHX05fRURHRSB8fCBkcmFnZ2luZ01vZGUgPT0gRFJBR19TX0VER0UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVggPSAxLjA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVZID0gbmV3U2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWCA9IG5ld1NjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWSA9IDEuMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYWZmaW5lLnNjYWxlQXJvdW5kUG9pbnQoc2NhbGVYLCBzY2FsZVksIGZpeEhhbmRsZS54LCBmaXhIYW5kbGUueSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29ybmVyUG9pbnRzID0gb3JpZ0Nvcm5lclBvaW50cy5nZXRUcmFuc2Zvcm1lZChhZmZpbmUpO1xuXG4gICAgICAgICAgICAgICAgYXJ0d29yay50cmFuc2Zvcm1BZmZpbmVBbWVuZChhZmZpbmUpO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBtYWtlIG1lIG1vcmUgc3BlY2lmaWNcbiAgICAgICAgICAgICAgICB0aGF0LnJlcGFpbnRBbGwoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1vdXNlVXAgPSBmdW5jdGlvbihlLCBidXR0b24sIHByZXNzdXJlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlICYmIGJ1dHRvbiA9PSBCVVRUT05fUFJJTUFSWSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRyYWdnaW5nTW9kZSA9IERSQUdfTk9ORTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKlxuICAgICAgICAgKiBTZXQgYW4gYXBwcm9wcmlhdGUgcmVzaXplIGN1cnNvciBmb3IgdGhlIHNwZWNpZmllZCB2ZWN0b3IgZnJvbSB0aGUgY2VudGVyIHRvIHRoZSBoYW5kbGUuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzZXRSZXNpemVDdXJzb3JGb3JWZWN0b3Iodikge1xuICAgICAgICAgICAgbGV0XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBNYXRoLmF0YW4yKC12LnksIHYueCksXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAqIFNsaWNlIHVwIGludG8gNDUgZGVncmVlcyBzbGljZXMgc28gdGhhdCB0aGVyZSBhcmUgKy0yMi41IGRlZ3JlZXMgY2VudGVyZWQgYXJvdW5kIGVhY2ggY29ybmVyLFxuICAgICAgICAgICAgICAgICAqIGFuZCBhIDQ1IGRlZ3JlZSBzZWdtZW50IGZvciBlYWNoIGVkZ2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzbGljZSA9IE1hdGguZmxvb3IoYW5nbGUgLyAoTWF0aC5QSSAvIDQpICsgMC41KSxcbiAgICAgICAgICAgICAgICBjdXJzb3I7XG5cbiAgICAgICAgICAgIC8vIFdyYXAgYW5nbGVzIGJlbG93IHRoZSB4LWF4aXMgd3JhcCB0byBwb3NpdGl2ZSBvbmVzLi4uXG4gICAgICAgICAgICBpZiAoc2xpY2UgPCAwKSB7XG4gICAgICAgICAgICAgICAgc2xpY2UgKz0gNDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3dpdGNoIChzbGljZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjdXJzb3IgPSBDVVJTT1JfRVdfUkVTSVpFO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yID0gQ1VSU09SX05FU1dfUkVTSVpFO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yID0gQ1VSU09SX05TX1JFU0laRTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGN1cnNvciA9IENVUlNPUl9OV1NFX1JFU0laRTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0Q3Vyc29yKGN1cnNvcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vdXNlTW92ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBzdGljayB3aXRoIG91ciBjaG9pY2Ugb2YgY3Vyc29yIHRocm91Z2hvdXQgdGhlIGRyYWcgb3BlcmF0aW9uXG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FwdHVyZSkge1xuICAgICAgICAgICAgICAgIHNldEN1cnNvckZvckhhbmRsZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnBhaW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBjb3JuZXJzID0gY29ybmVyc1RvRGlzcGxheVBvbHlnb24oKS5wb2ludHMsXG4gICAgICAgICAgICAgICAgaGFuZGxlcyA9IG5ldyBBcnJheShjb3JuZXJzLmxlbmd0aCAqIDIpO1xuXG4gICAgICAgICAgICAvLyBDb2xsZWN0IHRoZSBwb3NpdGlvbnMgb2YgdGhlIGVkZ2UgYW5kIGNvcm5lciBoYW5kbGVzLi4uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvcm5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVzW2ldID0gY29ybmVyc1tpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3JuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VQMSA9IGNvcm5lcnNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGVkZ2VQMiA9IGNvcm5lcnNbKGkgKyAxKSAlIGNvcm5lcnMubGVuZ3RoXSxcblxuICAgICAgICAgICAgICAgICAgICBtaWRXYXkgPSB7eDogKGVkZ2VQMS54ICsgZWRnZVAyLngpIC8gMiwgeTogKGVkZ2VQMS55ICsgZWRnZVAyLnkpIC8gMn07XG5cbiAgICAgICAgICAgICAgICBoYW5kbGVzW2kgKyBjb3JuZXJzLmxlbmd0aF0gPSBtaWRXYXk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldENvbnRyYXN0aW5nRHJhd1N0eWxlKGNhbnZhc0NvbnRleHQsIFwiZmlsbFwiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFJlY3QoaGFuZGxlc1tpXS54IC0gSEFORExFX1JBRElVUywgaGFuZGxlc1tpXS55IC0gSEFORExFX1JBRElVUywgSEFORExFX1JBRElVUyAqIDIgKyAxLCBIQU5ETEVfUkFESVVTICogMiArIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdHJva2VQb2x5Z29uKGNhbnZhc0NvbnRleHQsIGNvcm5lcnMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMua2V5RG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMgLyogRW50ZXIgKi8pIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFjdGlvblBlcmZvcm1lZCh7YWN0aW9uOiBcIkNQVHJhbnNmb3JtQWNjZXB0XCJ9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT0gMjcgLyogRXNjYXBlICovKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5hY3Rpb25QZXJmb3JtZWQoe2FjdGlvbjogXCJDUFRyYW5zZm9ybVJlamVjdFwifSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmVudGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBDUE1vZGUucHJvdG90eXBlLmVudGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IG9mZiB3aXRoIHRoZSBpZGVudGl0eSB0cmFuc2Zvcm1cbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGluaXRpYWwgPSBhcnR3b3JrLnRyYW5zZm9ybUFmZmluZUJlZ2luKCksXG4gICAgICAgICAgICAgICAgaW5pdGlhbFNlbGVjdGlvbjtcblxuICAgICAgICAgICAgYWZmaW5lID0gaW5pdGlhbC50cmFuc2Zvcm07XG4gICAgICAgICAgICBzcmNSZWN0ID0gaW5pdGlhbC5yZWN0O1xuXG4gICAgICAgICAgICAvLyBEZWNpZGUgb24gdGhlIHJlY3RhbmdsZSB3ZSdsbCBzaG93IGFzIHRoZSBib3VuZGFyeSBvZiB0aGUgdHJhbnNmb3JtIGFyZWFcbiAgICAgICAgICAgIGluaXRpYWxTZWxlY3Rpb24gPSBpbml0aWFsLnNlbGVjdGlvbjtcblxuICAgICAgICAgICAgLyogSWYgdGhlIHVzZXIgZGlkbid0IGhhdmUgYW55dGhpbmcgc2VsZWN0ZWQsIHdlJ2xsIHVzZSB0aGUgYWN0dWFsIHNocmluay13cmFwcGVkIHRyYW5zZm9ybSBhcmVhIGluc3RlYWQuICovXG4gICAgICAgICAgICBpZiAoaW5pdGlhbFNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsU2VsZWN0aW9uID0gaW5pdGlhbC5yZWN0LmNsb25lKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9yaWdDb3JuZXJQb2ludHMgPSBuZXcgQ1BQb2x5Z29uKGluaXRpYWxTZWxlY3Rpb24udG9Qb2ludHMoKSk7XG4gICAgICAgICAgICBjb3JuZXJQb2ludHMgPSBvcmlnQ29ybmVyUG9pbnRzLmdldFRyYW5zZm9ybWVkKGFmZmluZSk7XG5cbiAgICAgICAgICAgIGRyYWdnaW5nTW9kZSA9IC0xO1xuICAgICAgICAgICAgcm90YXRpb25BY2N1bXVsYXRvciA9IDA7XG5cbiAgICAgICAgICAgIHRoYXQucmVwYWludEFsbCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubGVhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIENQTW9kZS5wcm90b3R5cGUubGVhdmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoYXQucmVwYWludEFsbCgpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIENQVHJhbnNmb3JtTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQTW9kZS5wcm90b3R5cGUpO1xuICAgIENQVHJhbnNmb3JtTW9kZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUFRyYW5zZm9ybU1vZGU7XG5cbiAgICBmdW5jdGlvbiBDUFJvdGF0ZUNhbnZhc01vZGUoKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIGZpcnN0Q2xpY2ssXG4gICAgICAgICAgICBpbml0QW5nbGUgPSAwLjAsXG4gICAgICAgICAgICBpbml0VHJhbnNmb3JtLFxuICAgICAgICAgICAgZHJhZ2dlZCA9IGZhbHNlLFxuXG4gICAgICAgICAgICByb3RhdGVCdXR0b24gPSAtMTtcblxuICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZ1bmN0aW9uKGUsIGJ1dHRvbiwgcHJlc3N1cmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhcHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMudHJhbnNpZW50ICYmIGJ1dHRvbiA9PSBCVVRUT05fUFJJTUFSWSAmJiAhZS5hbHRLZXkgJiYgIWtleS5pc1ByZXNzZWQoXCJzcGFjZVwiKVxuICAgICAgICAgICAgICAgICAgICB8fCBlLmFsdEtleSAmJiAoYnV0dG9uID09IEJVVFRPTl9XSEVFTCB8fCBidXR0b24gPT0gQlVUVE9OX1BSSU1BUlkgJiYga2V5LmlzUHJlc3NlZChcInNwYWNlXCIpKSkge1xuICAgICAgICAgICAgICAgIGZpcnN0Q2xpY2sgPSB7eDogbW91c2VYLCB5OiBtb3VzZVl9O1xuXG4gICAgICAgICAgICAgICAgaW5pdEFuZ2xlID0gdGhhdC5nZXRSb3RhdGlvbigpO1xuICAgICAgICAgICAgICAgIGluaXRUcmFuc2Zvcm0gPSB0cmFuc2Zvcm0uY2xvbmUoKTtcblxuICAgICAgICAgICAgICAgIGRyYWdnZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcm90YXRlQnV0dG9uID0gYnV0dG9uO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHJhbnNpZW50KSB7XG4gICAgICAgICAgICAgICAgbW9kZVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubW91c2VEcmFnID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZSkge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBwID0ge3g6IG1vdXNlWCwgeTogbW91c2VZfSxcblxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5Q2VudGVyID0ge3g6ICQoY2FudmFzKS53aWR0aCgpIC8gMiwgeTogJChjYW52YXMpLmhlaWdodCgpIC8gMn0sXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0NlbnRlciA9IHt4OiBjYW52YXMud2lkdGggLyAyLCB5OiBjYW52YXMuaGVpZ2h0IC8gMn0sXG5cbiAgICAgICAgICAgICAgICAgICAgZGVsdGFBbmdsZSA9IE1hdGguYXRhbjIocC55IC0gZGlzcGxheUNlbnRlci55LCBwLnggLSBkaXNwbGF5Q2VudGVyLngpIC0gTWF0aC5hdGFuMihmaXJzdENsaWNrLnkgLSBkaXNwbGF5Q2VudGVyLnksIGZpcnN0Q2xpY2sueCAtIGRpc3BsYXlDZW50ZXIueCksXG5cbiAgICAgICAgICAgICAgICAgICAgcm90VHJhbnMgPSBuZXcgQ1BUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgICAgIHJvdFRyYW5zLnJvdGF0ZUFyb3VuZFBvaW50KGRlbHRhQW5nbGUsIGNhbnZhc0NlbnRlci54LCBjYW52YXNDZW50ZXIueSk7XG5cbiAgICAgICAgICAgICAgICByb3RUcmFucy5tdWx0aXBseShpbml0VHJhbnNmb3JtKTtcblxuICAgICAgICAgICAgICAgIHRoYXQuc2V0Um90YXRpb24oaW5pdEFuZ2xlICsgZGVsdGFBbmdsZSk7XG4gICAgICAgICAgICAgICAgdGhhdC5zZXRPZmZzZXQofn5yb3RUcmFucy5nZXRUcmFuc2xhdGVYKCksIH5+cm90VHJhbnMuZ2V0VHJhbnNsYXRlWSgpKTtcblxuICAgICAgICAgICAgICAgIGRyYWdnZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gdGhlIG1vdXNlIGlzIHJlbGVhc2VkIGFmdGVyIHJvdGF0aW9uLCB3ZSBtaWdodCB3YW50IHRvIHNuYXAgb3VyIGFuZ2xlIHRvIHRoZSBuZWFyZXN0IDkwIGRlZ3JlZSBtYXJrLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZmluaXNoUm90YXRpb24oKSB7XG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIFJPVEFURV9TTkFQX0RFR1JFRVMgPSA1O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgbmVhcmVzdDkwID0gTWF0aC5yb3VuZChjYW52YXNSb3RhdGlvbiAvIChNYXRoLlBJIC8gMikpICogTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhjYW52YXNSb3RhdGlvbiAtIG5lYXJlc3Q5MCkgPCBST1RBVEVfU05BUF9ERUdSRUVTIC8gMTgwICogTWF0aC5QSSkge1xuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFBbmdsZSA9IG5lYXJlc3Q5MCAtIGluaXRBbmdsZSxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyID0ge3g6IGNhbnZhcy53aWR0aCAvIDIsIHk6IGNhbnZhcy5oZWlnaHQgLyAyfSxcblxuICAgICAgICAgICAgICAgICAgICByb3RUcmFucyA9IG5ldyBDUFRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJvdFRyYW5zLnJvdGF0ZUFyb3VuZFBvaW50KGRlbHRhQW5nbGUsIGNlbnRlci54LCBjZW50ZXIueSk7XG5cbiAgICAgICAgICAgICAgICByb3RUcmFucy5tdWx0aXBseShpbml0VHJhbnNmb3JtKTtcblxuICAgICAgICAgICAgICAgIHRoYXQuc2V0Um90YXRpb24oaW5pdEFuZ2xlICsgZGVsdGFBbmdsZSk7XG4gICAgICAgICAgICAgICAgdGhhdC5zZXRPZmZzZXQofn5yb3RUcmFucy5nZXRUcmFuc2xhdGVYKCksIH5+cm90VHJhbnMuZ2V0VHJhbnNsYXRlWSgpKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGF0LnJlcGFpbnRBbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5tb3VzZVVwID0gZnVuY3Rpb24oZSwgYnV0dG9uLCBwcmVzc3VyZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZSAmJiBidXR0b24gPT0gcm90YXRlQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRyYWdnZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoUm90YXRpb24oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlc2V0Um90YXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNhcHR1cmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zaWVudCAmJiAhKGtleS5pc1ByZXNzZWQoXCJzcGFjZVwiKSAmJiBrZXkuYWx0KSkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlU3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5rZXlVcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zaWVudCAmJiByb3RhdGVCdXR0b24gIT0gQlVUVE9OX1dIRUVMICYmIGUua2V5Q29kZSA9PSAzMiAvKiBTcGFjZSAqLykge1xuICAgICAgICAgICAgICAgIHNldEN1cnNvcihDVVJTT1JfREVGQVVMVCk7XG5cbiAgICAgICAgICAgICAgICBtb2RlU3RhY2sucG9wKCk7IC8vIHlpZWxkIGNvbnRyb2wgdG8gdGhlIGRlZmF1bHQgbW9kZVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5rZXlEb3duID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAzMiAvKiBTcGFjZSAqLyAmJiBlLmFsdEtleSkge1xuICAgICAgICAgICAgICAgIC8vIFRoYXQncyBvdXIgaG90a2V5LCBzbyBzdGF5IGluIHRoaXMgbW9kZSAoZG9uJ3QgZm9yd2FyZCB0byBDUERlZmF1bHRNb2RlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBDUFJvdGF0ZUNhbnZhc01vZGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUE1vZGUucHJvdG90eXBlKTtcbiAgICBDUFJvdGF0ZUNhbnZhc01vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BSb3RhdGVDYW52YXNNb2RlO1xuXG4gICAgZnVuY3Rpb24gQ1BHcmFkaWVudEZpbGxNb2RlKCkge1xuICAgICAgICAvLyBTdXBlciBjb25zdHJ1Y3RvclxuICAgICAgICBDUExpbmVNb2RlLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIFxuICAgIENQR3JhZGllbnRGaWxsTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQTGluZU1vZGUucHJvdG90eXBlKTtcbiAgICBDUEdyYWRpZW50RmlsbE1vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BHcmFkaWVudEZpbGxNb2RlO1xuXG4gICAgQ1BHcmFkaWVudEZpbGxNb2RlLnByb3RvdHlwZS5kcmF3TGluZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gICAgICAgIGFydHdvcmsuZ3JhZGllbnRGaWxsKE1hdGgucm91bmQoZnJvbS54KSwgTWF0aC5yb3VuZChmcm9tLnkpLCBNYXRoLnJvdW5kKHRvLngpLCBNYXRoLnJvdW5kKHRvLnkpLCBjb250cm9sbGVyLmdldEN1ckdyYWRpZW50KCkpO1xuICAgIH07XG5cbiAgICBDUEdyYWRpZW50RmlsbE1vZGUucHJvdG90eXBlLnF1ZXVlQnJ1c2hQcmV2aWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vU3VwcHJlc3MgdGhlIGRyYXdpbmcgb2YgdGhlIGJydXNoIHByZXZpZXcgKGluaGVyaXRlZCBmcm9tIENQRHJhd2luZ01vZGUpXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNldEN1cnNvcihjdXJzb3IpIHtcbiAgICAgICAgaWYgKGNhbnZhcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWN1cnNvclwiKSAhPSBjdXJzb3IpIHtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWN1cnNvclwiLCBjdXJzb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG5cdC8qKlxuICAgICAqIENoZWNrIHRoYXQgd2Ugc2hvdWxkIGJlIGRyYXdpbmcgdG8gdGhlIGN1cnJlbnQgbGF5ZXIsIGFuZCBsZXQgdGhlIHVzZXIga25vdyBpZiB0aGV5IGFyZSBiZWluZyBibG9ja2VkIGJ5IHRoZVxuICAgICAqIGxheWVyIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgd2Ugc2hvdWxkIGRyYXcgdG8gdGhlIGN1cnJlbnQgbGF5ZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG91bGREcmF3VG9UaGlzTGF5ZXIoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgYWN0aXZlTGF5ZXIgPSBhcnR3b3JrLmdldEFjdGl2ZUxheWVyKCk7XG5cbiAgICAgICAgaWYgKCFhY3RpdmVMYXllci52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLnNob3dMYXllck5vdGlmaWNhdGlvbihhcnR3b3JrLmdldEFjdGl2ZUxheWVySW5kZXgoKSwgXCJXaG9vcHMhIFRoaXMgbGF5ZXIgaXMgY3VycmVudGx5IGhpZGRlblwiLCBcImxheWVyXCIpO1xuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlTGF5ZXIuYWxwaGEgPT0gMCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5zaG93TGF5ZXJOb3RpZmljYXRpb24oYXJ0d29yay5nZXRBY3RpdmVMYXllckluZGV4KCksIFwiV2hvb3BzISBUaGlzIGxheWVyJ3Mgb3BhY2l0eSBpcyBjdXJyZW50bHkgMCVcIiwgXCJvcGFjaXR5XCIpO1xuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHNjcm9sbGJhcidzIHJhbmdlL3Bvc2l0aW9uIHRvIG1hdGNoIHRoZSBjdXJyZW50IHZpZXcgc2V0dGluZ3MgZm9yIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzY3JvbGxiYXIge0NQU2Nyb2xsYmFyfVxuICAgICAqIEBwYXJhbSB2aXNNaW4gVGhlIHNtYWxsZXN0IGNvb3JkaW5hdGUgaW4gdGhpcyBheGlzIGluIHdoaWNoIHRoZSBkcmF3aW5nIGFwcGVhcnNcbiAgICAgKiBAcGFyYW0gdmlzV2lkdGggVGhlIGV4dGVudCBvZiB0aGUgZHJhd2luZyBpbiB0aGlzIGF4aXNcbiAgICAgKiBAcGFyYW0gdmlld1NpemUgVGhlIGV4dGVudCBvZiB0aGUgc2NyZWVuIGNhbnZhcyBpbiB0aGlzIGF4aXNcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IFRoZSBwcmVzZW50IHBpeGVsIG9mZnNldCBvZiB0aGUgZHJhd2luZyBpbiB0aGlzIGF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVTY3JvbGxCYXIoc2Nyb2xsYmFyLCB2aXNNaW4sIHZpc1dpZHRoLCB2aWV3U2l6ZSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgeE1pbiA9IHZpc01pbiAtIHZpZXdTaXplIC0gb2Zmc2V0ICsgdmlzV2lkdGggLyA0LFxuICAgICAgICAgICAgeE1heCA9IHZpc01pbiArIHZpc1dpZHRoIC0gb2Zmc2V0IC0gdmlzV2lkdGggLyA0O1xuICAgICAgICBcbiAgICAgICAgc2Nyb2xsYmFyLnNldFZhbHVlcygtb2Zmc2V0LCB2aWV3U2l6ZSwgeE1pbiwgeE1heCk7XG4gICAgICAgIFxuICAgICAgICBzY3JvbGxiYXIuc2V0QmxvY2tJbmNyZW1lbnQoTWF0aC5tYXgoMSwgfn4odmlld1NpemUgKiAuNjYpKSk7XG4gICAgICAgIHNjcm9sbGJhci5zZXRVbml0SW5jcmVtZW50KE1hdGgubWF4KDEsIH5+KHZpZXdTaXplICogLjA1KSkpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiB1cGRhdGVTY3JvbGxCYXJzKCkge1xuICAgICAgICBpZiAoaG9yelNjcm9sbCA9PSBudWxsIHx8IHZlcnRTY3JvbGwgPT0gbnVsbFxuICAgICAgICAgICAgICAgIHx8IGhvcnpTY3JvbGwuZ2V0VmFsdWVJc0FkanVzdGluZygpIHx8IHZlcnRTY3JvbGwuZ2V0VmFsdWVJc0FkanVzdGluZygpICkge1xuICAgICAgICAgICByZXR1cm47XG4gICAgICAgfVxuXG4gICAgICAgdmFyXG4gICAgICAgICAgIHZpc2libGVSZWN0ID0gZ2V0UmVmcmVzaEFyZWEobmV3IENQUmVjdCgwLCAwLCBhcnR3b3JrQ2FudmFzLndpZHRoLCBhcnR3b3JrQ2FudmFzLmhlaWdodCkpO1xuXG4gICAgICAgdXBkYXRlU2Nyb2xsQmFyKGhvcnpTY3JvbGwsIHZpc2libGVSZWN0LmxlZnQsIHZpc2libGVSZWN0LmdldFdpZHRoKCksICQoY2FudmFzKS53aWR0aCgpLCB0aGF0LmdldE9mZnNldCgpLngpO1xuICAgICAgIHVwZGF0ZVNjcm9sbEJhcih2ZXJ0U2Nyb2xsLCB2aXNpYmxlUmVjdC50b3AsIHZpc2libGVSZWN0LmdldEhlaWdodCgpLCAkKGNhbnZhcykuaGVpZ2h0KCksIHRoYXQuZ2V0T2Zmc2V0KCkueSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICB0cmFuc2Zvcm0uc2V0VG9JZGVudGl0eSgpO1xuICAgICAgICB0cmFuc2Zvcm0udHJhbnNsYXRlKG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUoem9vbSwgem9vbSk7XG4gICAgICAgIHRyYW5zZm9ybS5yb3RhdGUoY2FudmFzUm90YXRpb24pO1xuXG4gICAgICAgIHVwZGF0ZVNjcm9sbEJhcnMoKTtcbiAgICAgICAgdGhhdC5yZXBhaW50QWxsKCk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBjYW52YXMtcmVsYXRpdmUgY29vcmRpbmF0ZSBpbnRvIGRvY3VtZW50IGNvb3JkaW5hdGVzIGFuZCByZXR1cm4gdGhlIG5ldyBjb29yZGluYXRlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvb3JkVG9Eb2N1bWVudChjb29yZCkge1xuICAgICAgICAvLyBUT0RPIGNhY2hlIGludmVydGVkIHRyYW5zZm9ybVxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtLmdldEludmVydGVkKCkuZ2V0VHJhbnNmb3JtZWRQb2ludChjb29yZCk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBjYW52YXMtcmVsYXRpdmUgY29vcmRpbmF0ZSBpbnRvIGRvY3VtZW50IGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvb3JkVG9Eb2N1bWVudEludChjb29yZCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHJlc3VsdCA9IGNvb3JkVG9Eb2N1bWVudChjb29yZCk7XG4gICAgICAgIFxuICAgICAgICByZXN1bHQueCA9IE1hdGguZmxvb3IocmVzdWx0LngpO1xuICAgICAgICByZXN1bHQueSA9IE1hdGguZmxvb3IocmVzdWx0LnkpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIHt4OiBwYWdlWCwgeTogcGFnZVl9IGNvLW9yZGluYXRlIHBhaXIgZnJvbSBhIG1vdXNlIGV2ZW50IHRvIGNhbnZhcy1yZWxhdGl2ZSBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtb3VzZUNvb3JkVG9DYW52YXMoY29vcmQpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldHVybiB7eDogY29vcmQueCAtIHJlY3QubGVmdCAtIHdpbmRvdy5wYWdlWE9mZnNldCwgeTogY29vcmQueSAtIHJlY3QudG9wIC0gd2luZG93LnBhZ2VZT2Zmc2V0fTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gY29vcmRUb0Rpc3BsYXkocCkge1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtLmdldFRyYW5zZm9ybWVkUG9pbnQocCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29vcmRUb0Rpc3BsYXlJbnQocCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHJlc3VsdCA9IGNvb3JkVG9EaXNwbGF5KHApO1xuICAgICAgICBcbiAgICAgICAgcmVzdWx0LnggPSBNYXRoLnJvdW5kKHJlc3VsdC54KTtcbiAgICAgICAgcmVzdWx0LnkgPSBNYXRoLnJvdW5kKHJlc3VsdC55KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFxuXHQvKipcbiAgICAgKiBDb252ZXJ0IGEgcmVjdGFuZ2xlIHRoYXQgZW5jbG9zZXMgdGhlIGdpdmVuIGRvY3VtZW50IHBpeGVscyBpbnRvIGEgcmVjdGFuZ2xlIGluIGRpc3BsYXkgY29vcmRpbmF0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVjdCB7Q1BSZWN0fVxuICAgICAqIEByZXR1cm5zIHsqW119XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVjdFRvRGlzcGxheShyZWN0KSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgY2VudGVyID0gY29vcmRUb0Rpc3BsYXkoe3g6IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIsIHk6IChyZWN0LnRvcCArIHJlY3QuYm90dG9tKSAvIDJ9KSxcbiAgICAgICAgICAgIGNvb3JkcyA9IHJlY3QudG9Qb2ludHMoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29vcmRzW2ldID0gY29vcmRUb0Rpc3BsYXlJbnQoY29vcmRzW2ldKTtcblxuICAgICAgICAgICAgLy8gTmVlZCB0byBpbnNldCB0aGUgY28tb3JkaW5hdGVzIGJ5IDAuNSBkaXNwbGF5IHBpeGVscyBmb3IgdGhlIGxpbmUgdG8gcGFzcyB0aHJvdWdoIHRoZSBtaWRkbGUgb2YgdGhlIGRpc3BsYXkgcGl4ZWxcbiAgICAgICAgICAgIGNvb3Jkc1tpXS54ICs9ICBNYXRoLnNpZ24oY2VudGVyLnggLSBjb29yZHNbaV0ueCkgKiAwLjU7XG4gICAgICAgICAgICBjb29yZHNbaV0ueSArPSAgTWF0aC5zaWduKGNlbnRlci55IC0gY29vcmRzW2ldLnkpICogMC41O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvb3JkcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdHJva2VQb2x5Z29uKGNvbnRleHQsIGNvb3Jkcykge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGNvbnRleHQubW92ZVRvKGNvb3Jkc1swXS54LCBjb29yZHNbMF0ueSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgY29vcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhjb29yZHNbaV0ueCwgY29vcmRzW2ldLnkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQubGluZVRvKGNvb3Jkc1swXS54LCBjb29yZHNbMF0ueSk7XG5cbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdHJva2UgYSBzZWxlY3Rpb24gcmVjdGFuZ2xlIHRoYXQgZW5jbG9zZXMgdGhlIHBpeGVscyBpbiB0aGUgZ2l2ZW4gcmVjdGFuZ2xlIChpbiBkb2N1bWVudCBjby1vcmRpbmF0ZXMpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBsb3RTZWxlY3Rpb25SZWN0KGNvbnRleHQsIHJlY3QpIHtcbiAgICAgICAgc3Ryb2tlUG9seWdvbihjb250ZXh0LCByZWN0VG9EaXNwbGF5KHJlY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlIGEgQ1BSZWN0IG9mIGRvY3VtZW50IGNvb3JkaW5hdGVzIGFuZCByZXR1cm4gYSBDUFJlY3Qgb2YgY2FudmFzIGNvb3JkaW5hdGVzIHRvIHJlcGFpbnQgZm9yIHRoYXQgcmVnaW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJlZnJlc2hBcmVhKHIpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBwMSA9IGNvb3JkVG9EaXNwbGF5SW50KHt4OiByLmxlZnQgLSAxLCB5OiByLnRvcCAtIDF9KSxcbiAgICAgICAgICAgIHAyID0gY29vcmRUb0Rpc3BsYXlJbnQoe3g6IHIubGVmdCAtIDEsIHk6IHIuYm90dG9tfSksXG4gICAgICAgICAgICBwMyA9IGNvb3JkVG9EaXNwbGF5SW50KHt4OiByLnJpZ2h0LCB5OiByLnRvcCAtIDF9KSxcbiAgICAgICAgICAgIHA0ID0gY29vcmRUb0Rpc3BsYXlJbnQoe3g6IHIucmlnaHQsIHk6IHIuYm90dG9tfSksXG5cbiAgICAgICAgICAgIHIyID0gbmV3IENQUmVjdChcbiAgICAgICAgICAgICAgICBNYXRoLm1pbihNYXRoLm1pbihwMS54LCBwMi54KSwgTWF0aC5taW4ocDMueCwgcDQueCkpLFxuICAgICAgICAgICAgICAgIE1hdGgubWluKE1hdGgubWluKHAxLnksIHAyLnkpLCBNYXRoLm1pbihwMy55LCBwNC55KSksXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgoTWF0aC5tYXgocDEueCwgcDIueCksIE1hdGgubWF4KHAzLngsIHA0LngpKSArIDEsXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgoTWF0aC5tYXgocDEueSwgcDIueSksIE1hdGgubWF4KHAzLnksIHA0LnkpKSArIDFcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgcjIuZ3JvdygyLCAyKTsgLy8gdG8gYmUgc3VyZSB0byBpbmNsdWRlIGV2ZXJ5dGhpbmdcblxuICAgICAgICByZXR1cm4gcjI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRqdXN0IHRoZSBjdXJyZW50IG9mZnNldCB0byBicmluZyB0aGUgY2VudGVyIG9mIHRoZSBhcnR3b3JrIHRvIHRoZSBjZW50ZXIgb2YgdGhlIGNhbnZhc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNlbnRlckNhbnZhcygpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICB3aWR0aCA9IGNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQsXG4gICAgICAgIFxuICAgICAgICAgICAgYXJ0d29ya0NlbnRlciA9IGNvb3JkVG9EaXNwbGF5KHt4OiBhcnR3b3JrLndpZHRoIC8gMiwgeTogYXJ0d29yay5oZWlnaHQgLyAyfSk7XG4gICAgICAgIFxuICAgICAgICB0aGF0LnNldE9mZnNldChcbiAgICAgICAgICAgIE1hdGgucm91bmQob2Zmc2V0WCArIHdpZHRoIC8gMi4wIC0gYXJ0d29ya0NlbnRlci54KSxcbiAgICAgICAgICAgIE1hdGgucm91bmQob2Zmc2V0WSArIGhlaWdodCAvIDIuMCAtIGFydHdvcmtDZW50ZXIueSlcbiAgICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5zZXRab29tID0gZnVuY3Rpb24oX3pvb20pIHtcbiAgICAgICAgem9vbSA9IF96b29tO1xuICAgICAgICB1cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRab29tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB6b29tO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zZXRHcmlkU2l6ZSA9IGZ1bmN0aW9uKF9ncmlkU2l6ZSkge1xuICAgICAgICBncmlkU2l6ZSA9IE1hdGgubWF4KE1hdGgucm91bmQoX2dyaWRTaXplKSwgMSk7XG4gICAgICAgIHRoaXMucmVwYWludEFsbCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEdyaWRTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBncmlkU2l6ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRPZmZzZXQgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIGlmIChpc05hTih4KSB8fCBpc05hTih5KSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJCYWQgb2Zmc2V0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0WCA9IHg7XG4gICAgICAgICAgICBvZmZzZXRZID0geTtcbiAgICAgICAgICAgIHVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0T2Zmc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7eDogb2Zmc2V0WCwgeTogb2Zmc2V0WX07XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldEludGVycG9sYXRpb24gPSBmdW5jdGlvbihlbmFibGVkKSB7XG4gICAgICAgIGludGVycG9sYXRpb24gPSBlbmFibGVkO1xuXG4gICAgICAgIHNldENhbnZhc0ludGVycG9sYXRpb24oY2FudmFzQ29udGV4dCwgZW5hYmxlZCk7XG5cbiAgICAgICAgdGhpcy5yZXBhaW50QWxsKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0Um90YXRpb24gPSBmdW5jdGlvbihhbmdsZSkge1xuICAgICAgICBjYW52YXNSb3RhdGlvbiA9IGFuZ2xlICUgKDIgKiBNYXRoLlBJKTtcbiAgICAgICAgdXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBjYW52YXMgcm90YXRpb24gaW4gcmFkaWFucy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5nZXRSb3RhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY2FudmFzUm90YXRpb247XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJvdGF0aW9uIGFzIHRoZSBuZWFyZXN0IG51bWJlciBvZiB3aG9sZSA5MCBkZWdyZWUgY2xvY2t3aXNlIHJvdGF0aW9ucyAoWzAuLjNdKVxuICAgICAqL1xuICAgIHRoaXMuZ2V0Um90YXRpb245MCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHJvdGF0aW9uID0gTWF0aC5yb3VuZCh0aGlzLmdldFJvdGF0aW9uKCkgLyBNYXRoLlBJICogMik7XG4gICAgICAgIFxuICAgICAgICAvLyBKdXN0IGluIGNhc2U6XG4gICAgICAgIHJvdGF0aW9uICU9IDQ7XG4gICAgICAgIFxuICAgICAgICAvLyBXZSB3YW50IFswLi4zXSBhcyBvdXRwdXRcbiAgICAgICAgaWYgKHJvdGF0aW9uIDwgMCkge1xuICAgICAgICAgICAgcm90YXRpb24gKz0gNDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB6b29tIGZsb2F0XG4gICAgICogQHBhcmFtIGNlbnRlclggZmxvYXQgWCBjby1vcmRpbmF0ZSBpbiB0aGUgY2FudmFzIHNwYWNlXG4gICAgICogQHBhcmFtIGNlbnRlclkgZmxvYXQgWSBjby1vcmRpbmF0ZSBpbiB0aGUgY2FudmFzIHNwYWNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gem9vbU9uUG9pbnQoem9vbSwgY2VudGVyWCwgY2VudGVyWSkge1xuICAgICAgICB6b29tID0gTWF0aC5tYXgoTUlOX1pPT00sIE1hdGgubWluKE1BWF9aT09NLCB6b29tKSk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhhdC5nZXRab29tKCkgIT0gem9vbSkge1xuICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoYXQuZ2V0T2Zmc2V0KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoYXQuc2V0T2Zmc2V0KFxuICAgICAgICAgICAgICAgIG9mZnNldC54ICsgfn4oKGNlbnRlclggLSBvZmZzZXQueCkgKiAoMSAtIHpvb20gLyB0aGF0LmdldFpvb20oKSkpLCBcbiAgICAgICAgICAgICAgICBvZmZzZXQueSArIH5+KChjZW50ZXJZIC0gb2Zmc2V0LnkpICogKDEgLSB6b29tIC8gdGhhdC5nZXRab29tKCkpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhhdC5zZXRab29tKHpvb20pO1xuXG4gICAgICAgICAgICAvKkNQQ29udHJvbGxlci5DUFZpZXdJbmZvIHZpZXdJbmZvID0gbmV3IENQQ29udHJvbGxlci5DUFZpZXdJbmZvKCk7XG4gICAgICAgICAgICB2aWV3SW5mby56b29tID0gem9vbTtcbiAgICAgICAgICAgIHZpZXdJbmZvLm9mZnNldFggPSBvZmZzZXRYO1xuICAgICAgICAgICAgdmlld0luZm8ub2Zmc2V0WSA9IG9mZnNldFk7XG4gICAgICAgICAgICBjb250cm9sbGVyLmNhbGxWaWV3TGlzdGVuZXJzKHZpZXdJbmZvKTsgVE9ETyAqL1xuXG4gICAgICAgICAgICB0aGF0LnJlcGFpbnRBbGwoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBNb3JlIGFkdmFuY2VkIHpvb20gbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHpvb21PbkNlbnRlcih6b29tKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIHdpZHRoID0gJChjYW52YXMpLndpZHRoKCksXG4gICAgICAgICAgICBoZWlnaHQgPSAkKGNhbnZhcykuaGVpZ2h0KClcbiAgICAgICAgICAgIFxuICAgICAgICB6b29tT25Qb2ludCh6b29tLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgIH1cblxuICAgIHRoaXMuem9vbUluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHpvb21PbkNlbnRlcih0aGlzLmdldFpvb20oKSAqIDIpO1xuICAgIH07XG5cbiAgICB0aGlzLnpvb21PdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgem9vbU9uQ2VudGVyKHRoaXMuZ2V0Wm9vbSgpICogMC41KTtcbiAgICB9O1xuXG4gICAgdGhpcy56b29tMTAwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHpvb21PbkNlbnRlcigxKTtcbiAgICAgICAgY2VudGVyQ2FudmFzKCk7XG4gICAgfTtcblxuICAgIHRoaXMucmVzZXRSb3RhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGNlbnRlciA9IHt4OiBjYW52YXMud2lkdGggLyAyLCB5OiBjYW52YXMuaGVpZ2h0IC8gMn0sXG5cbiAgICAgICAgICAgIHJvdFRyYW5zID0gbmV3IENQVHJhbnNmb3JtKCk7XG4gICAgICAgIFxuICAgICAgICByb3RUcmFucy5yb3RhdGVBcm91bmRQb2ludCgtdGhpcy5nZXRSb3RhdGlvbigpLCBjZW50ZXIueCwgY2VudGVyLnkpO1xuICAgICAgICByb3RUcmFucy5tdWx0aXBseSh0cmFuc2Zvcm0pO1xuXG4gICAgICAgIHRoaXMuc2V0T2Zmc2V0KH5+cm90VHJhbnMuZ2V0VHJhbnNsYXRlWCgpLCB+fnJvdFRyYW5zLmdldFRyYW5zbGF0ZVkoKSk7XG4gICAgICAgIHRoaXMuc2V0Um90YXRpb24oMCk7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHBvaW50ZXIgcHJlc3N1cmUgZmllbGQgdG8gdGhlIGdpdmVuIHBvaW50ZXIgZXZlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UG9pbnRlclByZXNzdXJlKGUpIHtcbiAgICAgICAgLy8gVXNlIFdhY29tIHByZXNzdXJlIGluIHByZWZlcmVuY2UgdG8gcG9pbnRlciBldmVudCBwcmVzc3VyZSAoaWYgcHJlc2VudClcbiAgICAgICAgaWYgKHdhY29tUGVuRG93bikge1xuICAgICAgICAgICAgcmV0dXJuIHRhYmxldC5nZXRQcmVzc3VyZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogSW4gdGhlIFBvaW50ZXIgRXZlbnRzIEFQSSwgbWljZSBoYXZlIGEgZGVmYXVsdCBwcmVzc3VyZSBvZiAwLjUsIGJ1dCB3ZSB3YW50IDEuMC4gU2luY2Ugd2UgY2FuJ3QgXG4gICAgICAgICAgICAgKiBkaXN0aW5ndWlzaCBiZXR3ZWVuIG1pY2UgYW5kIHBlbnMgYXQgdGhpcyBwb2ludCwgd2UgZG9uJ3QgaGF2ZSBhbnkgYmV0dGVyIG9wdGlvbnM6XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBlLnByZXNzdXJlICogMjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhclxuICAgICAgICBtb3VzZVdoZWVsRGVib3VuY2UgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlV2hlZWwoZSkge1xuICAgICAgICBpZiAoZS5kZWx0YVkgIT0gMCkge1xuICAgICAgICAgICAgaWYgKCFtb3VzZVdoZWVsRGVib3VuY2UgfHwgTWF0aC5hYnMoZS5kZWx0YVkpID4gMjApIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgZmFjdG9yO1xuXG4gICAgICAgICAgICAgICAgaWYgKGUuZGVsdGFZID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmYWN0b3IgPSAxIC8gMS4xNTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmYWN0b3IgPSAxLjE1O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBjYW52YXNQb2ludCA9IG1vdXNlQ29vcmRUb0NhbnZhcyh7eDogZS5wYWdlWCwgeTogZS5wYWdlWX0pLFxuICAgICAgICAgICAgICAgICAgICBkb2NQb2ludCA9IGNvb3JkVG9Eb2N1bWVudChjYW52YXNQb2ludCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXJ0d29yay5pc1BvaW50V2l0aGluKGRvY1BvaW50LngsIGRvY1BvaW50LnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvb21PblBvaW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5nZXRab29tKCkgKiBmYWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNQb2ludC54LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzUG9pbnQueVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHpvb21PblBvaW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5nZXRab29tKCkgKiBmYWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRYICsgfn4oYXJ0d29yay53aWR0aCAqIHpvb20gLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFkgKyB+fihhcnR3b3JrLmhlaWdodCAqIHpvb20gLyAyKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1vdXNlV2hlZWxEZWJvdW5jZSA9IG1vdXNlV2hlZWxEZWJvdW5jZSB8fCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBtb3VzZVdoZWVsRGVib3VuY2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhclxuICAgICAgICBjYW52YXNDbGllbnRSZWN0O1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlUG9pbnRlck1vdmUoZSkge1xuICAgICAgICAvLyBVc2UgdGhlIGNhY2hlZCBwb3NpdGlvbiBvZiB0aGUgY2FudmFzIG9uIHRoZSBwYWdlIGlmIHBvc3NpYmxlXG4gICAgICAgIGlmICghY2FudmFzQ2xpZW50UmVjdCkge1xuICAgICAgICAgICAgY2FudmFzQ2xpZW50UmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIFN0b3JlIHRoZXNlIGdsb2JhbGx5IGZvciB0aGUgZXZlbnQgaGFuZGxlcnMgdG8gcmVmZXIgdG8gKHdlJ2Qgd3JpdGUgdG8gdGhlIGV2ZW50IGl0c2VsZiBidXQgc29tZSBicm93c2Vyc1xuICAgICAgICAgKiBkb24ndCBlbmpveSB0aGF0KVxuICAgICAgICAgKi9cbiAgICAgICAgbW91c2VYID0gZS5jbGllbnRYIC0gY2FudmFzQ2xpZW50UmVjdC5sZWZ0O1xuICAgICAgICBtb3VzZVkgPSBlLmNsaWVudFkgLSBjYW52YXNDbGllbnRSZWN0LnRvcDtcblxuICAgICAgICAvLyBGbGFncyB1c2VkIGJ5IGUuYnV0dG9uc1xuICAgICAgICBjb25zdFxuICAgICAgICAgICAgRkxBR19QUklNQVJZID0gMSxcbiAgICAgICAgICAgIEZMQUdfU0VDT05EQVJZID0gMixcbiAgICAgICAgICAgIEZMQUdfV0hFRUwgPSA0O1xuXG4gICAgICAgIHZhclxuICAgICAgICAgICAgaXNEcmFnZ2luZyA9IGUuYnV0dG9ucyAhPSAwLFxuICAgICAgICAgICAgcHJlc3N1cmUgPSBnZXRQb2ludGVyUHJlc3N1cmUoZSk7XG5cbiAgICAgICAgLy8gRGlkIGFueSBvZiBvdXIgYnV0dG9ucyBjaGFuZ2Ugc3RhdGU/XG4gICAgICAgIGlmICgoKGUuYnV0dG9ucyAmIEZMQUdfUFJJTUFSWSkgIT0gMCkgIT0gbW91c2VEb3duW0JVVFRPTl9QUklNQVJZXSkge1xuICAgICAgICAgICAgbW91c2VEb3duW0JVVFRPTl9QUklNQVJZXSA9ICFtb3VzZURvd25bQlVUVE9OX1BSSU1BUlldO1xuXG4gICAgICAgICAgICBpZiAobW91c2VEb3duW0JVVFRPTl9QUklNQVJZXSkge1xuICAgICAgICAgICAgICAgIG1vZGVTdGFjay5tb3VzZURvd24oZSwgQlVUVE9OX1BSSU1BUlksIHByZXNzdXJlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZVN0YWNrLm1vdXNlVXAoZSwgQlVUVE9OX1BSSU1BUlksIHByZXNzdXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoKGUuYnV0dG9ucyAmIEZMQUdfU0VDT05EQVJZKSAhPSAwKSAhPSBtb3VzZURvd25bQlVUVE9OX1NFQ09OREFSWV0pIHtcbiAgICAgICAgICAgIG1vdXNlRG93bltCVVRUT05fU0VDT05EQVJZXSA9ICFtb3VzZURvd25bQlVUVE9OX1NFQ09OREFSWV07XG5cbiAgICAgICAgICAgIGlmIChtb3VzZURvd25bQlVUVE9OX1NFQ09OREFSWV0pIHtcbiAgICAgICAgICAgICAgICBtb2RlU3RhY2subW91c2VEb3duKGUsIEJVVFRPTl9TRUNPTkRBUlksIHByZXNzdXJlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZVN0YWNrLm1vdXNlVXAoZSwgQlVUVE9OX1NFQ09OREFSWSwgcHJlc3N1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCgoZS5idXR0b25zICYgRkxBR19XSEVFTCkgIT0gMCkgIT0gbW91c2VEb3duW0JVVFRPTl9XSEVFTF0pIHtcbiAgICAgICAgICAgIG1vdXNlRG93bltCVVRUT05fV0hFRUxdID0gIW1vdXNlRG93bltCVVRUT05fV0hFRUxdO1xuXG4gICAgICAgICAgICBpZiAobW91c2VEb3duW0JVVFRPTl9XSEVFTF0pIHtcbiAgICAgICAgICAgICAgICBtb2RlU3RhY2subW91c2VEb3duKGUsIEJVVFRPTl9XSEVFTCwgcHJlc3N1cmUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlU3RhY2subW91c2VVcChlLCBCVVRUT05fV0hFRUwsIHByZXNzdXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICBtb2RlU3RhY2subW91c2VEcmFnKGUsIHByZXNzdXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vZGVTdGFjay5tb3VzZU1vdmUoZSwgcHJlc3N1cmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FsbGVkIHdoZW4gYWxsIG1vdXNlL3BvaW50ZXIgYnV0dG9ucyBhcmUgcmVsZWFzZWRcbiAgICBmdW5jdGlvbiBoYW5kbGVQb2ludGVyVXAoZSkge1xuICAgICAgICBtb3VzZURvd25bQlVUVE9OX1BSSU1BUlldID0gZmFsc2U7XG4gICAgICAgIG1vdXNlRG93bltCVVRUT05fU0VDT05EQVJZXSA9IGZhbHNlO1xuICAgICAgICBtb3VzZURvd25bQlVUVE9OX1dIRUVMXSA9IGZhbHNlO1xuXG4gICAgICAgIHdhY29tUGVuRG93biA9IGZhbHNlO1xuICAgICAgICBtb2RlU3RhY2subW91c2VVcChlLCBlLmJ1dHRvbiwgMC4wKTtcbiAgICAgICAgY2FudmFzLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG4gICAgfVxuXG4gICAgLy8gQ2FsbGVkIHdoZW4gdGhlIGZpcnN0IGJ1dHRvbiBvbiB0aGUgcG9pbnRlciBpcyBkZXByZXNzZWQgLyBwZW4gdG91Y2hlcyB0aGUgc3VyZmFjZVxuICAgIGZ1bmN0aW9uIGhhbmRsZVBvaW50ZXJEb3duKGUpIHtcbiAgICAgICAgY2FudmFzLnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcblxuICAgICAgICBjYW52YXNDbGllbnRSZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIC8vIFN0b3JlIHRoZXNlIGdsb2JhbGx5IGZvciB0aGUgZXZlbnQgaGFuZGxlcnMgdG8gcmVmZXIgdG9cbiAgICAgICAgbW91c2VYID0gZS5jbGllbnRYIC0gY2FudmFzQ2xpZW50UmVjdC5sZWZ0O1xuICAgICAgICBtb3VzZVkgPSBlLmNsaWVudFkgLSBjYW52YXNDbGllbnRSZWN0LnRvcDtcblxuICAgICAgICB3YWNvbVBlbkRvd24gPSB0YWJsZXQuaXNQZW4oKTtcblxuICAgICAgICBtb3VzZURvd25bQlVUVE9OX1BSSU1BUlldID0gZmFsc2U7XG4gICAgICAgIG1vdXNlRG93bltCVVRUT05fU0VDT05EQVJZXSA9IGZhbHNlO1xuICAgICAgICBtb3VzZURvd25bQlVUVE9OX1dIRUVMXSA9IGZhbHNlO1xuXG4gICAgICAgIG1vdXNlRG93bltlLmJ1dHRvbl0gPSB0cnVlO1xuXG4gICAgICAgIG1vZGVTdGFjay5tb3VzZURvd24oZSwgZS5idXR0b24sIGdldFBvaW50ZXJQcmVzc3VyZShlKSk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZSkge1xuICAgICAgICBtb2RlU3RhY2sua2V5RG93bihlKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaGFuZGxlS2V5VXAoZSkge1xuICAgICAgICBtb2RlU3RhY2sua2V5VXAoZSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEdldCB0aGUgRE9NIGVsZW1lbnQgZm9yIHRoZSBjYW52YXMgYXJlYVxuICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY2FudmFzQ29udGFpbmVyO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogU2NoZWR1bGUgYSByZXBhaW50IGZvciB0aGUgY3VycmVudCByZXBhaW50IHJlZ2lvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBhaW50KCkge1xuICAgICAgICBpZiAoIXNjaGVkdWxlZFJlcGFpbnQpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlZFJlcGFpbnQgPSB0cnVlO1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnBhaW50KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZSBhIHJlcGFpbnQgZm9yIHRoZSBlbnRpcmUgc2NyZWVuLlxuICAgICAqL1xuICAgIHRoaXMucmVwYWludEFsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXBhaW50UmVnaW9uLmxlZnQgPSAwO1xuICAgICAgICByZXBhaW50UmVnaW9uLnRvcCA9IDA7XG4gICAgICAgIHJlcGFpbnRSZWdpb24ucmlnaHQgPSBjYW52YXMud2lkdGg7XG4gICAgICAgIHJlcGFpbnRSZWdpb24uYm90dG9tID0gY2FudmFzLmhlaWdodDtcbiAgICAgICAgXG4gICAgICAgIHJlcGFpbnQoKTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIGEgcmVwYWludCBmb3IgYW4gYXJlYSBvZiB0aGUgc2NyZWVuIGZvciBsYXRlci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcmVjdCBDUFJlY3QgUmVnaW9uIHRoYXQgc2hvdWxkIGJlIHJlcGFpbnRlZCB1c2luZyBkaXNwbGF5IGNvb3JkaW5hdGVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwYWludFJlY3QocmVjdCkge1xuICAgICAgICByZXBhaW50UmVnaW9uLnVuaW9uKHJlY3QpO1xuICAgICAgICBcbiAgICAgICAgcmVwYWludCgpO1xuICAgIH1cblxuXHQvKipcbiAgICAgKiBTZXQgdGhlIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiBhbmQgZmlsbC9zdHJva2UgY29sb3IgdXAgdG8gbWF4aW1pemUgY29udHJhc3QgZm9yIHRoZSBkcmF3biBpdGVtc1xuICAgICAqIGFnYWluc3QgYXJiaXRyYXJ5IGJhY2tncm91bmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbnZhc0NvbnRleHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2luZCAtIFwic3Ryb2tlXCIgb3IgXCJmaWxsXCIgZGVwZW5kaW5nIG9uIHdoaWNoIGNvbG91ciB5b3UnZCBsaWtlIHRvIHNldFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENvbnRyYXN0aW5nRHJhd1N0eWxlKGNhbnZhc0NvbnRleHQsIGtpbmQpIHtcbiAgICAgICAga2luZCA9IGtpbmQgKyBcIlN0eWxlXCI7XG4gICAgICAgIGNhbnZhc0NvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2V4Y2x1c2lvbic7XG5cbiAgICAgICAgaWYgKGNhbnZhc0NvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID09IFwiZXhjbHVzaW9uXCIpIHtcbiAgICAgICAgICAgIC8vIFdoaXRlICsgZXhjbHVzaW9uIGludmVydHMgdGhlIGNvbG9ycyB1bmRlcm5lYXRoLCBnaXZpbmcgdXMgZ29vZCBjb250cmFzdFxuICAgICAgICAgICAgY2FudmFzQ29udGV4dFtraW5kXSA9ICd3aGl0ZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJRSBFZGdlIGRvZXNuJ3Qgc3VwcG9ydCBFeGNsdXNpb24sIHNvIGhvdyBhYm91dCBEaWZmZXJlbmNlIHdpdGggbWlkLWdyZXkgaW5zdGVhZFxuICAgICAgICAgICAgLy8gVGhpcyBpcyB2aXNpYmxlIG9uIGJsYWNrIGFuZCB3aGl0ZSwgYnV0IGRpc2FwcGVhcnMgb24gYSBncmV5IGJhY2tncm91bmRcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2RpZmZlcmVuY2UnO1xuICAgICAgICAgICAgY2FudmFzQ29udGV4dFtraW5kXSA9ICcjODg4JztcblxuICAgICAgICAgICAgLy8gRm9yIHN1cGVyIGR1bWIgYnJvd3NlcnMgKG9ubHkgc3VwcG9ydCBzb3VyY2Utb3ZlciksIGF0IGxlYXN0IGRvbid0IG1ha2UgdGhlIGN1cnNvciBpbnZpc2libGUgb24gYSB3aGl0ZSBCRyFcbiAgICAgICAgICAgIGlmIChjYW52YXNDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiAhPSBcImRpZmZlcmVuY2VcIikge1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHRba2luZF0gPSAnYmxhY2snO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMucGFpbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBkcmF3aW5nV2FzQ2xpcHBlZCA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgc2NoZWR1bGVkUmVwYWludCA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgLyogQ2xpcCBkcmF3aW5nIHRvIHRoZSBhcmVhIG9mIHRoZSBzY3JlZW4gd2Ugd2FudCB0byByZXBhaW50ICovXG4gICAgICAgIGlmICghcmVwYWludFJlZ2lvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoY2FudmFzQ29udGV4dC5jbGlwKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKTtcblxuICAgICAgICAgICAgICAgIHJlcGFpbnRSZWdpb24ubGVmdCA9IHJlcGFpbnRSZWdpb24ubGVmdCB8IDA7IFxuICAgICAgICAgICAgICAgIHJlcGFpbnRSZWdpb24udG9wID0gcmVwYWludFJlZ2lvbi50b3AgfCAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQucmVjdChcbiAgICAgICAgICAgICAgICAgICAgcmVwYWludFJlZ2lvbi5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICByZXBhaW50UmVnaW9uLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5jZWlsKHJlcGFpbnRSZWdpb24uZ2V0V2lkdGgoKSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGguY2VpbChyZXBhaW50UmVnaW9uLmdldEhlaWdodCgpKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LmNsaXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZHJhd2luZ1dhc0NsaXBwZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvKiBDb3B5IHBpeGVscyB0aGF0IGNoYW5nZWQgaW4gdGhlIGRvY3VtZW50IGludG8gb3VyIGxvY2FsIGZ1c2VkIGltYWdlIGNhY2hlICovXG4gICAgICAgIGlmICghYXJ0d29ya1VwZGF0ZVJlZ2lvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGltYWdlRGF0YSA9IGFydHdvcmsuZnVzaW9uTGF5ZXJzKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGFydHdvcmtDYW52YXNDb250ZXh0LnB1dEltYWdlRGF0YShcbiAgICAgICAgICAgICAgICBpbWFnZURhdGEsIDAsIDAsIGFydHdvcmtVcGRhdGVSZWdpb24ubGVmdCwgYXJ0d29ya1VwZGF0ZVJlZ2lvbi50b3AsIGFydHdvcmtVcGRhdGVSZWdpb24uZ2V0V2lkdGgoKSwgYXJ0d29ya1VwZGF0ZVJlZ2lvbi5nZXRIZWlnaHQoKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYXJ0d29ya1VwZGF0ZVJlZ2lvbi5tYWtlRW1wdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gJyM2MDYwNjAnO1xuICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcmFuc2Zvcm0gdGhlIGNvb3JkaW5hdGUgc3lzdGVtIHRvIGJyaW5nIHRoZSBkb2N1bWVudCBpbnRvIHRoZSByaWdodCBwb3NpdGlvbiBvbiB0aGUgc2NyZWVuICh0cmFuc2xhdGUvem9vbS9ldGMpXG4gICAgICAgIGNhbnZhc0NvbnRleHQuc2F2ZSgpO1xuICAgICAgICB7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnNldFRyYW5zZm9ybSh0cmFuc2Zvcm0ubVswXSwgdHJhbnNmb3JtLm1bMV0sIHRyYW5zZm9ybS5tWzJdLCB0cmFuc2Zvcm0ubVszXSwgdHJhbnNmb3JtLm1bNF0sIHRyYW5zZm9ybS5tWzVdKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5maWxsU3R5bGUgPSBjaGVja2VyYm9hcmRQYXR0ZXJuO1xuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5maWxsUmVjdCgwLCAwLCBhcnR3b3JrLndpZHRoLCBhcnR3b3JrLmhlaWdodCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgIGFydHdvcmtDYW52YXMsIDAsIDAsIGFydHdvcmtDYW52YXMud2lkdGgsIGFydHdvcmtDYW52YXMuaGVpZ2h0XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhc0NvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIGRyYXdpbmcgaGFwcGVucyB1c2luZyB0aGUgb3JpZ2luYWwgc2NyZWVuIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICAgIHNldENvbnRyYXN0aW5nRHJhd1N0eWxlKGNhbnZhc0NvbnRleHQsIFwic3Ryb2tlXCIpO1xuXG4gICAgICAgIGNhbnZhc0NvbnRleHQubGluZVdpZHRoID0gMS4wO1xuICAgICAgICBcbiAgICAgICAgLy8gRHJhdyB0aGUgYXJ0d29yayBzZWxlY3Rpb24gc28gbG9uZyBhcyB3ZSdyZSBub3QgaW4gdGhlIG1pZGRsZSBvZiBzZWxlY3RpbmcgYSBuZXcgcmVjdGFuZ2xlXG4gICAgICAgIGlmICghYXJ0d29yay5nZXRTZWxlY3Rpb24oKS5pc0VtcHR5KCkgJiYgIShtb2RlU3RhY2sucGVlaygpIGluc3RhbmNlb2YgQ1BSZWN0U2VsZWN0aW9uTW9kZSAmJiBtb2RlU3RhY2sucGVlaygpLmNhcHR1cmUpKSB7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnNldExpbmVEYXNoKFszLCAyXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBsb3RTZWxlY3Rpb25SZWN0KGNhbnZhc0NvbnRleHQsIGFydHdvcmsuZ2V0U2VsZWN0aW9uKCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnNldExpbmVEYXNoKFtdKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRHJhdyBncmlkXG4gICAgICAgIGlmIChzaG93R3JpZCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgYm91bmRzID0gYXJ0d29yay5nZXRCb3VuZHMoKSxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBncmlkVmlzdWFsUGl0Y2ggPSB6b29tICogZ3JpZFNpemU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8qIElmIHRoZSBncmlkIGlzIGdvaW5nIHRvIGJlIG1pbmlzY3VsZSBvbiB0aGUgc2NyZWVuIChiYXNpY2FsbHkganVzdCBjb3ZlcmluZy9pbnZlcnRpbmcgdGhlIGVudGlyZSBhcnR3b3JrLFxuICAgICAgICAgICAgICogZG8gbm90IHBhaW50IGl0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoZ3JpZFZpc3VhbFBpdGNoID4gMikge1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gVmVydGljYWwgbGluZXNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gZ3JpZFNpemUgLSAxOyBpIDwgYm91bmRzLnJpZ2h0OyBpICs9IGdyaWRTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgcDEgPSBjb29yZFRvRGlzcGxheSh7eDogaSwgeTogYm91bmRzLnRvcH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcDIgPSBjb29yZFRvRGlzcGxheSh7eDogaSwgeTogYm91bmRzLmJvdHRvbX0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dC5tb3ZlVG8ocDEueCArIDAuNSwgcDEueSArIDAuNSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQubGluZVRvKHAyLnggKyAwLjUsIHAyLnkgKyAwLjUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAvLyBIb3Jpem9udGFsIGxpbmVzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGdyaWRTaXplIC0gMTsgaSA8IGJvdW5kcy5ib3R0b207IGkgKz0gZ3JpZFNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBwMSA9IGNvb3JkVG9EaXNwbGF5KHt4OiAwLCB5OiBpfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwMiA9IGNvb3JkVG9EaXNwbGF5KHt4OiBib3VuZHMucmlnaHQsIHk6IGl9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0Lm1vdmVUbyhwMS54ICsgMC41LCBwMS55ICsgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dC5saW5lVG8ocDIueCArIDAuNSwgcDIueSArIDAuNSk7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEFkZGl0aW9uYWwgZHJhd2luZyBieSB0aGUgY3VycmVudCBtb2RlXG4gICAgICAgIG1vZGVTdGFjay5wYWludChjYW52YXNDb250ZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGNhbnZhc0NvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcbiAgICAgICAgXG4gICAgICAgIGlmIChkcmF3aW5nV2FzQ2xpcHBlZCkge1xuICAgICAgICAgICAgcmVwYWludFJlZ2lvbi5tYWtlRW1wdHkoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2hvd0dyaWQgPSBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgIHNob3dHcmlkID0gc2hvdztcbiAgICAgICAgdGhpcy5yZXBhaW50QWxsKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgY2FudmFzIGFyZWEgdG8gdGhlIGdpdmVuIGhlaWdodCAoaW4gcGl4ZWxzKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbnR9IGhlaWdodCBOZXcgY2FudmFzIGFyZWEgaGVpZ2h0IGluIENTUyBwaXhlbHNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNraXBDZW50ZXIgVHJ1ZSBpZiB0aGUgY2FudmFzIHNob3VsZCBub3QgYmUgcmUtY2VudGVyZWRcbiAgICAgKi9cbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uKGhlaWdodCwgc2tpcENlbnRlcikge1xuICAgICAgICAvLyBMZWF2ZSByb29tIGZvciB0aGUgYm90dG9tIHNjcm9sbGJhclxuICAgICAgICBoZWlnaHQgLT0gJChjYW52YXNDb250YWluZXJCb3R0b20pLm91dGVySGVpZ2h0KCk7XG5cbiAgICAgICAgJChjYW52YXMpLmNzcygnaGVpZ2h0JywgaGVpZ2h0ICsgXCJweFwiKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSAkKGNhbnZhcykud2lkdGgoKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBjYW52YXNDbGllbnRSZWN0ID0gbnVsbDtcblxuICAgICAgICBpZiAoIXNraXBDZW50ZXIpIHtcbiAgICAgICAgICAgIGNlbnRlckNhbnZhcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW50ZXJwb2xhdGlvbiBwcm9wZXJ0eSBnZXRzIHJlc2V0IHdoZW4gY2FudmFzIHJlc2l6ZXNcbiAgICAgICAgdGhpcy5zZXRJbnRlcnBvbGF0aW9uKGludGVycG9sYXRpb24pO1xuXG4gICAgICAgIHRoaXMucmVwYWludEFsbCgpO1xuICAgIH07XG5cbiAgICBjb250cm9sbGVyLm9uKFwidG9vbENoYW5nZVwiLCBmdW5jdGlvbih0b29sLCB0b29sSW5mbykge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIG5ld01vZGUgPSBkcmF3aW5nTW9kZXNbdG9vbEluZm8uc3Ryb2tlTW9kZV07XG5cbiAgICAgICAgLy8gSWYgd2UgY3VycmVudGx5IGhhdmUgYW55IGRyYXdpbmcgbW9kZXMgYWN0aXZlLCBzd2l0Y2ggdGhlbSB0byB0aGUgZHJhd2luZyBtb2RlIG9mIHRoZSBuZXcgdG9vbFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZGVTdGFjay5tb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG1vZGVTdGFjay5tb2Rlc1tpXSBpbnN0YW5jZW9mIENQRHJhd2luZ01vZGUpIHtcbiAgICAgICAgICAgICAgICBtb2RlU3RhY2subW9kZXNbaV0ubGVhdmUoKTtcbiAgICAgICAgICAgICAgICBtb2RlU3RhY2subW9kZXNbaV0gPSBuZXdNb2RlO1xuICAgICAgICAgICAgICAgIG1vZGVTdGFjay5tb2Rlc1tpXS5lbnRlcigpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjdXJEcmF3TW9kZSA9IG5ld01vZGU7XG4gICAgfSk7XG4gICAgXG4gICAgY29udHJvbGxlci5vbihcIm1vZGVDaGFuZ2VcIiwgZnVuY3Rpb24obW9kZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIG5ld01vZGU7XG5cbiAgICAgICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgICAgICBjYXNlIENoaWNrZW5QYWludC5NX0RSQVc6XG4gICAgICAgICAgICAgICAgbmV3TW9kZSA9IGN1ckRyYXdNb2RlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgIFxuICAgICAgICAgICAgY2FzZSBDaGlja2VuUGFpbnQuTV9GTE9PREZJTEw6XG4gICAgICAgICAgICAgICAgbmV3TW9kZSA9IGZsb29kRmlsbE1vZGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQ2hpY2tlblBhaW50Lk1fR1JBRElFTlRGSUxMOlxuICAgICAgICAgICAgICAgIG5ld01vZGUgPSBncmFkaWVudEZpbGxNb2RlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIENoaWNrZW5QYWludC5NX1JFQ1RfU0VMRUNUSU9OOlxuICAgICAgICAgICAgICAgIG5ld01vZGUgPSByZWN0U2VsZWN0aW9uTW9kZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICBcbiAgICAgICAgICAgIGNhc2UgQ2hpY2tlblBhaW50Lk1fTU9WRV9UT09MOlxuICAgICAgICAgICAgICAgIG5ld01vZGUgPSBtb3ZlVG9vbE1vZGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgXG4gICAgICAgICAgICBjYXNlIENoaWNrZW5QYWludC5NX1JPVEFURV9DQU5WQVM6XG4gICAgICAgICAgICAgICAgbmV3TW9kZSA9IHJvdGF0ZUNhbnZhc01vZGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgXG4gICAgICAgICAgICBjYXNlIENoaWNrZW5QYWludC5NX0NPTE9SX1BJQ0tFUjpcbiAgICAgICAgICAgICAgICBuZXdNb2RlID0gY29sb3JQaWNrZXJNb2RlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIENoaWNrZW5QYWludC5NX1RSQU5TRk9STTpcbiAgICAgICAgICAgICAgICBuZXdNb2RlID0gdHJhbnNmb3JtTW9kZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIG1vZGVTdGFjay5zZXRVc2VyTW9kZShuZXdNb2RlKTtcbiAgICB9KTtcbiAgICBcbiAgICAvL1xuICAgIC8vIE1vZGVzIHN5c3RlbTogbW9kZXMgY29udHJvbCB0aGUgd2F5IHRoZSBHVUkgaXMgcmVhY3RpbmcgdG8gdGhlIHVzZXIgaW5wdXRcbiAgICAvLyBBbGwgdGhlIHRvb2xzIGFyZSBpbXBsZW1lbnRlZCB0aHJvdWdoIG1vZGVzXG4gICAgLy9cbiAgICBcbiAgICBkZWZhdWx0TW9kZSA9IG5ldyBDUERlZmF1bHRNb2RlKCk7XG4gICAgY29sb3JQaWNrZXJNb2RlID0gbmV3IENQQ29sb3JQaWNrZXJNb2RlKCk7XG4gICAgcGFuTW9kZSA9IG5ldyBDUFBhbk1vZGUoKTtcbiAgICByb3RhdGVDYW52YXNNb2RlID0gbmV3IENQUm90YXRlQ2FudmFzTW9kZSgpO1xuICAgIGZsb29kRmlsbE1vZGUgPSBuZXcgQ1BGbG9vZEZpbGxNb2RlKCk7XG4gICAgZ3JhZGllbnRGaWxsTW9kZSA9IG5ldyBDUEdyYWRpZW50RmlsbE1vZGUoKTtcbiAgICByZWN0U2VsZWN0aW9uTW9kZSA9IG5ldyBDUFJlY3RTZWxlY3Rpb25Nb2RlKCk7XG4gICAgbW92ZVRvb2xNb2RlID0gbmV3IENQTW92ZVRvb2xNb2RlKCk7XG4gICAgdHJhbnNmb3JtTW9kZSA9IG5ldyBDUFRyYW5zZm9ybU1vZGUoKTtcblxuICAgIC8vIHRoaXMgbXVzdCBjb3JyZXNwb25kIHRvIHRoZSBzdHJva2UgbW9kZXMgZGVmaW5lZCBpbiBDUFRvb2xJbmZvXG4gICAgZHJhd2luZ01vZGVzID0gW25ldyBDUEZyZWVoYW5kTW9kZSgpLCBuZXcgQ1BMaW5lTW9kZSgpLCBuZXcgQ1BCZXppZXJNb2RlKCldO1xuXG4gICAgY3VyRHJhd01vZGUgPSBkcmF3aW5nTW9kZXNbQ1BCcnVzaEluZm8uU01fRlJFRUhBTkRdO1xuXG4gICAgLy8gVGhlIGRlZmF1bHQgbW9kZSB3aWxsIGhhbmRsZSB0aGUgZXZlbnRzIHRoYXQgbm8gb3RoZXIgbW9kZXMgYXJlIGludGVyZXN0ZWQgaW5cbiAgICBtb2RlU3RhY2suc2V0RGVmYXVsdE1vZGUoZGVmYXVsdE1vZGUpO1xuICAgIG1vZGVTdGFjay5zZXRVc2VyTW9kZShjdXJEcmF3TW9kZSk7XG5cbiAgICBhcnR3b3JrQ2FudmFzLndpZHRoID0gYXJ0d29yay53aWR0aDtcbiAgICBhcnR3b3JrQ2FudmFzLmhlaWdodCA9IGFydHdvcmsuaGVpZ2h0O1xuICAgIFxuICAgIGNhbnZhcy53aWR0aCA9IDgwMDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gOTAwO1xuICAgIGNhbnZhcy5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1jYW52YXNcIjtcbiAgICBjYW52YXMuc2V0QXR0cmlidXRlKFwidG91Y2gtYWN0aW9uXCIsIFwibm9uZVwiKTtcbiAgICBcbiAgICBpZiAoIWNhbnZhc0NvbnRleHQuc2V0TGluZURhc2gpIHsgXG4gICAgICAgIGNhbnZhc0NvbnRleHQuc2V0TGluZURhc2ggPSBmdW5jdGlvbiAoKSB7fTsgLy8gRm9yIElFIDEwIGFuZCBvbGRlclxuICAgIH1cbiAgICBcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIFxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgbW91c2VJbiA9IHRydWU7XG4gICAgfSk7XG4gICAgXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBtb3VzZUluID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICBpZiAoIW1vdXNlRG93bltCVVRUT05fUFJJTUFSWV0gJiYgIW1vdXNlRG93bltCVVRUT05fU0VDT05EQVJZXSAmJiAhbW91c2VEb3duW0JVVFRPTl9XSEVFTF0pIHtcbiAgICAgICAgICAgIHRoYXQucmVwYWludEFsbCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBoYW5kbGVQb2ludGVyRG93bik7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBoYW5kbGVQb2ludGVyTW92ZSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgaGFuZGxlUG9pbnRlclVwKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIGhhbmRsZU1vdXNlV2hlZWwpO1xuICAgIFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBoYW5kbGVLZXlVcCk7XG5cbiAgICAvKiBXb3JrYXJvdW5kIGZvciBDaHJvbWUgTWFjIGJ1ZyB0aGF0IGNhdXNlcyBjYW52YXMgdG8gYmUgZGlzcG9zZWQgYW5kIG5ldmVyIHJlY3JlYXRlZCB3aGVuIHRhYiBpcyBzd2l0Y2hlZCBpbnRvIHRoZSBcbiAgICAgKiBiYWNrZ3JvdW5kIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU4ODQzNFxuICAgICAqL1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIG9sZEhlaWdodCA9IGNhbnZhcy5oZWlnaHQgKyAkKGNhbnZhc0NvbnRhaW5lckJvdHRvbSkub3V0ZXJIZWlnaHQoKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSAxO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMTtcblxuICAgICAgICB0aGF0LnJlc2l6ZShvbGRIZWlnaHQsIHRydWUpO1xuICAgIH0sIGZhbHNlKTtcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY2FudmFzQ2xpZW50UmVjdCA9IG51bGw7XG4gICAgfSk7XG4gICAgXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZS5idXR0b24gPT0gQlVUVE9OX1dIRUVMKSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IG1pZGRsZS1tb3VzZSBzY3JvbGxpbmcgaW4gRmlyZWZveFxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBhcnR3b3JrLm9uKFwiY2hhbmdlU2VsZWN0aW9uXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBXZSBjb3VsZCBrZWVwIHRyYWNrIG9mIG91ciBsYXN0LXBhaW50ZWQgc2VsZWN0aW9uIHJlY3QgYW5kIG9ubHkgaW52YWxpZGF0ZSB0aGF0IGhlcmVcbiAgICAgICAgdGhhdC5yZXBhaW50QWxsKCk7XG4gICAgfSk7XG4gICAgXG4gICAgYXJ0d29yay5vbihcInVwZGF0ZVJlZ2lvblwiLCBmdW5jdGlvbihyZWdpb24pIHtcbiAgICAgICAgYXJ0d29ya1VwZGF0ZVJlZ2lvbi51bmlvbihyZWdpb24pO1xuICAgICAgICBcbiAgICAgICAgcmVwYWludFJlY3QoZ2V0UmVmcmVzaEFyZWEoYXJ0d29ya1VwZGF0ZVJlZ2lvbikpO1xuICAgIH0pO1xuICAgIFxuICAgIGhvcnpTY3JvbGwub24oXCJ2YWx1ZUNoYW5nZWRcIiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIFxuICAgICAgICAgICAgcCA9IHRoYXQuZ2V0T2Zmc2V0KCk7XG4gICAgICAgIFxuICAgICAgICB0aGF0LnNldE9mZnNldCgtdmFsdWUsIHAueSk7XG4gICAgfSk7XG4gICAgXG4gICAgdmVydFNjcm9sbC5vbihcInZhbHVlQ2hhbmdlZFwiLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgXG4gICAgICAgICAgICBwID0gdGhhdC5nZXRPZmZzZXQoKTtcbiAgICAgICAgXG4gICAgICAgIHRoYXQuc2V0T2Zmc2V0KHAueCwgLXZhbHVlKTtcbiAgICB9KTtcbiAgICBcbiAgICB0aGlzLnNldEludGVycG9sYXRpb24oZmFsc2UpO1xuXG4gICAgdmFyXG4gICAgICAgIGNhbnZhc1NwYWNpbmdXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBcbiAgICBjYW52YXNTcGFjaW5nV3JhcHBlci5jbGFzc05hbWUgPSAnY2hpY2tlbnBhaW50LWNhbnZhcy1jb250YWluZXItd3JhcHBlcic7XG4gICAgY2FudmFzU3BhY2luZ1dyYXBwZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICBcbiAgICBjYW52YXNDb250YWluZXJUb3AuY2xhc3NOYW1lID0gJ2NoaWNrZW5wYWludC1jYW52YXMtY29udGFpbmVyLXRvcCc7XG4gICAgY2FudmFzQ29udGFpbmVyVG9wLmFwcGVuZENoaWxkKGNhbnZhc1NwYWNpbmdXcmFwcGVyKTtcbiAgICBjYW52YXNDb250YWluZXJUb3AuYXBwZW5kQ2hpbGQodmVydFNjcm9sbC5nZXRFbGVtZW50KCkpO1xuICAgIFxuICAgIGNhbnZhc0NvbnRhaW5lckJvdHRvbS5jbGFzc05hbWUgPSAnY2hpY2tlbnBhaW50LWNhbnZhcy1jb250YWluZXItYm90dG9tJztcbiAgICBjYW52YXNDb250YWluZXJCb3R0b20uYXBwZW5kQ2hpbGQoaG9yelNjcm9sbC5nZXRFbGVtZW50KCkpO1xuICAgIFxuICAgIGNhbnZhc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXNDb250YWluZXJUb3ApO1xuICAgIGNhbnZhc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXNDb250YWluZXJCb3R0b20pO1xuICAgIFxuICAgIGNvbnRyb2xsZXIuc2V0Q2FudmFzKHRoaXMpO1xufSIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUENoZWNrYm94KHN0YXRlLCB0aXRsZSkge1xuICAgIHZhclxuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSxcbiAgICAgICAgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgICBcbiAgICAgICAgdGhhdCA9IHRoaXM7XG4gICAgXG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlIHx8IGZhbHNlO1xuICAgIFxuICAgIGZ1bmN0aW9uIHBhaW50KCkge1xuICAgICAgICB2YXIgXG4gICAgICAgICAgICB3aWR0aCA9IGNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgICAgY2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICBjYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXNDb250ZXh0LmFyYyh3aWR0aCAvIDIgKyAxLCB3aWR0aCAvIDIgKyAxLCBNYXRoLm1heCh3aWR0aCAvIDIsIDEpIC0gMiwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoYXQuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2V0VmFsdWUgPSBmdW5jdGlvbihiKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9IGIpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmVtaXRFdmVudCgndmFsdWVDaGFuZ2UnLCBbYl0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYWludCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9XG4gICAgXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB0aGF0LnNldFZhbHVlKCF0aGF0LnN0YXRlKTtcbiAgICB9KTtcbiAgICBcbiAgICBjYW52YXMudGl0bGUgPSB0aXRsZSB8fCBcIlwiO1xuICAgIGNhbnZhcy5jbGFzc05hbWUgPSAnY2hpY2tlbnBhaW50LWNoZWNrYm94JztcbiAgICBcbiAgICBjYW52YXMud2lkdGggPSAyMDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMjA7XG4gICAgXG4gICAgY2FudmFzLmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgY2FudmFzLnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICBcbiAgICBwYWludCgpO1xufTtcblxuQ1BDaGVja2JveC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuQ1BDaGVja2JveC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUENoZWNrYm94OyIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5pbXBvcnQgQ1BQYWxldHRlIGZyb20gJy4vQ1BQYWxldHRlJztcbmltcG9ydCBDUENvbG9yU2VsZWN0IGZyb20gJy4vQ1BDb2xvclNlbGVjdCc7XG5pbXBvcnQgQ1BDb2xvclNsaWRlciBmcm9tICcuL0NQQ29sb3JTbGlkZXInO1xuXG5pbXBvcnQgQ1BDb2xvciBmcm9tIFwiLi4vdXRpbC9DUENvbG9yXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQQ29sb3JQYWxldHRlKGNwQ29udHJvbGxlcikge1xuICAgIENQUGFsZXR0ZS5jYWxsKHRoaXMsIGNwQ29udHJvbGxlciwgXCJjb2xvclwiLCBcIkNvbG9yXCIpO1xuICAgIFxuICAgIHZhciBcbiAgICAgICAgY29sb3JTZWxlY3QgPSBuZXcgQ1BDb2xvclNlbGVjdChjcENvbnRyb2xsZXIpLFxuICAgICAgICBjb2xvclNsaWRlciA9IG5ldyBDUENvbG9yU2xpZGVyKGNwQ29udHJvbGxlciwgY29sb3JTZWxlY3QpLFxuICAgICAgICBjb2xvclNob3cgPSBuZXcgQ1BDb2xvclNob3coY3BDb250cm9sbGVyKSxcbiAgICBcbiAgICAgICAgYm9keSA9IHRoaXMuZ2V0Qm9keUVsZW1lbnQoKSxcbiAgICAgICAgdG9wU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgXG4gICAgdG9wU2VjdGlvbi5jbGFzc05hbWUgPSAnY2hpY2tlbnBhaW50LWNvbG9ycGlja2VyLXRvcCc7XG4gICAgXG4gICAgdG9wU2VjdGlvbi5hcHBlbmRDaGlsZChjb2xvclNlbGVjdC5nZXRFbGVtZW50KCkpO1xuICAgIHRvcFNlY3Rpb24uYXBwZW5kQ2hpbGQoY29sb3JTbGlkZXIuZ2V0RWxlbWVudCgpKTtcbiAgICBcbiAgICBib2R5LmFwcGVuZENoaWxkKHRvcFNlY3Rpb24pO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQoY29sb3JTaG93LmdldEVsZW1lbnQoKSk7XG59XG5cbmZ1bmN0aW9uIENQQ29sb3JTaG93KGNwQ29udHJvbGxlcikge1xuICAgIHZhclxuICAgICAgICBjb2xvciA9IDAsXG4gICAgICAgIFxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGZ1bmN0aW9uIHBhZExlZnQoc3RyaW5nLCBwYWRkaW5nLCBsZW4pIHtcbiAgICAgICAgd2hpbGUgKHN0cmluZy5sZW5ndGggPCBsZW4pIHtcbiAgICAgICAgICAgIHN0cmluZyA9IHBhZGRpbmcgKyBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gcGFpbnQoKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyMnICsgcGFkTGVmdChOdW1iZXIoY29sb3IpLnRvU3RyaW5nKDE2KSwgXCIwXCIsIDYpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBtb3VzZUNsaWNrKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBcbiAgICAgICAgdmFyIFxuICAgICAgICAgICAgY29sSGV4ID0gXCIjXCIgKyBwYWRMZWZ0KE51bWJlcihjb2xvcikudG9TdHJpbmcoMTYpLCBcIjBcIiwgNik7XG5cbiAgICAgICAgY29sSGV4ID0gd2luZG93LnByb21wdChcIlBsZWFzZSBlbnRlciBhIGNvbG9yIGluIGhleCBmb3JtYXRcIiwgY29sSGV4KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb2xIZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoY29sSGV4Lm1hdGNoKC9eIy8pIHx8IGNvbEhleC5tYXRjaCgvXiQvKSkge1xuICAgICAgICAgICAgICAgICAgICBjb2xIZXggPSBjb2xIZXguc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3IgPSBwYXJzZUludChjb2xIZXgsIDE2KTtcblxuICAgICAgICAgICAgICAgIGNwQ29udHJvbGxlci5zZXRDdXJDb2xvcihuZXcgQ1BDb2xvcihuZXdDb2xvcikpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIFxuICAgIGNwQ29udHJvbGxlci5vbihcImNvbG9yQ2hhbmdlXCIsIGZ1bmN0aW9uKF9jb2xvcikge1xuICAgICAgICBjb2xvciA9IF9jb2xvci5nZXRSZ2IoKTtcbiAgICAgICAgcGFpbnQoKTtcbiAgICB9KTtcbiAgICBcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9ICdjaGlja2VucGFpbnQtY29sb3JwaWNrZXItc2hvdyc7XG4gICAgXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbW91c2VDbGljayk7XG5cbiAgICBwYWludCgpO1xufVxuXG5DUENvbG9yUGFsZXR0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQUGFsZXR0ZS5wcm90b3R5cGUpO1xuQ1BDb2xvclBhbGV0dGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BDb2xvclBhbGV0dGU7XG4iLCIvKlxuICAgIENoaWNrZW5QYWludFxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cblxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUENvbG9yIGZyb20gXCIuLi91dGlsL0NQQ29sb3JcIjtcbmltcG9ydCBDUENvbG9yQm1wIGZyb20gXCIuLi9lbmdpbmUvQ1BDb2xvckJtcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUENvbG9yU2VsZWN0KGNwQ29udHJvbGxlciwgaW5pdGlhbENvbG9yKSB7XG4gICAgdmFyXG4gICAgICAgIHcgPSAxMjgsIGggPSAxMjgsXG5cbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksXG5cbiAgICAgICAgaW1hZ2VEYXRhID0gY2FudmFzQ29udGV4dC5jcmVhdGVJbWFnZURhdGEodywgaCksXG4gICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgY29sb3IgPSBuZXcgQ1BDb2xvcigpLFxuXG4gICAgICAgIG5lZWRSZWZyZXNoID0gdHJ1ZSxcblxuICAgICAgICBjYXB0dXJlZE1vdXNlID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBtYWtlQml0bWFwKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGNvbCA9IGNvbG9yLmNsb25lKCksXG4gICAgICAgICAgICBwaXhJbmRleCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoOyB5KyspIHtcbiAgICAgICAgICAgIGNvbC5zZXRWYWx1ZSgyNTUgLSAoeSAqIDI1NSkgLyBoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3OyB4KyspIHtcbiAgICAgICAgICAgICAgICBjb2wuc2V0U2F0dXJhdGlvbigoeCAqIDI1NSkgLyB3KTtcblxuICAgICAgICAgICAgICAgIGRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLlJFRF9CWVRFX09GRlNFVF0gPSAoY29sLnJnYiA+PiAxNikgJiAweEZGO1xuICAgICAgICAgICAgICAgIGRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkdSRUVOX0JZVEVfT0ZGU0VUXSA9IChjb2wucmdiID4+IDgpICYgMHhGRlxuICAgICAgICAgICAgICAgIGRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdID0gY29sLnJnYiAmIDB4RkZcbiAgICAgICAgICAgICAgICBkYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5BTFBIQV9CWVRFX09GRlNFVF0gPSAweEZGO1xuXG4gICAgICAgICAgICAgICAgcGl4SW5kZXggKz0gQ1BDb2xvckJtcC5CWVRFU19QRVJfUElYRUw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZWVkUmVmcmVzaCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhaW50KCkge1xuICAgICAgICBpZiAobmVlZFJlZnJlc2gpIHtcbiAgICAgICAgICAgIG1ha2VCaXRtYXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbnZhc0NvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCwgMCwgMCwgdywgaCk7XG5cbiAgICAgICAgdmFyXG4gICAgICAgICAgICB4ID0gY29sb3IuZ2V0U2F0dXJhdGlvbigpICogdyAvIDI1NSxcbiAgICAgICAgICAgIHkgPSAoMjU1IC0gY29sb3IuZ2V0VmFsdWUoKSkgKiBoIC8gMjU1O1xuXG4gICAgICAgIGNhbnZhc0NvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2V4Y2x1c2lvbic7XG4gICAgICAgIGNhbnZhc0NvbnRleHQuc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICBjYW52YXNDb250ZXh0LmxpbmVXaWR0aCA9IDEuNTtcblxuICAgICAgICBjYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjYW52YXNDb250ZXh0LmFyYyh4LCB5LCA1LCAwLCBNYXRoLlBJICogMik7XG4gICAgICAgIGNhbnZhc0NvbnRleHQuc3Ryb2tlKCk7XG5cbiAgICAgICAgY2FudmFzQ29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdXNlUGlja0NvbG9yKGUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICB4ID0gZS5wYWdlWCAtICQoY2FudmFzKS5vZmZzZXQoKS5sZWZ0LFxuICAgICAgICAgICAgeSA9IGUucGFnZVkgLSAkKGNhbnZhcykub2Zmc2V0KCkudG9wLFxuXG4gICAgICAgICAgICBzYXQgPSB4ICogMjU1IC8gdyxcbiAgICAgICAgICAgIHZhbHVlID0gMjU1IC0geSAqIDI1NSAvIGg7XG5cbiAgICAgICAgY29sb3Iuc2V0U2F0dXJhdGlvbihNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHNhdCkpKTtcbiAgICAgICAgY29sb3Iuc2V0VmFsdWUoTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCB2YWx1ZSkpKTtcblxuICAgICAgICBwYWludCgpO1xuICAgICAgICBjcENvbnRyb2xsZXIuc2V0Q3VyQ29sb3IoY29sb3IpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnRpbnVlRHJhZyhlKSB7XG4gICAgICAgIG1vdXNlUGlja0NvbG9yKGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVuZERyYWcoZSkge1xuICAgICAgICBjYW52YXMucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcbiAgICAgICAgY2FwdHVyZWRNb3VzZSA9IGZhbHNlO1xuICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBlbmREcmFnKTtcbiAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBjb250aW51ZURyYWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0YXJ0RHJhZyhlKSB7XG4gICAgICAgIGlmICghY2FwdHVyZWRNb3VzZSkge1xuICAgICAgICAgICAgY2FwdHVyZWRNb3VzZSA9IHRydWU7XG4gICAgICAgICAgICBjYW52YXMuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgZW5kRHJhZyk7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIGNvbnRpbnVlRHJhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBtb3VzZVBpY2tDb2xvcihlKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldEh1ZSA9IGZ1bmN0aW9uKGh1ZSkge1xuICAgICAgICBpZiAoY29sb3IuZ2V0SHVlKCkgIT0gaHVlKSB7XG4gICAgICAgICAgICBjb2xvci5zZXRIdWUoaHVlKTtcbiAgICAgICAgICAgIGNwQ29udHJvbGxlci5zZXRDdXJDb2xvcihjb2xvcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfTtcblxuICAgIGNwQ29udHJvbGxlci5vbihcImNvbG9yQ2hhbmdlXCIsIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgY29sb3IuY29weUZyb20oYyk7XG5cbiAgICAgICAgbmVlZFJlZnJlc2ggPSB0cnVlO1xuICAgICAgICBwYWludCgpO1xuICAgIH0pO1xuXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBzdGFydERyYWcpO1xuXG4gICAgY2FudmFzLmNsYXNzTmFtZSA9ICdjaGlja2VucGFpbnQtY29sb3JwaWNrZXItc2VsZWN0JztcbiAgICBjYW52YXMuc2V0QXR0cmlidXRlKFwidG91Y2gtYWN0aW9uXCIsIFwibm9uZVwiKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IHc7XG4gICAgY2FudmFzLmhlaWdodCA9IGg7XG5cbiAgICBpZiAoaW5pdGlhbENvbG9yKSB7XG4gICAgICAgIGNvbG9yLmNvcHlGcm9tKGluaXRpYWxDb2xvcik7XG4gICAgfVxuXG4gICAgcGFpbnQoKTtcbn0iLCIvKlxuICAgIENoaWNrZW5QYWludFxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cblxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUENvbG9yIGZyb20gXCIuLi91dGlsL0NQQ29sb3JcIjtcbmltcG9ydCBDUENvbG9yQm1wIGZyb20gXCIuLi9lbmdpbmUvQ1BDb2xvckJtcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUENvbG9yU2xpZGVyKGNwQ29udHJvbGxlciwgc2VsZWN0ZXIsIGluaXRpYWxIdWUpIHtcbiAgICB2YXJcbiAgICAgICAgdGhhdCA9IHRoaXMsXG5cbiAgICAgICAgdyA9IDI0LCBoID0gMTI4LFxuXG4gICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksXG4gICAgICAgIGNhbnZhc0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLFxuXG4gICAgICAgIGltYWdlRGF0YSA9IGNhbnZhc0NvbnRleHQuY3JlYXRlSW1hZ2VEYXRhKHcsIGgpLFxuICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsXG5cbiAgICAgICAgY2FwdHVyZWRNb3VzZSA9IGZhbHNlLFxuXG4gICAgICAgIGh1ZSA9IGluaXRpYWxIdWUgfHwgMDtcblxuICAgIGZ1bmN0aW9uIG1ha2VCaXRtYXAoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgY29sb3IgPSBuZXcgQ1BDb2xvcigpLFxuICAgICAgICAgICAgcGl4SW5kZXggPSAwO1xuXG4gICAgICAgIGNvbG9yLnNldFJnYkNvbXBvbmVudHMoMCwgMjU1LCAyNTUpO1xuXG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaDsgeSsrKSB7XG4gICAgICAgICAgICBjb2xvci5zZXRIdWUoKHkgKiAzNTkpIC8gaCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtwaXhJbmRleCArIENQQ29sb3JCbXAuUkVEX0JZVEVfT0ZGU0VUXSA9IChjb2xvci5yZ2IgPj4gMTYpICYgMHhGRjtcbiAgICAgICAgICAgICAgICBkYXRhW3BpeEluZGV4ICsgQ1BDb2xvckJtcC5HUkVFTl9CWVRFX09GRlNFVF0gPSAoY29sb3IucmdiID4+IDgpICYgMHhGRlxuICAgICAgICAgICAgICAgIGRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkJMVUVfQllURV9PRkZTRVRdID0gY29sb3IucmdiICYgMHhGRlxuICAgICAgICAgICAgICAgIGRhdGFbcGl4SW5kZXggKyBDUENvbG9yQm1wLkFMUEhBX0JZVEVfT0ZGU0VUXSA9IDB4RkY7XG5cbiAgICAgICAgICAgICAgICBwaXhJbmRleCArPSBDUENvbG9yQm1wLkJZVEVTX1BFUl9QSVhFTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhaW50KCkge1xuICAgICAgICBjYW52YXNDb250ZXh0LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDAsIDAsIDAsIHcsIGgpO1xuXG4gICAgICAgIHZhclxuICAgICAgICAgICAgeSA9IChodWUgKiBoKSAvIDM2MDtcblxuICAgICAgICBjYW52YXNDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdleGNsdXNpb24nO1xuICAgICAgICBjYW52YXNDb250ZXh0LnN0cm9rZVN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY2FudmFzQ29udGV4dC5saW5lV2lkdGggPSAxLjU7XG5cbiAgICAgICAgY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY2FudmFzQ29udGV4dC5tb3ZlVG8oMCwgeSk7XG4gICAgICAgIGNhbnZhc0NvbnRleHQubGluZVRvKHcsIHkpO1xuICAgICAgICBjYW52YXNDb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgICAgIGNhbnZhc0NvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3VzZVBpY2tDb2xvcihlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgeSA9IGUucGFnZVkgLSAkKGNhbnZhcykub2Zmc2V0KCkudG9wLFxuXG4gICAgICAgICAgICBfaHVlID0gfn4oeSAqIDM2MCAvIGgpO1xuXG4gICAgICAgIGh1ZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDM1OSwgX2h1ZSkpO1xuICAgICAgICBwYWludCgpO1xuXG4gICAgICAgIGlmIChzZWxlY3RlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZWxlY3Rlci5zZXRIdWUoaHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnRpbnVlRHJhZyhlKSB7XG4gICAgICAgIG1vdXNlUGlja0NvbG9yKGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVuZERyYWcoZSkge1xuICAgICAgICBjYW52YXMucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcbiAgICAgICAgY2FwdHVyZWRNb3VzZSA9IGZhbHNlO1xuICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBlbmREcmFnKTtcbiAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBjb250aW51ZURyYWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0YXJ0RHJhZyhlKSB7XG4gICAgICAgIGlmICghY2FwdHVyZWRNb3VzZSkge1xuICAgICAgICAgICAgY2FwdHVyZWRNb3VzZSA9IHRydWU7XG4gICAgICAgICAgICBjYW52YXMuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgZW5kRHJhZyk7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIGNvbnRpbnVlRHJhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBtb3VzZVBpY2tDb2xvcihlKTtcbiAgICB9XG5cbiAgICB0aGlzLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRIdWUgPSBmdW5jdGlvbihoKSB7XG4gICAgICAgIGh1ZSA9IGg7XG4gICAgICAgIHBhaW50KCk7XG4gICAgfTtcblxuICAgIGNwQ29udHJvbGxlci5vbihcImNvbG9yQ2hhbmdlXCIsIGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgIHRoYXQuc2V0SHVlKGNvbG9yLmdldEh1ZSgpKTtcbiAgICB9KTtcblxuICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJ0b3VjaC1hY3Rpb25cIiwgXCJub25lXCIpO1xuXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBzdGFydERyYWcpO1xuXG4gICAgY2FudmFzLndpZHRoID0gdztcbiAgICBjYW52YXMuaGVpZ2h0ID0gaDtcblxuICAgIGNhbnZhcy5jbGFzc05hbWUgPSAnY2hpY2tlbnBhaW50LWNvbG9ycGlja2VyLXNsaWRlcic7XG5cbiAgICBtYWtlQml0bWFwKCk7XG4gICAgcGFpbnQoKTtcblxufSIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG5cbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuaW1wb3J0IENQQ29sb3IgZnJvbSAnLi4vdXRpbC9DUENvbG9yJztcblxuaW1wb3J0IENQU2xpZGVyIGZyb20gJy4vQ1BTbGlkZXInO1xuaW1wb3J0IENQQ29sb3JTZWxlY3QgZnJvbSAnLi9DUENvbG9yU2VsZWN0JztcbmltcG9ydCBDUENvbG9yU2xpZGVyIGZyb20gJy4vQ1BDb2xvclNsaWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQQ29sb3JTd2F0Y2goaW5pdGlhbENvbG9yLCBpbml0aWFsQWxwaGEpIHtcbiAgICB2YXJcbiAgICAgICAgdGhhdCA9IHRoaXMsXG4gICAgICAgIGNvbG9yID0gbmV3IENQQ29sb3IoMCksXG4gICAgICAgIGFscGhhID0gMjU1LFxuXG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgZnVuY3Rpb24gcGFkTGVmdChzdHJpbmcsIHBhZGRpbmcsIGxlbikge1xuICAgICAgICB3aGlsZSAoc3RyaW5nLmxlbmd0aCA8IGxlbikge1xuICAgICAgICAgICAgc3RyaW5nID0gcGFkZGluZyArIHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhaW50KCkge1xuICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjJyArIHBhZExlZnQoTnVtYmVyKGNvbG9yLmdldFJnYigpKS50b1N0cmluZygxNiksIFwiMFwiLCA2KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3VzZUNsaWNrKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRDb2xvciA9IGZ1bmN0aW9uKF9jb2xvcikge1xuICAgICAgICBpZiAoIWNvbG9yLmlzRXF1YWwoX2NvbG9yKSkge1xuICAgICAgICAgICAgY29sb3IuY29weUZyb20oX2NvbG9yKTtcblxuICAgICAgICAgICAgcGFpbnQoKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0RXZlbnQoXCJjb2xvckNoYW5nZVwiLCBbY29sb3JdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNldEFscGhhID0gZnVuY3Rpb24oX2FscGhhKSB7XG4gICAgICAgIGlmIChfYWxwaGEgIT0gYWxwaGEpIHtcbiAgICAgICAgICAgIGFscGhhID0gX2FscGhhO1xuXG4gICAgICAgICAgICBwYWludCgpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXRFdmVudChcImFscGhhQ2hhbmdlXCIsIFthbHBoYV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q29sb3JSZ2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yLmdldFJnYigpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEFscGhhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBhbHBoYTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRDdXJDb2xvciA9IHRoaXMuc2V0Q29sb3I7XG5cbiAgICBmdW5jdGlvbiBidWlsZENvbG9yRWRpdFBhbmVsKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIGdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIHNlbGVjdCA9IG5ldyBDUENvbG9yU2VsZWN0KHRoYXQsIGNvbG9yKSxcbiAgICAgICAgICAgIHNsaWRlciA9IG5ldyBDUENvbG9yU2xpZGVyKHRoYXQsIHNlbGVjdCwgY29sb3IuZ2V0SHVlKCkpLFxuICAgICAgICAgICAgYWxwaGFTbGlkZXIgPSBuZXcgQ1BTbGlkZXIoMCwgMjU1KTtcblxuICAgICAgICBwYW5lbC5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1jb2xvci1waWNrLXBhbmVsXCI7XG5cbiAgICAgICAgZ3JvdXAuY2xhc3NOYW1lID0gXCJjaGlja2VucGFpbnQtY29sb3JwaWNrZXItdG9wXCI7XG5cbiAgICAgICAgZ3JvdXAuYXBwZW5kQ2hpbGQoc2VsZWN0LmdldEVsZW1lbnQoKSk7XG4gICAgICAgIGdyb3VwLmFwcGVuZENoaWxkKHNsaWRlci5nZXRFbGVtZW50KCkpO1xuXG4gICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGdyb3VwKTtcblxuICAgICAgICBhbHBoYVNsaWRlci52YWx1ZSA9IGFscGhhO1xuICAgICAgICBhbHBoYVNsaWRlci50aXRsZSA9IGZ1bmN0aW9uKGFscGhhKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJPcGFjaXR5OiBcIiArIGFscGhhO1xuICAgICAgICB9O1xuICAgICAgICBhbHBoYVNsaWRlci5vbihcInZhbHVlQ2hhbmdlXCIsIGZ1bmN0aW9uKGFscGhhKSB7XG4gICAgICAgICAgICB0aGF0LnNldEFscGhhKGFscGhhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoYWxwaGFTbGlkZXIuZ2V0RWxlbWVudCgpKTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYWxwaGFTbGlkZXIucmVzaXplKCk7XG4gICAgICAgIH0sIDApO1xuXG4gICAgICAgIHJldHVybiBwYW5lbDtcbiAgICB9XG5cbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9ICdjaGlja2VucGFpbnQtY29sb3ItcGljay1zd2F0Y2gnO1xuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbW91c2VDbGljayk7XG5cbiAgICBpZiAoaW5pdGlhbENvbG9yKSB7XG4gICAgICAgIGNvbG9yLmNvcHlGcm9tKGluaXRpYWxDb2xvcik7XG4gICAgfVxuXG4gICAgaWYgKGluaXRpYWxBbHBoYSkge1xuICAgICAgICBhbHBoYSA9IGluaXRpYWxBbHBoYTtcbiAgICB9XG5cbiAgICAvLyBDbGlja2luZyBvdXRzaWRlIHRoZSBwb3BvdmVyIHdpbGwgZGlzbWlzcyBpdFxuICAgIGZ1bmN0aW9uIGNsb3NlQ2xpY2tIYW5kbGVyKGUpIHtcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmNsb3Nlc3QoXCIucG9wb3ZlclwiKS5sZW5ndGggPT0gMCAmJiAkKGUudGFyZ2V0KS5jbG9zZXN0KFwiLmNoaWNrZW5wYWludC1jb2xvci1waWNrLXN3YXRjaFwiKVswXSAhPSBlbGVtZW50KSB7XG4gICAgICAgICAgICAkKGVsZW1lbnQpLnBvcG92ZXIoXCJoaWRlXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJChlbGVtZW50KVxuICAgICAgICAucG9wb3Zlcih7XG4gICAgICAgICAgICBodG1sOiB0cnVlLFxuICAgICAgICAgICAgY29udGVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgY2xvc2VDbGlja0hhbmRsZXIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1aWxkQ29sb3JFZGl0UGFuZWwoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmlnZ2VyOiBcIm1hbnVhbFwiLFxuICAgICAgICAgICAgcGxhY2VtZW50OiBcImJvdHRvbVwiLFxuXG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5wb3BvdmVyKFwidG9nZ2xlXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJoaWRkZW4uYnMucG9wb3ZlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGNsb3NlQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICBwYWludCgpO1xufVxuXG5DUENvbG9yU3dhdGNoLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5DUENvbG9yU3dhdGNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENQQ29sb3JTd2F0Y2g7IiwiLypcblx0Q2hpY2tlblBhaW50XG5cblx0Q2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuXHRieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG5cblx0Q2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuXHRDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHRpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHR0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG5cdENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHRidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHRNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cblx0WW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0YWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUENvbmZpcm1UcmFuc2Zvcm1EaWFsb2cocGFyZW50LCBjb250cm9sbGVyKSB7XG5cdHZhclxuXHRcdGRpYWxvZyA9XG5cdFx0XHQkKGA8ZGl2IGNsYXNzPVwibW9kYWwgZmFkZVwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XG5cdCAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIj5cblx0ICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG5cdCAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuXHQgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXHQgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkNvbXBsZXRlIHRyYW5zZm9ybTwvaDQ+XG5cdCAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cdCAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBZb3UgbmVlZCB0byBmaW5pc2ggdHJhbnNmb3JtaW5nIHRoaXMgbGF5ZXIgYmVmb3JlIHlvdSBjYW4gZG8gdGhhdC4gV2hhdCB3b3VsZCB5b3UgbGlrZSB0byBkbyB3aXRoIHRoZSB0cmFuc2Zvcm0/XG5cdFx0XHRcdFx0XHRcdDwvcD5cblx0ICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblx0ICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5DYW5jZWw8L2J1dHRvbj5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgY2hpY2tlbnBhaW50LXJlamVjdC10cmFuc2Zvcm1cIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlVuZG8gdHJhbnNmb3JtPC9idXR0b24+XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGNoaWNrZW5wYWludC1hY2NlcHQtdHJhbnNmb3JtXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5BcHBseSB0cmFuc2Zvcm08L2J1dHRvbj5cblx0ICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblx0ICAgICAgICAgICAgICAgIDwvZGl2PlxuXHQgICAgICAgICAgICA8L2Rpdj5cblx0ICAgICAgICA8L2Rpdj5cblx0ICAgIGApLFxuXG5cdFx0dGhhdCA9IHRoaXMsXG5cblx0XHRhcHBseUJ1dHRvbiA9ICQoXCIuY2hpY2tlbnBhaW50LWFjY2VwdC10cmFuc2Zvcm1cIiwgZGlhbG9nKSxcblx0XHRyZWplY3RCdXR0b24gPSAkKFwiLmNoaWNrZW5wYWludC1yZWplY3QtdHJhbnNmb3JtXCIsIGRpYWxvZyk7XG5cblx0YXBwbHlCdXR0b24uY2xpY2soZnVuY3Rpb24oZSkge1xuXHRcdGNvbnRyb2xsZXIuYWN0aW9uUGVyZm9ybWVkKHthY3Rpb246IFwiQ1BUcmFuc2Zvcm1BY2NlcHRcIn0pO1xuXHRcdHRoYXQuZW1pdEV2ZW50KFwiYWNjZXB0XCIpO1xuXHR9KTtcblxuXHRyZWplY3RCdXR0b24uY2xpY2soZnVuY3Rpb24oZSkge1xuXHRcdGNvbnRyb2xsZXIuYWN0aW9uUGVyZm9ybWVkKHthY3Rpb246IFwiQ1BUcmFuc2Zvcm1SZWplY3RcIn0pO1xuXHRcdHRoYXQuZW1pdEV2ZW50KFwicmVqZWN0XCIpO1xuXHR9KTtcblxuXHRkaWFsb2dcblx0XHQubW9kYWwoe1xuXHRcdFx0c2hvdzogZmFsc2Vcblx0XHR9KVxuXHRcdC5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbigpIHtcblx0XHRcdGFwcGx5QnV0dG9uLmZvY3VzKCk7XG5cdFx0fSlcblx0XHQub24oXCJoaWRkZW4uYnMubW9kYWxcIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0Ly8gRGVzdHJveSB0aGUgbW9kYWwgdXBvbiBjbG9zZVxuXHRcdFx0ZGlhbG9nLnJlbW92ZSgpO1xuXHRcdH0pXG5cdFx0Lm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGlmIChlLmtleUNvZGUgPT0gMTMpIHtcblx0XHRcdFx0YXBwbHlCdXR0b24uY2xpY2soKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHQvLyBGaXggdGhlIGJhY2tkcm9wIGxvY2F0aW9uIGluIHRoZSBET00gYnkgcmVwYXJlbnRpbmcgaXQgdG8gdGhlIGNoaWNrZW5wYWludCBjb250YWluZXJcblx0ZGlhbG9nLmRhdGEoXCJicy5tb2RhbFwiKS4kYm9keSA9ICQocGFyZW50KTtcblxuXHRwYXJlbnQuYXBwZW5kQ2hpbGQoZGlhbG9nWzBdKTtcblxuXHR0aGlzLnNob3cgPSBmdW5jdGlvbigpIHtcblx0XHRkaWFsb2cubW9kYWwoXCJzaG93XCIpO1xuXHR9O1xufVxuXG5DUENvbmZpcm1UcmFuc2Zvcm1EaWFsb2cucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcbkNQQ29uZmlybVRyYW5zZm9ybURpYWxvZy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUENvbmZpcm1UcmFuc2Zvcm1EaWFsb2c7IiwiLyoqXG4gKiBDcmVhdGUgYSBjaGVja2VyYm9hcmQgSFRNTDUgQ2FudmFzUGF0dGVybiAod2hpY2ggY2FuIGJlIHVzZWQgZm9yIGZpbGxTdHlsZSkgdXNpbmcgdGhlIGdpdmVuIGNhbnZhcyBjb250ZXh0LlxuICogXG4gKiBAcGFyYW0gY2FudmFzQ29udGV4dFxuICogQHJldHVybnMge0NhbnZhc1BhdHRlcm59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDaGVja2VyYm9hcmRQYXR0ZXJuKGNhbnZhc0NvbnRleHQpIHtcbiAgICB2YXJcbiAgICAgICAgY2hlY2tlcmJvYXJkQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgY2hlY2tlcmJvYXJkQ29udGV4dCA9IGNoZWNrZXJib2FyZENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksXG4gICAgICAgIFxuICAgICAgICBpbWFnZURhdGEgPSBjaGVja2VyYm9hcmRDb250ZXh0LmNyZWF0ZUltYWdlRGF0YSg2NCwgNjQpLFxuICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsXG4gICAgICAgIFxuICAgICAgICBwaXhlbE9mZnNldCA9IDA7XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoKGkgJiAweDgpICE9IDAgXiAoaiAmIDB4OCkgIT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFdoaXRlXG4gICAgICAgICAgICAgICAgZGF0YVtwaXhlbE9mZnNldCsrXSA9IDB4ZmY7XG4gICAgICAgICAgICAgICAgZGF0YVtwaXhlbE9mZnNldCsrXSA9IDB4ZmY7XG4gICAgICAgICAgICAgICAgZGF0YVtwaXhlbE9mZnNldCsrXSA9IDB4ZmY7XG4gICAgICAgICAgICAgICAgZGF0YVtwaXhlbE9mZnNldCsrXSA9IDB4ZmY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEdyZXlcbiAgICAgICAgICAgICAgICBkYXRhW3BpeGVsT2Zmc2V0KytdID0gMHhjYztcbiAgICAgICAgICAgICAgICBkYXRhW3BpeGVsT2Zmc2V0KytdID0gMHhjYztcbiAgICAgICAgICAgICAgICBkYXRhW3BpeGVsT2Zmc2V0KytdID0gMHhjYztcbiAgICAgICAgICAgICAgICBkYXRhW3BpeGVsT2Zmc2V0KytdID0gMHhmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrZXJib2FyZENhbnZhcy53aWR0aCA9IDY0O1xuICAgIGNoZWNrZXJib2FyZENhbnZhcy5oZWlnaHQgPSA2NDtcbiAgICBjaGVja2VyYm9hcmRDb250ZXh0LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuXG4gICAgcmV0dXJuIGNhbnZhc0NvbnRleHQuY3JlYXRlUGF0dGVybihjaGVja2VyYm9hcmRDYW52YXMsICdyZXBlYXQnKTtcbn0iLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BHcmlkRGlhbG9nKHBhcmVudCwgY2FudmFzKSB7XG4gICAgdmFyXG4gICAgICAgIGRpYWxvZyA9IFxuICAgICAgICAgICAgJChgPGRpdiBjbGFzcz1cIm1vZGFsIGZhZGVcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkdyaWQgb3B0aW9uczwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+R3JpZCBzaXplPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGNoaWNrZW5wYWludC1ncmlkLXNpemVcIiB2YWx1ZT1cIlwiIGF1dG9mb2N1cz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGNoaWNrZW5wYWludC1hcHBseS1ncmlkLXNldHRpbmdzXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5PazwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGApLFxuICAgICAgICBcbiAgICAgICAgZ3JpZFNpemVFbGVtID0gJChcIi5jaGlja2VucGFpbnQtZ3JpZC1zaXplXCIsIGRpYWxvZyksXG4gICAgICAgIGFwcGx5QnV0dG9uID0gJChcIi5jaGlja2VucGFpbnQtYXBwbHktZ3JpZC1zZXR0aW5nc1wiLCBkaWFsb2cpO1xuICAgIFxuICAgIGdyaWRTaXplRWxlbS52YWwoY2FudmFzLmdldEdyaWRTaXplKCkpO1xuICAgIFxuICAgICQoXCIuY2hpY2tlbnBhaW50LWFwcGx5LWdyaWQtc2V0dGluZ3NcIiwgZGlhbG9nKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgZ3JpZFNpemUgPSBwYXJzZUludChncmlkU2l6ZUVsZW0udmFsKCksIDEwKTtcbiAgICAgICAgXG4gICAgICAgIGNhbnZhcy5zZXRHcmlkU2l6ZShncmlkU2l6ZSk7XG4gICAgfSk7XG4gXG4gICAgZGlhbG9nXG4gICAgICAgIC5tb2RhbCh7XG4gICAgICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICAub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBncmlkU2l6ZUVsZW0uZm9jdXMoKTtcbiAgICAgICAgfSkub24oJ2tleXByZXNzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgIGFwcGx5QnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIFxuICAgIC8vIEZpeCB0aGUgYmFja2Ryb3AgbG9jYXRpb24gaW4gdGhlIERPTSBieSByZXBhcmVudGluZyBpdCB0byB0aGUgY2hpY2tlbnBhaW50IGNvbnRhaW5lclxuICAgIGRpYWxvZy5kYXRhKFwiYnMubW9kYWxcIikuJGJvZHkgPSAkKHBhcmVudCk7XG4gICAgXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGRpYWxvZ1swXSk7XG4gICAgXG4gICAgdGhpcy5zaG93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRpYWxvZy5tb2RhbChcInNob3dcIik7XG4gICAgfTtcbn0iLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuaW1wb3J0IENQUGFsZXR0ZSBmcm9tIFwiLi9DUFBhbGV0dGVcIjtcbmltcG9ydCBDUFNsaWRlciBmcm9tIFwiLi9DUFNsaWRlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUExheWVyc1BhbGV0dGUoY29udHJvbGxlcikge1xuICAgIENQUGFsZXR0ZS5jYWxsKHRoaXMsIGNvbnRyb2xsZXIsIFwibGF5ZXJzXCIsIFwiTGF5ZXJzXCIsIHRydWUpO1xuICAgIFxuICAgIGNvbnN0XG4gICAgICAgIE1PREVfTkFNRVMgPSBbXG4gICAgICAgICAgICAgIFwiTm9ybWFsXCIsIFwiTXVsdGlwbHlcIiwgXCJBZGRcIiwgXCJTY3JlZW5cIiwgXCJMaWdodGVuXCIsIFwiRGFya2VuXCIsIFwiU3VidHJhY3RcIiwgXCJEb2RnZVwiLCBcIkJ1cm5cIixcbiAgICAgICAgICAgICAgXCJPdmVybGF5XCIsIFwiSGFyZCBMaWdodFwiLCBcIlNvZnQgTGlnaHRcIiwgXCJWaXZpZCBMaWdodFwiLCBcIkxpbmVhciBMaWdodFwiLCBcIlBpbiBMaWdodFwiXG4gICAgICAgIF07XG4gICAgXG4gICAgdmFyXG4gICAgICAgIHBhbGV0dGUgPSB0aGlzLFxuICAgICAgICBsYXllckggPSAzMiwgZXllVyA9IDI0LFxuICAgICAgICBcbiAgICAgICAgYm9keSA9IHRoaXMuZ2V0Qm9keUVsZW1lbnQoKSxcblxuICAgICAgICBsYXllcldpZGdldCA9IG5ldyBDUExheWVyV2lkZ2V0KCksXG4gICAgICAgIGFscGhhU2xpZGVyID0gbmV3IENQU2xpZGVyKDAsIDEwMCksXG4gICAgICAgIGJsZW5kQ29tYm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLFxuICAgIFxuICAgICAgICByZW5hbWVGaWVsZCA9IG5ldyBDUFJlbmFtZUZpZWxkKCksXG4gICAgXG4gICAgICAgIGNiU2FtcGxlQWxsTGF5ZXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLFxuICAgICAgICBjYkxvY2tBbHBoYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxcbiAgICAgICAgXG4gICAgICAgIGFkZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxcbiAgICAgICAgcmVtb3ZlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgIFxuICAgIGZ1bmN0aW9uIGZpbGxDb21ib2JveChjb21ibywgb3B0aW9uTmFtZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25OYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgIG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG9wdGlvbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvcHRpb25OYW1lc1tpXSkpO1xuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gaTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29tYm8uYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiB3cmFwQ2hlY2tib3hXaXRoTGFiZWwoY2hlY2tib3gsIHRpdGxlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgIFxuICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRpdGxlKSk7XG4gICAgICAgIFxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93UmVuYW1lQ29udHJvbChsYXllckluZGV4KSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgZCA9IGxheWVyV2lkZ2V0LmdldENTU1NpemUoKSxcbiAgICAgICAgICAgIGFydHdvcmsgPSBjb250cm9sbGVyLmdldEFydHdvcmsoKSxcbiAgICAgICAgICAgIGxheWVyID0gYXJ0d29yay5nZXRMYXllcihsYXllckluZGV4KTtcblxuICAgICAgICByZW5hbWVGaWVsZC5zaG93KFxuICAgICAgICAgICAgZXllVyAvIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCBcbiAgICAgICAgICAgIGQuaGVpZ2h0IC0gKGxheWVySW5kZXggKyAxKSAqIGxheWVySCAvIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLFxuICAgICAgICAgICAgbGF5ZXJJbmRleCxcbiAgICAgICAgICAgIGxheWVyLm5hbWVcbiAgICAgICApO1xuICAgIH1cbiAgICBcbiAgICB2YXJcbiAgICAgICAgcGFyZW50U2V0U2l6ZSA9IHRoaXMuc2V0U2l6ZSxcbiAgICAgICAgcGFyZW50U2V0SGVpZ2h0ID0gdGhpcy5zZXRIZWlnaHQ7XG4gICAgXG4gICAgdGhpcy5zZXRTaXplID0gZnVuY3Rpb24odywgaCkge1xuICAgICAgICBwYXJlbnRTZXRTaXplLmNhbGwodGhpcywgdywgaCk7XG4gICAgICAgIFxuICAgICAgICBsYXllcldpZGdldC5yZXNpemUoKTtcbiAgICAgICAgYWxwaGFTbGlkZXIucmVzaXplKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0SGVpZ2h0ID0gZnVuY3Rpb24oaCkge1xuICAgICAgICBwYXJlbnRTZXRIZWlnaHQuY2FsbCh0aGlzLCBoKTtcbiAgICAgICAgXG4gICAgICAgIGxheWVyV2lkZ2V0LnJlc2l6ZSgpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBDUExheWVyV2lkZ2V0KCkge1xuICAgICAgICBjb25zdFxuICAgICAgICAgICAgTk9USUZJQ0FUSU9OX0hJREVfREVMQVlfTVNfUEVSX0NIQVIgPSA3MCxcbiAgICAgICAgICAgIE5PVElGSUNBVElPTl9ISURFX0RFTEFZX01JTiA9IDMwMDA7XG5cbiAgICAgICAgdmFyIFxuICAgICAgICAgICAgbGF5ZXJEcmFnLCBsYXllckRyYWdSZWFsbHksXG4gICAgICAgICAgICBsYXllckRyYWdJbmRleCwgbGF5ZXJEcmFnWSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLFxuXG4gICAgICAgICAgICBvbGRBcHBseVBsYWNlbWVudCxcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbk1lc3NhZ2UgPSBcIlwiLFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uTGF5ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uTG9jYXRpb24gPSBcIlwiLFxuXG4gICAgICAgICAgICBkaXNtaXNzVGltZXIgPSBmYWxzZSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgY29tcG9uZW50IG9uIHNjcmVlbiBpbiBDU1MgcGl4ZWxzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZXRDU1NTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge3dpZHRoOiAkKGNhbnZhcykud2lkdGgoKSwgaGVpZ2h0OiAkKGNhbnZhcykuaGVpZ2h0KCl9O1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gZ2V0TGF5ZXJJbmRleChwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKGNhbnZhcy5oZWlnaHQgLSBwb2ludC55IC8gJChjYW52YXMpLmhlaWdodCgpICogY2FudmFzLmhlaWdodCkgLyBsYXllckgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIGxheWVyIENQTGF5ZXJcbiAgICAgICAgICogQHBhcmFtIHNlbGVjdGVkIGJvb2xlYW5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRyYXdMYXllcihsYXllciwgc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGQgPSB7d2lkdGg6IGNhbnZhcy53aWR0aCwgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0fTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dC5maWxsU3R5bGUgPSAnI0IwQjBDMCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFJlY3QoMCwgMCwgZC53aWR0aCwgbGF5ZXJIKTtcblxuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5tb3ZlVG8oMCwgMCk7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmxpbmVUbyhkLndpZHRoLCAwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5tb3ZlVG8oZXllVywgMCk7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmxpbmVUbyhleWVXLCBsYXllckgpO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0Lm1vdmVUbyhleWVXICsgNiAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCBsYXllckggLyAyKTtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQubGluZVRvKGQud2lkdGggLSA2ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIGxheWVySCAvIDIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFRleHQobGF5ZXIubmFtZSwgZXllVyArIDYgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgMTIgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxUZXh0KE1PREVfTkFNRVNbbGF5ZXIuYmxlbmRNb2RlXSArIFwiOiBcIiArIGxheWVyLmFscGhhICsgXCIlXCIsIGV5ZVcgKyA2ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIGxheWVySCAtIDUgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG5cbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBpZiAobGF5ZXIudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuYXJjKGV5ZVcgLyAyLCBsYXllckggLyAyLCA5ICogd2luZG93LmRldmljZVBpeGVsUmF0aW8sIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dC5hcmMoZXllVyAvIDIsIGxheWVySCAvIDIsIDkgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIG1vdXNlVXAoZSkge1xuICAgICAgICAgICAgaWYgKGUuYnV0dG9uID09IDApIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gJChjYW52YXMpLm9mZnNldCgpLFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgYXJ0d29yayA9IGNvbnRyb2xsZXIuZ2V0QXJ0d29yaygpLFxuICAgICAgICAgICAgICAgICAgICBsYXllcnMgPSBhcnR3b3JrLmdldExheWVycygpLFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbW91c2VMb2MgPSB7eDogZS5wYWdlWCAtIG9mZnNldC5sZWZ0LCB5OiBlLnBhZ2VZIC0gb2Zmc2V0LnRvcH0sXG4gICAgICAgICAgICAgICAgICAgIGxheWVyT3ZlciA9IGdldExheWVySW5kZXgobW91c2VMb2MpO1xuXG4gICAgICAgICAgICAgICAgLy9sYXllckRyYWdZID0gZS5wYWdlWSAtIG9mZnNldC50b3A7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGxheWVyT3ZlciA+PSAwICYmIGxheWVyT3ZlciA8PSBsYXllcnMubGVuZ3RoICYmIGxheWVyT3ZlciAhPSBsYXllckRyYWdJbmRleCAmJiBsYXllck92ZXIgIT0gbGF5ZXJEcmFnSW5kZXggKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuYWN0aW9uUGVyZm9ybWVkKHthY3Rpb246IFwiQ1BNb3ZlTGF5ZXJcIiwgZnJvbUluZGV4OiBsYXllckRyYWdJbmRleCwgdG9JbmRleDogbGF5ZXJPdmVyfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRG8gd2UgbmVlZCB0byByZXBhaW50IHRvIGVyYXNlIGRyYWdsaW5lcz9cbiAgICAgICAgICAgICAgICBpZiAobGF5ZXJEcmFnUmVhbGx5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyRHJhZ1JlYWxseSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnBhaW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxheWVyRHJhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlRHJhZ2dlZCk7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG1vdXNlVXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbW91c2VEcmFnZ2VkKGUpIHtcbiAgICAgICAgICAgIGlmIChsYXllckRyYWcpIHtcbiAgICAgICAgICAgICAgICBsYXllckRyYWdSZWFsbHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxheWVyRHJhZ1kgPSBlLnBhZ2VZIC0gJChjYW52YXMpLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgICAgICB0aGF0LnBhaW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwYWludCBqdXN0IHRoZSBsYXllciB3aXRoIHRoZSBzcGVjaWZpZWQgaW5kZXhcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFpbnRMYXllciA9IGZ1bmN0aW9uKGxheWVySW5kZXgpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGxheWVyID0gYXJ0d29yay5nZXRMYXllcihsYXllckluZGV4KSxcbiAgICAgICAgICAgICAgICBsYXllclRvcCA9IGNhbnZhcy5oZWlnaHQgLSBsYXllckggKiAobGF5ZXJJbmRleCArIDEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5maWxsU3R5bGUgPSAnIzYwNjA2MCc7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxSZWN0KDAsIGxheWVyVG9wLCBjYW52YXMud2lkdGgsIGxheWVySCk7XG5cbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuc3Ryb2tlU3R5bGUgPSAnYmxhY2snO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnRyYW5zbGF0ZSgwLCBsYXllclRvcCk7XG4gICAgICAgICAgICBkcmF3TGF5ZXIobGF5ZXIsIGxheWVySW5kZXggPT0gYXJ0d29yay5nZXRBY3RpdmVMYXllckluZGV4KCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXBhaW50IHRoZSBlbnRpcmUgY29udHJvbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWludCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgYXJ0d29yayA9IGNvbnRyb2xsZXIuZ2V0QXJ0d29yaygpLFxuICAgICAgICAgICAgICAgIGxheWVycyA9IGFydHdvcmsuZ2V0TGF5ZXJzKCksXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZCA9IHt3aWR0aDogY2FudmFzLndpZHRoLCBoZWlnaHQ6IGNhbnZhcy5oZWlnaHR9LFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNhbnZhc1NjYWxlRmFjdG9yID0gY2FudmFzLmhlaWdodCAvICQoY2FudmFzKS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gJyM2MDYwNjAnO1xuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5maWxsUmVjdCgwLCAwLCBkLndpZHRoLCBkLmhlaWdodCAtIGxheWVycy5sZW5ndGggKiBsYXllckgpO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcblxuICAgICAgICAgICAgLy8gRHJhdyB0aGUgbGlzdCBvZiBsYXllcnMsIHdpdGggdGhlIGZpcnN0IGxheWVyIGF0IHRoZSBib3R0b20gb2YgdGhlIGNvbnRyb2xcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQudHJhbnNsYXRlKDAsIGQuaGVpZ2h0IC0gbGF5ZXJIKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkcmF3TGF5ZXIobGF5ZXJzW2ldLCBpID09IGFydHdvcmsuZ2V0QWN0aXZlTGF5ZXJJbmRleCgpKTtcbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LnRyYW5zbGF0ZSgwLCAtbGF5ZXJIKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxheWVyRHJhZ1JlYWxseSkge1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQudHJhbnNsYXRlKDAsIGxheWVycy5sZW5ndGggKiBsYXllckggLSAoZC5oZWlnaHQgLSBsYXllckgpKTtcbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LnN0cm9rZVJlY3QoMCwgbGF5ZXJEcmFnWSAqIGNhbnZhc1NjYWxlRmFjdG9yICAtIGxheWVySCAvIDIsIGQud2lkdGgsIGxheWVySCk7XG5cbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJPdmVyID0gZ2V0TGF5ZXJJbmRleCh7eDogMCwgeTogbGF5ZXJEcmFnWX0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChsYXllck92ZXIgPD0gbGF5ZXJzLmxlbmd0aCAmJiBsYXllck92ZXIgIT0gbGF5ZXJEcmFnSW5kZXggJiYgbGF5ZXJPdmVyICE9IGxheWVyRHJhZ0luZGV4ICsgMSkge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxSZWN0KDAsIGQuaGVpZ2h0IC0gbGF5ZXJPdmVyICogbGF5ZXJIIC0gMiwgZC53aWR0aCwgNCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGFydHdvcmsgPSBjb250cm9sbGVyLmdldEFydHdvcmsoKSxcblxuICAgICAgICAgICAgICAgIC8vIE91ciBwYXJlbnQgY29udGFpbmVyIHdpbGwgYWN0IGFzIG91ciBzY3JvbGxiYXIgY2xpcCBhcmVhXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gJChjYW52YXMpLnBhcmVudCgpLFxuICAgICAgICAgICAgICAgIHBhcmVudEhlaWdodCA9IHBhcmVudC5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBwYXJlbnRXaWR0aCA9IHBhcmVudC53aWR0aCgpLFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG5ld1dpZHRoLCBuZXdIZWlnaHQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxheWVySCA9IDM0ICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgICAgICBleWVXID0gMjQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbmV3V2lkdGggPSBwYXJlbnRXaWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICAgICAgbmV3SGVpZ2h0ID0gTWF0aC5tYXgobGF5ZXJIICogYXJ0d29yay5nZXRMYXllckNvdW50KCksIHBhcmVudEhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2hvdWxkIHdlIHRyaWdnZXIgYSBzY3JvbGxiYXIgdG8gYXBwZWFyP1xuICAgICAgICAgICAgaWYgKG5ld0hlaWdodCA+IHBhcmVudEhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgLy8gVGFrZSB0aGUgc2Nyb2xsYmFyIHdpZHRoIGludG8gYWNjb3VudCBpbiBvdXIgd2lkdGhcbiAgICAgICAgICAgICAgICBuZXdXaWR0aCAtPSAxNSAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICAgICAgICAgIHBhcmVudFswXS5zdHlsZS5vdmVyZmxvd1kgPSAnc2Nyb2xsJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyZW50WzBdLnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBuZXdXaWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IChuZXdXaWR0aCAvIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSArIFwicHhcIjtcbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSAobmV3SGVpZ2h0IC8gd2luZG93LmRldmljZVBpeGVsUmF0aW8pICsgXCJweFwiO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZvbnQgPSAobGF5ZXJIICogMC4yNSkgKyBcInB0IHNhbnMtc2VyaWZcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5wYWludCgpO1xuICAgICAgICAgICAgdGhpcy5kaXNtaXNzTm90aWZpY2F0aW9uKCk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB0aGlzLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChyZW5hbWVGaWVsZC5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgIHJlbmFtZUZpZWxkLnJlbmFtZUFuZEhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAkKGNhbnZhcykub2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgbW91c2VMb2MgPSB7eDogZS5wYWdlWCAtIG9mZnNldC5sZWZ0LCB5OiBlLnBhZ2VZIC0gb2Zmc2V0LnRvcH0sXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGF5ZXJJbmRleCA9IGdldExheWVySW5kZXgobW91c2VMb2MpO1xuXG4gICAgICAgICAgICBpZiAobW91c2VMb2MueCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gZXllVyAmJiBsYXllckluZGV4ID49IDAgJiYgbGF5ZXJJbmRleCA8IGFydHdvcmsuZ2V0TGF5ZXJDb3VudCgpKSB7XG4gICAgICAgICAgICAgICAgc2hvd1JlbmFtZUNvbnRyb2wobGF5ZXJJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIG9mZnNldCA9ICQoY2FudmFzKS5vZmZzZXQoKSxcbiAgICAgICAgICAgICAgICBtb3VzZUxvYyA9IHt4OiBlLnBhZ2VYIC0gb2Zmc2V0LmxlZnQsIHk6IGUucGFnZVkgLSBvZmZzZXQudG9wfTtcblxuICAgICAgICAgICAgLyogQ2xpY2ssIG1vdmVkIGZyb20gbW91c2VDbGlja2VkIGR1ZSB0byBwcm9ibGVtcyB3aXRoIGZvY3VzIGFuZCBzdHVmZiAqL1xuICAgICAgICAgICAgaWYgKGUuYnV0dG9uID09IDApIHsgLyogTGVmdCBidXR0b24gKi9cbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgYXJ0d29yayA9IGNvbnRyb2xsZXIuZ2V0QXJ0d29yaygpLFxuICAgICAgICAgICAgICAgICAgICBsYXllcnMgPSBhcnR3b3JrLmdldExheWVycygpLFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJJbmRleCA9IGdldExheWVySW5kZXgobW91c2VMb2MpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChsYXllckluZGV4ID49IDAgJiYgbGF5ZXJJbmRleCA8IGFydHdvcmsuZ2V0TGF5ZXJDb3VudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIgPSBhcnR3b3JrLmdldExheWVyKGxheWVySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlTG9jLnggLyAkKGNhbnZhcykud2lkdGgoKSAqIGNhbnZhcy53aWR0aCA8IGV5ZVcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuYWN0aW9uUGVyZm9ybWVkKHthY3Rpb246IFwiQ1BTZXRMYXllclZpc2liaWxpdHlcIiwgbGF5ZXJJbmRleDogbGF5ZXJJbmRleCwgdmlzaWJsZTogIWxheWVyLnZpc2libGV9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcnR3b3JrLmdldEFjdGl2ZUxheWVySW5kZXgoKSAhPSBsYXllckluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFjdGlvblBlcmZvcm1lZCh7YWN0aW9uOiBcIkNQU2V0QWN0aXZlTGF5ZXJJbmRleFwiLCBsYXllckluZGV4OiBsYXllckluZGV4fSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGxheWVySW5kZXggPCBsYXllcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyRHJhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyRHJhZ1kgPSBtb3VzZUxvYy55O1xuICAgICAgICAgICAgICAgICAgICBsYXllckRyYWdJbmRleCA9IGxheWVySW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3VzZURyYWdnZWQpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgbW91c2VVcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2Nyb2xsIHRoZSBsYXllciB3aWRnZXQgdW50aWwgdGhlIGxheWVyIHdpdGggdGhlIGdpdmVuIGluZGV4IGlzIGZ1bGx5IHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBsYXllckluZGV4XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZXZlYWxMYXllcihsYXllckluZGV4KSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBsYXllcldpZGdldFBvcyA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcblxuICAgICAgICAgICAgICAgIHNjcm9sbEJveFBvcyA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgICBzY3JvbGxCb3hIZWlnaHQgPSBzY3JvbGxCb3hQb3MuYm90dG9tIC0gc2Nyb2xsQm94UG9zLnRvcCxcblxuICAgICAgICAgICAgICAgIGxheWVySGVpZ2h0ID0gbGF5ZXJIIC8gd2luZG93LmRldmljZVBpeGVsUmF0aW8sXG5cbiAgICAgICAgICAgICAgICBsYXllclRvcCA9IGxheWVyV2lkZ2V0UG9zLmJvdHRvbSAtIGxheWVySGVpZ2h0ICogKGxheWVySW5kZXggKyAxKSxcbiAgICAgICAgICAgICAgICBsYXllckJvdHRvbSA9IGxheWVyVG9wICsgbGF5ZXJIZWlnaHQ7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBNYXRoLm1heChNYXRoLm1pbihNYXRoLm1heChjb250YWluZXIuc2Nyb2xsVG9wLCBsYXllckJvdHRvbSAtIGxheWVyV2lkZ2V0UG9zLnRvcCAtIHNjcm9sbEJveEhlaWdodCksIGxheWVyVG9wIC0gbGF5ZXJXaWRnZXRQb3MudG9wKSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpc21pc3NOb3RpZmljYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoY2FudmFzKS5wb3BvdmVyKCdoaWRlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zaG93Tm90aWZpY2F0aW9uID0gZnVuY3Rpb24obGF5ZXJJbmRleCwgbWVzc2FnZSwgd2hlcmUpIHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbk1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uTGF5ZXJJbmRleCA9IGxheWVySW5kZXg7XG5cbiAgICAgICAgICAgIGlmIChhcnR3b3JrLmdldEFjdGl2ZUxheWVySW5kZXgoKSA9PSBsYXllckluZGV4ICYmIHdoZXJlID09IFwib3BhY2l0eVwiKSB7XG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uTG9jYXRpb24gPSBcIm9wYWNpdHlcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uTG9jYXRpb24gPSBcImxheWVyXCI7XG4gICAgICAgICAgICAgICAgcmV2ZWFsTGF5ZXIobGF5ZXJJbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoY2FudmFzKS5wb3BvdmVyKFwic2hvd1wiKTtcblxuICAgICAgICAgICAgaWYgKGRpc21pc3NUaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChkaXNtaXNzVGltZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzbWlzc1RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkaXNtaXNzVGltZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGF0LmRpc21pc3NOb3RpZmljYXRpb24oKVxuICAgICAgICAgICAgfSwgTWF0aC5tYXgoTWF0aC5yb3VuZChub3RpZmljYXRpb25NZXNzYWdlLmxlbmd0aCAqIE5PVElGSUNBVElPTl9ISURFX0RFTEFZX01TX1BFUl9DSEFSKSwgTk9USUZJQ0FUSU9OX0hJREVfREVMQVlfTUlOKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyogUmVwb3NpdGlvbiB0aGUgcG9wb3ZlciB0byB0aGUgbGF5ZXIvbG9jYXRpb24gdGhhdCB0aGUgbm90aWZpY2F0aW9uIGFwcGxpZXMgdG8gKi9cbiAgICAgICAgZnVuY3Rpb24gYXBwbHlOb3RpZmljYXRpb25QbGFjZW1lbnQob2Zmc2V0LCBwbGFjZW1lbnQpIHtcbiAgICAgICAgICAgIG9sZEFwcGx5UGxhY2VtZW50LmNhbGwodGhpcywgb2Zmc2V0LCBwbGFjZW1lbnQpO1xuXG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAkdGlwID0gdGhpcy50aXAoKSxcbiAgICAgICAgICAgICAgICAkYXJyb3cgPSB0aGlzLmFycm93KCksXG4gICAgICAgICAgICAgICAgbGF5ZXJXaWRnZXRQb3MgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICAgICAgc2Nyb2xsQm94UG9zID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbkxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxheWVyXCI6XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJNaWRkbGUgPSBsYXllcldpZGdldFBvcy5ib3R0b20gLSBsYXllckggLyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAqIChub3RpZmljYXRpb25MYXllckluZGV4ICsgMC41KTtcblxuICAgICAgICAgICAgICAgICAgICBsYXllck1pZGRsZSA9IE1hdGgubWluKE1hdGgubWF4KGxheWVyTWlkZGxlLCBzY3JvbGxCb3hQb3MudG9wKSwgc2Nyb2xsQm94UG9zLmJvdHRvbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHRpcC5vZmZzZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBsYXllck1pZGRsZSArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIC0gJHRpcC5oZWlnaHQoKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBsYXllcldpZGdldFBvcy5sZWZ0IC0gJHRpcC5vdXRlcldpZHRoKCkgLSAkYXJyb3cub3V0ZXJXaWR0aCgpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGFjaXR5XCI6XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGFTbGlkZXJQb3MgPSBhbHBoYVNsaWRlci5nZXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHRpcC5vZmZzZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAoYWxwaGFTbGlkZXJQb3MudG9wICsgYWxwaGFTbGlkZXJQb3MuYm90dG9tIC0gJHRpcC5oZWlnaHQoKSkgLyAyICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBhbHBoYVNsaWRlclBvcy5sZWZ0IC0gJHRpcC5vdXRlcldpZHRoKCkgLSAkYXJyb3cub3V0ZXJXaWR0aCgpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkYXJyb3cuY3NzKFwidG9wXCIsIFwiNTAlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udHJvbGxlci5vbihcImxheWVyTm90aWZpY2F0aW9uXCIsIHRoaXMuc2hvd05vdGlmaWNhdGlvbi5iaW5kKHRoaXMpKTtcblxuICAgICAgICAkKGNhbnZhcylcbiAgICAgICAgICAgIC5wb3BvdmVyKHtcbiAgICAgICAgICAgICAgICBodG1sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbk1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFwibGVmdFwiLFxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IFwibWFudWFsXCIsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiBwYWxldHRlLmdldEVsZW1lbnQoKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyXG4gICAgICAgICAgICBwb3BvdmVyID0gJChjYW52YXMpLmRhdGEoJ2JzLnBvcG92ZXInKTtcblxuICAgICAgICAvLyBTYXZlIHRoZSBvbGQgcG9zaXRpb25pbmcgcm91dGluZSBzbyB3ZSBjYW4gY2FsbCBpdCBsYXRlclxuICAgICAgICBvbGRBcHBseVBsYWNlbWVudCA9IHBvcG92ZXIuYXBwbHlQbGFjZW1lbnQ7XG5cbiAgICAgICAgcG9wb3Zlci5hcHBseVBsYWNlbWVudCA9IGFwcGx5Tm90aWZpY2F0aW9uUGxhY2VtZW50O1xuICAgICAgICBcbiAgICAgICAgaWYgKCF3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgICAgICAgd2luZG93LmRldmljZVBpeGVsUmF0aW8gPSAxLjA7XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXNDb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1sYXllcnMtd2lkZ2V0XCI7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIENQUmVuYW1lRmllbGQoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgbGF5ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdGV4dEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5oaWRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsYXllckluZGV4ID0gLTE7XG4gICAgICAgICAgICB0ZXh0Qm94LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5yZW5hbWVBbmRIaWRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoYXJ0d29yay5nZXRMYXllcihsYXllckluZGV4KS5uYW1lICE9IHRleHRCb3gudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFjdGlvblBlcmZvcm1lZCh7YWN0aW9uOiBcIkNQU2V0TGF5ZXJOYW1lXCIsIGxheWVySW5kZXg6IGxheWVySW5kZXgsIG5hbWU6IHRleHRCb3gudmFsdWV9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0Qm94LnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKHBvc2l0aW9uWCwgcG9zaXRpb25ZKSB7XG4gICAgICAgICAgICB0ZXh0Qm94LnN0eWxlLmxlZnQgPSBwb3NpdGlvblggKyBcInB4XCI7XG4gICAgICAgICAgICB0ZXh0Qm94LnN0eWxlLnRvcCA9IHBvc2l0aW9uWSArIFwicHhcIjtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uKHgsIHksIF9sYXllckluZGV4LCBsYXllck5hbWUpIHtcbiAgICAgICAgICAgIGxheWVySW5kZXggPSBfbGF5ZXJJbmRleDtcbiAgICAgICAgICAgIHRleHRCb3gudmFsdWUgPSBsYXllck5hbWU7XG4gICAgICAgICAgICB0aGlzLnNldExvY2F0aW9uKHgsIHkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0ZXh0Qm94LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgdGV4dEJveC5zZWxlY3QoKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRleHRCb3g7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB0ZXh0Qm94LnR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgdGV4dEJveC5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1sYXllci1uZXctbmFtZSBmb3JtLWNvbnRyb2wgaW5wdXQtc21cIjtcbiAgICAgICAgdGV4dEJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIHRleHRCb3guYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgLy8gUHJldmVudCBvdGhlciBrZXloYW5kbGVycyAoQ1BDYW52YXMpIGZyb20gZ2V0dGluZyB0aGVpciBncnViYnkgaGFuZHMgb24gdGhlIGlucHV0XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0ZXh0Qm94LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7IC8vIEVudGVyXG4gICAgICAgICAgICAgICAgdGhhdC5yZW5hbWVBbmRIaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0ZXh0Qm94LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7IC8vIEVzY2FwZVxuICAgICAgICAgICAgICAgIHRoYXQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGV4dEJveC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAobGF5ZXJJbmRleCAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHRoYXQucmVuYW1lQW5kSGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBibGVuZENvbWJvLmNsYXNzTmFtZSA9IFwiZm9ybS1jb250cm9sXCI7XG4gICAgYmxlbmRDb21iby50aXRsZSA9IFwiTGF5ZXIgYmxlbmRpbmcgbW9kZVwiO1xuICAgIGJsZW5kQ29tYm8uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuYWN0aW9uUGVyZm9ybWVkKHthY3Rpb246IFwiQ1BTZXRMYXllckJsZW5kTW9kZVwiLCBsYXllckluZGV4OiBhcnR3b3JrLmdldEFjdGl2ZUxheWVySW5kZXgoKSwgYmxlbmRNb2RlOiBwYXJzZUludChibGVuZENvbWJvLnZhbHVlLCAxMCl9KTtcbiAgICB9KTtcbiAgICBcbiAgICBmaWxsQ29tYm9ib3goYmxlbmRDb21ibywgTU9ERV9OQU1FUyk7XG5cbiAgICBib2R5LmFwcGVuZENoaWxkKGJsZW5kQ29tYm8pO1xuICAgIFxuICAgIGFscGhhU2xpZGVyLnRpdGxlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFwiT3BhY2l0eTogXCIgKyB2YWx1ZSArIFwiJVwiO1xuICAgIH07XG4gICAgXG4gICAgYWxwaGFTbGlkZXIub24oXCJ2YWx1ZUNoYW5nZVwiLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBjb250cm9sbGVyLmFjdGlvblBlcmZvcm1lZCh7YWN0aW9uOiBcIkNQU2V0TGF5ZXJBbHBoYVwiLCBsYXllckluZGV4OiBhcnR3b3JrLmdldEFjdGl2ZUxheWVySW5kZXgoKSwgYWxwaGE6IHZhbHVlfSk7XG4gICAgfSk7XG4gICAgXG4gICAgYm9keS5hcHBlbmRDaGlsZChhbHBoYVNsaWRlci5nZXRFbGVtZW50KCkpO1xuXG4gICAgY2JTYW1wbGVBbGxMYXllcnMudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICBjYlNhbXBsZUFsbExheWVycy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGFydHdvcmsgPSBjb250cm9sbGVyLmdldEFydHdvcmsoKTtcbiAgICAgICAgXG4gICAgICAgIGFydHdvcmsuc2V0U2FtcGxlQWxsTGF5ZXJzKGNiU2FtcGxlQWxsTGF5ZXJzLmNoZWNrZWQpO1xuICAgIH0pO1xuICAgIFxuICAgIGJvZHkuYXBwZW5kQ2hpbGQod3JhcENoZWNrYm94V2l0aExhYmVsKGNiU2FtcGxlQWxsTGF5ZXJzLCBcIlNhbXBsZSBhbGwgbGF5ZXJzXCIpKTtcbiAgICBcbiAgICBjYkxvY2tBbHBoYS50eXBlID0gXCJjaGVja2JveFwiO1xuICAgIGNiTG9ja0FscGhhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgYXJ0d29yayA9IGNvbnRyb2xsZXIuZ2V0QXJ0d29yaygpO1xuICAgICAgICBcbiAgICAgICBhcnR3b3JrLnNldExvY2tBbHBoYShjYkxvY2tBbHBoYS5jaGVja2VkKTtcbiAgICB9KTtcbiAgICAgICAgXG4gICAgYm9keS5hcHBlbmRDaGlsZCh3cmFwQ2hlY2tib3hXaXRoTGFiZWwoY2JMb2NrQWxwaGEsIFwiTG9jayBhbHBoYVwiKSk7XG5cbiAgICBsYXllcldpZGdldC5nZXRFbGVtZW50KCkuYXBwZW5kQ2hpbGQocmVuYW1lRmllbGQuZ2V0RWxlbWVudCgpKTtcblxuICAgIGJvZHkuYXBwZW5kQ2hpbGQobGF5ZXJXaWRnZXQuZ2V0RWxlbWVudCgpKTtcblxuICAgIC8vIEFkZC9SZW1vdmUgbGF5ZXIgYnV0dG9uc1xuICAgIHZhclxuICAgICAgICBhZGRSZW1vdmVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gICAgXG4gICAgYWRkUmVtb3ZlQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdjaGlja2VucGFpbnQtbGF5ZXItYWRkLXJlbW92ZSBsaXN0LXVuc3R5bGVkJztcbiAgICBcbiAgICBhZGRCdXR0b24uY2xhc3NOYW1lID0gJ2NoaWNrZW5wYWludC1zbWFsbC10b29sYmFyLWJ1dHRvbiBjaGlja2VucGFpbnQtYWRkLWxheWVyJztcbiAgICBhZGRCdXR0b24udGl0bGUgPSAnQWRkIGxheWVyJztcbiAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb250cm9sbGVyLmFjdGlvblBlcmZvcm1lZCh7YWN0aW9uOiBcIkNQQWRkTGF5ZXJcIn0pO1xuICAgIH0pO1xuXG4gICAgcmVtb3ZlQnV0dG9uLmNsYXNzTmFtZSA9ICdjaGlja2VucGFpbnQtc21hbGwtdG9vbGJhci1idXR0b24gY2hpY2tlbnBhaW50LXJlbW92ZS1sYXllcic7XG4gICAgcmVtb3ZlQnV0dG9uLnRpdGxlID0gXCJEZWxldGUgbGF5ZXJcIjtcbiAgICByZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb250cm9sbGVyLmFjdGlvblBlcmZvcm1lZCh7YWN0aW9uOiBcIkNQUmVtb3ZlTGF5ZXJcIn0pO1xuICAgIH0pO1xuICAgIFxuICAgIGFkZFJlbW92ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChhZGRCdXR0b24pO1xuICAgIGFkZFJlbW92ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW1vdmVCdXR0b24pO1xuXG4gICAgYm9keS5hcHBlbmRDaGlsZChhZGRSZW1vdmVDb250YWluZXIpO1xuICAgIFxuICAgIHZhclxuICAgICAgICBhcnR3b3JrID0gY29udHJvbGxlci5nZXRBcnR3b3JrKCk7XG5cbiAgICAvLyBTZXQgaW5pdGlhbCB2YWx1ZXNcbiAgICBhbHBoYVNsaWRlci5zZXRWYWx1ZShhcnR3b3JrLmdldEFjdGl2ZUxheWVyKCkuZ2V0QWxwaGEoKSk7XG4gICAgYmxlbmRDb21iby52YWx1ZSA9IGFydHdvcmsuZ2V0QWN0aXZlTGF5ZXIoKS5nZXRCbGVuZE1vZGUoKTtcblxuICAgIGFydHdvcmsub24oXCJjaGFuZ2VMYXllclwiLCBmdW5jdGlvbihsYXllckluZGV4KSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgYXJ0d29yayA9IHRoaXM7XG4gICAgICAgIFxuICAgICAgICBpZiAoYXJ0d29yay5nZXRBY3RpdmVMYXllcigpLmdldEFscGhhKCkgIT0gYWxwaGFTbGlkZXIudmFsdWUpIHtcbiAgICAgICAgICAgIGFscGhhU2xpZGVyLnNldFZhbHVlKGFydHdvcmsuZ2V0QWN0aXZlTGF5ZXIoKS5nZXRBbHBoYSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcnR3b3JrLmdldEFjdGl2ZUxheWVyKCkuZ2V0QmxlbmRNb2RlKCkgIT0gcGFyc2VJbnQoYmxlbmRDb21iby52YWx1ZSwgMTApKSB7XG4gICAgICAgICAgICBibGVuZENvbWJvLnZhbHVlID0gYXJ0d29yay5nZXRBY3RpdmVMYXllcigpLmdldEJsZW5kTW9kZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxheWVySW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGF5ZXJXaWRnZXQucGFpbnRMYXllcihsYXllckluZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIG1heSBoYXZlIGFkZGVkIG9yIHJlbW92ZWQgbGF5ZXJzLCByZXNpemUgYXMgYXBwcm9wcmlhdGVcbiAgICAgICAgICAgIGxheWVyV2lkZ2V0LnJlc2l6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGF5ZXJXaWRnZXQuZGlzbWlzc05vdGlmaWNhdGlvbigpO1xuICAgIH0pO1xufVxuXG5DUExheWVyc1BhbGV0dGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUFBhbGV0dGUucHJvdG90eXBlKTtcbkNQTGF5ZXJzUGFsZXR0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUExheWVyc1BhbGV0dGU7IiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUENhbnZhcyBmcm9tIFwiLi9DUENhbnZhc1wiO1xuaW1wb3J0IENQUGFsZXR0ZU1hbmFnZXIgZnJvbSBcIi4vQ1BQYWxldHRlTWFuYWdlclwiO1xuaW1wb3J0IENQTWFpbk1lbnUgZnJvbSBcIi4vQ1BNYWluTWVudVwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUE1haW5HVUkoY29udHJvbGxlciwgdWlFbGVtKSB7XG4gICAgdmFyXG4gICAgICAgIGxvd2VyQXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIGNhbnZhcyA9IG5ldyBDUENhbnZhcyhjb250cm9sbGVyKSxcbiAgICAgICAgcGFsZXR0ZU1hbmFnZXIgPSBuZXcgQ1BQYWxldHRlTWFuYWdlcihjb250cm9sbGVyKSxcbiAgICAgICAgbWVudUJhcixcblxuICAgICAgICBmdWxsU2NyZWVuTW9kZSA9IGZhbHNlLFxuICAgICAgICBcbiAgICAgICAgdGhhdCA9IHRoaXM7XG4gICAgXG4gICAgdGhpcy50b2dnbGVQYWxldHRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBwYWxldHRlTWFuYWdlci50b2dnbGVQYWxldHRlcygpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5hcnJhbmdlUGFsZXR0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gR2l2ZSB0aGUgYnJvd3NlciBhIGNoYW5jZSB0byBkbyB0aGUgc2l6aW5nIG9mIHRoZSBwYWxldHRlcyBiZWZvcmUgd2UgdHJ5IHRvIHJlYXJyYW5nZSB0aGVtXG4gICAgICAgIHNldFRpbWVvdXQocGFsZXR0ZU1hbmFnZXIuYXJyYW5nZVBhbGV0dGVzLmJpbmQocGFsZXR0ZU1hbmFnZXIpLCAwKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jb25zdHJhaW5QYWxldHRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBwYWxldHRlTWFuYWdlci5jb25zdHJhaW5QYWxldHRlcygpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zaG93UGFsZXR0ZSA9IGZ1bmN0aW9uKHBhbGV0dGVOYW1lLCBzaG93KSB7XG4gICAgICAgIHBhbGV0dGVNYW5hZ2VyLnNob3dQYWxldHRlQnlOYW1lKHBhbGV0dGVOYW1lLCBzaG93KTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0U3dhdGNoZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHBhbGV0dGVNYW5hZ2VyLnBhbGV0dGVzLnN3YXRjaGVzLmdldFN3YXRjaGVzKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0U3dhdGNoZXMgPSBmdW5jdGlvbihzd2F0Y2hlcykge1xuICAgICAgICBwYWxldHRlTWFuYWdlci5wYWxldHRlcy5zd2F0Y2hlcy5zZXRTd2F0Y2hlcyhzd2F0Y2hlcyk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldFBhbGV0dGVNYW5hZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwYWxldHRlTWFuYWdlcjtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2V0Um90YXRpb24gPSBmdW5jdGlvbihyb3RhdGlvbikge1xuICAgICAgICBjYW52YXMuc2V0Um90YXRpb24ocm90YXRpb24pO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEZ1bGxTY3JlZW5Nb2RlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZnVsbFNjcmVlbk1vZGUgPSB2YWx1ZTtcblxuICAgICAgICB0aGF0LnJlc2l6ZSgpO1xuICAgICAgICB0aGF0LmFycmFuZ2VQYWxldHRlcygpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIG5ld0hlaWdodDtcblxuICAgICAgICBpZiAoZnVsbFNjcmVlbk1vZGUpIHtcbiAgICAgICAgICAgIG5ld0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSAtICQobWVudUJhci5nZXRFbGVtZW50KCkpLmhlaWdodCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3SGVpZ2h0ID0gTWF0aC5taW4oTWF0aC5tYXgoKCQod2luZG93KS5oZWlnaHQoKSAtICQobWVudUJhci5nZXRFbGVtZW50KCkpLmhlaWdodCgpIC0gNjUpLCA1MDApLCA3NTApO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzLnJlc2l6ZShuZXdIZWlnaHQpO1xuICAgICAgICB0aGF0LmNvbnN0cmFpblBhbGV0dGVzKCk7XG4gICAgfTtcblxuICAgIG1lbnVCYXIgPSBuZXcgQ1BNYWluTWVudShjb250cm9sbGVyLCB0aGlzKVxuXG4gICAgdWlFbGVtLmFwcGVuZENoaWxkKG1lbnVCYXIuZ2V0RWxlbWVudCgpKTtcbiAgICBcbiAgICBsb3dlckFyZWEuY2xhc3NOYW1lID0gJ2NoaWNrZW5wYWludC1tYWluLXNlY3Rpb24nO1xuICAgIFxuICAgIGxvd2VyQXJlYS5hcHBlbmRDaGlsZChjYW52YXMuZ2V0RWxlbWVudCgpKTtcbiAgICBsb3dlckFyZWEuYXBwZW5kQ2hpbGQocGFsZXR0ZU1hbmFnZXIuZ2V0RWxlbWVudCgpKTtcbiAgICBcbiAgICB1aUVsZW0uYXBwZW5kQ2hpbGQobG93ZXJBcmVhKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucmVzaXplLmJpbmQodGhpcykpO1xuXG4gICAgc2V0VGltZW91dCh0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpLCAwKTtcbn1cblxuQ1BNYWluR1VJLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5DUE1haW5HVUkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BNYWluR1VJOyIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG52YXJcbiAgICBNRU5VX0VOVFJJRVMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiRmlsZVwiLFxuICAgICAgICAgICAgbW5lbW9uaWM6IFwiRlwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU2F2ZSB0byBteSBjb21wdXRlclwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BTYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIlNcIixcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRjdXQ6IFwiY3RybCtzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTYXZlIGltYWdlIG9ubGluZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BTZW5kXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIlNcIixcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRjdXQ6IFwiY3RybCtzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJFZGl0XCIsXG4gICAgICAgICAgICBtbmVtb25pYzogXCJFXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJVbmRvXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUFVuZG9cIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiVVwiLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDogXCJjdHJsK3pcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiVW5kb2VzIHRoZSBtb3N0IHJlY2VudCBhY3Rpb25cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlJlZG9cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQUmVkb1wiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJSXCIsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0Y3V0OiBcInNoaWZ0K2N0cmwrelwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJSZWRvZXMgYSBwcmV2aW91c2x5IHVuZG9uZSBhY3Rpb25cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkNsZWFyIGhpc3RvcnlcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQQ2xlYXJIaXN0b3J5XCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIkhcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiUmVtb3ZlcyBhbGwgdW5kby9yZWRvIGluZm9ybWF0aW9uIHRvIHJlZ2FpbiBtZW1vcnlcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIi1cIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJDdXRcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQQ3V0XCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIlRcIixcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRjdXQ6IFwiY3RybCt4XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJDb3B5XCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUENvcHlcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiQ1wiLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDogXCJjdHJsK2NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkNvcHkgbWVyZ2VkXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUENvcHlNZXJnZWRcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiWVwiLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDogXCJzaGlmdCtjdHJsK2NcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlBhc3RlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUFBhc3RlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIlBcIixcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRjdXQ6IFwiY3RybCt2XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCItXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTZWxlY3QgYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUFNlbGVjdEFsbFwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJBXCIsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0Y3V0OiBcImN0cmwrYVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiRGVzZWxlY3RcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQRGVzZWxlY3RBbGxcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiRFwiLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDogXCJjdHJsK2RcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIi1cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlRyYW5zZm9ybVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BUcmFuc2Zvcm1cIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiVFwiLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDogXCJjdHJsK3lcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiTGF5ZXJzXCIsXG4gICAgICAgICAgICBtbmVtb25pYzogXCJMXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJEdXBsaWNhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQTGF5ZXJEdXBsaWNhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiRFwiLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDogXCJzaGlmdCtjdHJsK2RcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQ3JlYXRlcyBhIGNvcHkgb2YgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBsYXllclwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiLVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiTWVyZ2UgZG93blwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BMYXllck1lcmdlRG93blwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJFXCIsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0Y3V0OiBcImN0cmwrZVwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJNZXJnZXMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBsYXllciB3aXRoIHRoZSBvbmUgZGlyZWN0bHkgYmVsb3cgaXRcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIk1lcmdlIGFsbCBsYXllcnNcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQTGF5ZXJNZXJnZUFsbFwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJBXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIk1lcmdlcyBhbGwgdGhlIGxheWVyc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiRWZmZWN0c1wiLFxuICAgICAgICAgICAgbW5lbW9uaWM6IFwiRVwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQ2xlYXJcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQQ2xlYXJcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiRFwiLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDogXCJkZWwsYmFja3NwYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkNsZWFycyB0aGUgc2VsZWN0ZWQgYXJlYVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiRmlsbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BGaWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIkZcIixcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRjdXQ6IFwiY3RybCtmXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkZpbGxzIHRoZSBzZWxlY3RlZCBhcmVhIHdpdGggdGhlIGN1cnJlbnQgY29sb3JcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkZsaXAgaG9yaXpvbnRhbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BIRmxpcFwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJIXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkZsaXBzIHRoZSBjdXJyZW50IHNlbGVjdGVkIGFyZWEgaG9yaXpvbnRhbGx5XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJGbGlwIHZlcnRpY2FsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUFZGbGlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIlZcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRmxpcHMgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgYXJlYSB2ZXJ0aWNhbGx5XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJJbnZlcnRcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQRlhJbnZlcnRcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiSVwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJJbnZlcnQgdGhlIGltYWdlIGNvbG9yc1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiLVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQm94IGJsdXIuLi5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQRlhCb3hCbHVyXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIkJcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQmx1ciBlZmZlY3RcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIi1cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIk1vbm9jaHJvbWF0aWMgbm9pc2VcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQTU5vaXNlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIk1cIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRmlsbHMgdGhlIHNlbGVjdGlvbiB3aXRoIG5vaXNlXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJDb2xvciBub2lzZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BDTm9pc2VcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiQ1wiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJGaWxscyB0aGUgc2VsZWN0aW9uIHdpdGggY29sb3JlZCBub2lzZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJWaWV3XCIsXG4gICAgICAgICAgICBtbmVtb25pYzogXCJWXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJGdWxsLXNjcmVlbiBtb2RlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUEZ1bGxTY3JlZW5cIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiRlwiLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCItXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJab29tIGluXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUFpvb21JblwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJJXCIsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0Y3V0OiBcImN0cmwrPVwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJab29tcyBpblwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiWm9vbSBvdXRcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQWm9vbU91dFwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJPXCIsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0Y3V0OiBcImN0cmwrLVwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJab29tcyBvdXRcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlpvb20gMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1Bab29tMTAwXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRjdXQ6IFwiY3RybCswXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlJlc2V0cyB0aGUgem9vbSBmYWN0b3IgdG8gMTAwJVwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUExpbmVhckludGVycG9sYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCItXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTbW9vdGgtb3V0IHpvb21lZCBjYW52YXNcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQTGluZWFySW50ZXJwb2xhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJMXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkxpbmVhciBpbnRlcnBvbGF0aW9uIGlzIHVzZWQgdG8gZ2l2ZSBhIHNtb290aGVkIGxvb2tlZCB0byB0aGUgcGljdHVyZSB3aGVuIHpvb21lZCBpblwiLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIi1cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlNob3cgZ3JpZFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BUb2dnbGVHcmlkXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIkdcIixcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRjdXQ6IFwiY3RybCtnXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkRpc3BsYXlzIGEgZ3JpZCBvdmVyIHRoZSBpbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJHcmlkIG9wdGlvbnMuLi5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQR3JpZE9wdGlvbnNcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiRFwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJTaG93cyB0aGUgZ3JpZCBvcHRpb25zIGRpYWxvZyBib3hcIixcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIlBhbGV0dGVzXCIsXG4gICAgICAgICAgICBtbmVtb25pYzogXCJQXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJSZWFycmFuZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQQXJyYW5nZVBhbGV0dGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlJlYXJyYW5nZSB0aGUgcGFsZXR0ZSB3aW5kb3dzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJUb2dnbGUgcGFsZXR0ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQVG9nZ2xlUGFsZXR0ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiUFwiLFxuICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDogXCJ0YWJcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiSGlkZXMgb3Igc2hvd3MgYWxsIHBhbGV0dGVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCItXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTaG93IHRvb2wgb3B0aW9uc1wiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BQYWxCcnVzaFwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJCXCIsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU2hvdyBjb2xvclwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BQYWxDb2xvclwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJDXCIsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU2hvdyBsYXllcnNcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQUGFsTGF5ZXJzXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIllcIixcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3g6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTaG93IG1pc2NcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQUGFsTWlzY1wiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJNXCIsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU2hvdyBzdHJva2VcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIkNQUGFsU3Ryb2tlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIlNcIixcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3g6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTaG93IHN3YXRjaGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUFBhbFN3YXRjaGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIldcIixcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3g6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTaG93IHRleHR1cmVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUFBhbFRleHR1cmVzXCIsXG4gICAgICAgICAgICAgICAgICAgIG1uZW1vbmljOiBcIlhcIixcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tib3g6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTaG93IHRvb2xzXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUFBhbFRvb2xcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiVFwiLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJIZWxwXCIsXG4gICAgICAgICAgICBtbmVtb25pYzogXCJIXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJUYWJsZXQgc3VwcG9ydFwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJUXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUFRhYmxldFN1cHBvcnRcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiSGVscCB3aXRoIGdldHRpbmcgYSBkcmF3aW5nIHRhYmxldCB3b3JraW5nXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTaG9ydGN1dHNcIixcbiAgICAgICAgICAgICAgICAgICAgbW5lbW9uaWM6IFwiU1wiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQ1BTaG9ydGN1dHNcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiTGlzdCBvZiBrZXlib2FyZCBhbmQgbW91c2Ugc2hvcnRjdXRzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCItXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBYm91dFwiLFxuICAgICAgICAgICAgICAgICAgICBtbmVtb25pYzogXCJBXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJDUEFib3V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkRpc3BsYXlzIHNvbWUgaW5mb3JtYXRpb24gYWJvdXQgQ2hpY2tlblBhaW50XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BNYWluTWVudShjb250cm9sbGVyLCBtYWluR1VJKSB7XG4gICAgdmFyXG4gICAgICAgIGJhciA9ICQoXG4gICAgICAgICAgICAnPG5hdiBjbGFzcz1cIm5hdmJhciBuYXZiYXItZGVmYXVsdFwiPidcbiAgICAgICAgICAgICAgICArICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWZsdWlkXCI+J1xuICAgICAgICAgICAgICAgICAgICArICc8ZGl2IGNsYXNzPVwibmF2YmFyLWhlYWRlclwiPidcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJzxhIGNsYXNzPVwibmF2YmFyLWJyYW5kXCIgaHJlZj1cIiNcIj5kcmF3LjwvYT4nXG4gICAgICAgICAgICAgICAgICAgICsgJzwvZGl2PidcbiAgICAgICAgICAgICAgICAgICAgKyAnPHVsIGNsYXNzPVwibmF2IG5hdmJhci1uYXZcIj4nXG4gICAgICAgICAgICAgICAgICAgICsgJzwvdWw+J1xuICAgICAgICAgICAgICAgICsgJzwvZGl2PidcbiAgICAgICAgICAgICsgJzwvbmF2PidcbiAgICAgICAgKSxcbiAgICAgICAgbWFjUGxhdGZvcm0gPSAvXk1hYy9pLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcbiAgICBcbiAgICBmdW5jdGlvbiBtZW51SXRlbUNsaWNrZWQodGFyZ2V0KSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgYWN0aW9uID0gdGFyZ2V0LmRhdGEoJ2FjdGlvbicpLFxuICAgICAgICAgICAgY2hlY2tib3ggPSB0YXJnZXQuZGF0YSgnY2hlY2tib3gnKSxcbiAgICAgICAgICAgIHNlbGVjdGVkO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNoZWNrYm94KSB7XG4gICAgICAgICAgICB0YXJnZXQudG9nZ2xlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIHNlbGVjdGVkID0gdGFyZ2V0Lmhhc0NsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb250cm9sbGVyLmFjdGlvblBlcmZvcm1lZCh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGNoZWNrYm94OiBjaGVja2JveCxcbiAgICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gcHJlc2VudFNob3J0Y3V0VGV4dChzaG9ydGN1dCkge1xuICAgICAgICBzaG9ydGN1dCA9IHNob3J0Y3V0LnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IHNob3cgdGhlIGZpcnN0IHBvdGVudGlhbCBzaG9ydGN1dCBvdXQgb2YgdGhlIGNvbW1hLXNlcGFyYXRlZCBsaXN0XG4gICAgICAgIHNob3J0Y3V0ID0gc2hvcnRjdXQucmVwbGFjZSgvKCwuKykkLywgXCJcIik7XG4gICAgICAgIFxuICAgICAgICAvLyBBbHRob3VnaCB0aGUga2V5Y29kZSBmb3Igem9vbSBpbiBpcyBcIj1cIiwgd2UnbGwgcHJlc2VudCBpdCB0byB0aGUgdXNlciBhcyBcIitcIlxuICAgICAgICBzaG9ydGN1dCA9IHNob3J0Y3V0LnJlcGxhY2UoXCJjdHJsKz1cIiwgXCJjdHJsKytcIik7XG4gICAgICAgIHNob3J0Y3V0ID0gc2hvcnRjdXQucmVwbGFjZShcIuKMmCs9XCIsIFwi4oyYKytcIik7XG4gICAgICAgIFxuICAgICAgICBpZiAobWFjUGxhdGZvcm0pIHtcbiAgICAgICAgICAgIHNob3J0Y3V0ID0gc2hvcnRjdXQucmVwbGFjZSgvKFteK10pXFwrL2csIFwiJDFcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaG9ydGN1dCA9IHNob3J0Y3V0LnJlcGxhY2UoLyhbXitdKVxcKy9nLCBcIiQxIFwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNob3J0Y3V0O1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiByZWN1cnNlRmlsbE1lbnUobWVudUVsZW0sIGVudHJpZXMpIHtcbiAgICAgICAgbWVudUVsZW0uYXBwZW5kKGVudHJpZXMubWFwKGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgZW50cnlFbGVtO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZW50cnkuYWN0aW9uICYmICFjb250cm9sbGVyLmlzQWN0aW9uU3VwcG9ydGVkKGVudHJ5LmFjdGlvbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbnRyeS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGVudHJ5RWxlbSA9ICQoXG4gICAgICAgICAgICAgICAgICAgICc8bGkgY2xhc3M9XCJkcm9wZG93blwiPidcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgcm9sZT1cImJ1dHRvblwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+JyArIGVudHJ5Lm5hbWUgKyAnIDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9hPidcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJzx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj4nXG4gICAgICAgICAgICAgICAgICAgICAgICArICc8L3VsPidcbiAgICAgICAgICAgICAgICAgICAgKyAnPC9saT4nXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICQoXCIuZHJvcGRvd24tdG9nZ2xlXCIsIGVudHJ5RWxlbSkuZHJvcGRvd24oKTtcblxuICAgICAgICAgICAgICAgIGVudHJ5RWxlbS5vbihcInNob3cuYnMuZHJvcGRvd25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIEluc3RlYWQgb2YgQm9vdHN0cmFwJ3MgZXh0cmVtZWx5IGV4cGVuc2l2ZSBkYXRhIEFQSSwgd2UnbGwgb25seSBsaXN0ZW4gZm9yIGRpc21pc3MgY2xpY2tzIG9uIHRoZVxuICAgICAgICAgICAgICAgICAgICAgKiBkb2N1bWVudCAqd2hpbGUgdGhlIG1lbnUgaXMgb3BlbiEqXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbmUoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeUVsZW0uaGFzQ2xhc3MoXCJvcGVuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5kcm9wZG93bi10b2dnbGVcIiwgZW50cnlFbGVtKS5kcm9wZG93bihcInRvZ2dsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmVjdXJzZUZpbGxNZW51KCQoXCIuZHJvcGRvd24tbWVudVwiLCBlbnRyeUVsZW0pLCBlbnRyeS5jaGlsZHJlbik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVudHJ5Lm5hbWUgPT0gJy0nKSB7XG4gICAgICAgICAgICAgICAgZW50cnlFbGVtID0gJCgnPGxpIHJvbGU9XCJzZXBhcmF0b3JcIiBjbGFzcz1cImRpdmlkZXJcIj48L2xpPicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbnRyeUVsZW0gPSAkKCc8bGk+PGEgaHJlZj1cIiNcIiBkYXRhLWFjdGlvbj1cIicgKyBlbnRyeS5hY3Rpb24gKyAnXCI+PHNwYW4+JyArIGVudHJ5Lm5hbWUgKyAnPC9zcGFuPjwvYT48L2xpPicpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5jaGVja2JveCkge1xuICAgICAgICAgICAgICAgICAgICAkKFwiYVwiLCBlbnRyeUVsZW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZGF0YShcImNoZWNrYm94XCIsIHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9nZ2xlQ2xhc3MoXCJzZWxlY3RlZFwiLCAhIWVudHJ5LmNoZWNrZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGVudHJ5LnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgZW50cnlFbGVtLmF0dHIoJ3RpdGxlJywgZW50cnkudGl0bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZW50cnkuc2hvcnRjdXQpIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbWVudUxpbmsgPSAkKFwiPiBhXCIsIGVudHJ5RWxlbSksXG4gICAgICAgICAgICAgICAgICAgIHNob3J0Y3V0RGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzbWFsbFwiKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBSZXdyaXRlIHRoZSBzaG9ydGN1dHMgdG8gTWFjLXN0eWxlXG4gICAgICAgICAgICAgICAgaWYgKG1hY1BsYXRmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5LnNob3J0Y3V0ID0gZW50cnkuc2hvcnRjdXQucmVwbGFjZSgvU0hJRlQvaW0sIFwi4oenXCIpO1xuICAgICAgICAgICAgICAgICAgICBlbnRyeS5zaG9ydGN1dCA9IGVudHJ5LnNob3J0Y3V0LnJlcGxhY2UoL0FMVC9pbSwgXCLijKVcIik7XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5LnNob3J0Y3V0ID0gZW50cnkuc2hvcnRjdXQucmVwbGFjZSgvQ1RSTC9pbSwgXCLijJhcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNob3J0Y3V0RGVzYy5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1zaG9ydGN1dFwiO1xuICAgICAgICAgICAgICAgIHNob3J0Y3V0RGVzYy5pbm5lckhUTUwgPSBwcmVzZW50U2hvcnRjdXRUZXh0KGVudHJ5LnNob3J0Y3V0KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBtZW51TGluay5hcHBlbmQoc2hvcnRjdXREZXNjKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBrZXkoZW50cnkuc2hvcnRjdXQsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW1DbGlja2VkKG1lbnVMaW5rKTtcblxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gZW50cnlFbGVtO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYmFyWzBdO1xuICAgIH07XG4gICAgXG4gICAgcmVjdXJzZUZpbGxNZW51KCQoXCIubmF2YmFyLW5hdlwiLCBiYXIpLCBNRU5VX0VOVFJJRVMpO1xuXG4gICAgJChiYXIpLm9uKCdjbGljaycsICdhOm5vdCguZHJvcGRvd24tdG9nZ2xlKScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbWVudUl0ZW1DbGlja2VkKCQodGhpcykpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgXG4gICAgZnVuY3Rpb24gb25QYWxldHRlVmlzQ2hhbmdlKHBhbGV0dGVOYW1lLCBzaG93KSB7XG4gICAgICAgIC8vIFRvZ2dsZSB0aGUgdGlja2JveCBvZiB0aGUgY29ycmVzcG9uZGluZyBtZW51IGVudHJ5IHRvIG1hdGNoIHRoZSBuZXcgcGFsZXR0ZSB2aXNpYmlsaXR5XG4gICAgICAgIHZhclxuICAgICAgICAgICAgcGFsTWVudUVudHJ5ID0gJCgnW2RhdGEtYWN0aW9uPVxcXCJDUFBhbCcgKyBwYWxldHRlTmFtZS5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIHBhbGV0dGVOYW1lLnN1YnN0cmluZygxKSArICdcXFwiXScsIGJhcik7XG4gICAgICAgIFxuICAgICAgICBwYWxNZW51RW50cnkudG9nZ2xlQ2xhc3MoXCJzZWxlY3RlZFwiLCBzaG93KTtcbiAgICB9XG5cbiAgICBtYWluR1VJLmdldFBhbGV0dGVNYW5hZ2VyKCkub24oXCJwYWxldHRlVmlzQ2hhbmdlXCIsIG9uUGFsZXR0ZVZpc0NoYW5nZSk7XG59IiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUFBhbGV0dGUgZnJvbSAnLi9DUFBhbGV0dGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUE1pc2NQYWxldHRlKGNwQ29udHJvbGxlcikge1xuICAgIENQUGFsZXR0ZS5jYWxsKHRoaXMsIGNwQ29udHJvbGxlciwgXCJtaXNjXCIsIFwiTWlzY1wiKTtcbiAgICBcbiAgICB2YXIgXG4gICAgICAgIHRoYXQgPSB0aGlzLFxuXG4gICAgICAgIGJ1dHRvbnMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNoaWNrZW5wYWludC10b29sLXpvb20taW5cIixcbiAgICAgICAgICAgICAgICBjb21tYW5kOiBcIkNQWm9vbUluXCIsXG4gICAgICAgICAgICAgICAgdG9vbFRpcDogXCJab29tIGluXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNoaWNrZW5wYWludC10b29sLXpvb20tb3V0XCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUFpvb21PdXRcIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIlpvb20gb3V0XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNoaWNrZW5wYWludC10b29sLXpvb20tMTAwXCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUFpvb20xMDBcIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIlpvb20gMTAwJVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjaGlja2VucGFpbnQtdG9vbC11bmRvXCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUFVuZG9cIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIlVuZG9cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY2hpY2tlbnBhaW50LXRvb2wtcmVkb1wiLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFwiQ1BSZWRvXCIsXG4gICAgICAgICAgICAgICAgdG9vbFRpcDogXCJSZWRvXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNoaWNrZW5wYWludC10b29sLXNlbmRcIixcbiAgICAgICAgICAgICAgICBjb21tYW5kOiBcIkNQU2VuZFwiLFxuICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiU2F2ZSBwaWNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcblxuICAgIGZ1bmN0aW9uIGJ1aWxkQnV0dG9ucygpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBib2R5ID0gdGhhdC5nZXRCb2R5RWxlbWVudCgpLFxuICAgICAgICAgICAgbGlzdEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gICAgICAgIFxuICAgICAgICBsaXN0RWxlbS5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1taXNjLXRvb2xzIGxpc3QtdW5zdHlsZWRcIjtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgaW4gYnV0dG9ucykge1xuICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGJ1dHRvbnNbaV0sXG4gICAgICAgICAgICAgICAgYnV0dG9uRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYnV0dG9uRWxlbS5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC10b29sYmFyLWJ1dHRvbiBcIiArIGJ1dHRvbi5jbGFzc05hbWU7XG4gICAgICAgICAgICBidXR0b25FbGVtLnNldEF0dHJpYnV0ZShcImRhdGEtYnV0dG9uSW5kZXhcIiwgaSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxpc3RFbGVtLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsaXN0RWxlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCAmJiBlLnRhcmdldC5ub2RlTmFtZSA9PSBcIkxJXCIpIHtcbiAgICAgICAgICAgICAgICAkKGUudGFyZ2V0KS5hZGRDbGFzcyhcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgIGxpc3RFbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCAmJiBlLnRhcmdldC5ub2RlTmFtZSA9PSBcIkxJXCIpIHtcbiAgICAgICAgICAgICAgICAkKGUudGFyZ2V0KS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsaXN0RWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ICYmIGUudGFyZ2V0Lm5vZGVOYW1lID09IFwiTElcIikge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICBidXR0b24gPSBidXR0b25zW3BhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtYnV0dG9uSW5kZXhcIiksIDEwKV07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY3BDb250cm9sbGVyLmFjdGlvblBlcmZvcm1lZCh7YWN0aW9uOiBidXR0b24uY29tbWFuZH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQobGlzdEVsZW0pO1xuICAgIH1cbiAgICBcbiAgICBidWlsZEJ1dHRvbnMoKTtcbn1cblxuQ1BNaXNjUGFsZXR0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQUGFsZXR0ZS5wcm90b3R5cGUpO1xuQ1BNaXNjUGFsZXR0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUE1pc2NQYWxldHRlO1xuIiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQUGFsZXR0ZShjcENvbnRyb2xsZXIsIGNsYXNzTmFtZSwgdGl0bGUsIHJlc2l6ZVZlcnQpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5uYW1lID0gY2xhc3NOYW1lO1xuICAgIHRoaXMucmVzaXplVmVydCA9IHJlc2l6ZVZlcnQgfHwgZmFsc2U7XG4gICAgXG4gICAgdmFyXG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBoZWFkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSxcbiAgICAgICAgYm9keUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBcbiAgICAgICAgdmVydEhhbmRsZSA9IG51bGwsXG4gICAgICAgIFxuICAgICAgICBkcmFnT2Zmc2V0LFxuICAgICAgICBcbiAgICAgICAgdGhhdCA9IHRoaXM7XG4gICAgXG4gICAgdGhpcy5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb250YWluZXJFbGVtZW50O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRCb2R5RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYm9keUVsZW1lbnQ7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldFdpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkKGNvbnRhaW5lckVsZW1lbnQpLm91dGVyV2lkdGgoKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkKGNvbnRhaW5lckVsZW1lbnQpLm91dGVySGVpZ2h0KCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldFggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGNvbnRhaW5lckVsZW1lbnQuc3R5bGUubGVmdCwgMTApIHx8IDA7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldFkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGNvbnRhaW5lckVsZW1lbnQuc3R5bGUudG9wLCAxMCkgfHwgMDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2V0TG9jYXRpb24gPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQuc3R5bGUubGVmdCA9IHggKyBcInB4XCI7XG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQuc3R5bGUudG9wID0geSArIFwicHhcIjtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2V0V2lkdGggPSBmdW5jdGlvbih3aWR0aCkge1xuICAgICAgICBjb250YWluZXJFbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0SGVpZ2h0ID0gZnVuY3Rpb24oaGVpZ2h0KSB7XG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zZXRTaXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLnNldFdpZHRoKHdpZHRoKTtcbiAgICAgICAgdGhpcy5zZXRIZWlnaHQoaGVpZ2h0KTtcbiAgICB9O1xuICAgIFxuICAgIGZ1bmN0aW9uIG1vdXNlRHJhZyhlKSB7XG4gICAgICAgIHRoYXQuc2V0TG9jYXRpb24oZS5wYWdlWCAtIGRyYWdPZmZzZXQueCwgZS5wYWdlWSAtIGRyYWdPZmZzZXQueSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW91c2VEcmFnUmVsZWFzZShlKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlRHJhZyk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtb3VzZURyYWdSZWxlYXNlKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gdmVydEhhbmRsZURyYWcoZSkge1xuICAgICAgICB0aGF0LnNldEhlaWdodChlLnBhZ2VZIC0gJChjb250YWluZXJFbGVtZW50KS5vZmZzZXQoKS50b3ApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZlcnRIYW5kbGVSZWxlYXNlKGUpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdmVydEhhbmRsZURyYWcpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdmVydEhhbmRsZVJlbGVhc2UpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiB2ZXJ0SGFuZGxlTW91c2VEb3duKGUpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdmVydEhhbmRsZURyYWcpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdmVydEhhbmRsZVJlbGVhc2UpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBhZGRWZXJ0UmVzaXplSGFuZGxlKCkge1xuICAgICAgICB2ZXJ0SGFuZGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgXG4gICAgICAgIHZlcnRIYW5kbGUuY2xhc3NOYW1lID0gXCJjaGlja2VucGFpbnQtcmVzaXplLWhhbmRsZS12ZXJ0XCI7XG4gICAgICAgIFxuICAgICAgICB2ZXJ0SGFuZGxlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdmVydEhhbmRsZU1vdXNlRG93bik7XG4gICAgICAgIFxuICAgICAgICBjb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKHZlcnRIYW5kbGUpO1xuICAgIH1cblxuICAgIGNsb3NlQnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xuICAgIGNsb3NlQnV0dG9uLmNsYXNzTmFtZSA9IFwiY2xvc2VcIjtcbiAgICBjbG9zZUJ1dHRvbi5pbm5lckhUTUwgPSBcIiZ0aW1lcztcIjtcbiAgICBcbiAgICBjb250YWluZXJFbGVtZW50LmNsYXNzTmFtZSA9IFwiY2hpY2tlbnBhaW50LXBhbGV0dGUgY2hpY2tlbnBhaW50LXBhbGV0dGUtXCIgKyBjbGFzc05hbWU7XG4gICAgXG4gICAgaGVhZEVsZW1lbnQuY2xhc3NOYW1lID0gXCJjaGlja2VucGFpbnQtcGFsZXR0ZS1oZWFkXCI7XG5cbiAgICB2YXJcbiAgICAgICAgaGVhZFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg0XCIpO1xuICAgIFxuICAgIGhlYWRUaXRsZS5jbGFzc05hbWUgPSAnbW9kYWwtdGl0bGUnO1xuICAgIGhlYWRUaXRsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnRpdGxlKSlcbiAgICBcbiAgICBoZWFkRWxlbWVudC5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XG4gICAgaGVhZEVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVhZFRpdGxlKTtcbiAgICBcbiAgICBib2R5RWxlbWVudC5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1wYWxldHRlLWJvZHlcIjtcbiAgICBcbiAgICBjb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKGhlYWRFbGVtZW50KTtcbiAgICBjb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKGJvZHlFbGVtZW50KTtcblxuICAgIGlmICh0aGlzLnJlc2l6ZVZlcnQpIHtcbiAgICAgICAgYWRkVmVydFJlc2l6ZUhhbmRsZSgpO1xuICAgIH1cblxuICAgIGhlYWRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZS5idXR0b24gPT0gMCkgey8qIExlZnQgKi9cbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5ub2RlTmFtZSA9PSBcIkJVVFRPTlwiKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5lbWl0RXZlbnQoXCJwYWxldHRlVmlzQ2hhbmdlXCIsIFt0aGF0LCBmYWxzZV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBtb3VzZURyYWcpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtb3VzZURyYWdSZWxlYXNlKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0ID0ge3g6IGUucGFnZVggLSAkKGNvbnRhaW5lckVsZW1lbnQpLnBvc2l0aW9uKCkubGVmdCwgeTogZS5wYWdlWSAtICQoY29udGFpbmVyRWxlbWVudCkucG9zaXRpb24oKS50b3B9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbkNQUGFsZXR0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuQ1BQYWxldHRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEV2ZW50RW1pdHRlcjsiLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuaW1wb3J0IENQVG9vbFBhbGV0dGUgZnJvbSBcIi4vQ1BUb29sUGFsZXR0ZVwiO1xuaW1wb3J0IENQTWlzY1BhbGV0dGUgZnJvbSBcIi4vQ1BNaXNjUGFsZXR0ZVwiO1xuaW1wb3J0IENQU3Ryb2tlUGFsZXR0ZSBmcm9tIFwiLi9DUFN0cm9rZVBhbGV0dGVcIjtcbmltcG9ydCBDUENvbG9yUGFsZXR0ZSBmcm9tIFwiLi9DUENvbG9yUGFsZXR0ZVwiO1xuaW1wb3J0IENQQnJ1c2hQYWxldHRlIGZyb20gXCIuL0NQQnJ1c2hQYWxldHRlXCI7XG5pbXBvcnQgQ1BMYXllcnNQYWxldHRlIGZyb20gXCIuL0NQTGF5ZXJzUGFsZXR0ZVwiO1xuaW1wb3J0IENQVGV4dHVyZVBhbGV0dGUgZnJvbSBcIi4vQ1BUZXh0dXJlUGFsZXR0ZVwiO1xuaW1wb3J0IENQU3dhdGNoZXNQYWxldHRlIGZyb20gXCIuL0NQU3dhdGNoZXNQYWxldHRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQUGFsZXR0ZU1hbmFnZXIoY3BDb250cm9sbGVyKSB7XG4gICAgdmFyXG4gICAgICAgIHBhbGV0dGVzID0ge1xuICAgICAgICAgICAgdG9vbDogbmV3IENQVG9vbFBhbGV0dGUoY3BDb250cm9sbGVyKSxcbiAgICAgICAgICAgIG1pc2M6IG5ldyBDUE1pc2NQYWxldHRlKGNwQ29udHJvbGxlciksXG4gICAgICAgICAgICBzdHJva2U6IG5ldyBDUFN0cm9rZVBhbGV0dGUoY3BDb250cm9sbGVyKSxcbiAgICAgICAgICAgIGNvbG9yOiBuZXcgQ1BDb2xvclBhbGV0dGUoY3BDb250cm9sbGVyKSxcbiAgICAgICAgICAgIGJydXNoOiBuZXcgQ1BCcnVzaFBhbGV0dGUoY3BDb250cm9sbGVyKSxcbiAgICAgICAgICAgIGxheWVyczogbmV3IENQTGF5ZXJzUGFsZXR0ZShjcENvbnRyb2xsZXIpLFxuICAgICAgICAgICAgdGV4dHVyZXM6IG5ldyBDUFRleHR1cmVQYWxldHRlKGNwQ29udHJvbGxlciksXG4gICAgICAgICAgICBzd2F0Y2hlczogbmV3IENQU3dhdGNoZXNQYWxldHRlKGNwQ29udHJvbGxlcilcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHBhbGV0dGVGcmFtZXMgPSBbXSxcbiAgICAgICAgaGlkZGVuRnJhbWVzID0gW10sXG4gICAgICAgIFxuICAgICAgICBwYXJlbnRFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgXG4gICAgICAgIHRoYXQgPSB0aGlzO1xuICAgIFxuICAgIHRoaXMucGFsZXR0ZXMgPSBwYWxldHRlcztcblxuICAgIGZ1bmN0aW9uIHNob3dQYWxldHRlKHBhbGV0dGUsIHNob3cpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBwYWxFbGVtZW50ID0gcGFsZXR0ZS5nZXRFbGVtZW50KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hvdykge1xuICAgICAgICAgICAgcGFyZW50RWxlbS5hcHBlbmRDaGlsZChwYWxFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudEVsZW0ucmVtb3ZlQ2hpbGQocGFsRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhhdC5lbWl0RXZlbnQoXCJwYWxldHRlVmlzQ2hhbmdlXCIsIFtwYWxldHRlLm5hbWUsIHNob3ddKTtcblxuICAgICAgICAvLyBGSVhNRTogZm9jdXMgaGFja1xuICAgICAgICAvLyBjb250cm9sbGVyLmNhbnZhcy5ncmFiRm9jdXMoKTsgVE9ET1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnNob3dQYWxldHRlQnlOYW1lID0gZnVuY3Rpb24ocGFsZXR0ZU5hbWUsIHNob3cpIHtcbiAgICAgICAgdmFyIFxuICAgICAgICAgICAgcGFsZXR0ZSA9IHBhbGV0dGVzW3BhbGV0dGVOYW1lXTtcbiAgICAgICAgXG4gICAgICAgIGlmIChwYWxldHRlKSB7XG4gICAgICAgICAgICBzaG93UGFsZXR0ZShwYWxldHRlLCBzaG93KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudG9nZ2xlUGFsZXR0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGhpZGRlbkZyYW1lcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgJChcIj4gLmNoaWNrZW5wYWludC1wYWxldHRlXCIsIHBhcmVudEVsZW0pLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5zaG93UGFsZXR0ZUJ5TmFtZSh0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtcGFsZXR0ZU5hbWVcIiksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBoaWRkZW5GcmFtZXMucHVzaCh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoaWRkZW5GcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gaGlkZGVuRnJhbWVzW2ldO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoYXQuc2hvd1BhbGV0dGVCeU5hbWUoZnJhbWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWxldHRlTmFtZVwiKSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoaWRkZW5GcmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3AgcGFsZXR0ZXMgdGhhdCBhcmUgY3VycmVudGx5IG91dHNpZGUgdGhlIHZpc2libGUgYXJlYSBiYWNrIGludG8gdmlldy5cbiAgICAgKi9cbiAgICB0aGlzLmNvbnN0cmFpblBhbGV0dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgd2luZG93V2lkdGggPSAkKHBhcmVudEVsZW0pLnBhcmVudHMoXCIuY2hpY2tlbnBhaW50LW1haW4tc2VjdGlvblwiKS53aWR0aCgpLFxuICAgICAgICAgICAgd2luZG93SGVpZ2h0ID0gJChwYXJlbnRFbGVtKS5wYXJlbnRzKFwiLmNoaWNrZW5wYWludC1tYWluLXNlY3Rpb25cIikuaGVpZ2h0KCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYWxldHRlcykge1xuICAgICAgICAgICAgdmFyIHBhbGV0dGUgPSBwYWxldHRlc1tpXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLyogTW92ZSBwYWxldHRlcyB0aGF0IGFyZSBtb3JlIHRoYW4gaGFsZiBvdXQgb2YgdGhlIGZyYW1lIGJhY2sgaW50byBpdCAqL1xuICAgICAgICAgICAgaWYgKHBhbGV0dGUuZ2V0WCgpICsgcGFsZXR0ZS5nZXRXaWR0aCgpIC8gMiA+IHdpbmRvd1dpZHRoKSB7XG4gICAgICAgICAgICAgICAgcGFsZXR0ZS5zZXRMb2NhdGlvbih3aW5kb3dXaWR0aCAtIHBhbGV0dGUuZ2V0V2lkdGgoKSwgcGFsZXR0ZS5nZXRZKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFsZXR0ZS5nZXRZKCkgKyBwYWxldHRlLmdldEhlaWdodCgpIC8gMiA+IHdpbmRvd0hlaWdodCkge1xuICAgICAgICAgICAgICAgIHBhbGV0dGUuc2V0TG9jYXRpb24ocGFsZXR0ZS5nZXRYKCksIHdpbmRvd0hlaWdodCAtIHBhbGV0dGUuZ2V0SGVpZ2h0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvL01vdmUgc21hbGwgcGFsZXR0ZXMgdG8gdGhlIGZyb250IHNvIHRoYXQgdGhleSBhcmVuJ3QgY29tcGxldGVseSBoaWRkZW5cbiAgICAgICAgLy9wYWxldHRlcy5zd2F0Y2hlcy5tb3ZlVG9Gcm9udCgpO1xuICAgICAgICBcbiAgICAgICAgLy9TcGVjaWFsIGhhbmRsaW5nIGZvciB0aGUgc3dhdGNoZXMgcGFsZXR0ZSBiZWluZyB1bmRlciB0aGUgYnJ1c2ggcGFsZXR0ZTpcbiAgICAgICAgdmFyXG4gICAgICAgICAgICB3aWR0aFRvU3BhcmUgPSB3aW5kb3dXaWR0aCAtIHBhbGV0dGVzLnRvb2wuZ2V0V2lkdGgoKSAtIHBhbGV0dGVzLm1pc2MuZ2V0V2lkdGgoKSAtIHBhbGV0dGVzLnN0cm9rZS5nZXRXaWR0aCgpIC0gcGFsZXR0ZXMuY29sb3IuZ2V0V2lkdGgoKSAtIHBhbGV0dGVzLmJydXNoLmdldFdpZHRoKCkgLSAxNSA+IDA7XG5cbiAgICAgICAgaWYgKHBhbGV0dGVzLnN3YXRjaGVzLmdldFgoKSArIHBhbGV0dGVzLnN3YXRjaGVzLmdldFdpZHRoKCkgPT0gIHBhbGV0dGVzLmJydXNoLmdldFgoKSArIHBhbGV0dGVzLmJydXNoLmdldFdpZHRoKCkgJiZcbiAgICAgICAgICAgICAgICBNYXRoLmFicyhwYWxldHRlcy5zd2F0Y2hlcy5nZXRZKCkgLSBwYWxldHRlcy5icnVzaC5nZXRZKCkpIDwgMjApIHtcbiAgICAgICAgICAgIHBhbGV0dGVzLnN3YXRjaGVzLnNldExvY2F0aW9uKHBhbGV0dGVzLmJydXNoLmdldFgoKSAtIHBhbGV0dGVzLnN3YXRjaGVzLmdldFdpZHRoKCkgLSAod2lkdGhUb1NwYXJlID8gNSA6IDEpLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy9TcGVjaWFsIGhhbmRsaW5nIGZvciBsYXllcnMgcGFsZXR0ZSBiZWluZyB0b28gZGFtbiB0YWxsOlxuICAgICAgICBpZiAocGFsZXR0ZXMubGF5ZXJzLmdldFkoKSArIHBhbGV0dGVzLmxheWVycy5nZXRIZWlnaHQoKSA+IHdpbmRvd0hlaWdodCkge1xuICAgICAgICAgICAgcGFsZXR0ZXMubGF5ZXJzLnNldEhlaWdodChNYXRoLm1heCh3aW5kb3dIZWlnaHQgLSBwYWxldHRlcy5sYXllcnMuZ2V0WSgpLCAyMDApKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogUmVhcnJhbmdlIHRoZSBwYWxldHRlcyBmcm9tIHNjcmF0Y2ggaW50byBhIHVzZWZ1bCBhcnJhbmdlbWVudC5cbiAgICAgKi9cbiAgICB0aGlzLmFycmFuZ2VQYWxldHRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHdpbmRvd1dpZHRoID0gJChwYXJlbnRFbGVtKS5wYXJlbnRzKFwiLmNoaWNrZW5wYWludC1tYWluLXNlY3Rpb25cIikud2lkdGgoKSxcbiAgICAgICAgICAgIHdpbmRvd0hlaWdodCA9ICQocGFyZW50RWxlbSkucGFyZW50cyhcIi5jaGlja2VucGFpbnQtbWFpbi1zZWN0aW9uXCIpLmhlaWdodCgpLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBoYXZlV2lkdGhUb1NwYXJlID0gd2luZG93V2lkdGggLSBwYWxldHRlcy50b29sLmdldFdpZHRoKCkgLSBwYWxldHRlcy5taXNjLmdldFdpZHRoKCkgLSBwYWxldHRlcy5zdHJva2UuZ2V0V2lkdGgoKSAtIHBhbGV0dGVzLmNvbG9yLmdldFdpZHRoKCkgLSBwYWxldHRlcy5icnVzaC5nZXRXaWR0aCgpIC0gMTUgPiAwO1xuXG4gICAgICAgIHBhbGV0dGVzLmJydXNoLnNldExvY2F0aW9uKHdpbmRvd1dpZHRoIC0gcGFsZXR0ZXMuYnJ1c2guZ2V0V2lkdGgoKSAtIDE1LCAwKTtcblxuICAgICAgICB2YXIgXG4gICAgICAgICAgICBib3R0b21PZkJydXNoID0gcGFsZXR0ZXMuYnJ1c2guZ2V0WSgpICsgcGFsZXR0ZXMuYnJ1c2guZ2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgcGFsZXR0ZXMubGF5ZXJzLnNldExvY2F0aW9uKHBhbGV0dGVzLmJydXNoLmdldFgoKSwgd2luZG93SGVpZ2h0IC0gYm90dG9tT2ZCcnVzaCA+IDMwMCA/IGJvdHRvbU9mQnJ1c2ggKyAyIDogYm90dG9tT2ZCcnVzaCk7XG4gICAgICAgIHBhbGV0dGVzLmxheWVycy5zZXRTaXplKHBhbGV0dGVzLmJydXNoLmdldFdpZHRoKCksIHdpbmRvd0hlaWdodCAtIHBhbGV0dGVzLmxheWVycy5nZXRZKCkpO1xuXG4gICAgICAgIHBhbGV0dGVzLnRvb2wuc2V0TG9jYXRpb24oMCwgMCk7XG4gICAgICAgIFxuICAgICAgICBwYWxldHRlcy5taXNjLnNldExvY2F0aW9uKHBhbGV0dGVzLnRvb2wuZ2V0WCgpICsgcGFsZXR0ZXMudG9vbC5nZXRXaWR0aCgpICsgKGhhdmVXaWR0aFRvU3BhcmUgPyA1IDogMSksIDApO1xuICAgICAgICBcbiAgICAgICAgaWYgKGhhdmVXaWR0aFRvU3BhcmUpIHtcbiAgICAgICAgICAgIHBhbGV0dGVzLnN0cm9rZS5zZXRMb2NhdGlvbihwYWxldHRlcy5taXNjLmdldFgoKSArIHBhbGV0dGVzLm1pc2MuZ2V0V2lkdGgoKSArIChoYXZlV2lkdGhUb1NwYXJlID8gNSA6IDEpLCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhbGV0dGVzLnN0cm9rZS5zZXRMb2NhdGlvbihwYWxldHRlcy5taXNjLmdldFgoKSwgcGFsZXR0ZXMubWlzYy5nZXRZKCkgKyBwYWxldHRlcy5taXNjLmdldEhlaWdodCgpICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHBhbGV0dGVzLnN3YXRjaGVzLnNldExvY2F0aW9uKHBhbGV0dGVzLmJydXNoLmdldFgoKSAtIHBhbGV0dGVzLnN3YXRjaGVzLmdldFdpZHRoKCkgLSAoaGF2ZVdpZHRoVG9TcGFyZSA/IDUgOiAxKSwgMCk7XG5cbiAgICAgICAgcGFsZXR0ZXMudGV4dHVyZXMuc2V0V2lkdGgoTWF0aC5taW4ocGFsZXR0ZXMubGF5ZXJzLmdldFgoKSAtIHBhbGV0dGVzLnRleHR1cmVzLmdldFgoKSwgNDkwKSk7XG4gICAgICAgIHBhbGV0dGVzLnRleHR1cmVzLnNldExvY2F0aW9uKHBhbGV0dGVzLmNvbG9yLmdldFgoKSArIHBhbGV0dGVzLmNvbG9yLmdldFdpZHRoKCkgKyA0LCB3aW5kb3dIZWlnaHQgLSBwYWxldHRlcy50ZXh0dXJlcy5nZXRIZWlnaHQoKSk7XG5cbiAgICAgICAgcGFsZXR0ZXMuY29sb3Iuc2V0TG9jYXRpb24oMCwgTWF0aC5tYXgocGFsZXR0ZXMudG9vbC5nZXRZKCkgKyBwYWxldHRlcy50b29sLmdldEhlaWdodCgpLCB3aW5kb3dIZWlnaHQgLSBwYWxldHRlcy5jb2xvci5nZXRIZWlnaHQoKSkpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnRFbGVtO1xuICAgIH07XG5cbiAgICBwYXJlbnRFbGVtLmNsYXNzTmFtZSA9IFwiY2hpY2tlbnBhaW50LXBhbGV0dGVzXCI7XG5cbiAgICBmb3IgKHZhciBwYWxldHRlTmFtZSBpbiBwYWxldHRlcykge1xuICAgICAgICB2YXIgXG4gICAgICAgICAgICBwYWxldHRlID0gcGFsZXR0ZXNbcGFsZXR0ZU5hbWVdLFxuICAgICAgICAgICAgcGFsRWxlbWVudCA9IHBhbGV0dGUuZ2V0RWxlbWVudCgpO1xuICAgICAgICBcbiAgICAgICAgcGFsZXR0ZS5vbihcInBhbGV0dGVWaXNDaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzaG93UGFsZXR0ZSh0aGlzLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcGFsRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBhbGV0dGVOYW1lXCIsIHBhbGV0dGVOYW1lKTtcbiAgICAgICAgcGFsZXR0ZUZyYW1lcy5wdXNoKHBhbEVsZW1lbnQpO1xuICAgIH1cbiAgICBcbiAgICBmb3IgKHZhciBwYWxldHRlTmFtZSBpbiBwYWxldHRlcykge1xuICAgICAgICB2YXIgXG4gICAgICAgICAgICBwYWxFbGVtZW50ID0gcGFsZXR0ZXNbcGFsZXR0ZU5hbWVdLmdldEVsZW1lbnQoKTtcblxuICAgICAgICBwYXJlbnRFbGVtLmFwcGVuZENoaWxkKHBhbEVsZW1lbnQpO1xuICAgIH1cbn1cblxuQ1BQYWxldHRlTWFuYWdlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuQ1BQYWxldHRlTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUFBhbGV0dGVNYW5hZ2VyOyIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG4vKipcbiAqIEBwYXJhbSB2ZXJ0aWNhbCBib29sZWFuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQU2Nyb2xsYmFyKHZlcnRpY2FsKSB7XG4gICAgdmFyXG4gICAgICAgIGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIGhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIGhhbmRsZUlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgXG4gICAgICAgIG1pbiA9IDAsIG1heCA9IDEsIG9mZnNldCA9IDAsIHZpc2libGVSYW5nZSA9IDEsXG4gICAgICAgIFxuICAgICAgICBibG9ja0luY3JlbWVudCA9IDEwLCB1bml0SW5jcmVtZW50ID0gMSxcbiAgICAgICAgXG4gICAgICAgIHZhbHVlSXNBZGp1c3RpbmcgPSBmYWxzZSxcbiAgICAgICAgXG4gICAgICAgIGhhbmRsZVNpemUgPSAxLFxuICAgICAgICBcbiAgICAgICAgZHJhZ0xhc3RPZmZzZXQsXG4gICAgICAgIFxuICAgICAgICB0aGF0ID0gdGhpcztcbiAgICBcbiAgICBmdW5jdGlvbiB1cGRhdGVCYXIoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgbG9uZ0RpbWVuc2lvbiA9IHZlcnRpY2FsID8gJChiYXIpLmhlaWdodCgpIDogJChiYXIpLndpZHRoKCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgLyogQXMgdGhlIHNpemUgb2YgdGhlIGRvY3VtZW50IGFwcHJvYWNoZXMgdGhlIHNpemUgb2YgdGhlIGNvbnRhaW5lciwgaGFuZGxlIHNpemUgZ3Jvd3MgdG8gZmlsbCB0aGUgXG4gICAgICAgICAgICAgKiB3aG9sZSB0cmFjazpcbiAgICAgICAgICAgICAqL1xuICAgICAgICBoYW5kbGVTaXplID0gdmlzaWJsZVJhbmdlIC8gKG1heCAtIG1pbikgKiBsb25nRGltZW5zaW9uOyBcbiAgICAgICAgXG4gICAgICAgIHZhclxuICAgICAgICAgICAgaGFuZGxlT2Zmc2V0ID0gKG9mZnNldCAtIG1pbikgLyAobWF4IC0gbWluKSAqIChsb25nRGltZW5zaW9uIC0gaGFuZGxlU2l6ZSk7XG4gICAgICAgIFxuICAgICAgICBoYW5kbGVJbm5lci5zdHlsZVt2ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCJdID0gaGFuZGxlU2l6ZSArIFwicHhcIjtcbiAgICAgICAgaGFuZGxlLnN0eWxlW3ZlcnRpY2FsID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIl0gPSBoYW5kbGVTaXplICsgXCJweFwiO1xuICAgICAgICBcbiAgICAgICAgaGFuZGxlLnN0eWxlW3ZlcnRpY2FsID8gXCJ0b3BcIiA6IFwibGVmdFwiXSA9IGhhbmRsZU9mZnNldCArIFwicHhcIjtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5zZXRWYWx1ZXMgPSBmdW5jdGlvbihfb2Zmc2V0LCBfdmlzaWJsZVJhbmdlLCBfbWluLCBfbWF4KSB7XG4gICAgICAgIG9mZnNldCA9IF9vZmZzZXQ7XG4gICAgICAgIHZpc2libGVSYW5nZSA9IF92aXNpYmxlUmFuZ2U7XG4gICAgICAgIG1pbiA9IF9taW47XG4gICAgICAgIG1heCA9IF9tYXg7XG4gICAgICAgIFxuICAgICAgICB1cGRhdGVCYXIoKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2V0QmxvY2tJbmNyZW1lbnQgPSBmdW5jdGlvbihpbmNyZW1lbnQpIHtcbiAgICAgICAgYmxvY2tJbmNyZW1lbnQgPSBpbmNyZW1lbnQ7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldFVuaXRJbmNyZW1lbnQgPSBmdW5jdGlvbihpbmNyZW1lbnQpIHtcbiAgICAgICAgdW5pdEluY3JlbWVudCA9IGluY3JlbWVudDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYmFyO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRWYWx1ZUlzQWRqdXN0aW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZUlzQWRqdXN0aW5nO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gb25CYXJDbGljayhlKSB7XG4gICAgICAgIGlmICh0aGlzID09IGJhcikge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgY2xpY2tQb3MgPSB2ZXJ0aWNhbCA/IGUucGFnZVkgLSAkKGJhcikub2Zmc2V0KCkudG9wIDogZS5wYWdlWCAtICQoYmFyKS5vZmZzZXQoKS5sZWZ0LFxuICAgICAgICAgICAgICAgIGJhclBvcyA9IHBhcnNlSW50KGhhbmRsZS5zdHlsZVt2ZXJ0aWNhbCA/IFwidG9wXCIgOiBcImxlZnRcIl0sIDEwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGNsaWNrUG9zIDwgYmFyUG9zKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0IC09IGJsb2NrSW5jcmVtZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYmxvY2tJbmNyZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoYXQuZW1pdEV2ZW50KFwidmFsdWVDaGFuZ2VkXCIsIFtvZmZzZXRdKTtcbiAgICAgICAgICAgIHVwZGF0ZUJhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIG9uSGFuZGxlUHJlc3MoZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkcmFnTGFzdE9mZnNldCA9IHZlcnRpY2FsID8gZS5wYWdlWSAtICQoYmFyKS5vZmZzZXQoKS50b3AgOiBlLnBhZ2VYIC0gJChiYXIpLm9mZnNldCgpLmxlZnQ7XG4gICAgICAgIFxuICAgICAgICAkKGhhbmRsZSkuYWRkQ2xhc3MoXCJkcmFnZ2luZ1wiKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG9uSGFuZGxlUmVsZWFzZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG9uSGFuZGxlRHJhZyk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIG9uSGFuZGxlQ2xpY2soZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBvbkhhbmRsZURyYWcoZSkge1xuICAgICAgICB2YWx1ZUlzQWRqdXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIHZhclxuICAgICAgICAgICAgbG9uZ0RpbWVuc2lvbiA9IHZlcnRpY2FsID8gJChiYXIpLmhlaWdodCgpIDogJChiYXIpLndpZHRoKCksXG4gICAgICAgICAgICBtb3VzZU9mZnNldCA9IHZlcnRpY2FsID8gZS5wYWdlWSAtICQoYmFyKS5vZmZzZXQoKS50b3AgOiBlLnBhZ2VYIC0gJChiYXIpLm9mZnNldCgpLmxlZnQ7XG4gICAgICAgIFxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgKyAobW91c2VPZmZzZXQgLSBkcmFnTGFzdE9mZnNldCkgKiAobWF4IC0gbWluKSAvIChsb25nRGltZW5zaW9uIC0gaGFuZGxlU2l6ZSk7XG4gICAgICAgIFxuICAgICAgICBvZmZzZXQgPSBNYXRoLm1pbihNYXRoLm1heChvZmZzZXQsIG1pbiksIG1heCk7XG4gICAgICAgIFxuICAgICAgICBkcmFnTGFzdE9mZnNldCA9IG1vdXNlT2Zmc2V0O1xuICAgICAgICBcbiAgICAgICAgdGhhdC5lbWl0RXZlbnQoXCJ2YWx1ZUNoYW5nZWRcIiwgW29mZnNldF0pO1xuICAgICAgICB1cGRhdGVCYXIoKTtcbiAgICAgICAgXG4gICAgICAgIHZhbHVlSXNBZGp1c3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gb25IYW5kbGVSZWxlYXNlKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgJChoYW5kbGUpLnJlbW92ZUNsYXNzKFwiZHJhZ2dpbmdcIik7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBvbkhhbmRsZVJlbGVhc2UpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBvbkhhbmRsZURyYWcpO1xuICAgIH1cbiAgICBcbiAgICBiYXIuY2xhc3NOYW1lID0gXCJjaGlja2VucGFpbnQtc2Nyb2xsYmFyIFwiICArICh2ZXJ0aWNhbCA/IFwiY2hpY2tlbnBhaW50LXNjcm9sbGJhci12ZXJ0aWNhbFwiIDogXCJjaGlja2VucGFpbnQtc2Nyb2xsYmFyLWhvcml6b250YWxcIik7XG4gICAgaGFuZGxlLmNsYXNzTmFtZSA9IFwiY2hpY2tlbnBhaW50LXNjcm9sbGJhci1oYW5kbGVcIjtcbiAgICBoYW5kbGVJbm5lci5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1zY3JvbGxiYXItaGFuZGxlLWlubmVyXCI7XG4gICAgXG4gICAgaGFuZGxlLmFwcGVuZENoaWxkKGhhbmRsZUlubmVyKTtcbiAgICBiYXIuYXBwZW5kQ2hpbGQoaGFuZGxlKTtcbiAgICBcbiAgICBoYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBvbkhhbmRsZVByZXNzKTtcbiAgICBoYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uSGFuZGxlQ2xpY2spO1xuICAgIFxuICAgIGJhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25CYXJDbGljayk7XG59XG5cbkNQU2Nyb2xsYmFyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5DUFNjcm9sbGJhci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUFNjcm9sbGJhcjsiLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BTZW5kRGlhbG9nKGNvbnRyb2xsZXIsIHBhcmVudCwgcmVzb3VyY2VTYXZlcikge1xuICAgIHZhclxuICAgICAgICBkaWFsb2cgPSBcbiAgICAgICAgICAgICQoYDxkaXYgY2xhc3M9XCJtb2RhbCBmYWRlXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCIgZGF0YS1zdGFnZT1cInNhdmluZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+U2F2aW5nIGRyYXdpbmcuLi48L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNhdmluZy1wcm9ncmVzcy1tZXNzYWdlXCI+UHJlcGFyaW5nIHlvdXIgZHJhd2luZyB0byBiZSBzYXZlZCwgcGxlYXNlIHdhaXQuLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZSBjbGFzcz1cImNoaWNrZW5wYWludC1zYXZpbmctZXJyb3ItbWVzc2FnZSBwcmUtc2Nyb2xsYWJsZVwiPjwvcHJlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyXCIgcm9sZT1cInByb2dyZXNzYmFyXCIgYXJpYS12YWx1ZW5vdz1cIjBcIiBhcmlhLXZhbHVlbWluPVwiMFwiIGFyaWEtdmFsdWVtYXg9XCIxMDBcIiBzdHlsZT1cIndpZHRoOiAwJTtcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGNoaWNrZW5wYWludC1zZW5kLWNhbmNlbFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCIgZGF0YS1zdGFnZT1cInN1Y2Nlc3Mtbm90LXByZXZpb3VzbHktcG9zdGVkXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkRyYXdpbmcgc2F2ZWQhPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Zb3VyIGRyYXdpbmcgaGFzIGJlZW4gc2F2ZWQsIHdvdWxkIHlvdSBsaWtlIHRvIHBvc3QgaXQgdG8gdGhlIGZvcnVtIG5vdz88L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBjaGlja2VucGFpbnQtcG9zdC1kcmF3aW5nXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5ZZXMsIHBvc3QgaXQgbm93PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPk5vLCBrZWVwIGRyYXdpbmc8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBjaGlja2VucGFpbnQtZXhpdFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+Tm8sIHF1aXQgYW5kIEknbGwgZmluaXNoIGl0IGxhdGVyPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCIgZGF0YS1zdGFnZT1cInN1Y2Nlc3MtYWxyZWFkeS1wb3N0ZWRcIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RHJhd2luZyBzYXZlZCE8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPllvdXIgZHJhd2luZyBoYXMgYmVlbiBzYXZlZCwgd291bGQgeW91IGxpa2UgdG8gdmlldyBpdCBvbiB0aGUgZm9ydW0gbm93PzwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGNoaWNrZW5wYWludC1wb3N0LWRyYXdpbmdcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlllcywgdmlldyB0aGUgcG9zdDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5Obywga2VlcCBkcmF3aW5nPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYCksXG4gICAgICAgIHByb2dyZXNzTWVzc2FnZUVsZW0gPSAkKFwiLmNoaWNrZW5wYWludC1zYXZpbmctcHJvZ3Jlc3MtbWVzc2FnZVwiLCBkaWFsb2cpLFxuICAgICAgICBwcm9ncmVzc0Vycm9yID0gJChcIi5jaGlja2VucGFpbnQtc2F2aW5nLWVycm9yLW1lc3NhZ2VcIiwgZGlhbG9nKSxcbiAgICAgICAgcHJvZ3Jlc3NFbGVtID0gJChcIi5wcm9ncmVzcy1iYXJcIiwgZGlhbG9nKSxcblxuICAgICAgICB0aGF0ID0gdGhpcztcbiAgICBcbiAgICByZXNvdXJjZVNhdmVyLm9uKFwic2F2aW5nUHJvZ3Jlc3NcIiwgZnVuY3Rpb24ocHJvZ3Jlc3MsIG1lc3NhZ2UpIHtcbiAgICAgICAgcHJvZ3Jlc3MgKj0gMTAwO1xuICAgICAgICBcbiAgICAgICAgcHJvZ3Jlc3NNZXNzYWdlRWxlbS50ZXh0KG1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgJChwcm9ncmVzc0VsZW0pXG4gICAgICAgICAgICAuYXR0cihcImFyaWEtdmFsdWVub3dcIiwgcHJvZ3Jlc3MpXG4gICAgICAgICAgICAuY3NzKFwid2lkdGhcIiwgcHJvZ3Jlc3MgKyBcIiVcIik7XG4gICAgfSk7XG4gXG4gICAgcmVzb3VyY2VTYXZlci5vbihcInNhdmluZ0NvbXBsZXRlXCIsIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICQoXCIubW9kYWwtY29udGVudFtkYXRhLXN0YWdlPSdzYXZpbmcnXVwiLCBkaWFsb2cpLmhpZGUoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb250cm9sbGVyLmlzQWN0aW9uU3VwcG9ydGVkKFwiQ1BFeGl0XCIpKSB7XG4gICAgICAgICAgICAkKFwiLm1vZGFsLWNvbnRlbnRbZGF0YS1zdGFnZT0nc3VjY2Vzcy1ub3QtcHJldmlvdXNseS1wb3N0ZWQnXVwiLCBkaWFsb2cpLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoXCIubW9kYWwtY29udGVudFtkYXRhLXN0YWdlPSdzdWNjZXNzLWFscmVhZHktcG9zdGVkJ11cIiwgZGlhbG9nKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlc291cmNlU2F2ZXIub24oXCJzYXZpbmdGYWlsdXJlXCIsIGZ1bmN0aW9uKHNlcnZlck1lc3NhZ2UpIHtcbiAgICAgICAgcHJvZ3Jlc3NFbGVtLmFkZENsYXNzKFwicHJvZ3Jlc3MtYmFyLWRhbmdlclwiKTtcbiAgICAgICAgXG4gICAgICAgIHZhclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJTb3JyeSwgeW91ciBkcmF3aW5nIGNvdWxkIG5vdCBiZSBzYXZlZCwgcGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIjtcbiAgICAgICAgXG4gICAgICAgIGlmIChzZXJ2ZXJNZXNzYWdlKSB7XG4gICAgICAgICAgICBzZXJ2ZXJNZXNzYWdlID0gc2VydmVyTWVzc2FnZS5yZXBsYWNlKC9eQ0hJQklFUlJPUlxccyovLCBcIlwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHNlcnZlck1lc3NhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBcIjxicj48YnI+VGhlIGVycm9yIHJldHVybmVkIGZyb20gdGhlIHNlcnZlciB3YXM6XCI7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NFcnJvclxuICAgICAgICAgICAgICAgICAgICAudGV4dChzZXJ2ZXJNZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwcm9ncmVzc01lc3NhZ2VFbGVtLmh0bWwoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9KTtcbiAgICBcbiAgICAkKFwiLmNoaWNrZW5wYWludC1wb3N0LWRyYXdpbmdcIiwgZGlhbG9nKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgY29udHJvbGxlci5hY3Rpb25QZXJmb3JtZWQoe2FjdGlvbjogXCJDUFBvc3RcIn0pO1xuICAgIH0pO1xuXG4gICAgJChcIi5jaGlja2VucGFpbnQtZXhpdFwiLCBkaWFsb2cpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBhbGVydChcIldoZW4geW91IHdhbnQgdG8gY29tZSBiYWNrIGFuZCBmaW5pc2ggeW91ciBkcmF3aW5nLCBqdXN0IGNsaWNrIHRoZSAnbmV3IGRyYXdpbmcnIGJ1dHRvbiBhZ2FpbiBhbmQgXCIgXG4gICAgICAgICAgICArIFwieW91IGNhbiBjaG9vc2UgdG8gY29udGludWUgdGhpcyBkcmF3aW5nLlwiKTtcbiAgICAgICAgY29udHJvbGxlci5hY3Rpb25QZXJmb3JtZWQoe2FjdGlvbjogXCJDUEV4aXRcIn0pO1xuICAgIH0pO1xuICAgIFxuICAgICQoXCIuY2hpY2tlbnBhaW50LXNlbmQtY2FuY2VsXCIsIGRpYWxvZykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc291cmNlU2F2ZXIuY2FuY2VsKCk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRGVzdHJveSB0aGUgbW9kYWwgdXBvbiBjbG9zZVxuICAgIGRpYWxvZy5vbihcImhpZGRlbi5icy5tb2RhbFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGRpYWxvZy5yZW1vdmUoKTtcbiAgICB9KTtcbiAgICBcbiAgICBkaWFsb2cubW9kYWwoe1xuICAgICAgICBzaG93OiBmYWxzZVxuICAgIH0pO1xuXG4gICAgZGlhbG9nLm9uKCdzaG93bi5icy5tb2RhbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGF0LmVtaXRFdmVudChcInNob3duXCIpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIEZpeCB0aGUgYmFja2Ryb3AgbG9jYXRpb24gaW4gdGhlIERPTSBieSByZXBhcmVudGluZyBpdCB0byB0aGUgY2hpY2tlbnBhaW50IGNvbnRhaW5lclxuICAgIGRpYWxvZy5kYXRhKFwiYnMubW9kYWxcIikuJGJvZHkgPSAkKHBhcmVudCk7XG4gICAgXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGRpYWxvZ1swXSk7XG5cbiAgICB0aGlzLnNob3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZGlhbG9nLm1vZGFsKFwic2hvd1wiKTtcbiAgICB9O1xufVxuXG5DUFNlbmREaWFsb2cucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcbkNQU2VuZERpYWxvZy5wcm90b3R5cGUuY29udHJ1Y3RvciA9IENQU2VuZERpYWxvZzsiLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BTaG9ydGN1dHNEaWFsb2cocGFyZW50KSB7XG4gICAgdmFyXG4gICAgICAgIGRpYWxvZyA9IFxuICAgICAgICAgICAgJChgPGRpdiBjbGFzcz1cIm1vZGFsIGZhZGUgY2hpY2tlbnBhaW50LXNob3J0Y3V0cy1kaWFsb2dcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlNob3J0Y3V0czwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hbnkgb2YgdGhlIG1lbnUgb3B0aW9ucyBhbmQgcGFpbnRpbmcgdG9vbHMgaGF2ZSBrZXlib2FyZCBzaG9ydGN1dHMgd2hpY2ggYXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXR0ZW4gbmV4dCB0byB0aGVtIG9yIGFwcGVhciB3aGVuIHlvdSBob3Zlci5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlcmUgYXJlIHNvbWUgb3RoZXIgc2hvcnRjdXRzIHdoaWNoIGFyZSBub3QgYXMgb2J2aW91cyFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dHMtc2VjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1PkNvbG9yIHN3YXRjaGVzIHBhbGV0dGU8L2g1PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0cy1saXN0IGxpc3QtdW5zdHlsZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dFwiPjxzcGFuIGNsYXNzPVwiZmEgZmEtbW91c2UtcG9pbnRlclwiPjwvc3Bhbj4gTGVmdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlIGFzIHRoZSBkcmF3aW5nIGNvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0XCI+PHNwYW4gY2xhc3M9XCJmYSBmYS1tb3VzZS1wb2ludGVyXCI+PC9zcGFuPiBSaWdodDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVtb3ZlIG9yIHJlcGxhY2UgYSBjb2xvciBzd2F0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1PkxpbmUgZHJhd2luZyBtb2RlPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dHMtbGlzdCBsaXN0LXVuc3R5bGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXRcIj48c3BhbiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dC1rZXlcIj5TaGlmdDwvc3Bhbj4gKyA8c3BhbiBjbGFzcz1cImZhIGZhLW1vdXNlLXBvaW50ZXJcIj48L3NwYW4+IExlZnQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2R0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNuYXAgbGluZSB0byBuZWFyZXN0IDQ1IGRlZ3JlZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1PlBhaW50aW5nIHRvb2xzPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dHMtbGlzdCBsaXN0LXVuc3R5bGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXRcIj48c3BhbiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dC1rZXlcIj4xPC9zcGFuPiAtIDxzcGFuIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0LWtleVwiPjk8L3NwYW4+ICwgPHNwYW4gY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXQta2V5XCI+MDwvc3Bhbj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2R0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYW5nZSBicnVzaCBvcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0XCI+PHNwYW4gY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXQta2V5XCI+Wzwvc3Bhbj4gLCA8c3BhbiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dC1rZXlcIj5dPC9zcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbmdlIGJydXNoIHNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0cy1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDU+QnJ1c2ggcGFsZXR0ZTwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXRzLWxpc3QgbGlzdC11bnN0eWxlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0XCI+PHNwYW4gY2xhc3M9XCJmYSBmYS1tb3VzZS1wb2ludGVyXCI+PC9zcGFuPiBSaWdodCBkcmFnPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGp1c3QgYnJ1c2ggc2xpZGVycyBtb3JlIHByZWNpc2VseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXRzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNT5EcmF3aW5nIGNhbnZhczwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXRzLWxpc3QgbGlzdC11bnN0eWxlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0XCI+PHNwYW4gY2xhc3M9XCJmYSBmYS1tb3VzZS1wb2ludGVyXCI+PC9zcGFuPiBNaWRkbGU8L3NwYW4+IDxzcGFuIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0LWFsdGVybmF0ZVwiPm9yPC9zcGFuPiA8c3BhbiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dFwiPjxzcGFuIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0LWtleVwiPlNwYWNlPC9zcGFuPiArIDxzcGFuIGNsYXNzPVwiZmEgZmEtbW91c2UtcG9pbnRlclwiPjwvc3Bhbj4gTGVmdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW92ZSB0aGUgY2FudmFzIGFyb3VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dFwiPjxzcGFuIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0LWtleVwiPkFsdDwvc3Bhbj4gKyA8c3BhbiBjbGFzcz1cImZhIGZhLW1vdXNlLXBvaW50ZXJcIj48L3NwYW4+IE1pZGRsZTwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXQtYWx0ZXJuYXRlXCI+b3I8L3NwYW4+IDxzcGFuIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0XCI+PHNwYW4gY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXQta2V5XCI+QWx0PC9zcGFuPiArIDxzcGFuIGNsYXNzPVwiY2hpY2tlbnBhaW50LXNob3J0Y3V0LWtleVwiPlNwYWNlPC9zcGFuPiArIDxzcGFuIGNsYXNzPVwiZmEgZmEtbW91c2UtcG9pbnRlclwiPjwvc3Bhbj4gTGVmdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUm90YXRlIHRoZSBjYW52YXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXRcIj48c3BhbiBjbGFzcz1cImZhIGZhLW1vdXNlLXBvaW50ZXJcIj48L3NwYW4+IFJpZ2h0PC9zcGFuPiA8c3BhbiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dC1hbHRlcm5hdGVcIj5vcjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXRcIj48c3BhbiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dC1rZXlcIj5BbHQ8L3NwYW4+ICsgPHNwYW4gY2xhc3M9XCJmYSBmYS1tb3VzZS1wb2ludGVyXCI+PC9zcGFuPiBMZWZ0PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTYW1wbGUgdGhlIGNvbG9yIHVuZGVyIHRoZSBjdXJzb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1PkxheWVycyBwYWxldHRlPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImNoaWNrZW5wYWludC1zaG9ydGN1dHMtbGlzdCBsaXN0LXVuc3R5bGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGlja2VucGFpbnQtc2hvcnRjdXRcIj48c3BhbiBjbGFzcz1cImZhIGZhLW1vdXNlLXBvaW50ZXJcIj48L3NwYW4+IERvdWJsZSBjbGljazwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVuYW1lIGxheWVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgKTtcbiAgICBcbiAgICAvLyBEZXN0cm95IHRoZSBtb2RhbCB1cG9uIGNsb3NlXG4gICAgZGlhbG9nLm9uKFwiaGlkZGVuLmJzLm1vZGFsXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZGlhbG9nLnJlbW92ZSgpO1xuICAgIH0pO1xuICAgIFxuICAgIGRpYWxvZy5tb2RhbCh7XG4gICAgICAgIHNob3c6IGZhbHNlXG4gICAgfSk7XG4gICAgXG4gICAgLy8gRml4IHRoZSBiYWNrZHJvcCBsb2NhdGlvbiBpbiB0aGUgRE9NIGJ5IHJlcGFyZW50aW5nIGl0IHRvIHRoZSBjaGlja2VucGFpbnQgY29udGFpbmVyXG4gICAgZGlhbG9nLmRhdGEoXCJicy5tb2RhbFwiKS4kYm9keSA9ICQocGFyZW50KTtcbiAgICBcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZGlhbG9nWzBdKTtcblxuICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkaWFsb2cubW9kYWwoXCJzaG93XCIpO1xuICAgIH07XG59IiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbi8qKlxuICogQSBzaW1wbGUgc2xpZGVyIGNvbnRyb2wuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQU2xpZGVyKG1pblZhbHVlLCBtYXhWYWx1ZSwgY2VudGVyTW9kZSwgZXhwTW9kZSkge1xuICAgIGNvbnN0XG4gICAgICAgIFBSRUNJU0VfRFJBR19TQ0FMRSA9IDQsXG4gICAgICAgIEVYUF9NT0RFX0ZBQ1RPUiA9IDEuNTtcblxuICAgIHZhciBcbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgY2FudmFzQ29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksXG4gICAgICAgIFxuICAgICAgICB2YWx1ZVJhbmdlID0gbWF4VmFsdWUgLSBtaW5WYWx1ZSxcbiAgICAgICAgXG4gICAgICAgIGRyYWdOb3JtYWwgPSBmYWxzZSwgZHJhZ1ByZWNpc2UgPSBmYWxzZSxcbiAgICAgICAgZHJhZ1ByZWNpc2VYLFxuICAgICAgICBcbiAgICAgICAgZG9uZUluaXRpYWxQYWludCA9IGZhbHNlLFxuICAgICAgICBcbiAgICAgICAgdGhhdCA9IHRoaXM7XG4gICAgXG4gICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIEVpdGhlciBhIHN0cmluZyB0byBkcmF3IG9uIHRoZSBzbGlkZXIsIG9yIGEgZnVuY3Rpb24odmFsdWUpIHdoaWNoIHJlY2VpdmVzIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBzbGlkZXIgYW5kXG4gICAgICogc2hvdWxkIHJldHVybiB0aGUgc3RyaW5nIHRvIGJlIHBhaW50ZWQgdG8gdGhlIHNsaWRlci5cbiAgICAgKlxuICAgICAqIEBuYW1lIENQU2xpZGVyI3RpdGxlXG4gICAgICogQGRlZmF1bHQgXCJcIlxuICAgICAqL1xuICAgIHRoaXMudGl0bGUgPSBcIlwiO1xuICAgIFxuICAgIGNlbnRlck1vZGUgPSBjZW50ZXJNb2RlIHx8IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gcGFpbnQoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgd2lkdGggPSBjYW52YXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgdGl0bGUgPSB0eXBlb2YgdGhhdC50aXRsZSA9PT0gXCJzdHJpbmdcIiA/IHRoYXQudGl0bGUgOiB0aGF0LnRpdGxlKHRoYXQudmFsdWUpLFxuICAgICAgICAgICAgdGV4dFggPSAyICogd2luZG93LmRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgICAgICB0ZXh0WSA9IGNhbnZhcy5oZWlnaHQgKiAwLjc1O1xuXG4gICAgICAgIGlmIChjZW50ZXJNb2RlKSB7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG5cbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFRleHQodGl0bGUsIHRleHRYLCB0ZXh0WSk7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhhdC52YWx1ZSA+PSB2YWx1ZVJhbmdlIC8gMikge1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQucmVjdCh3aWR0aCAvIDIsIDAsICh0aGF0LnZhbHVlIC0gdmFsdWVSYW5nZSAvIDIpICogd2lkdGggLyB2YWx1ZVJhbmdlLCBoZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0LnJlY3QodGhhdC52YWx1ZSAqIHdpZHRoIC8gdmFsdWVSYW5nZSwgMCwgKHZhbHVlUmFuZ2UgLyAyIC0gdGhhdC52YWx1ZSkgKiB3aWR0aCAvIHZhbHVlUmFuZ2UsIGhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5jbGlwKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFRleHQodGl0bGUsIHRleHRYLCB0ZXh0WSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgYmFyUHJvcCA9ICh0aGF0LnZhbHVlIC0gbWluVmFsdWUpIC8gdmFsdWVSYW5nZSxcbiAgICAgICAgICAgICAgICBiYXJXaWR0aDtcblxuICAgICAgICAgICAgaWYgKGV4cE1vZGUpIHtcbiAgICAgICAgICAgICAgICBiYXJQcm9wID0gTWF0aC5wb3coYmFyUHJvcCwgMSAvIEVYUF9NT0RFX0ZBQ1RPUik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhcldpZHRoID0gYmFyUHJvcCAqIHdpZHRoO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuc2F2ZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG5cbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnJlY3QoMCwgMCwgYmFyV2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGwoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5jbGlwKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFRleHQodGl0bGUsIHRleHRYLCB0ZXh0WSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgY2xpcCByZWdpb25cbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG5cbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnJlY3QoYmFyV2lkdGgsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5maWxsKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuY2xpcCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxUZXh0KHRpdGxlLCB0ZXh0WCwgdGV4dFkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdXNlU2VsZWN0KGUpIHtcbiAgICAgICAgdmFyIFxuICAgICAgICAgICAgd2lkdGggPSAkKGNhbnZhcykud2lkdGgoKSxcbiAgICAgICAgICAgIGxlZnQgPSAkKGNhbnZhcykub2Zmc2V0KCkubGVmdCxcblxuICAgICAgICAgICAgcHJvcG9ydGlvbiA9IChlLnBhZ2VYIC0gbGVmdCkgLyB3aWR0aDtcblxuICAgICAgICBpZiAoZXhwTW9kZSkge1xuICAgICAgICAgICAgLy8gR2l2ZSB0aGUgdXNlciBmaW5lciBjb250cm9sIG92ZXIgdGhlIGxvdyB2YWx1ZXNcbiAgICAgICAgICAgIHByb3BvcnRpb24gPSBNYXRoLnBvdyhNYXRoLm1heChwcm9wb3J0aW9uLCAwLjApLCBFWFBfTU9ERV9GQUNUT1IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdC5zZXRWYWx1ZShwcm9wb3J0aW9uICogdmFsdWVSYW5nZSArIG1pblZhbHVlKTtcbiAgICB9XG4gICAgICAgIFxuICAgIGZ1bmN0aW9uIG1vdXNlRHJhZ2dlZChlKSB7XG4gICAgICAgIGlmIChkcmFnTm9ybWFsKSB7XG4gICAgICAgICAgICBtb3VzZVNlbGVjdChlKTtcbiAgICAgICAgfSBlbHNlIGlmIChkcmFnUHJlY2lzZSkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgZGlmZiA9IChlLnBhZ2VYIC0gZHJhZ1ByZWNpc2VYKSAvIFBSRUNJU0VfRFJBR19TQ0FMRTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGRpZmYgIT0gMCkge1xuICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICB1bnJvdW5kZWQgPSB0aGF0LnZhbHVlICsgZGlmZixcbiAgICAgICAgICAgICAgICAgICAgcm91bmRlZCA9IHVucm91bmRlZCB8IDA7XG5cbiAgICAgICAgICAgICAgICB0aGF0LnNldFZhbHVlKHJvdW5kZWQpO1xuXG4gICAgICAgICAgICAgICAgLyogVHdlYWsgdGhlIFwib2xkIG1vdXNlWFwiIHBvc2l0aW9uIHN1Y2ggdGhhdCB0aGUgZnJhY3Rpb25hbCBwYXJ0IG9mIHRoZSB2YWx1ZSB3ZSB3ZXJlIHVuYWJsZSB0byBzZXRcbiAgICAgICAgICAgICAgICAgKiB3aWxsIGJlIGFjY3VtdWxhdGVkXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZHJhZ1ByZWNpc2VYID0gZS5wYWdlWCAtICh1bnJvdW5kZWQgLSByb3VuZGVkKSAqIFBSRUNJU0VfRFJBR19TQ0FMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdXNlVXAoZSkge1xuICAgICAgICBpZiAoZHJhZ05vcm1hbCAmJiBlLmJ1dHRvbiA9PSAwKSB7XG4gICAgICAgICAgICBkcmFnTm9ybWFsID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoZHJhZ1ByZWNpc2UgJiYgZS5idXR0b24gPT0gMikge1xuICAgICAgICAgICAgZHJhZ1ByZWNpc2UgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbnZhcy5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBtb3VzZVVwKTtcbiAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBtb3VzZURyYWdnZWQpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24oX3ZhbHVlKSB7XG4gICAgICAgIF92YWx1ZSA9IH5+TWF0aC5tYXgobWluVmFsdWUsIE1hdGgubWluKG1heFZhbHVlLCBfdmFsdWUpKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9IF92YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IF92YWx1ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVGhlIGV2ZW50IGxpc3RlbmVycyBtaWdodCBsaWtlIHRvIHVwZGF0ZSBvdXIgdGl0bGUgcHJvcGVydHkgYXQgdGhpcyBwb2ludCB0byByZWZsZWN0IHRoZSBuZXcgdmFsdWVcbiAgICAgICAgICAgIHRoaXMuZW1pdEV2ZW50KCd2YWx1ZUNoYW5nZScsIFt0aGlzLnZhbHVlXSk7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKGRvbmVJbml0aWFsUGFpbnQpIHtcbiAgICAgICAgICAgICAgICBwYWludCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBib3RoZXIgdG8gZG8gb3VyIGNhbnZhcyBkaW1lbnNpb25pbmcgdW50aWwgd2UncmUgc3VwcGxpZWQgd2l0aCBhbiBpbml0aWFsIHZhbHVlXG4gICAgICAgICAgICAgICAgZG9uZUluaXRpYWxQYWludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBET00gZWxlbWVudCBmb3IgdGhlIHNsaWRlciBjb21wb25lbnQuXG4gICAgICovXG4gICAgdGhpcy5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjYW52YXMud2lkdGggPSAkKGNhbnZhcykud2lkdGgoKSB8fCAxNTA7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAkKGNhbnZhcykuaGVpZ2h0KCkgfHwgMjA7XG4gICAgICAgIFxuICAgICAgICBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAxKSB7XG4gICAgICAgICAgICAvLyBBc3N1bWUgb3VyIHdpZHRoIGlzIHNldCB0byAxMDAlIG9yIHNpbWlsYXIsIHNvIHdlIG9ubHkgbmVlZCB0byB0aGUgZml4IHRoZSBoZWlnaHRcbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzLndpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjYW52YXNDb250ZXh0LmZvbnQgPSAoY2FudmFzLmhlaWdodCAqIDAuNDcpICsgJ3B0IHNhbnMtc2VyaWYnO1xuICAgICAgICBcbiAgICAgICAgcGFpbnQoKTtcbiAgICB9O1xuICAgIFxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGRyYWdnaW5nID0gZHJhZ05vcm1hbCB8fCBkcmFnUHJlY2lzZTtcbiAgICAgICAgXG4gICAgICAgIGlmICghZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHN3aXRjaCAoZS5idXR0b24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IC8vIExlZnRcbiAgICAgICAgICAgICAgICAgICAgZHJhZ05vcm1hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlU2VsZWN0KGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjogLy8gUmlnaHRcbiAgICAgICAgICAgICAgICAgICAgZHJhZ1ByZWNpc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBkcmFnUHJlY2lzZVggPSBlLnBhZ2VYO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgbW91c2VVcCk7XG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIG1vdXNlRHJhZ2dlZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfSk7XG5cbiAgICBjYW52YXMuc2V0QXR0cmlidXRlKFwidG91Y2gtYWN0aW9uXCIsIFwibm9uZVwiKTtcblxuICAgIGNhbnZhcy5jbGFzc05hbWUgPSAnY2hpY2tlbnBhaW50LXNsaWRlcic7XG4gICAgXG4gICAgaWYgKCF3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgICAvLyBPbGQgYnJvd3NlcnNcbiAgICAgICAgd2luZG93LmRldmljZVBpeGVsUmF0aW8gPSAxLjA7XG4gICAgfVxufVxuXG5DUFNsaWRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuQ1BTbGlkZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BTbGlkZXI7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUFNwbGFzaFNjcmVlbih1aVBhcmVudCwgbG9hZGVyLCByZXNvdXJjZXNSb290KSB7XG4gICAgY29uc3RcbiAgICAgICAgTUFYX1NNT09USElFX09GRlNFVCA9IDE3MDtcblxuICAgIHZhclxuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLFxuICAgICAgICBjYW52YXNDb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxcblxuICAgICAgICBjdXAgPSBuZXcgSW1hZ2UoKSxcbiAgICAgICAgbGlkID0gbmV3IEltYWdlKCksXG4gICAgICAgIG91dGxpbmVzID0gbmV3IEltYWdlKCksXG4gICAgICAgIHRleHQgPSBuZXcgSW1hZ2UoKSxcblxuICAgICAgICBzaGFkaW5nID0gbmV3IEltYWdlKCksXG4gICAgICAgIGhpZ2hsaWdodHMgPSBuZXcgSW1hZ2UoKSxcbiAgICAgICAgc21vb3RoaWUgPSBuZXcgSW1hZ2UoKSxcblxuICAgICAgICBpbWFnZXMgPSBbY3VwLCBsaWQsIG91dGxpbmVzLCB0ZXh0LCBzaGFkaW5nLCBoaWdobGlnaHRzLCBzbW9vdGhpZV0sXG4gICAgICAgIGxvYWRlZENvdW50ID0gMCxcblxuICAgICAgICBjdXBDb21wb3NpdGUsIHNtb290aGllQ29tcG9zaXRlLFxuICAgICAgICBjdXBDb21wb3NpdGVDb250ZXh0LCBzbW9vdGhpZUNvbXBvc2l0ZUNvbnRleHQsXG5cbiAgICAgICAgcHJvZ3Jlc3MgPSAwLjAsXG4gICAgICAgIG1lc3NhZ2UgPSBcIlwiLFxuXG4gICAgICAgIGZvbnRIZWlnaHQgPSAxNDtcblxuICAgIHZhciBpbWFnZVJvb3QgPSByZXNvdXJjZXNSb290ICsgXCJzcGxhc2gvXCI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbWFnZXNbaV0ub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsb2FkZWRDb3VudCsrO1xuXG4gICAgICAgICAgICBpZiAobG9hZGVkQ291bnQgPT0gaW1hZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlcGFpbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGN1cC5zcmMgPSBpbWFnZVJvb3QgKyBcImN1cC5wbmdcIjtcbiAgICBoaWdobGlnaHRzLnNyYyA9IGltYWdlUm9vdCArIFwiaGlnaGxpZ2h0cy5wbmdcIjtcbiAgICBsaWQuc3JjID0gaW1hZ2VSb290ICsgXCJsaWQucG5nXCI7XG4gICAgb3V0bGluZXMuc3JjID0gaW1hZ2VSb290ICsgXCJsaW5lcy5wbmdcIjtcbiAgICBzaGFkaW5nLnNyYyA9IGltYWdlUm9vdCArIFwic2hhZGluZy5wbmdcIjtcbiAgICBzbW9vdGhpZS5zcmMgPSBpbWFnZVJvb3QgKyBcInNtb290aGllLnBuZ1wiO1xuICAgIHRleHQuc3JjID0gaW1hZ2VSb290ICsgXCJ0ZXh0LnBuZ1wiO1xuXG4gICAgZnVuY3Rpb24gYnVpbGRTbW9vdGhpZUNvbXBvc2l0ZShpbWdXaWR0aCwgaW1nSGVpZ2h0LCBwcm9ncmVzcykge1xuICAgICAgICBpZiAoIXNtb290aGllQ29tcG9zaXRlKSB7XG4gICAgICAgICAgICBzbW9vdGhpZUNvbXBvc2l0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG5cbiAgICAgICAgICAgIHNtb290aGllQ29tcG9zaXRlLndpZHRoID0gaW1nV2lkdGg7XG4gICAgICAgICAgICBzbW9vdGhpZUNvbXBvc2l0ZS5oZWlnaHQgPSBpbWdIZWlnaHQ7XG5cbiAgICAgICAgICAgIHNtb290aGllQ29tcG9zaXRlQ29udGV4dCA9IHNtb290aGllQ29tcG9zaXRlLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcnN0IGRyYXcgdGhlIHNtb290aGllIGluIGl0cyBtYXNrIHBvc2l0aW9uOlxuICAgICAgICBzbW9vdGhpZUNvbXBvc2l0ZUNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJjb3B5XCI7XG4gICAgICAgIHNtb290aGllQ29tcG9zaXRlQ29udGV4dC5kcmF3SW1hZ2Uoc21vb3RoaWUsIDAsIDApO1xuXG4gICAgICAgIC8vIE5vdyBzaGlmdCB0aGUgc21vb3RoaWUgZG93bndhcmRzIGFuZCB1c2UgdGhlIG9yaWdpbmFsIHBvc2l0aW9uIGFzIGEgbWFza1xuICAgICAgICBzbW9vdGhpZUNvbXBvc2l0ZUNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2UtaW5cIjtcbiAgICAgICAgc21vb3RoaWVDb21wb3NpdGVDb250ZXh0LmRyYXdJbWFnZShzbW9vdGhpZSwgMCwgTWF0aC5yb3VuZChwcm9ncmVzcyAqIE1BWF9TTU9PVEhJRV9PRkZTRVQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBidWlsZEN1cENvbXBvc2l0ZShpbWdXaWR0aCwgaW1nSGVpZ2h0LCBwcm9ncmVzcykge1xuICAgICAgICBpZiAoIWN1cENvbXBvc2l0ZSkge1xuICAgICAgICAgICAgY3VwQ29tcG9zaXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblxuICAgICAgICAgICAgY3VwQ29tcG9zaXRlLndpZHRoID0gaW1nV2lkdGg7XG4gICAgICAgICAgICBjdXBDb21wb3NpdGUuaGVpZ2h0ID0gaW1nSGVpZ2h0O1xuXG4gICAgICAgICAgICBjdXBDb21wb3NpdGVDb250ZXh0ID0gY3VwQ29tcG9zaXRlLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cENvbXBvc2l0ZUNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJjb3B5XCI7XG4gICAgICAgIGN1cENvbXBvc2l0ZUNvbnRleHQuZHJhd0ltYWdlKGN1cCwgMCwgMCk7XG5cbiAgICAgICAgYnVpbGRTbW9vdGhpZUNvbXBvc2l0ZShpbWdXaWR0aCwgaW1nSGVpZ2h0LCBwcm9ncmVzcyk7XG5cbiAgICAgICAgY3VwQ29tcG9zaXRlQ29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCI7XG4gICAgICAgIGN1cENvbXBvc2l0ZUNvbnRleHQuZHJhd0ltYWdlKHNtb290aGllQ29tcG9zaXRlLCAwLCAwKTtcblxuICAgICAgICBjdXBDb21wb3NpdGVDb250ZXh0LmRyYXdJbWFnZShsaWQsIDAsIDApO1xuXG4gICAgICAgIGN1cENvbXBvc2l0ZUNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzY3JlZW5cIjtcbiAgICAgICAgY3VwQ29tcG9zaXRlQ29udGV4dC5kcmF3SW1hZ2UoaGlnaGxpZ2h0cywgMCwgMCk7XG5cbiAgICAgICAgY3VwQ29tcG9zaXRlQ29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcIm11bHRpcGx5XCI7XG4gICAgICAgIGN1cENvbXBvc2l0ZUNvbnRleHQuZHJhd0ltYWdlKHNoYWRpbmcsIDAsIDApO1xuXG4gICAgICAgIHJldHVybiBjdXBDb21wb3NpdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVwYWludCgpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMixcbiAgICAgICAgICAgIGNlbnRlclkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcblxuICAgICAgICBjYW52YXNDb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICBpZiAobG9hZGVkQ291bnQgPT0gaW1hZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgaW1nV2lkdGggPSB0ZXh0LndpZHRoLFxuICAgICAgICAgICAgICAgIGltZ0hlaWdodCA9IHRleHQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxlZnQgPSBNYXRoLnJvdW5kKGNlbnRlclggLSBpbWdXaWR0aCAvIDIpLFxuICAgICAgICAgICAgICAgIHRvcCA9IE1hdGgucm91bmQoY2VudGVyWSAtIGltZ0hlaWdodCAvIDIpO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmRyYXdJbWFnZSh0ZXh0LCBsZWZ0LCB0b3ApO1xuXG4gICAgICAgICAgICBidWlsZEN1cENvbXBvc2l0ZShpbWdXaWR0aCwgaW1nSGVpZ2h0LCBwcm9ncmVzcyk7XG5cbiAgICAgICAgICAgIC8vVGhlIHdob2xlIGN1cCBjb21wb3NpdGUgaXMgc2xpZ2h0bHkgdHJhbnNwYXJlbnRcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZ2xvYmFsQWxwaGEgPSAwLjg4O1xuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5kcmF3SW1hZ2UoY3VwQ29tcG9zaXRlLCBsZWZ0LCB0b3ApO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0Lmdsb2JhbEFscGhhID0gMS4wO1xuXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0LmRyYXdJbWFnZShvdXRsaW5lcywgbGVmdCwgdG9wKTtcblxuICAgICAgICAgICAgY2VudGVyWSA9IE1hdGgucm91bmQoY2VudGVyWSArIGltZ0hlaWdodCAvIDIgKyAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZXNzYWdlICE9IFwiXCIpIHtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gXCJibGFja1wiO1xuXG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBsaW5lcyA9IG1lc3NhZ2Uuc3BsaXQoXCJcXG5cIik7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IGxpbmVzW2ldLFxuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGggPSBjYW52YXNDb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmUpLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgY2VudGVyWSArPSBmb250SGVpZ2h0ICogMjtcblxuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFRleHQobGluZSwgY2VudGVyWCAtIGxpbmVXaWR0aCAvIDIsIGNlbnRlclkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplKCkge1xuICAgICAgICAvLyBVc2UgdGhlIGNhbnZhcyBkaW1lbnNpb25zIHNldCBieSB0aGUgQ1NTIHN0eWxlc1xuICAgICAgICBjYW52YXMud2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIGNhbnZhc0NvbnRleHQuZm9udCA9IGZvbnRIZWlnaHQgKyBcInB0IHNhbnMtc2VyaWZcIjtcblxuICAgICAgICByZXBhaW50KCk7XG4gICAgfVxuXG4gICAgbG9hZGVyLm9uKFwibG9hZGluZ1Byb2dyZXNzXCIsIGZ1bmN0aW9uKF9wcm9ncmVzcywgX21lc3NhZ2UpIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBfcHJvZ3Jlc3M7XG4gICAgICAgIG1lc3NhZ2UgPSBfbWVzc2FnZTtcblxuICAgICAgICByZXBhaW50KCk7XG4gICAgfSk7XG5cbiAgICBsb2FkZXIub24oXCJsb2FkaW5nRmFpbHVyZVwiLCBmdW5jdGlvbihfbWVzc2FnZSkge1xuICAgICAgICBwcm9ncmVzcyA9IDA7XG4gICAgICAgIG1lc3NhZ2UgPSBfbWVzc2FnZTtcblxuICAgICAgICByZXBhaW50KCk7XG4gICAgfSk7XG5cbiAgICBsb2FkZXIub24oXCJsb2FkaW5nQ29tcGxldGVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHJlc2l6ZSk7XG4gICAgICAgIHVpUGFyZW50LnJlbW92ZUNoaWxkKGNhbnZhcyk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCByZXNpemUpO1xuXG4gICAgY2FudmFzLmNsYXNzTmFtZSA9IFwiY2hpY2tlbnBhaW50LXNwbGFzaC1zY3JlZW5cIjtcblxuICAgIHVpUGFyZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XG5cbiAgICByZXNpemUoKTtcbn1cbiIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5pbXBvcnQgQ1BQYWxldHRlIGZyb20gJy4vQ1BQYWxldHRlJztcblxuaW1wb3J0IENQQnJ1c2hJbmZvIGZyb20gJy4uL2VuZ2luZS9DUEJydXNoSW5mbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQU3Ryb2tlUGFsZXR0ZShjcENvbnRyb2xsZXIpIHtcbiAgICBDUFBhbGV0dGUuY2FsbCh0aGlzLCBjcENvbnRyb2xsZXIsIFwic3Ryb2tlXCIsIFwiU3Ryb2tlXCIpO1xuICAgIFxuICAgIHZhciBcbiAgICAgICAgdGhhdCA9IHRoaXMsXG5cbiAgICAgICAgYnV0dG9ucyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY2hpY2tlbnBhaW50LXRvb2wtZnJlZWhhbmRcIixcbiAgICAgICAgICAgICAgICBjb21tYW5kOiBcIkNQRnJlZUhhbmRcIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIkZyZWUtaGFuZFwiLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjaGlja2VucGFpbnQtdG9vbC1saW5lXCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUExpbmVcIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIlN0cmFpZ2h0IGxpbmVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY2hpY2tlbnBhaW50LXRvb2wtYmV6aWVyXCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUEJlemllclwiLFxuICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiQmV6aWVyIGN1cnZlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcblxuICAgICAgICBib2R5ID0gdGhhdC5nZXRCb2R5RWxlbWVudCgpO1xuXG4gICAgZnVuY3Rpb24gYnVpbGRCdXR0b25zKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGxpc3RFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgICAgICBcbiAgICAgICAgbGlzdEVsZW0uY2xhc3NOYW1lID0gXCJjaGlja2VucGFpbnQtc3Ryb2tlLXRvb2xzIGxpc3QtdW5zdHlsZWRcIjtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgaW4gYnV0dG9ucykge1xuICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGJ1dHRvbnNbaV0sXG4gICAgICAgICAgICAgICAgYnV0dG9uRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYnV0dG9uRWxlbS5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC10b29sYmFyLWJ1dHRvbiBcIiArIGJ1dHRvbi5jbGFzc05hbWU7XG4gICAgICAgICAgICBidXR0b25FbGVtLnNldEF0dHJpYnV0ZShcImRhdGEtYnV0dG9uSW5kZXhcIiwgaSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChidXR0b24uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBidXR0b25FbGVtLmNsYXNzTmFtZSA9IGJ1dHRvbkVsZW0uY2xhc3NOYW1lICsgXCIgc2VsZWN0ZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGlzdEVsZW0uYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxpc3RFbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQgJiYgZS50YXJnZXQubm9kZU5hbWUgPT0gXCJMSVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGJ1dHRvbnNbcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1idXR0b25JbmRleFwiKSwgMTApXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkKFwibGlcIiwgbGlzdEVsZW0pLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgICAgICAgJChlLnRhcmdldCkuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjcENvbnRyb2xsZXIuYWN0aW9uUGVyZm9ybWVkKHthY3Rpb246IGJ1dHRvbi5jb21tYW5kfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChsaXN0RWxlbSk7XG4gICAgfVxuICAgIFxuICAgIGJ1aWxkQnV0dG9ucygpO1xuICAgIFxuICAgIGNwQ29udHJvbGxlci5vbihcInRvb2xDaGFuZ2VcIiwgZnVuY3Rpb24odG9vbCwgdG9vbEluZm8pIHtcbiAgICAgICAgJChcIi5jaGlja2VucGFpbnQtdG9vbC1mcmVlaGFuZFwiLCBib2R5KS50b2dnbGVDbGFzcyhcInNlbGVjdGVkXCIsIHRvb2xJbmZvLnN0cm9rZU1vZGUgPT0gQ1BCcnVzaEluZm8uU01fRlJFRUhBTkQpO1xuICAgICAgICAkKFwiLmNoaWNrZW5wYWludC10b29sLWxpbmVcIiwgYm9keSkudG9nZ2xlQ2xhc3MoXCJzZWxlY3RlZFwiLCB0b29sSW5mby5zdHJva2VNb2RlID09IENQQnJ1c2hJbmZvLlNNX0xJTkUpO1xuICAgICAgICAkKFwiLmNoaWNrZW5wYWludC10b29sLWJlemllclwiLCBib2R5KS50b2dnbGVDbGFzcyhcInNlbGVjdGVkXCIsIHRvb2xJbmZvLnN0cm9rZU1vZGUgPT0gQ1BCcnVzaEluZm8uU01fQkVaSUVSKTtcbiAgICB9KTtcbn1cblxuQ1BTdHJva2VQYWxldHRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BQYWxldHRlLnByb3RvdHlwZSk7XG5DUFN0cm9rZVBhbGV0dGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BTdHJva2VQYWxldHRlO1xuIiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUFBhbGV0dGUgZnJvbSAnLi9DUFBhbGV0dGUnO1xuXG5pbXBvcnQgQ1BDb2xvciBmcm9tICcuLi91dGlsL0NQQ29sb3InO1xuaW1wb3J0IEFkb2JlQ29sb3JUYWJsZSBmcm9tICcuLi91dGlsL0Fkb2JlQ29sb3JUYWJsZSc7XG5cbmZ1bmN0aW9uIHBhZExlZnQoc3RyaW5nLCBwYWRkaW5nLCBsZW4pIHtcbiAgICB3aGlsZSAoc3RyaW5nLmxlbmd0aCA8IGxlbikge1xuICAgICAgICBzdHJpbmcgPSBwYWRkaW5nICsgc3RyaW5nO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaW5nO1xufVxuXG5mdW5jdGlvbiB3cmFwV2l0aEVsZW0oZSwgd3JhcFdpdGhOYW1lKSB7XG4gICAgdmFyXG4gICAgICAgIHBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQod3JhcFdpdGhOYW1lKTtcbiAgICBcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZSk7XG4gICAgXG4gICAgcmV0dXJuIHBhcmVudDtcbn1cblxuZnVuY3Rpb24gZmlsZUFQSXNTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BTd2F0Y2hlc1BhbGV0dGUoY29udHJvbGxlcikge1xuICAgIENQUGFsZXR0ZS5jYWxsKHRoaXMsIGNvbnRyb2xsZXIsIFwic3dhdGNoZXNcIiwgXCJDb2xvciBzd2F0Y2hlc1wiKTtcbiAgICBcbiAgICB2YXJcbiAgICAgICAgSU5JVF9DT0xPUlMgPSBbMHhmZmZmZmYsIDB4MDAwMDAwLCAweGZmMDAwMCwgMHgwMGZmMDAsIDB4MDAwMGZmLCAweGZmZmYwMF0sXG4gICAgICAgIFxuICAgICAgICBtb2RpZmllZCA9IGZhbHNlLFxuICAgICAgICBzd2F0Y2hQYW5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKSxcbiAgICAgICAgYnV0dG9uUGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBcbiAgICAgICAgZmlsZUlucHV0LFxuICAgICAgICBcbiAgICAgICAgdGhhdCA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBDUENvbG9yU3dhdGNoKGNvbG9yKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgICBzd2F0Y2hFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIiksXG4gICAgICAgICAgICBzd2F0Y2hNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBtbnVSZW1vdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSxcbiAgICAgICAgICAgIG1udVNldFRvQ3VycmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGF0ID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNldENvbG9yID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICAgICAgICAgIHN3YXRjaEVsZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1jb2xvclwiLCBjb2xvcik7XG4gICAgICAgICAgICBzd2F0Y2hFbGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjJyArIHBhZExlZnQoXCJcIiArIE51bWJlcihjb2xvcikudG9TdHJpbmcoMTYpLCBcIjBcIiwgNik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zZXRDb2xvcihjb2xvcik7XG4gICAgICAgIFxuICAgICAgICBzd2F0Y2hFbGVtLmhyZWYgPSBcIiNcIjtcbiAgICAgICAgc3dhdGNoRWxlbS5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1jb2xvci1zd2F0Y2ggZHJvcGRvd24tdG9nZ2xlXCI7XG4gICAgICAgIHN3YXRjaEVsZW0uc2V0QXR0cmlidXRlKFwiZGF0YS10b2dnbGVcIiwgXCJkcm9wZG93blwiKTtcbiAgICAgICAgXG4gICAgICAgIG1udVJlbW92ZS5ocmVmID0gXCIjXCI7XG4gICAgICAgIG1udVJlbW92ZS5pbm5lckhUTUwgPSBcIlJlbW92ZVwiO1xuICAgICAgICBcbiAgICAgICAgbW51UmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkKHdyYXBwZXIpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICBtb2RpZmllZCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgIG1udVNldFRvQ3VycmVudC5ocmVmID0gXCIjXCI7XG4gICAgICAgIG1udVNldFRvQ3VycmVudC5pbm5lckhUTUwgPSBcIlJlcGxhY2Ugd2l0aCBjdXJyZW50IGNvbG9yXCI7XG4gICAgICAgIFxuICAgICAgICBtbnVTZXRUb0N1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhhdC5zZXRDb2xvcihjb250cm9sbGVyLmdldEN1ckNvbG9yKCkuZ2V0UmdiKCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBtb2RpZmllZCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgc3dhdGNoTWVudS5jbGFzc05hbWUgPSBcImRyb3Bkb3duLW1lbnVcIjtcbiAgICAgICAgXG4gICAgICAgIHN3YXRjaE1lbnUuYXBwZW5kQ2hpbGQod3JhcFdpdGhFbGVtKG1udVJlbW92ZSwgXCJsaVwiKSk7XG4gICAgICAgIHN3YXRjaE1lbnUuYXBwZW5kQ2hpbGQod3JhcFdpdGhFbGVtKG1udVNldFRvQ3VycmVudCwgXCJsaVwiKSk7XG4gICAgICAgIFxuICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9IFwiY2hpY2tlbnBhaW50LWNvbG9yLXN3YXRjaC13cmFwcGVyXCI7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc3dhdGNoRWxlbSk7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc3dhdGNoTWVudSk7XG4gICAgICAgIFxuICAgICAgICAkKHdyYXBwZXIpLm9uKFwic2hvdy5icy5kcm9wZG93blwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAkYnRuRHJvcERvd24gPSAkKHRoaXMpLmZpbmQoXCIuZHJvcGRvd24tdG9nZ2xlXCIpLFxuICAgICAgICAgICAgICAgICRsaXN0SG9sZGVyID0gJCh0aGlzKS5maW5kKFwiLmRyb3Bkb3duLW1lbnVcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICRsaXN0SG9sZGVyLmNzcyh7XG4gICAgICAgICAgICAgICAgXCJ0b3BcIjogKCRidG5Ecm9wRG93bi5wb3NpdGlvbigpLnRvcCArICRidG5Ecm9wRG93bi5vdXRlckhlaWdodCh0cnVlKSkgKyBcInB4XCIsXG4gICAgICAgICAgICAgICAgXCJsZWZ0XCI6ICRidG5Ecm9wRG93bi5wb3NpdGlvbigpLmxlZnQgKyBcInB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gY2xlYXJTd2F0Y2hlcygpIHtcbiAgICAgICAgd2hpbGUgKHN3YXRjaFBhbmVsLmxhc3RDaGlsZCkge1xuICAgICAgICAgICAgc3dhdGNoUGFuZWwucmVtb3ZlQ2hpbGQoc3dhdGNoUGFuZWwubGFzdENoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFN3YXRjaChjb2xvcikge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHN3YXRjaCA9IG5ldyBDUENvbG9yU3dhdGNoKGNvbG9yKTtcblxuICAgICAgICBzd2F0Y2hQYW5lbC5hcHBlbmRDaGlsZChzd2F0Y2guZ2V0RWxlbWVudCgpKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBjb2xvcnMgaW4gUkdCIDMyLWJpdCBpbnRlZ2VyIGZvcm1hdFxuICAgICAqL1xuICAgIHRoaXMuZ2V0U3dhdGNoZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBzd2F0Y2hlcyA9ICQoXCIuY2hpY2tlbnBhaW50LWNvbG9yLXN3YXRjaFwiLCBzd2F0Y2hQYW5lbCksXG4gICAgICAgICAgICBjb2xvcnMgPSBuZXcgQXJyYXkoc3dhdGNoZXMubGVuZ3RoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN3YXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb2xvcnNbaV0gPSBwYXJzZUludChzd2F0Y2hlcy5nZXQoaSkuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb2xvclwiKSwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbG9ycztcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRTd2F0Y2hlcyA9IGZ1bmN0aW9uKHN3YXRjaGVzKSB7XG4gICAgICAgIGNsZWFyU3dhdGNoZXMoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN3YXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhZGRTd2F0Y2goc3dhdGNoZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBtb2RpZmllZCA9IHRydWU7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG1vZGlmaWVkO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gbG9hZFN3YXRjaGVzKCkge1xuICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICBmaWxlTGlzdCA9IHRoaXMuZmlsZXM7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChmaWxlTGlzdC5sZW5ndGggPCAxKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgZmlsZSA9IGZpbGVMaXN0WzBdLFxuICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgc3dhdGNoZXMgPSBuZXcgQWRvYmVDb2xvclRhYmxlKCkucmVhZCh0aGlzLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHN3YXRjaGVzICE9IG51bGwgJiYgc3dhdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnNldFN3YXRjaGVzKHN3YXRjaGVzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIlRoZSBzd2F0Y2hlcyBjb3VsZCBub3QgYmUgcmVhZCwgZGlkIHlvdSBzZWxlY3QgYW4gLmFjbyBmaWxlP1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZpbGVJbnB1dC5jbGljaygpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBzYXZlU3dhdGNoZXMoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgYWNvID0gbmV3IEFkb2JlQ29sb3JUYWJsZSgpLndyaXRlKHRoYXQuZ2V0U3dhdGNoZXMoKSksXG4gICAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW2Fjb10sIHt0eXBlOiBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSk7XG4gICAgICAgIFxuICAgICAgICB3aW5kb3cuc2F2ZUFzKGJsb2IsIFwib2VrYWtpc3dhdGNoZXMuYWNvXCIpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBpbml0U3dhdGNoUGFuZWwoKSB7XG4gICAgICAgIHN3YXRjaFBhbmVsLmNsYXNzTmFtZSA9IFwiY2hpY2tlbnBhaW50LWNvbG9yLXN3YXRjaGVzIGxpc3QtdW5zdHlsZWRcIjtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgSU5JVF9DT0xPUlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN3YXRjaFBhbmVsLmFwcGVuZENoaWxkKG5ldyBDUENvbG9yU3dhdGNoKElOSVRfQ09MT1JTW2ldKS5nZXRFbGVtZW50KCkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzd2F0Y2hQYW5lbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgc3dhdGNoID0gZS50YXJnZXQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghL2NoaWNrZW5wYWludC1jb2xvci1zd2F0Y2gvLnRlc3Qoc3dhdGNoLmNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChlLmJ1dHRvbiA9PSAwIC8qIExlZnQgKi8gJiYgc3dhdGNoLmdldEF0dHJpYnV0ZShcImRhdGEtY29sb3JcIikgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuc2V0Q3VyQ29sb3IobmV3IENQQ29sb3IocGFyc2VJbnQoc3dhdGNoLmdldEF0dHJpYnV0ZShcImRhdGEtY29sb3JcIiksIDEwKSkpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHN3YXRjaFBhbmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBzd2F0Y2ggPSBlLnRhcmdldDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCEvY2hpY2tlbnBhaW50LWNvbG9yLXN3YXRjaC8udGVzdChzd2F0Y2guY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkKHN3YXRjaClcbiAgICAgICAgICAgICAgICAuZHJvcGRvd24oXCJ0b2dnbGVcIilcbiAgICAgICAgICAgICAgICAub2ZmKFwiY2xpY2suYnMuZHJvcGRvd25cIik7IC8vIFJlbW92ZSBCb290c3RyYXAncyBsZWZ0LWNsaWNrIGhhbmRsZXIgaW5zdGFsbGVkIGJ5IHRvZ2dsZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaW5pdEJ1dHRvbnNQYW5lbCgpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBidG5TZXR0aW5ncyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIFxuICAgICAgICAgICAgYnRuQWRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0dGluZ3NNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBtbnVTYXZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIiksXG4gICAgICAgICAgICBtbnVMb2FkICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICBcbiAgICAgICAgYnRuQWRkLnRpdGxlID0gXCJBZGQgdGhlIGN1cnJlbnQgYnJ1c2ggY29sb3IgYXMgYSBuZXcgc3dhdGNoXCI7XG4gICAgICAgIGJ0bkFkZC5jbGFzc05hbWUgPSBcImNoaWNrZW5wYWludC1zbWFsbC10b29sYmFyLWJ1dHRvbiBjaGlja2VucGFpbnQtY29sb3Itc3dhdGNoLWFkZFwiO1xuICAgICAgICBcbiAgICAgICAgYnRuU2V0dGluZ3MuY2xhc3NOYW1lID0gXCJjaGlja2VucGFpbnQtc21hbGwtdG9vbGJhci1idXR0b24gY2hpY2tlbnBhaW50LWNvbG9yLXN3YXRjaC1zZXR0aW5nc1wiO1xuICAgICAgICBidG5TZXR0aW5ncy5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZ2dsZVwiLCBcImRyb3Bkb3duXCIpO1xuICAgICAgICAkKGJ0blNldHRpbmdzKS5kcm9wZG93bigpO1xuXG4gICAgICAgIG1udVNhdmUuaHJlZiA9IFwiI1wiO1xuICAgICAgICBtbnVTYXZlLmlubmVySFRNTCA9IFwiU2F2ZSBzd2F0Y2hlcyB0byB5b3VyIGNvbXB1dGVyLi4uXCI7XG4gICAgICAgIG1udVNhdmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2F2ZVN3YXRjaGVzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgIG1udUxvYWQuaHJlZiA9IFwiI1wiO1xuICAgICAgICBtbnVMb2FkLmlubmVySFRNTCA9IFwiTG9hZCBzd2F0Y2hlcyBmcm9tIHlvdXIgY29tcHV0ZXIuLi5cIjtcbiAgICAgICAgbW51TG9hZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2FkU3dhdGNoZXMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBzZXR0aW5nc01lbnUuY2xhc3NOYW1lID0gXCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIjtcbiAgICAgICAgXG4gICAgICAgIHNldHRpbmdzTWVudS5hcHBlbmRDaGlsZCh3cmFwV2l0aEVsZW0obW51U2F2ZSwgXCJsaVwiKSk7XG4gICAgICAgIHNldHRpbmdzTWVudS5hcHBlbmRDaGlsZCh3cmFwV2l0aEVsZW0obW51TG9hZCwgXCJsaVwiKSk7XG4gICAgICAgIFxuICAgICAgICB2YXJcbiAgICAgICAgICAgIGJ0blNldHRpbmdzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgXG4gICAgICAgIGJ0blNldHRpbmdzQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdkcm9wZG93bic7XG4gICAgICAgIGJ0blNldHRpbmdzQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ0blNldHRpbmdzKTtcbiAgICAgICAgYnRuU2V0dGluZ3NDb250YWluZXIuYXBwZW5kQ2hpbGQoc2V0dGluZ3NNZW51KTtcblxuICAgICAgICAkKGJ0blNldHRpbmdzQ29udGFpbmVyKS5vbihcInNob3cuYnMuZHJvcGRvd25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvKiBJbnN0ZWFkIG9mIEJvb3RzdHJhcCdzIGV4dHJlbWVseSBleHBlbnNpdmUgZGF0YSBBUEksIHdlJ2xsIG9ubHkgbGlzdGVuIGZvciBkaXNtaXNzIGNsaWNrcyBvbiB0aGVcbiAgICAgICAgICAgICAqIGRvY3VtZW50ICp3aGlsZSB0aGUgbWVudSBpcyBvcGVuISpcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJChkb2N1bWVudCkub25lKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoYnRuU2V0dGluZ3NDb250YWluZXIpLmhhc0NsYXNzKFwib3BlblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAkKGJ0blNldHRpbmdzKS5kcm9wZG93bihcInRvZ2dsZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYnRuQWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBhZGRTd2F0Y2goY29udHJvbGxlci5nZXRDdXJDb2xvcigpLmdldFJnYigpKTtcbiAgICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBidXR0b25QYW5lbC5jbGFzc05hbWUgPSAnY2hpY2tlbnBhaW50LWNvbG9yLXN3YXRjaGVzLWJ1dHRvbnMnO1xuICAgICAgICBcbiAgICAgICAgLy8gRG9uJ3Qgb2ZmZXIgdG8gbG9hZC9zYXZlIHN3YXRjaGVzIGlmIHdlIGRvbid0IGhhdmUgdGhlIGZpbGUgQVBJIG5lZWRlZCBmb3IgcmVhZGluZyB0aGVtXG4gICAgICAgIGlmIChmaWxlQVBJc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICBmaWxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZpbGVJbnB1dC50eXBlID0gXCJmaWxlXCI7XG4gICAgICAgICAgICBmaWxlSW5wdXQubXVsdGlwbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGZpbGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBidXR0b25QYW5lbC5hcHBlbmRDaGlsZChidG5TZXR0aW5nc0NvbnRhaW5lcik7XG4gICAgICAgICAgICBidXR0b25QYW5lbC5hcHBlbmRDaGlsZChmaWxlSW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBidXR0b25QYW5lbC5hcHBlbmRDaGlsZChidG5BZGQpO1xuICAgIH1cbiAgICBcbiAgICBpbml0U3dhdGNoUGFuZWwoKTtcbiAgICB0aGlzLmdldEJvZHlFbGVtZW50KCkuYXBwZW5kQ2hpbGQoc3dhdGNoUGFuZWwpO1xuXG4gICAgaW5pdEJ1dHRvbnNQYW5lbCgpO1xuICAgIHRoaXMuZ2V0Qm9keUVsZW1lbnQoKS5hcHBlbmRDaGlsZChidXR0b25QYW5lbCk7XG59XG5cbkNQU3dhdGNoZXNQYWxldHRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ1BQYWxldHRlLnByb3RvdHlwZSk7XG5DUFN3YXRjaGVzUGFsZXR0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUFN3YXRjaGVzUGFsZXR0ZTsiLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuaW1wb3J0IENQV2Fjb21UYWJsZXQgZnJvbSBcIi4uL3V0aWwvQ1BXYWNvbVRhYmxldFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUFRhYmxldERpYWxvZyhwYXJlbnQpIHtcbiAgICB2YXJcbiAgICAgICAgZGlhbG9nID0gXG4gICAgICAgICAgICAkKGA8ZGl2IGNsYXNzPVwibW9kYWwgZmFkZVwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RHJhd2luZyB0YWJsZXQgc3VwcG9ydDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjaGlja2VucGFpbnQtdGFibGV0LXRoZXJlLWFyZS10d28tb3B0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGVyZSBhcmUgdHdvIHdheXMgeW91IGNvdWxkIHVzZSB5b3VyIHRhYmxldCdzIHBlbiBwcmVzc3VyZSBzdXBwb3J0IHdpdGggQ2hpY2tlblBhaW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hpY2tlbnBhaW50LXRhYmxldC1zdXBwb3J0IGNoaWNrZW5wYWludC13YWNvbS1zdXBwb3J0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsdWdpbiBmb3IgV2Fjb20gdGFibGV0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hpY2tlbnBhaW50LXN1cHBvcnRlZC1icm93c2Vyc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoaWNrZW5wYWludC1zdXBwb3J0ZWQtYnJvd3NlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmEgZmEtaW50ZXJuZXQtZXhwbG9yZXJcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSUUgMTAsIDExXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGlja2VucGFpbnQtc3VwcG9ydGVkLWJyb3dzZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhIGZhLWZpcmVmb3hcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlyZWZveCAoMzItYml0IG9ubHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGlja2VucGFpbnQtc3VwcG9ydGVkLWJyb3dzZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhIGZhLXNhZmFyaVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTYWZhcmlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGlja2VucGFpbnQtc3VwcG9ydGVkLWJyb3dzZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhIGZhLW9wZXJhXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9wZXJhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2hpY2tlbnBhaW50LW5vdC1pbnN0YWxsZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBwbHVnaW4gZm9yIFdhY29tIHRhYmxldHMgZG9lc24ndCBzZWVtIHRvIGJlIGluc3RhbGxlZCBpbiB5b3VyIGJyb3dzZXIgeWV0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2hpY2tlbnBhaW50LW5vdC1pbnN0YWxsZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsZWFzZSBtYWtlIHN1cmUgdGhhdCB5b3UndmUgaW5zdGFsbGVkIHRoZSBsYXRlc3QgZHJpdmVycyBmb3IgeW91ciB0YWJsZXQgZnJvbSB0aGUgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiaHR0cDovL3d3dy53YWNvbS5jb20vZW4tdXMvc3VwcG9ydC9wcm9kdWN0LXN1cHBvcnQvZHJpdmVyc1wiIHRhcmdldD1cIl9ibGFua1wiPldhY29tIGRyaXZlcnMgcGFnZTwvYT4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVuIHJlc3RhcnQgeW91ciBicm93c2VyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2hpY2tlbnBhaW50LW5vdC1zdXBwb3J0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdGhlIFdhY29tIHRhYmxldCBwbHVnaW4sIHBsZWFzZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSBvbmUgb2YgdGhlIGJyb3dzZXJzIGxpc3RlZCBhYm92ZSBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2hpY2tlbnBhaW50LXN1cHBvcnRlZCBhbGVydCBhbGVydC1zdWNjZXNzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgV2Fjb20gdGFibGV0IHBsdWdpbiBpcyBpbnN0YWxsZWQgYW5kIHdvcmtpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hpY2tlbnBhaW50LXRhYmxldC1zdXBwb3J0IGNoaWNrZW5wYWludC1wb2ludGVyZXZlbnRzLXN1cHBvcnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnVpbHQtaW4gc3VwcG9ydCBmb3IgbW9zdCB0YWJsZXRzIDxzbWFsbD5pbmNsdWRpbmcgV2Fjb20gdGFibGV0czwvc21hbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGlja2VucGFpbnQtc3VwcG9ydGVkLWJyb3dzZXJzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hpY2tlbnBhaW50LXN1cHBvcnRlZC1icm93c2VyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYSBmYS1pbnRlcm5ldC1leHBsb3JlclwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJRSAoV2luZG93cyA4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoaWNrZW5wYWludC1zdXBwb3J0ZWQtYnJvd3NlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmEgZmEtZWRnZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFZGdlIChXaW5kb3dzIDEwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hpY2tlbnBhaW50LXN1cHBvcnRlZC1icm93c2VyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmYSBmYS1maXJlZm94XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpcmVmb3ggKDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vdGhlbmlja2R1ZGUvY2hpY2tlbnBhaW50L2Jsb2IvbWFzdGVyL2hlbHAvRmlyZWZveCBwcmVzc3VyZSBzdXBwb3J0Lm1kXCIgdGFyZ2V0PVwiX2JsYW5rXCI+ZXhwZXJpbWVudGFsIDxpIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1uZXctd2luZG93XCI+PC9pPjwvYT4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGlja2VucGFpbnQtc3VwcG9ydGVkLWJyb3dzZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZhIGZhLWNocm9tZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaHJvbWUgKGNvbWluZyBzb29uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNoaWNrZW5wYWludC1ub3Qtc3VwcG9ydGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBZb3VyIGJyb3dzZXIgZG9lc24ndCBoYXZlIGJ1aWx0LWluIHN1cHBvcnQgZm9yIGRyYXdpbmcgdGFibGV0cywgcGxlYXNlIHRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lIG9mIHRoZSBvdGhlciBicm93c2VycyBsaXN0ZWQgYWJvdmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjaGlja2VucGFpbnQtc3VwcG9ydGVkIGFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFlvdXIgYnJvd3NlciBoYXMgYnVpbHQtaW4gc3VwcG9ydCBmb3IgZHJhd2luZyB0YWJsZXRzIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICBgKTtcbiAgICBcbiAgICB2YXJcbiAgICAgICAgd2Fjb21TdXBwb3J0RWxlbSA9ICQoXCIuY2hpY2tlbnBhaW50LXdhY29tLXN1cHBvcnRcIiwgZGlhbG9nKSxcbiAgICAgICAgcGVTdXBwb3J0RWxlbSA9ICQoXCIuY2hpY2tlbnBhaW50LXBvaW50ZXJldmVudHMtc3VwcG9ydFwiLCBkaWFsb2cpLFxuICAgICAgICBib3RoT3B0aW9uc0VsZW0gPSAkKFwiLmNoaWNrZW5wYWludC10YWJsZXQtdGhlcmUtYXJlLXR3by1vcHRpb25zXCIsIGRpYWxvZyksXG4gICAgICAgIFxuICAgICAgICB3YWNvbVByZXNlbnQgPSBDUFdhY29tVGFibGV0LmdldFJlZigpLmlzVGFibGV0UHJlc2VudCgpLFxuICAgICAgICBwZVN1cHBvcnRlZCA9ICEhd2luZG93Lmhhc05hdGl2ZVBvaW50ZXJFdmVudHM7XG4gICAgXG4gICAgd2Fjb21TdXBwb3J0RWxlbS50b2dnbGVDbGFzcyhcInN1cHBvcnRlZFwiLCB3YWNvbVByZXNlbnQpO1xuICAgIFxuICAgIGlmICh3YWNvbVByZXNlbnQpIHtcbiAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGRpc3BsYXlpbmcgaW5mbyBhYm91dCBQb2ludGVyIEV2ZW50cyBpZiB3ZSBoYXZlIHRoZSBXYWNvbSBwbHVnaW4gaW5zdGFsbGVkXG4gICAgICAgIHBlU3VwcG9ydEVsZW0uaGlkZSgpO1xuICAgICAgICBib3RoT3B0aW9uc0VsZW0uaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENocm9tZSBoYXMgZHJvcHBlZCBOUEFQSSBzdXBwb3J0LCBzbyB0aGUgV2Fjb20gcGx1Z2luIGNhbm5vdCBiZSBpbnN0YWxsZWRcbiAgICAgICAgaWYgKC9DaHJvbWUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICEvT1BSLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gICAgICAgICAgICAgICAgfHwgL2lQYWQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgL2lQaG9uZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgICAgd2Fjb21TdXBwb3J0RWxlbS5hZGRDbGFzcyhcIm5vdC1zdXBwb3J0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIERvbid0IGJvdGhlciBzaG93aW5nIHRoZSBXYWNvbSBwbHVnaW4gZGV0YWlscyBpZiB0aGlzIGJyb3dzZXIgc3VwcG9ydHMgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHBlU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICB3YWNvbVN1cHBvcnRFbGVtLmhpZGUoKTtcbiAgICAgICAgICAgIGJvdGhPcHRpb25zRWxlbS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcGVTdXBwb3J0RWxlbS50b2dnbGVDbGFzcyhcInN1cHBvcnRlZFwiLCBwZVN1cHBvcnRlZCk7XG4gICAgcGVTdXBwb3J0RWxlbS50b2dnbGVDbGFzcyhcIm5vdC1zdXBwb3J0ZWRcIiwgIXBlU3VwcG9ydGVkKTtcblxuICAgIGRpYWxvZy5tb2RhbCh7XG4gICAgICAgIHNob3c6IGZhbHNlXG4gICAgfSk7XG4gICAgXG4gICAgLy8gRml4IHRoZSBiYWNrZHJvcCBsb2NhdGlvbiBpbiB0aGUgRE9NIGJ5IHJlcGFyZW50aW5nIGl0IHRvIHRoZSBjaGlja2VucGFpbnQgY29udGFpbmVyXG4gICAgZGlhbG9nLmRhdGEoXCJicy5tb2RhbFwiKS4kYm9keSA9ICQocGFyZW50KTtcbiAgICBcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZGlhbG9nWzBdKTtcblxuICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkaWFsb2cubW9kYWwoXCJzaG93XCIpO1xuICAgIH07XG59IiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUEdyZXlCbXAgZnJvbSAnLi4vZW5naW5lL0NQR3JleUJtcCc7XG5pbXBvcnQgQ1BMb29rVXBUYWJsZSBmcm9tICcuLi9lbmdpbmUvQ1BMb29rVXBUYWJsZSc7XG5cbmltcG9ydCBDUFBhbGV0dGUgZnJvbSAnLi9DUFBhbGV0dGUnO1xuaW1wb3J0IENQU2xpZGVyIGZyb20gJy4vQ1BTbGlkZXInO1xuXG5mdW5jdGlvbiB3cmFwQ2hlY2tib3hXaXRoTGFiZWwoY2hlY2tib3gsIHRpdGxlKSB7XG4gICAgdmFyXG4gICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuXG4gICAgZGl2LmNsYXNzTmFtZSA9IFwiY2hlY2tib3hcIjtcbiAgICBcbiAgICBsYWJlbC5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgbGFiZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGl0bGUpKTtcbiAgICBcbiAgICBkaXYuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgIFxuICAgIHJldHVybiBkaXY7XG59XG5cbmZ1bmN0aW9uIGxvYWRUZXh0dXJlcyh0ZXh0dXJlRmlsZW5hbWUsIHdpZHRoLCBoZWlnaHQsIHRleHR1cmVDb3VudCwgdGhlbikge1xuICAgIHZhclxuICAgICAgICBpbWcgPSBuZXcgSW1hZ2UoKSxcbiAgICAgICAgdGV4dHVyZXMgPSBbXTtcbiAgICBcbiAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBcbiAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dHVyZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKGltZywgMCwgaSAqIGhlaWdodCwgd2lkdGgsIGhlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlRGF0YSA9IGNhbnZhc0NvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlID0gbmV3IENQR3JleUJtcCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBUYWtlIGp1c3QgdGhlIHJlZCBjaGFubmVsIGZyb20gdGhlIGltYWdlIHRvIGZvcm0gdGhlIG5ldyBncmF5c2NhbGUgdGV4dHVyZVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgd2lkdGggKiBoZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmRhdGFbal0gPSBpbWFnZURhdGEuZGF0YVtqICogNF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gUXVpZXRseSBpZ25vcmUgZXJyb3JzIHRoYXQgb2NjdXIgd2hpbGUgbG9hZGluZyB0aGUgaW1hZ2UgKGUuZy4gY3Jvc3Mtb3JpZ2luIHNlY3VyaXR5IGZhaWx1cmVzKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGVuKHRleHR1cmVzKTtcbiAgICB9O1xuICAgIFxuICAgIGltZy5zcmMgPSB0ZXh0dXJlRmlsZW5hbWU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENQVGV4dHVyZVBhbGV0dGUoY29udHJvbGxlcikge1xuICAgIENQUGFsZXR0ZS5jYWxsKHRoaXMsIGNvbnRyb2xsZXIsIFwidGV4dHVyZXNcIiwgXCJUZXh0dXJlc1wiKTtcbiAgICBcbiAgICB2YXJcbiAgICAgICAgVEVYVFVSRV9QUkVWSUVXX1NJWkUgPSA2NCxcbiAgICAgICAgVEVYVFVSRV9TV0FUQ0hfQlVUVE9OX1NJWkUgPSAzMixcbiAgICBcbiAgICAgICAgdGV4dHVyZXMgPSBbXSwgLy8gQXJyYXkgb2YgQ1BHcmV5Qm1wXG4gICAgICAgIHNlbGVjdGVkVGV4dHVyZSwgcHJvY2Vzc2VkVGV4dHVyZSwgLy9Cb3RoIENQR3JleUJtcFxuXG4gICAgICAgIG1pcnJvciA9IGZhbHNlLCBpbnZlcnNlID0gZmFsc2UsXG4gICAgICAgIFxuICAgICAgICBicmlnaHRuZXNzID0gMC4wLCBjb250cmFzdCA9IDAuMCxcbiAgICAgICAgb3B0aW9uc1BhbmVsLFxuICAgICAgICB0ZXh0dXJlc1BhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgXG4gICAgICAgIGJvZHkgPSB0aGlzLmdldEJvZHlFbGVtZW50KCk7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgdGV4dHVyZXMgdG8gdGhlIGdsb2JhbCB0ZXh0dXJlIGxpc3QsIGFuZCBhZGQgc3dhdGNoZXMgZm9yIHRoZW0gdG8gdGhlIFVJLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZFRleHR1cmVzKG5ld1RleHR1cmVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3VGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIHRleHR1cmUgPSBuZXdUZXh0dXJlc1tpXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICBcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIGJ1dHRvbiA9IG5ldyBDUFRleHR1cmVTd2F0Y2godGV4dHVyZSwgVEVYVFVSRV9TV0FUQ0hfQlVUVE9OX1NJWkUsIFRFWFRVUkVfU1dBVENIX0JVVFRPTl9TSVpFKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYnV0dG9uLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGVkVGV4dHVyZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRleHR1cmVzUGFuZWwuYXBwZW5kQ2hpbGQoYnV0dG9uLmdldEVsZW1lbnQoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYW5kIHJldHVybiBhbiBhcnJheSBvZiBwcm9jZWR1cmFsbHktZ2VuZXJhdGVkIHRleHR1cmVzXG4gICAgICogXG4gICAgICogQHJldHVybnMgQ1BHcmV5Qm1wW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYWtlUHJvY2VkdXJhbFRleHR1cmVzKCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHJlc3VsdCA9IFtudWxsXTtcbiAgICAgICAgXG4gICAgICAgIHZhclxuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBDUEdyZXlCbXAoMiwgMik7XG4gICAgICAgIHRleHR1cmUuZGF0YVswXSA9IDB4RkY7XG4gICAgICAgIHRleHR1cmUuZGF0YVszXSA9IDB4RkY7XG4gICAgICAgIHJlc3VsdC5wdXNoKHRleHR1cmUpO1xuXG4gICAgICAgIHJlc3VsdC5wdXNoKG1ha2VEb3RUZXh0dXJlKDIpKTtcbiAgICAgICAgcmVzdWx0LnB1c2gobWFrZURvdFRleHR1cmUoMykpO1xuICAgICAgICByZXN1bHQucHVzaChtYWtlRG90VGV4dHVyZSg0KSk7XG4gICAgICAgIHJlc3VsdC5wdXNoKG1ha2VEb3RUZXh0dXJlKDYpKTtcbiAgICAgICAgcmVzdWx0LnB1c2gobWFrZURvdFRleHR1cmUoOCkpO1xuXG4gICAgICAgIHJlc3VsdC5wdXNoKG1ha2VWZXJ0TGluZXNUZXh0dXJlKDEsIDIpKTtcbiAgICAgICAgcmVzdWx0LnB1c2gobWFrZVZlcnRMaW5lc1RleHR1cmUoMiwgNCkpO1xuXG4gICAgICAgIHJlc3VsdC5wdXNoKG1ha2VIb3JpekxpbmVzVGV4dHVyZSgxLCAyKSk7XG4gICAgICAgIHJlc3VsdC5wdXNoKG1ha2VIb3JpekxpbmVzVGV4dHVyZSgyLCA0KSk7XG5cbiAgICAgICAgcmVzdWx0LnB1c2gobWFrZUNoZWNrZXJCb2FyZFRleHR1cmUoMikpO1xuICAgICAgICByZXN1bHQucHVzaChtYWtlQ2hlY2tlckJvYXJkVGV4dHVyZSg0KSk7XG4gICAgICAgIHJlc3VsdC5wdXNoKG1ha2VDaGVja2VyQm9hcmRUZXh0dXJlKDgpKTtcbiAgICAgICAgcmVzdWx0LnB1c2gobWFrZUNoZWNrZXJCb2FyZFRleHR1cmUoMTYpKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNpemUgaW50XG4gICAgICogXG4gICAgICogQHJldHVybnMgQ1BHcmV5Qm1wXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFrZURvdFRleHR1cmUoc2l6ZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIHRleHR1cmUgPSBuZXcgQ1BHcmV5Qm1wKHNpemUsIHNpemUpO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzaXplICogc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB0ZXh0dXJlLmRhdGFbaV0gPSAweEZGO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2UgYSBjaGVja2VyYm9hcmQgdGV4dHVyZSBvZiB0aGUgZ2l2ZW4gZGltZW5zaW9ucy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2l6ZSBpbnRcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBDUEdyZXlCbXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYWtlQ2hlY2tlckJvYXJkVGV4dHVyZShzaXplKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgdGV4dHVyZVNpemUgPSAyICogc2l6ZSxcbiAgICAgICAgICAgIHRleHR1cmUgPSBuZXcgQ1BHcmV5Qm1wKHRleHR1cmVTaXplLCB0ZXh0dXJlU2l6ZSk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHR1cmVTaXplOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZVNpemU7IGorKykge1xuICAgICAgICAgICAgICAgIHRleHR1cmUuZGF0YVtpICsgaiAqIHRleHR1cmVTaXplXSA9ICgofn4oaSAvIHNpemUpICsgfn4oaiAvIHNpemUpKSAlIDIgPT0gMCkgPyAwIDogMHhGRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfVxuXG4gICAgIC8qKlxuICAgICAgKiBNYWtlIGEgdGV4dHVyZSBjb25zaXN0aW5nIG9mIGEgc2VyaWVzIG9mIGV2ZW5seS1zcGFjZWQgdmVydGljYWwgbGluZXNcbiAgICAgICogXG4gICAgICAqIEBwYXJhbSBsaW5lU2l6ZSBpbnRcbiAgICAgICogQHBhcmFtIHNpemUgaW50XG4gICAgICAqIFxuICAgICAgKiBAcmV0dXJucyBDUEdyZXlCbXBcbiAgICAgICovXG4gICAgIGZ1bmN0aW9uIG1ha2VWZXJ0TGluZXNUZXh0dXJlKGxpbmVTaXplLCBzaXplKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBDUEdyZXlCbXAoc2l6ZSwgc2l6ZSk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemUgKiBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh+fihpICUgc2l6ZSkgPj0gbGluZVNpemUpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmRhdGFbaV0gPSAweEZGO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICAgLyoqXG4gICAgICAqIE1ha2UgYSB0ZXh0dXJlIGNvbnNpc3Rpbmcgb2YgYSBzZXJpZXMgb2YgZXZlbmx5LXNwYWNlZCBob3Jpem9udGFsIGxpbmVzXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSBsaW5lU2l6ZSBpbnRcbiAgICAgICogQHBhcmFtIHNpemUgaW50XG4gICAgICAqIFxuICAgICAgKiBAcmV0dXJucyBDUEdyZXlCbXBcbiAgICAgICovXG4gICAgZnVuY3Rpb24gbWFrZUhvcml6TGluZXNUZXh0dXJlKGxpbmVTaXplLCBzaXplKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBDUEdyZXlCbXAoc2l6ZSwgc2l6ZSk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemUgKiBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpIC8gc2l6ZSA+PSBsaW5lU2l6ZSkge1xuICAgICAgICAgICAgICAgIHRleHR1cmUuZGF0YVtpXSA9IDB4RkY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkVGV4dHVyZSgpIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkVGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBwcm9jZXNzZWRUZXh0dXJlID0gc2VsZWN0ZWRUZXh0dXJlLmNsb25lKCk7XG5cbiAgICAgICAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWRUZXh0dXJlLm1pcnJvckhvcml6b250YWxseSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBsdXQgPSBuZXcgQ1BMb29rVXBUYWJsZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsdXQubG9hZEJyaWdodG5lc3NDb250cmFzdChicmlnaHRuZXNzLCBjb250cmFzdCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpbnZlcnNlKSB7XG4gICAgICAgICAgICAgICAgbHV0LmludmVydCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm9jZXNzZWRUZXh0dXJlLmFwcGx5TFVUKGx1dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzZWRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0QXJ0d29yaygpLnNldEJydXNoVGV4dHVyZShwcm9jZXNzZWRUZXh0dXJlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChvcHRpb25zUGFuZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgb3B0aW9uc1BhbmVsLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBDUFRleHR1cmVPcHRpb25zUGFuZWwoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICBcbiAgICAgICAgICAgIGNiSW52ZXJzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxcbiAgICAgICAgICAgIGNiTWlycm9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzbEJyaWdodG5lc3MgPSBuZXcgQ1BTbGlkZXIoMCwgMjAwLCB0cnVlKSxcbiAgICAgICAgICAgIHNsQ29udHJhc3QgPSBuZXcgQ1BTbGlkZXIoMCwgMjAwLCB0cnVlKSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2FtcGxlU3dhdGNoID0gbmV3IENQVGV4dHVyZVN3YXRjaChudWxsLCBURVhUVVJFX1BSRVZJRVdfU0laRSwgVEVYVFVSRV9QUkVWSUVXX1NJWkUpLFxuICAgICAgICAgICAgYnRuQ3VzdG9taXplID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGV4dHVyZUNvbnRyb2xzUGFuZWw7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVQb3BvdmVyQ29udHJvbHMoKSB7XG4gICAgICAgICAgICBjYkludmVyc2UuY2hlY2tlZCA9IGludmVyc2U7XG4gICAgICAgICAgICBjYk1pcnJvci5jaGVja2VkID0gbWlycm9yO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzbEJyaWdodG5lc3Muc2V0VmFsdWUoYnJpZ2h0bmVzcyAqIDEwMCArIDEwMCk7XG4gICAgICAgICAgICBzbENvbnRyYXN0LnNldFZhbHVlKGNvbnRyYXN0ICogMTAwICsgMTAwKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gYnVpbGRUZXh0dXJlQ29udHJvbHNQYW5lbCgpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIHBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICAgICAgY2JJbnZlcnNlLnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgICAgICBjYkludmVyc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpbnZlcnNlID0gdGhpcy5jaGVja2VkO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGVkVGV4dHVyZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKHdyYXBDaGVja2JveFdpdGhMYWJlbChjYkludmVyc2UsIFwiSW52ZXJzZVwiKSk7XG5cbiAgICAgICAgICAgIGNiTWlycm9yLnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgICAgICBjYk1pcnJvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIG1pcnJvciA9IHRoaXMuY2hlY2tlZDtcbiAgICAgICAgICAgICAgICB1cGRhdGVTZWxlY3RlZFRleHR1cmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZCh3cmFwQ2hlY2tib3hXaXRoTGFiZWwoY2JNaXJyb3IsIFwiTWlycm9yXCIpKTtcblxuICAgICAgICAgICAgc2xCcmlnaHRuZXNzLnRpdGxlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJCcmlnaHRuZXNzOiBcIiArICh2YWx1ZSAtIDEwMCkgKyBcIiVcIjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNsQnJpZ2h0bmVzcy5vbihcInZhbHVlQ2hhbmdlXCIsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYnJpZ2h0bmVzcyA9ICh2YWx1ZSAtIDEwMCkgLyAxMDAuMDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB1cGRhdGVTZWxlY3RlZFRleHR1cmUoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChzbEJyaWdodG5lc3MuZ2V0RWxlbWVudCgpKTtcblxuICAgICAgICAgICAgc2xDb250cmFzdC50aXRsZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiQ29udHJhc3Q6IFwiICsgKHZhbHVlIC0gMTAwKSArIFwiJVwiO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2xDb250cmFzdC5vbihcInZhbHVlQ2hhbmdlXCIsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29udHJhc3QgPSAodmFsdWUgLSAxMDApIC8gMTAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGVkVGV4dHVyZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKHNsQ29udHJhc3QuZ2V0RWxlbWVudCgpKTtcblxuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgb2theUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksXG4gICAgICAgICAgICAgICAgcmVzZXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBva2F5QnV0dG9uLmlubmVySFRNTCA9IFwiT2tcIjtcbiAgICAgICAgICAgIG9rYXlCdXR0b24uY2xhc3NOYW1lID0gXCJidG4gYnRuLXByaW1hcnkgYnRuLXNtXCI7XG4gICAgICAgICAgICBva2F5QnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBva2F5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgJChidG5DdXN0b21pemUpLnBvcG92ZXIoJ2hpZGUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChva2F5QnV0dG9uKTtcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIFwiKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLmlubmVySFRNTCA9IFwiUmVzZXRcIjtcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLmNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiO1xuICAgICAgICAgICAgcmVzZXRCdXR0b24udHlwZSA9IFwiYnV0dG9uXCI7XG5cbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgYnJpZ2h0bmVzcyA9IDA7XG4gICAgICAgICAgICAgICAgY29udHJhc3QgPSAwO1xuICAgICAgICAgICAgICAgIG1pcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGludmVyc2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB1cGRhdGVQb3BvdmVyQ29udHJvbHMoKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVTZWxlY3RlZFRleHR1cmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChyZXNldEJ1dHRvbik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHVwZGF0ZVBvcG92ZXJDb250cm9scygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcGFuZWw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRPRE8gdXNlIGV2ZW50cyBpbnN0ZWFkXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYnRuQ3VzdG9taXplLmRpc2FibGVkID0gKHByb2Nlc3NlZFRleHR1cmUgPT0gbnVsbCk7XG4gICAgICAgICAgICBzYW1wbGVTd2F0Y2guc2V0VGV4dHVyZShwcm9jZXNzZWRUZXh0dXJlKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhbmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFuZWwuY2xhc3NOYW1lID0gXCJjaGlja2VucGFpbnQtdGV4dHVyZS1vcHRpb25zXCI7XG4gICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKHNhbXBsZVN3YXRjaC5nZXRFbGVtZW50KCkpO1xuXG4gICAgICAgIGJ0bkN1c3RvbWl6ZS50eXBlID0gXCJidXR0b25cIjtcbiAgICAgICAgYnRuQ3VzdG9taXplLmNsYXNzTmFtZSA9IFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiO1xuICAgICAgICBidG5DdXN0b21pemUuaW5uZXJIVE1MID0gXCJDdXN0b21pemVcIjtcblxuICAgICAgICB0ZXh0dXJlQ29udHJvbHNQYW5lbCA9IGJ1aWxkVGV4dHVyZUNvbnRyb2xzUGFuZWwoKTtcbiAgICAgICAgXG4gICAgICAgICQoYnRuQ3VzdG9taXplKVxuICAgICAgICAgICAgLnBvcG92ZXIoe1xuICAgICAgICAgICAgICAgIGh0bWw6IHRydWUsXG4gICAgICAgICAgICAgICAgY29udGVudDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlQ29udHJvbHNQYW5lbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IFwibWFudWFsXCJcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgb24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnBvcG92ZXIoXCJ0b2dnbGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGJ0bkN1c3RvbWl6ZSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBDUFRleHR1cmVTd2F0Y2godGV4dHVyZSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksXG4gICAgICAgICAgICBjYW52YXNDb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5zZXRUZXh0dXJlID0gZnVuY3Rpb24odGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5wYWludCgpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5wYWludCA9IGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHR1cmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gY2FudmFzQ29udGV4dC5jcmVhdGVQYXR0ZXJuKHRoaXMudGV4dHVyZS50b0NhbnZhcygpLCBcInJlcGVhdFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FudmFzQ29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoYXQuZW1pdChcImNsaWNrXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zZXRUZXh0dXJlKHRleHR1cmUpO1xuICAgIH1cbiAgICBcbiAgICBDUFRleHR1cmVTd2F0Y2gucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcbiAgICBDUFRleHR1cmVTd2F0Y2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BUZXh0dXJlU3dhdGNoO1xuICAgIFxuICAgIG9wdGlvbnNQYW5lbCA9IG5ldyBDUFRleHR1cmVPcHRpb25zUGFuZWwoKVxuICAgIFxuICAgIGJvZHkuYXBwZW5kQ2hpbGQob3B0aW9uc1BhbmVsLmdldEVsZW1lbnQoKSk7XG5cbiAgICB0ZXh0dXJlc1BhbmVsLmNsYXNzTmFtZSA9ICdjaGlja2VucGFpbnQtdGV4dHVyZS1zd2F0Y2hlcyc7XG5cbiAgICBib2R5LmFwcGVuZENoaWxkKHRleHR1cmVzUGFuZWwpO1xuICAgIFxuICAgIGFkZFRleHR1cmVzKG1ha2VQcm9jZWR1cmFsVGV4dHVyZXMoKSk7XG4gICAgXG4gICAgbG9hZFRleHR1cmVzKGNvbnRyb2xsZXIuZ2V0UmVzb3VyY2VzUm9vdCgpICsgXCJnZngvdGV4dHVyZXMzMi5wbmdcIiwgMzIsIDMyLCAyLCBmdW5jdGlvbihsb2FkZWRUZXh0dXJlcykge1xuICAgICAgICBhZGRUZXh0dXJlcyhsb2FkZWRUZXh0dXJlcyk7XG4gICAgfSk7XG59XG5cbkNQVGV4dHVyZVBhbGV0dGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDUFBhbGV0dGUucHJvdG90eXBlKTtcbkNQVGV4dHVyZVBhbGV0dGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ1BUZXh0dXJlUGFsZXR0ZTtcbiIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5pbXBvcnQgQ1BQYWxldHRlIGZyb20gJy4vQ1BQYWxldHRlJztcbmltcG9ydCBDaGlja2VuUGFpbnQgZnJvbSAnLi4vQ2hpY2tlblBhaW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BUb29sUGFsZXR0ZShjcENvbnRyb2xsZXIpIHtcbiAgICBDUFBhbGV0dGUuY2FsbCh0aGlzLCBjcENvbnRyb2xsZXIsIFwidG9vbFwiLCBcIlRvb2xzXCIpO1xuICAgIFxuICAgIHZhciBcbiAgICAgICAgdGhhdCA9IHRoaXMsXG5cbiAgICAgICAgYnV0dG9ucyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY2hpY2tlbnBhaW50LXRvb2wtcmVjdC1zZWxlY3Rpb25cIixcbiAgICAgICAgICAgICAgICBjb21tYW5kOiBcIkNQUmVjdFNlbGVjdGlvblwiLFxuICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiTWFycXVlZVwiLFxuICAgICAgICAgICAgICAgIHNob3J0Y3V0OiBcIm1cIixcbiAgICAgICAgICAgICAgICBtb2RlOiBDaGlja2VuUGFpbnQuTV9SRUNUX1NFTEVDVElPTlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY2hpY2tlbnBhaW50LXRvb2wtbW92ZVwiLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFwiQ1BNb3ZlVG9vbFwiLFxuICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiTW92ZSB0b29sXCIsXG4gICAgICAgICAgICAgICAgc2hvcnRjdXQ6IFwidlwiLFxuICAgICAgICAgICAgICAgIG1vZGU6IENoaWNrZW5QYWludC5NX01PVkVfVE9PTFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY2hpY2tlbnBhaW50LXRvb2wtZmxvb2QtZmlsbFwiLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFwiQ1BGbG9vZEZpbGxcIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIkZsb29kIGZpbGxcIixcbiAgICAgICAgICAgICAgICBzaG9ydGN1dDogXCJmXCIsXG4gICAgICAgICAgICAgICAgbW9kZTogQ2hpY2tlblBhaW50Lk1fRkxPT0RGSUxMXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjaGlja2VucGFpbnQtdG9vbC1ncmFkaWVudC1maWxsXCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUEdyYWRpZW50RmlsbFwiLFxuICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiR3JhZGllbnQgZmlsbFwiLFxuICAgICAgICAgICAgICAgIHNob3J0Y3V0OiBcImdcIixcbiAgICAgICAgICAgICAgICBtb2RlOiBDaGlja2VuUGFpbnQuTV9HUkFESUVOVEZJTExcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNoaWNrZW5wYWludC10b29sLWNvbG9yLXBpY2tlclwiLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFwiQ1BDb2xvclBpY2tlclwiLFxuICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiQ29sb3IgcGlja2VyXCIsXG4gICAgICAgICAgICAgICAgc2hvcnRjdXQ6IFwiaVwiLFxuICAgICAgICAgICAgICAgIG1vZGU6IENoaWNrZW5QYWludC5NX0NPTE9SX1BJQ0tFUlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY2hpY2tlbnBhaW50LXRvb2wtcm90YXRlLWNhbnZhc1wiLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFwiQ1BSb3RhdGVDYW52YXNcIixcbiAgICAgICAgICAgICAgICBjb21tYW5kRG91YmxlQ2xpY2s6IFwiQ1BSZXNldENhbnZhc1JvdGF0aW9uXCIsXG4gICAgICAgICAgICAgICAgdG9vbFRpcDogXCJSb3RhdGUgY2FudmFzXCIsXG4gICAgICAgICAgICAgICAgbW9kZTogQ2hpY2tlblBhaW50Lk1fUk9UQVRFX0NBTlZBU1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY2hpY2tlbnBhaW50LXRvb2wtcGVuY2lsXCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUFBlbmNpbFwiLFxuICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiUGVuY2lsXCIsXG4gICAgICAgICAgICAgICAgbW9kZTogQ2hpY2tlblBhaW50Lk1fRFJBVyxcbiAgICAgICAgICAgICAgICB0b29sOiBDaGlja2VuUGFpbnQuVF9QRU5DSUxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNoaWNrZW5wYWludC10b29sLXBlblwiLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFwiQ1BQZW5cIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIlBlblwiLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB0cnVlLCAvLyBUT0RPIGEgYmV0dGVyIG1lY2hhbmlzbSBmb3IgdGhlIGNvbnRyb2xsZXIgdG8gbGV0IHVzIGtub3cgdGhlIGluaXRpYWwgdG9vbFxuICAgICAgICAgICAgICAgIG1vZGU6IENoaWNrZW5QYWludC5NX0RSQVcsXG4gICAgICAgICAgICAgICAgdG9vbDogQ2hpY2tlblBhaW50LlRfUEVOXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjaGlja2VucGFpbnQtdG9vbC1haXJicnVzaFwiLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFwiQ1BBaXJicnVzaFwiLFxuICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiQWlyYnJ1c2hcIixcbiAgICAgICAgICAgICAgICBtb2RlOiBDaGlja2VuUGFpbnQuTV9EUkFXLFxuICAgICAgICAgICAgICAgIHRvb2w6IENoaWNrZW5QYWludC5UX0FJUkJSVVNIXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjaGlja2VucGFpbnQtdG9vbC13YXRlclwiLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFwiQ1BXYXRlclwiLFxuICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiV2F0ZXJwYWludFwiLFxuICAgICAgICAgICAgICAgIG1vZGU6IENoaWNrZW5QYWludC5NX0RSQVcsXG4gICAgICAgICAgICAgICAgdG9vbDogQ2hpY2tlblBhaW50LlRfV0FURVJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNoaWNrZW5wYWludC10b29sLWVyYXNlclwiLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFwiQ1BFcmFzZXJcIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIkVyYXNlclwiLFxuICAgICAgICAgICAgICAgIHNob3J0Y3V0OiBcImVcIixcbiAgICAgICAgICAgICAgICBtb2RlOiBDaGlja2VuUGFpbnQuTV9EUkFXLFxuICAgICAgICAgICAgICAgIHRvb2w6IENoaWNrZW5QYWludC5UX0VSQVNFUlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY2hpY2tlbnBhaW50LXRvb2wtc29mdC1lcmFzZXJcIixcbiAgICAgICAgICAgICAgICBjb21tYW5kOiBcIkNQU29mdEVyYXNlclwiLFxuICAgICAgICAgICAgICAgIHRvb2xUaXA6IFwiU29mdCBlcmFzZXJcIixcbiAgICAgICAgICAgICAgICBtb2RlOiBDaGlja2VuUGFpbnQuTV9EUkFXLFxuICAgICAgICAgICAgICAgIHRvb2w6IENoaWNrZW5QYWludC5UX1NPRlRFUkFTRVJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNoaWNrZW5wYWludC10b29sLXNtdWRnZVwiLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFwiQ1BTbXVkZ2VcIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIlNtdWRnZVwiLFxuICAgICAgICAgICAgICAgIG1vZGU6IENoaWNrZW5QYWludC5NX0RSQVcsXG4gICAgICAgICAgICAgICAgdG9vbDogQ2hpY2tlblBhaW50LlRfU01VREdFXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjaGlja2VucGFpbnQtdG9vbC1ibGVuZGVyXCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUEJsZW5kZXJcIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIkJsZW5kZXJcIixcbiAgICAgICAgICAgICAgICBtb2RlOiBDaGlja2VuUGFpbnQuTV9EUkFXLFxuICAgICAgICAgICAgICAgIHRvb2w6IENoaWNrZW5QYWludC5UX0JMRU5ERVJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNoaWNrZW5wYWludC10b29sLWRvZGdlXCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUERvZGdlXCIsXG4gICAgICAgICAgICAgICAgdG9vbFRpcDogXCJEb2RnZVwiLFxuICAgICAgICAgICAgICAgIHNob3J0Y3V0OiBcIm9cIixcbiAgICAgICAgICAgICAgICBtb2RlOiBDaGlja2VuUGFpbnQuTV9EUkFXLFxuICAgICAgICAgICAgICAgIHRvb2w6IENoaWNrZW5QYWludC5UX0RPREdFXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjaGlja2VucGFpbnQtdG9vbC1idXJuXCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUEJ1cm5cIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIkJ1cm5cIixcbiAgICAgICAgICAgICAgICBzaG9ydGN1dDogXCJwXCIsXG4gICAgICAgICAgICAgICAgbW9kZTogQ2hpY2tlblBhaW50Lk1fRFJBVyxcbiAgICAgICAgICAgICAgICB0b29sOiBDaGlja2VuUGFpbnQuVF9CVVJOXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjaGlja2VucGFpbnQtdG9vbC1ibHVyXCIsXG4gICAgICAgICAgICAgICAgY29tbWFuZDogXCJDUEJsdXJcIixcbiAgICAgICAgICAgICAgICB0b29sVGlwOiBcIkJsdXJcIixcbiAgICAgICAgICAgICAgICBtb2RlOiBDaGlja2VuUGFpbnQuTV9EUkFXLFxuICAgICAgICAgICAgICAgIHRvb2w6IENoaWNrZW5QYWludC5UX0JMVVJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgbGlzdEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gICAgXG4gICAgZnVuY3Rpb24gYnV0dG9uQ2xpY2tlZChlKSB7XG4gICAgICAgIGlmICh0aGlzLm5vZGVOYW1lID09IFwiTElcIikge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgYnV0dG9uID0gYnV0dG9uc1twYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYnV0dG9uSW5kZXhcIiksIDEwKV07XG5cbiAgICAgICAgICAgIGNwQ29udHJvbGxlci5hY3Rpb25QZXJmb3JtZWQoe2FjdGlvbjogYnV0dG9uLmNvbW1hbmR9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1aWxkQnV0dG9ucygpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBib2R5ID0gdGhhdC5nZXRCb2R5RWxlbWVudCgpO1xuICAgICAgICBcbiAgICAgICAgbGlzdEVsZW0uY2xhc3NOYW1lID0gXCJjaGlja2VucGFpbnQtdG9vbHMgbGlzdC11bnN0eWxlZFwiO1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaSBpbiBidXR0b25zKSB7XG4gICAgICAgICAgICAoZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uID0gYnV0dG9uc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBidXR0b25FbGVtLmNsYXNzTmFtZSA9IFwiY2hpY2tlbnBhaW50LXRvb2xiYXItYnV0dG9uIFwiICsgYnV0dG9uLmNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICBidXR0b25FbGVtLnNldEF0dHJpYnV0ZShcImRhdGEtYnV0dG9uSW5kZXhcIiwgaSk7XG5cbiAgICAgICAgICAgICAgICBidXR0b25FbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1tb2RlJywgYnV0dG9uLm1vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChidXR0b24udG9vbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLXRvb2wnLCBidXR0b24udG9vbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJ1dHRvbkVsZW0udGl0bGUgPSBidXR0b24udG9vbFRpcDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLnNob3J0Y3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkVsZW0udGl0bGUgKz0gXCIgKFwiICsgYnV0dG9uLnNob3J0Y3V0LnRvVXBwZXJDYXNlKCkgKyBcIilcIjtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGtleShidXR0b24uc2hvcnRjdXQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2xpY2tlZC5jYWxsKGJ1dHRvbkVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbkVsZW0uY2xhc3NOYW1lID0gYnV0dG9uRWxlbS5jbGFzc05hbWUgKyBcIiBzZWxlY3RlZFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsaXN0RWxlbS5hcHBlbmRDaGlsZChidXR0b25FbGVtKTtcbiAgICAgICAgICAgIH0pKGkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAkKGxpc3RFbGVtKS5vbihcImNsaWNrXCIsIFwibGlcIiwgYnV0dG9uQ2xpY2tlZCk7XG4gICAgICAgIFxuICAgICAgICBsaXN0RWxlbS5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubm9kZU5hbWUgPT0gXCJMSVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbiA9IGJ1dHRvbnNbcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJ1dHRvbkluZGV4XCIpLCAxMCldO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChidXR0b24uY29tbWFuZERvdWJsZUNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNwQ29udHJvbGxlci5hY3Rpb25QZXJmb3JtZWQoe2FjdGlvbjogYnV0dG9uLmNvbW1hbmREb3VibGVDbGlja30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBib2R5LmFwcGVuZENoaWxkKGxpc3RFbGVtKTtcbiAgICB9XG5cbiAgICBjcENvbnRyb2xsZXIub24oXCJtb2RlQ2hhbmdlXCIsIGZ1bmN0aW9uKG5ld01vZGUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgICBib2R5ID0gdGhhdC5nZXRCb2R5RWxlbWVudCgpO1xuXG4gICAgICAgICQoXCJsaVwiLCBib2R5KS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKG5ld01vZGUgPT0gQ2hpY2tlblBhaW50Lk1fRFJBVykge1xuICAgICAgICAgICAgJChcImxpW2RhdGEtdG9vbD1cIiArIGNwQ29udHJvbGxlci5nZXRDdXJUb29sKCkgKyBcIl1cIiwgYm9keSkuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoXCJsaVtkYXRhLW1vZGU9XCIgKyBuZXdNb2RlICsgXCJdXCIsIGJvZHkpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNwQ29udHJvbGxlci5vbihcInRvb2xDaGFuZ2VcIiwgZnVuY3Rpb24obmV3VG9vbCkge1xuICAgICAgICB2YXJcbiAgICAgICAgICAgIGJvZHkgPSB0aGF0LmdldEJvZHlFbGVtZW50KCk7XG5cbiAgICAgICAgaWYgKGNwQ29udHJvbGxlci5nZXRDdXJNb2RlKCkgPT0gQ2hpY2tlblBhaW50Lk1fRFJBVykge1xuICAgICAgICAgICAgJChcImxpXCIsIGJvZHkpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XG5cbiAgICAgICAgICAgICQoXCJsaVtkYXRhLXRvb2w9XCIgKyBuZXdUb29sICsgXCJdXCIsIGJvZHkpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBidWlsZEJ1dHRvbnMoKTtcbn1cblxuQ1BUb29sUGFsZXR0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENQUGFsZXR0ZS5wcm90b3R5cGUpO1xuQ1BUb29sUGFsZXR0ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDUFRvb2xQYWxldHRlO1xuIiwiLyogXG4gKiBCeSBOaWNob2xhcyBTaGVybG9jayA8bi5zaGVybG9ja0BnbWFpbC5jb20+XG4gKiBcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBXVEZQTHYyIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dURlBMXG4gKi9cblxuaW1wb3J0IEFycmF5RGF0YVN0cmVhbSBmcm9tIFwiLi9BcnJheURhdGFTdHJlYW1cIjtcblxudmFyIFxuICAgIEFDT19DT0xPUlNQQUNFX1JHQiA9IDAsXG4gICAgQUNPX0NPTE9SU1BBQ0VfSFNCID0gMSxcbiAgICBBQ09fQ09MT1JTUEFDRV9DTVlLID0gMixcbiAgICBBQ09fQ09MT1JTUEFDRV9MQUIgPSA3LFxuICAgIEFDT19DT0xPUlNQQUNFX0dSQVlTQ0FMRSA9IDg7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkb2JlQ29sb3JUYWJsZSgpIHtcbn1cblxuLyoqXG4gKiBSZWFkIGFuIC5hY28gKEFkb2JlIENPbG9yKSBzd2F0Y2hlcyBmaWxlIGFuZCByZXR1cm4gYW4gYXJyYXkgb2YgUkdCIGNvbG9ycy5cbiAqIFxuICogU3VwcG9ydHMgdmVyc2lvbiAxIHBhbGV0dGVzLCBvbmx5IFJHQiBmb3JtYXQuXG4gKiBcbiAqIEBwYXJhbSBpbnB1dCBBIFVpbnQ4QXJyYXkgb2YgdGhlIC5hY28gZmlsZSBjb250ZW50c1xuICogQHJldHVybiBBbiBhcnJheSBvZiBjb2xvdXJzLCBvciBudWxsIGlmIHRoZSBmaWxlIHdhcyBub3Qgc3VwcG9ydGVkLlxuICovXG5BZG9iZUNvbG9yVGFibGUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbihpbnB1dCkge1xuICAgIGlmIChpbnB1dCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICB2YXJcbiAgICAgICAgc3RyZWFtID0gbmV3IEFycmF5RGF0YVN0cmVhbShuZXcgVWludDhBcnJheShpbnB1dCkpLFxuICAgICAgICB2ZXJzaW9uLCBjb3VudCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB2ZXJzaW9uID0gc3RyZWFtLnJlYWRVMTZCRSgpO1xuICAgIGlmICh2ZXJzaW9uICE9IDEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvdW50ID0gc3RyZWFtLnJlYWRVMTZCRSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgY29sb3Vyc3BhY2UgPSBzdHJlYW0ucmVhZFUxNkJFKCk7XG5cbiAgICAgICAgaWYgKGNvbG91cnNwYWNlICE9IEFDT19DT0xPUlNQQUNFX1JHQikge1xuICAgICAgICAgICAgY29udGludWU7IC8vIERyb3AgdW5zdXBwb3J0ZWQgY29sb3VycyBzaWxlbnRseVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2NhbGUgYmFjayBkb3duIGZyb20gMTYtYml0IHRvIDgtYml0XG4gICAgICAgIHZhclxuICAgICAgICAgICAgciA9IChzdHJlYW0ucmVhZFUxNkJFKCkgKiAyNTUpIC8gNjU1MzUsXG4gICAgICAgICAgICBnID0gKHN0cmVhbS5yZWFkVTE2QkUoKSAqIDI1NSkgLyA2NTUzNSxcbiAgICAgICAgICAgIGIgPSAoc3RyZWFtLnJlYWRVMTZCRSgpICogMjU1KSAvIDY1NTM1O1xuICAgICAgICBcbiAgICAgICAgc3RyZWFtLnJlYWRVMTZCRSgpOyAvLyB0aGlyZCB2YWx1ZSB1bnVzZWRcblxuICAgICAgICByZXN1bHQucHVzaChyIDw8IDE2IHwgZyA8PCA4IHwgYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogV3JpdGUgYW4gLmFjbyAoQWRvYmUgQ09sb3IpIHN3YXRjaGVzIGZpbGUgb2YgdGhlIGdpdmVuIGFycmF5IG9mIFJHQiBjb2xvdXJzIChjb2xvcnMgYXJlIGludGVnZXJzIHdpdGggdGhlXG4gKiBibHVlIGNoYW5uZWwgaW4gdGhlIGxlYXN0LXNpZ25pZmljYW50IHBvc2l0aW9uKS5cbiAqL1xuQWRvYmVDb2xvclRhYmxlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKGNvbG91cnMpIHtcbiAgICB2YXJcbiAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMiAqIDIgKyBjb2xvdXJzLmxlbmd0aCAqIDEwKSxcbiAgICAgICAgc3RyZWFtID0gbmV3IEFycmF5RGF0YVN0cmVhbShidWZmZXIpO1xuICAgIFxuICAgIHN0cmVhbS53cml0ZVUxNkJFKDEpOyAvLyBWZXJzaW9uIDFcbiAgICBzdHJlYW0ud3JpdGVVMTZCRShjb2xvdXJzLmxlbmd0aCk7IC8vIE51bWJlciBvZiBjb2xvdXJzXG4gICAgXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvdXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgY29sb3VyID0gY29sb3Vyc1tpXTtcbiAgICAgICAgXG4gICAgICAgIHN0cmVhbS53cml0ZVUxNkJFKEFDT19DT0xPUlNQQUNFX1JHQik7XG5cbiAgICAgICAgLy8gU2NhbGUgdXAgY29sb3VycyB0byAxNi1iaXRzICg2NTUzNS8yNTUgPSAyNTcpXG4gICAgICAgIHN0cmVhbS53cml0ZVUxNkJFKCgoY29sb3VyID4+IDE2KSAmIDB4RkYpICogMjU3KTtcbiAgICAgICAgc3RyZWFtLndyaXRlVTE2QkUoKChjb2xvdXIgPj4gOCkgJiAweEZGKSAqIDI1Nyk7XG4gICAgICAgIHN0cmVhbS53cml0ZVUxNkJFKChjb2xvdXIgJiAweEZGKSAqIDI1Nyk7XG4gICAgICAgIHN0cmVhbS53cml0ZVUxNkJFKDApO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gc3RyZWFtLmdldEFzRGF0YUFycmF5KCk7XG59O1xuIiwiLyoqXG4gKiBBIHRvb2wgZm9yIHByZXNlbnRpbmcgYSBVaW50OEFycmF5IGFzIGEgc3RyZWFtIGZvciByZWFkaW5nIGFuZCB3cml0aW5nIHNvbWUgc2ltcGxlIGRhdGEgdHlwZXMuXG4gKiBcbiAqIEJ5IE5pY2hvbGFzIFNoZXJsb2NrIDxuLnNoZXJsb2NrQGdtYWlsLmNvbT4gMjAxNiwgcmVsZWFzZWQgdW5kZXIgdGhlIFdURlBMIGxpY2Vuc2UuXG4gKi9cblxudmFyIEVPRiA9IC0xO1xuXG5mdW5jdGlvbiBzaWduRXh0ZW5kMTZCaXQod29yZCkge1xuICAgIC8vSWYgc2lnbiBiaXQgaXMgc2V0LCBmaWxsIHRoZSB0b3AgYml0cyB3aXRoIDFzIHRvIHNpZ24tZXh0ZW5kXG4gICAgcmV0dXJuICh3b3JkICYgMHg4MDAwKSA/ICh3b3JkIHwgMHhGRkZGMDAwMCkgOiB3b3JkO1xufVxuXG5mdW5jdGlvbiBzaWduRXh0ZW5kOEJpdChieXRlKSB7XG4gICAgLy9JZiBzaWduIGJpdCBpcyBzZXQsIGZpbGwgdGhlIHRvcCBiaXRzIHdpdGggMXMgdG8gc2lnbi1leHRlbmRcbiAgICByZXR1cm4gKGJ5dGUgJiAweDgwKSA/IChieXRlIHwgMHhGRkZGRkYwMCkgOiBieXRlO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHN0cmVhbSBvbiBleGlzdGluZyBhcnJheSBvZiB1bnNpZ25lZCBieXRlIGRhdGEgKGkuZS4gaG9wZWZ1bGx5IFVpbnQ4QXJyYXkpLlxuICogXG4gKiBAcGFyYW0gZGF0YSBVaW50OEFycmF5IHRvIHN0cmVhbSBkYXRhIGZyb21cbiAqIEBwYXJhbSBzdGFydCBUaGUgaW5kZXggb2YgdGhlIGJ5dGUgaW4gdGhlIGFycmF5IHRoYXQgd2lsbCBiZSByZWFkIGZpcnN0LCBvciBsZWF2ZSB1bmRlZmluZWQgdG8gYmVnaW4gYXQgdGhlXG4gKiAgICAgICAgICAgICAgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIGVuZCBUaGUgaW5kZXggb2YgdGhlIGVuZCBvZiB0aGUgc3RyZWFtLCBvciBsZWF2ZSB1bmRlZmluZWQgdG8gdXNlIHRoZSBlbmQgb2YgdGhlIGFycmF5IGFzIHRoZSBlbmQgb2ZcbiAqICAgICAgICAgICAgdGhlIHN0cmVhbS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXJyYXlEYXRhU3RyZWFtKGRhdGEsIHN0YXJ0LCBlbmQpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuZW9mID0gZmFsc2U7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0ID09PSB1bmRlZmluZWQgPyAwIDogc3RhcnQ7XG4gICAgdGhpcy5lbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGRhdGEubGVuZ3RoIDogZW5kO1xuICAgIHRoaXMucG9zID0gdGhpcy5zdGFydDtcbn07XG5cbi8qKlxuICogUmVhZCBhIHNpbmdsZSBieXRlIGZyb20gdGhlIHN0cmVhbSBhbmQgdHVybiBpdCBpbnRvIGEgSmF2YVNjcmlwdCBzdHJpbmcgKGFzc3VtaW5nIEFTQ0lJKS5cbiAqIFxuICogQHJldHVybnMgU3RyaW5nIGNvbnRhaW5pbmcgb25lIGNoYXJhY3Rlciwgb3IgRU9GIGlmIHRoZSBlbmQgb2YgZmlsZSB3YXMgcmVhY2hlZCAoZW9mIGZsYWdcbiAqIGlzIHNldCkuXG4gKi9cbkFycmF5RGF0YVN0cmVhbS5wcm90b3R5cGUucmVhZENoYXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5wb3MgPCB0aGlzLmVuZCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmRhdGFbdGhpcy5wb3MrK10pO1xuICAgIH1cblxuICAgIHRoaXMuZW9mID0gdHJ1ZTtcbiAgICByZXR1cm4gRU9GO1xufTtcblxuLyoqXG4gKiBSZWFkIG9uZSB1bnNpZ25lZCBieXRlIGZyb20gdGhlIHN0cmVhbVxuICogXG4gKiBAcmV0dXJucyBVbnNpZ25lZCBieXRlLCBvciBFT0YgaWYgdGhlIGVuZCBvZiBmaWxlIHdhcyByZWFjaGVkIChlb2YgZmxhZyBpcyBzZXQpLlxuICovXG5BcnJheURhdGFTdHJlYW0ucHJvdG90eXBlLnJlYWRCeXRlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMucG9zIDwgdGhpcy5lbmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVt0aGlzLnBvcysrXTtcbiAgICB9XG5cbiAgICB0aGlzLmVvZiA9IHRydWU7XG4gICAgcmV0dXJuIEVPRjtcbn07XG5cbi8vU3lub255bTpcbkFycmF5RGF0YVN0cmVhbS5wcm90b3R5cGUucmVhZFU4ID0gQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkQnl0ZTtcblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkUzggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2lnbkV4dGVuZDhCaXQodGhpcy5yZWFkQnl0ZSgpKTtcbn07XG5cbkFycmF5RGF0YVN0cmVhbS5wcm90b3R5cGUudW5yZWFkQ2hhciA9IGZ1bmN0aW9uKGMpIHtcbiAgICB0aGlzLnBvcy0tO1xufTtcbiAgICBcbkFycmF5RGF0YVN0cmVhbS5wcm90b3R5cGUucGVla0NoYXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5wb3MgPCB0aGlzLmVuZCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmRhdGFbdGhpcy5wb3NdKTtcbiAgICB9XG5cbiAgICB0aGlzLmVvZiA9IHRydWU7XG4gICAgcmV0dXJuIEVPRjtcbn07XG5cbkFycmF5RGF0YVN0cmVhbS5wcm90b3R5cGUucmVhZFN0cmluZyA9IGZ1bmN0aW9uKGxlbmd0aCkge1xuICAgIHZhciBcbiAgICAgICAgY2hhcnMgPSBuZXcgQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgaTtcbiAgICBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hhcnNbaV0gPSB0aGlzLnJlYWRDaGFyKCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjaGFycy5qb2luKFwiXCIpO1xufTtcblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkUzE2ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIFxuICAgICAgICBiMSA9IHRoaXMucmVhZEJ5dGUoKSxcbiAgICAgICAgYjIgPSB0aGlzLnJlYWRCeXRlKCk7XG4gICAgXG4gICAgcmV0dXJuIHNpZ25FeHRlbmQxNkJpdCgoYjEgPDwgOCkgfCBiMik7IFxufTtcblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkVTE2QkUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgXG4gICAgICAgIGIxID0gdGhpcy5yZWFkQnl0ZSgpLFxuICAgICAgICBiMiA9IHRoaXMucmVhZEJ5dGUoKTtcbiAgICBcbiAgICByZXR1cm4gKGIxIDw8IDgpIHwgYjI7IFxufTtcblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkVTE2TEUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgXG4gICAgICAgIGIxID0gdGhpcy5yZWFkQnl0ZSgpLFxuICAgICAgICBiMiA9IHRoaXMucmVhZEJ5dGUoKTtcbiAgICBcbiAgICByZXR1cm4gKGIyIDw8IDgpIHwgYjE7IFxufTtcblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkVTMyQkUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgXG4gICAgICAgIGIxID0gdGhpcy5yZWFkQnl0ZSgpLFxuICAgICAgICBiMiA9IHRoaXMucmVhZEJ5dGUoKSxcbiAgICAgICAgYjMgPSB0aGlzLnJlYWRCeXRlKCksXG4gICAgICAgIGI0ID0gdGhpcy5yZWFkQnl0ZSgpO1xuICAgIHJldHVybiAoKGIxIDw8IDI0KSB8IChiMiA8PCAxNikgfCAoYjMgPDwgOCkgfCBiNCkgPj4+IDA7IFxufTtcblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkVTMyTEUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgXG4gICAgICAgIGIxID0gdGhpcy5yZWFkQnl0ZSgpLFxuICAgICAgICBiMiA9IHRoaXMucmVhZEJ5dGUoKSxcbiAgICAgICAgYjMgPSB0aGlzLnJlYWRCeXRlKCksXG4gICAgICAgIGI0ID0gdGhpcy5yZWFkQnl0ZSgpO1xuICAgIHJldHVybiAoKGI0IDw8IDI0KSB8IChiMyA8PCAxNikgfCAoYjIgPDwgOCkgfCBiMSkgPj4+IDA7IFxufTtcblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5yZWFkQnl0ZXMgPSBmdW5jdGlvbihjb3VudCkge1xuICAgIHZhclxuICAgICAgICByZXN1bHQgPSB0aGlzLmRhdGEuc3ViYXJyYXkodGhpcy5wb3MsIHRoaXMucG9zICsgY291bnQpO1xuICAgIFxuICAgIHRoaXMucG9zICs9IGNvdW50O1xuICAgIFxuICAgIGlmICh0aGlzLnBvcyA+IHRoaXMuZW5kKSB7XG4gICAgICAgIHRoaXMuZW9mID0gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5za2lwID0gZnVuY3Rpb24obnVtQnl0ZXMpIHtcbiAgICB0aGlzLnBvcyArPSBudW1CeXRlcztcbiAgICBcbiAgICBpZiAodGhpcy5wb3MgPiB0aGlzLmVuZCkge1xuICAgICAgICB0aGlzLmVvZiA9IHRydWU7XG4gICAgfVxufTtcblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5zZWVrID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgdGhpcy5wb3MgPSBvZmZzZXQ7XG59O1xuXG5BcnJheURhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlQnl0ZXMgPSBmdW5jdGlvbihhcnIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmRhdGFbdGhpcy5wb3MrK10gPSBhcnJbaV07XG4gICAgfVxufTtcblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZUJ5dGUgPSBmdW5jdGlvbihiKSB7XG4gICAgdGhpcy5kYXRhW3RoaXMucG9zKytdID0gYjtcbn07XG5cbi8vU3lub255bTpcbkFycmF5RGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVVOCA9IEFycmF5RGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVCeXRlO1xuXG5BcnJheURhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlVTE2TEUgPSBmdW5jdGlvbih1KSB7XG4gICAgdGhpcy5kYXRhW3RoaXMucG9zKytdID0gdTtcbiAgICB0aGlzLmRhdGFbdGhpcy5wb3MrK10gPSB1ID4+IDg7XG59O1xuXG5BcnJheURhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlVTE2QkUgPSBmdW5jdGlvbih1KSB7XG4gICAgdGhpcy5kYXRhW3RoaXMucG9zKytdID0gdSA+PiA4O1xuICAgIHRoaXMuZGF0YVt0aGlzLnBvcysrXSA9IHU7XG59O1xuXG5BcnJheURhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlVTMyQkUgPSBmdW5jdGlvbih1KSB7XG4gICAgdGhpcy5kYXRhW3RoaXMucG9zKytdID0gdSA+PiAyNDtcbiAgICB0aGlzLmRhdGFbdGhpcy5wb3MrK10gPSB1ID4+IDE2O1xuICAgIHRoaXMuZGF0YVt0aGlzLnBvcysrXSA9IHUgPj4gODtcbiAgICB0aGlzLmRhdGFbdGhpcy5wb3MrK10gPSB1O1xufTtcblxuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZVUzMkxFID0gZnVuY3Rpb24odSkge1xuICAgIHRoaXMuZGF0YVt0aGlzLnBvcysrXSA9IHU7XG4gICAgdGhpcy5kYXRhW3RoaXMucG9zKytdID0gdSA+PiA4O1xuICAgIHRoaXMuZGF0YVt0aGlzLnBvcysrXSA9IHUgPj4gMTY7XG4gICAgdGhpcy5kYXRhW3RoaXMucG9zKytdID0gdSA+PiAyNDtcbn07XG5cbkFycmF5RGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uKGQpIHtcbiAgICB2YXIgXG4gICAgICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobmV3IEZsb2F0NjRBcnJheShbZF0pLmJ1ZmZlcik7XG4gICAgXG4gICAgZm9yICh2YXIgaSA9IGJ5dGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHRoaXMud3JpdGVCeXRlKGJ5dGVzW2ldKTtcbiAgICB9XG59O1xuXG5BcnJheURhdGFTdHJlYW0ucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uKGQpIHtcbiAgICB2YXIgXG4gICAgICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobmV3IEZsb2F0MzJBcnJheShbZF0pLmJ1ZmZlcik7XG4gICAgXG4gICAgZm9yICh2YXIgaSA9IGJ5dGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHRoaXMud3JpdGVCeXRlKGJ5dGVzW2ldKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFdyaXRlIGFuIEFTQ0lJIHN0cmluZyB0byB0aGUgc3RyZWFtXG4gKi9cbkFycmF5RGF0YVN0cmVhbS5wcm90b3R5cGUud3JpdGVTdHJpbmcgPSBmdW5jdGlvbihzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZGF0YVt0aGlzLnBvcysrXSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFdyaXRlIHRoZSBnaXZlbiB1bnNpZ25lZCAzMi1iaXQgaW50ZWdlciB0byB0aGUgc3RyZWFtIGluIGJpZy1lbmRpYW4gb3JkZXIgdXNpbmcgdGhlIGdpdmVuIGJ5dGUgd2lkdGguXG4gKiBObyBlcnJvciBjaGVja2luZyBpcyBwZXJmb3JtZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHN1cHBsaWVkIHdpZHRoIGlzIGNvcnJlY3QgZm9yIHRoZSBpbnRlZ2VyLlxuICogXG4gKiBPbWl0IHRoZSB3aWR0aCBwYXJhbWV0ZXIgdG8gaGF2ZSBpdCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkgZm9yIHlvdS5cbiAqIFxuICogQHBhcmFtIHUgVW5zaWduZWQgaW50ZWdlciB0byBiZSB3cml0dGVuXG4gKiBAcGFyYW0gd2lkdGggTnVtYmVyIG9mIGJ5dGVzIHRvIHdyaXRlIHRvIHRoZSBzdHJlYW1cbiAqL1xuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS53cml0ZVVuc2lnbmVkSW50QkUgPSBmdW5jdGlvbih1LCB3aWR0aCkge1xuICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHdpZHRoID0gdGhpcy5tZWFzdXJlVW5zaWduZWRJbnQodSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEVhY2ggY2FzZSBmYWxscyB0aHJvdWdoOlxuICAgIHN3aXRjaCAod2lkdGgpIHtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KE1hdGguZmxvb3IodSAvIDQyOTQ5NjcyOTYpKTsgLy8gTmVlZCB0byB1c2UgZGl2aXNpb24gdG8gYWNjZXNzID4zMiBiaXRzIG9mIGZsb2F0aW5nIHBvaW50IHZhclxuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICB0aGlzLndyaXRlVTgodSA+PiAyNCk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCh1ID4+IDE2KTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgdGhpcy53cml0ZVU4KHUgPj4gOCk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRoaXMud3JpdGVVOCh1KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbihcIkJhZCBVSU5UIHNpemUgXCIgKyB3aWR0aCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIG51bWJlciBvZiBieXRlcyBuZWVkZWQgdG8gaG9sZCB0aGUgbm9uLXplcm8gYml0cyBvZiB0aGUgZ2l2ZW4gdW5zaWduZWQgaW50ZWdlci5cbiAqL1xuQXJyYXlEYXRhU3RyZWFtLnByb3RvdHlwZS5tZWFzdXJlVW5zaWduZWRJbnQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAvLyBGb3JjZSB0byAzMi1iaXQgdW5zaWduZWQgaW50ZWdlclxuICAgIGlmICh2YWwgPCAoMSA8PCA4KSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKHZhbCA8ICgxIDw8IDE2KSkge1xuICAgICAgICByZXR1cm4gMjtcbiAgICB9IGVsc2UgaWYgKHZhbCA8ICgxIDw8IDI0KSkge1xuICAgICAgICByZXR1cm4gMztcbiAgICB9IGVsc2UgaWYgKHZhbCA8IDQyOTQ5NjcyOTYpIHtcbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDU7XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm4gYSB2aWV3IG9uIHRoZSBwb3J0aW9uIG9mIHRoZSBidWZmZXIgZnJvbSB0aGUgYmVnaW5uaW5nIHRvIHRoZSBjdXJyZW50IHNlZWsgcG9zaXRpb24gYXMgYSBVaW50OEFycmF5LlxuICovXG5BcnJheURhdGFTdHJlYW0ucHJvdG90eXBlLmdldEFzRGF0YUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMucG9zIDwgdGhpcy5kYXRhLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zdWJhcnJheSgwLCB0aGlzLnBvcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnBvcyA9PSB0aGlzLmRhdGEuYnl0ZUxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IFwiQXJyYXlEYXRhU3RyZWFtJ3MgcG9zIGxpZXMgYmV5b25kIGVuZCBvZiBidWZmZXJcIjsgXG4gICAgICAgIC8vIENoYW5jZSBpcyBwcmV0dHkgZ29vZCB0aGF0IHlvdSBvdmVyZmxvd2VkIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlciBkdXJpbmcgd3JpdGluZyBhbmQgeW91ciBmaWxlIGlzIHRyYXNoIFxuICAgIH1cbn07XG5cbkFycmF5RGF0YVN0cmVhbS5wcm90b3R5cGUuRU9GID0gRU9GOyIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUEJlemllcigpIHtcblxuICAgIC8vIEhvdyB0byB1c2UgdGhpcyBjbGFzczpcbiAgICAvL1xuICAgIC8vIDEgLSBzZXQgdGhlIDQgcG9pbnRzIGNvb3JkaW5hdGVzICh4MC0zLCB5MC0zKVxuICAgIC8vIHR3byBvcHRpb25zOlxuICAgIC8vIDJhIC0gY2FsbCBpbml0KCkgd2l0aCBkZXNpcmVkIGR0IHRoZW4gcmVhZCB0aGUgY3VycmVudCBjb29yZGluYXRlIChCeCwgQnkpIGFuZCB1c2UgbmV4dFBvaW50KCkgdG8gY29tcHV0ZSB0aGVcbiAgICAvLyBuZXh0IHBvaW50XG4gICAgLy8gMmIgLSB1c2Ugb25lIG9mIHRoZSBcImNvbXB1dGVcIiBtZXRob2RzIHRvIGNvbXB1dGUgdGhlIHZhbHVlcyBmb3IgdGhlIHdob2xlIGN1cnZlIGluIG9uZSBzdGVwXG5cbiAgICAvLyBUaGUgNCBwb2ludHMgY29vcmRpbmF0ZXNcbiAgICB0aGlzLngwID0gdGhpcy55MCA9IHRoaXMueDEgPSB0aGlzLnkxID0gdGhpcy54MiA9IHRoaXMueTIgPSB0aGlzLngzID0gdGhpcy55MyA9IDAuMDtcblxuICAgIC8vIHVzZWQgdG8gY29tcHV0ZSB0aGUgQmV6aWVyIGN1cnZlIHdpdGggdGhlIGZvcndhcmQgZGlmZmVyZW5jZXMgbWV0aG9kXG4gICAgdmFyXG4gICAgICAgIEJ4LCBkQngsIGRkQngsIGRkZEJ4LFxuICAgICAgICBCeSwgZEJ5LCBkZEJ5LCBkZGRCeSxcbiAgICAgICAgXG4gICAgICAgIHRoYXQgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gaW5pdChkdCkge1xuICAgICAgICAvLyBJbXBsZW1lbnRzIGEgZmFzdCBkZWdyZWUtMyBCZXppZXIgY3VydmUgdXNpbmcgdGhlIGZvcndhcmQgZGlmZmVyZW5jZXMgbWV0aG9kXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFJlZmVyZW5jZSBmb3IgdGhpcyBhbGdvcml0aG06XG4gICAgICAgIC8vIFwiQ3VydmVzIGFuZCBTdXJmYWNlcyBmb3IgQ29tcHV0ZXIgR3JhcGhpY3NcIiBieSBEYXZpZCBTYWxvbW9uLCBwYWdlIDE4OVxuXG4gICAgICAgIHZhclxuICAgICAgICAgICAgcTEgPSAzLjAgKiBkdCxcbiAgICAgICAgICAgIHEyID0gcTEgKiBkdCxcbiAgICAgICAgICAgIHEzID0gZHQgKiBkdCAqIGR0LFxuICAgICAgICAgICAgcTQgPSAyLjAgKiBxMixcbiAgICAgICAgICAgIHE1ID0gNi4wICogcTMsXG4gICAgICAgICAgICBxNnggPSB0aGF0LngwIC0gMi4wICogdGhhdC54MSArIHRoYXQueDIsXG4gICAgICAgICAgICBxNnkgPSB0aGF0LnkwIC0gMi4wICogdGhhdC55MSArIHRoYXQueTIsXG4gICAgICAgICAgICBxN3ggPSAzLjAgKiAodGhhdC54MSAtIHRoYXQueDIpIC0gdGhhdC54MCArIHRoYXQueDMsXG4gICAgICAgICAgICBxN3kgPSAzLjAgKiAodGhhdC55MSAtIHRoYXQueTIpIC0gdGhhdC55MCArIHRoYXQueTM7XG5cbiAgICAgICAgQnggPSB0aGF0LngwO1xuICAgICAgICBCeSA9IHRoYXQueTA7XG5cbiAgICAgICAgZEJ4ID0gKHRoYXQueDEgLSB0aGF0LngwKSAqIHExICsgcTZ4ICogcTIgKyBxN3ggKiBxMztcbiAgICAgICAgZEJ5ID0gKHRoYXQueTEgLSB0aGF0LnkwKSAqIHExICsgcTZ5ICogcTIgKyBxN3kgKiBxMztcblxuICAgICAgICBkZEJ4ID0gcTZ4ICogcTQgKyBxN3ggKiBxNTtcbiAgICAgICAgZGRCeSA9IHE2eSAqIHE0ICsgcTd5ICogcTU7XG5cbiAgICAgICAgZGRkQnggPSBxN3ggKiBxNTtcbiAgICAgICAgZGRkQnkgPSBxN3kgKiBxNTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWxsIHRoZSBnaXZlbiB4LHkgYXJyYXlzIHdpdGggYSBzZXJpZXMgb2YgcG9pbnRzIG9uIHRoZSBjdXJ2ZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geCBpbnRbXVxuICAgICAqIEBwYXJhbSB5IGludFtdXG4gICAgICogQHBhcmFtIGVsZW1lbnRzIGludCBDb3VudCBvZiBlbGVtZW50cyB0byBmaWxsIHggYW5kIHkgYXJyYXlzXG4gICAgICovXG4gICAgdGhpcy5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgZWxlbWVudHMpIHtcbiAgICAgICAgaW5pdCgxLjAgLyBlbGVtZW50cyk7XG5cbiAgICAgICAgeFswXSA9IH5+Qng7XG4gICAgICAgIHlbMF0gPSB+fkJ5O1xuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBlbGVtZW50czsgaSsrKSB7XG4gICAgICAgICAgICBCeCArPSBkQng7XG4gICAgICAgICAgICBCeSArPSBkQnk7XG4gICAgICAgICAgICBkQnggKz0gZGRCeDtcbiAgICAgICAgICAgIGRCeSArPSBkZEJ5O1xuICAgICAgICAgICAgZGRCeCArPSBkZGRCeDtcbiAgICAgICAgICAgIGRkQnkgKz0gZGRkQnk7XG5cbiAgICAgICAgICAgIHhbaV0gPSB+fkJ4O1xuICAgICAgICAgICAgeVtpXSA9IH5+Qnk7XG4gICAgICAgIH1cbiAgICB9O1xufSIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUENvbG9yKHJnYikge1xuICAgIHZhclxuICAgICAgICB0aGF0ID0gdGhpcztcbiAgICBcbiAgICB0aGlzLnJnYiA9IDA7IC8vIGluIFJHQiBieXRlIG9yZGVyXG4gICAgXG4gICAgdGhpcy5odWUgPSAwO1xuICAgIHRoaXMuc2F0dXJhdGlvbiA9IDA7XG4gICAgdGhpcy52YWx1ZSA9IDA7XG4gICAgXG4gICAgZnVuY3Rpb24gcmdiVG9Ic3YoKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgciA9ICh0aGF0LnJnYiA+PiAxNikgJiAweGZmLFxuICAgICAgICAgICAgZyA9ICh0aGF0LnJnYiA+PiA4KSAmIDB4ZmYsXG4gICAgICAgICAgICBiID0gdGhhdC5yZ2IgJiAweGZmO1xuXG4gICAgICAgIC8vIFZhbHVlXG4gICAgICAgIHRoYXQudmFsdWUgPSBNYXRoLm1heChyLCBNYXRoLm1heChnLCBiKSk7XG5cbiAgICAgICAgLy8gU2F0dXJhdGlvblxuICAgICAgICB2YXIgXG4gICAgICAgICAgICBtaW5pID0gTWF0aC5taW4ociwgTWF0aC5taW4oZywgYikpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoYXQudmFsdWUgPT0gMCkge1xuICAgICAgICAgICAgdGhhdC5zYXR1cmF0aW9uID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoYXQuc2F0dXJhdGlvbiA9IH5+KCh0aGF0LnZhbHVlIC0gbWluaSkgLyB0aGF0LnZhbHVlICogMjU1KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEh1ZVxuICAgICAgICBpZiAodGhhdC5zYXR1cmF0aW9uID09IDApIHtcbiAgICAgICAgICAgIHRoYXQuaHVlID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICBjciA9ICh0aGF0LnZhbHVlIC0gcikgLyAodGhhdC52YWx1ZSAtIG1pbmkpLFxuICAgICAgICAgICAgICAgIGNnID0gKHRoYXQudmFsdWUgLSBnKSAvICh0aGF0LnZhbHVlIC0gbWluaSksXG4gICAgICAgICAgICAgICAgY2IgPSAodGhhdC52YWx1ZSAtIGIpIC8gKHRoYXQudmFsdWUgLSBtaW5pKTtcblxuICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgIF9odWUgPSAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhhdC52YWx1ZSA9PSByKSB7XG4gICAgICAgICAgICAgICAgX2h1ZSA9IGNiIC0gY2c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhhdC52YWx1ZSA9PSBnKSB7XG4gICAgICAgICAgICAgICAgX2h1ZSA9IDIgKyBjciAtIGNiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoYXQudmFsdWUgPT0gYikge1xuICAgICAgICAgICAgICAgIF9odWUgPSA0ICsgY2cgLSBjcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2h1ZSAqPSA2MDtcbiAgICAgICAgICAgIGlmIChfaHVlIDwgMCkge1xuICAgICAgICAgICAgICAgIF9odWUgKz0gMzYwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGF0Lmh1ZSA9IH5+X2h1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhzdlRvUmdiKCkge1xuICAgICAgICAvLyBubyBzYXR1cmF0aW9uIG1lYW5zIGl0J3MganVzdCBhIHNoYWRlIG9mIGdyZXlcbiAgICAgICAgaWYgKHRoYXQuc2F0dXJhdGlvbiA9PSAwKSB7XG4gICAgICAgICAgICB0aGF0LnJnYiA9ICh0aGF0LnZhbHVlIDw8IDE2KSB8ICh0aGF0LnZhbHVlIDw8IDgpIHwgdGhhdC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICBmID0gdGhhdC5odWUgLyA2MDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZiA9IGYgLSBNYXRoLmZsb29yKGYpO1xuICAgIFxuICAgICAgICAgICAgdmFyIFxuICAgICAgICAgICAgICAgIHMgPSB0aGF0LnNhdHVyYXRpb24gLyAyNTUsXG4gICAgICAgICAgICAgICAgbSA9IH5+KHRoYXQudmFsdWUgKiAoMSAtIHMpKSxcbiAgICAgICAgICAgICAgICBuID0gfn4odGhhdC52YWx1ZSAqICgxIC0gcyAqIGYpKSxcbiAgICAgICAgICAgICAgICBrID0gfn4odGhhdC52YWx1ZSAqICgxIC0gcyAqICgxIC0gZikpKTtcbiAgICBcbiAgICAgICAgICAgIHN3aXRjaCAofn4odGhhdC5odWUgLyA2MCkpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGF0LnJnYiA9ICh0aGF0LnZhbHVlIDw8IDE2KSB8IChrIDw8IDgpIHwgbTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICB0aGF0LnJnYiA9IChuIDw8IDE2KSB8ICh0aGF0LnZhbHVlIDw8IDgpIHwgbTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGF0LnJnYiA9IChtIDw8IDE2KSB8ICh0aGF0LnZhbHVlIDw8IDgpIHwgaztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGF0LnJnYiA9IChtIDw8IDE2KSB8IChuIDw8IDgpIHwgdGhhdC52YWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICB0aGF0LnJnYiA9IChrIDw8IDE2KSB8IChtIDw8IDgpIHwgdGhhdC52YWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICB0aGF0LnJnYiA9ICh0aGF0LnZhbHVlIDw8IDE2KSB8IChtIDw8IDgpIHwgbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhhdC5yZ2IgPSAwOyAvLyBpbnZhbGlkIGh1ZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5nZXRSZ2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmdiO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRTYXR1cmF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhdHVyYXRpb247XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0SHVlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmh1ZTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldFJnYkNvbXBvbmVudHMgPSBmdW5jdGlvbihyLCBnLCBiKSB7XG4gICAgICAgIHRoaXMuc2V0UmdiKChyIDw8IDE2KSB8IChnIDw8IDgpIHwgYik7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuc2V0UmdiID0gZnVuY3Rpb24ocmdiKSB7XG4gICAgICAgIHRoaXMucmdiID0gcmdiO1xuICAgICAgICByZ2JUb0hzdigpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEhzdiA9IGZ1bmN0aW9uKGh1ZSwgdmFsdWUsIHNhdHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy5odWUgPSBodWU7XG4gICAgICAgIHRoaXMuc2F0dXJhdGlvbiA9IHNhdHVyYXRpb247XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBoc3ZUb1JnYigpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEh1ZSA9IGZ1bmN0aW9uKGh1ZSkge1xuICAgICAgICB0aGlzLmh1ZSA9IGh1ZTtcbiAgICAgICAgaHN2VG9SZ2IoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRTYXR1cmF0aW9uID0gZnVuY3Rpb24oc2F0dXJhdGlvbikge1xuICAgICAgICB0aGlzLnNhdHVyYXRpb24gPSBzYXR1cmF0aW9uO1xuICAgICAgICBoc3ZUb1JnYigpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBoc3ZUb1JnYigpO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBDUENvbG9yKCk7XG4gICAgICAgIFxuICAgICAgICByZXN1bHQuY29weUZyb20odGhpcyk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICB0aGlzLmNvcHlGcm9tID0gZnVuY3Rpb24oYykge1xuICAgICAgICB0aGlzLnJnYiA9IGMucmdiO1xuICAgICAgICB0aGlzLmh1ZSA9IGMuaHVlO1xuICAgICAgICB0aGlzLnNhdHVyYXRpb24gPSBjLnNhdHVyYXRpb247XG4gICAgICAgIHRoaXMudmFsdWUgPSBjLnZhbHVlO1xuICAgIH07XG5cbiAgICB0aGlzLmlzRXF1YWwgPSBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZ2IgPT0gY29sb3IucmdiICYmIHRoaXMuaHVlID09IGNvbG9yLmh1ZSAmJiB0aGlzLnNhdHVyYXRpb24gPT0gY29sb3Iuc2F0dXJhdGlvbiAmJiB0aGlzLnZhbHVlID09IGNvbG9yLnZhbHVlO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zZXRSZ2IocmdiIHx8IDApO1xufVxuIiwiLypcbiAgICBDaGlja2VuUGFpbnRcbiAgICBcbiAgICBDaGlja2VuUGFpbnQgaXMgYSB0cmFuc2xhdGlvbiBvZiBDaGliaVBhaW50IGZyb20gSmF2YSB0byBKYXZhU2NyaXB0XG4gICAgYnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuICAgIFxuICAgIENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbi8vIEFuIFJHQiBjb2xvciB3aXRoIGZsb2F0aW5nIHBvaW50IHZhbHVlcyBmb3IgZWFjaCBjaGFubmVsIChiZXR3ZWVuIDAuMCBhbmQgMS4wKVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BDb2xvckZsb2F0KHIsIGcsIGIpIHtcbiAgICB0aGlzLnIgPSByO1xuICAgIHRoaXMuZyA9IGc7XG4gICAgdGhpcy5iID0gYjtcbn1cblxuQ1BDb2xvckZsb2F0LnByb3RvdHlwZS50b0ludCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHRoaXMuciAqIDI1NSkpKSA8PCAxNikgXG4gICAgICAgIHwgKE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh0aGlzLmcgKiAyNTUpKSkgPDwgOClcbiAgICAgICAgfCBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIE1hdGgucm91bmQodGhpcy5iICogMjU1KSkpO1xufTtcblxuQ1BDb2xvckZsb2F0LnByb3RvdHlwZS5taXhXaXRoID0gZnVuY3Rpb24oY29sb3IsIGFscGhhKSB7XG4gICAgdGhpcy5yID0gdGhpcy5yICogKDEuMCAtIGFscGhhKSArIGNvbG9yLnIgKiBhbHBoYTtcbiAgICB0aGlzLmcgPSB0aGlzLmcgKiAoMS4wIC0gYWxwaGEpICsgY29sb3IuZyAqIGFscGhhO1xuICAgIHRoaXMuYiA9IHRoaXMuYiAqICgxLjAgLSBhbHBoYSkgKyBjb2xvci5iICogYWxwaGE7XG59O1xuXG5DUENvbG9yRmxvYXQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBDUENvbG9yRmxvYXQodGhpcy5yLCB0aGlzLmcsIHRoaXMuYik7XG59O1xuXG5DUENvbG9yRmxvYXQuY3JlYXRlRnJvbUludCA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgcmV0dXJuIG5ldyBDUENvbG9yRmxvYXQoXG4gICAgICAgICgoY29sb3IgPj4+IDE2KSAmIDB4ZmYpIC8gMjU1LFxuICAgICAgICAoKGNvbG9yID4+PiA4KSAmIDB4ZmYpIC8gMjU1LFxuICAgICAgICAoY29sb3IgJiAweGZmKSAvIDI1NVxuICAgICk7XG59OyIsIi8qXG5cdENoaWNrZW5QYWludFxuXG5cdENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcblx0YnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuXG5cdENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cblx0Q2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0aXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0dGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0KGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuXHRDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0YnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0TUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHRHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5cdFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5mdW5jdGlvbiBnZXRDYW52YXNJbnRlcnBvbGF0aW9uUHJvcE5hbWUoY2FudmFzQ29udGV4dCkge1xuXHR2YXJcblx0XHRicm93c2VyUHJvcGVydGllcyA9IFtcblx0XHRcdFwiaW1hZ2VTbW9vdGhpbmdFbmFibGVkXCIsIFwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkXCIsIFwid2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkXCIsXG5cdFx0XHRcIm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkXCJcblx0XHRdO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgYnJvd3NlclByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAoYnJvd3NlclByb3BlcnRpZXNbaV0gaW4gY2FudmFzQ29udGV4dCkge1xuXHRcdFx0cmV0dXJuIGJyb3dzZXJQcm9wZXJ0aWVzW2ldO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDYW52YXNJbnRlcnBvbGF0aW9uU3VwcG9ydGVkKCkge1xuXHR2YXJcblx0XHRjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLFxuXHRcdGNhbnZhc0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG5cdHJldHVybiAhIWdldENhbnZhc0ludGVycG9sYXRpb25Qcm9wTmFtZShjYW52YXNDb250ZXh0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldENhbnZhc0ludGVycG9sYXRpb24oY2FudmFzQ29udGV4dCwgZW5hYmxlZCkge1xuXHR2YXJcblx0XHRwcm9wTmFtZSA9IGdldENhbnZhc0ludGVycG9sYXRpb25Qcm9wTmFtZShjYW52YXNDb250ZXh0KTtcblxuXHRpZiAocHJvcE5hbWUpIHtcblx0XHRjYW52YXNDb250ZXh0W3Byb3BOYW1lXSA9IGVuYWJsZWQ7XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXZlbnRTdXBwb3J0ZWQoZXZlbnROYW1lKSB7XG5cdHZhclxuXHRcdGlzU3VwcG9ydGVkID0gZXZlbnROYW1lIGluIHdpbmRvdztcblxuXHRpZiAoIWlzU3VwcG9ydGVkKSB7XG5cdFx0dmFyXG5cdFx0XHRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGVsLnNldEF0dHJpYnV0ZShldmVudE5hbWUsICdyZXR1cm47Jyk7XG5cblx0XHRpc1N1cHBvcnRlZCA9IHR5cGVvZiBlbFtldmVudE5hbWVdID09ICdmdW5jdGlvbic7XG5cdH1cblxuXHRyZXR1cm4gaXNTdXBwb3J0ZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NhbnZhc1N1cHBvcnRlZCgpe1xuXHR2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXHRyZXR1cm4gISEoZWxlbS5nZXRDb250ZXh0ICYmIGVsZW0uZ2V0Q29udGV4dCgnMmQnKSk7XG59IiwiLypcblx0Q2hpY2tlblBhaW50XG5cblx0Q2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuXHRieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG5cblx0Q2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuXHRDaGlja2VuUGFpbnQgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuXHRpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuXHR0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuXHQoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG5cdENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuXHRidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuXHRNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG5cdEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cblx0WW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2Vcblx0YWxvbmcgd2l0aCBDaGlja2VuUGFpbnQuIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5cbmltcG9ydCBDUFRyYW5zZm9ybSBmcm9tICcuL0NQVHJhbnNmb3JtJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BQb2x5Z29uKHBvaW50cykge1xuXHR0aGlzLnBvaW50cyA9IHBvaW50cyB8fCBbXTtcbn1cblxuQ1BQb2x5Z29uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXJcblx0XHRyZXN1bHQgPSBuZXcgQ1BQb2x5Z29uKG5ldyBBcnJheSh0aGlzLnBvaW50cy5sZW5ndGgpKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Ly8gRGVlcCBjbG9uZVxuXHRcdHJlc3VsdC5wb2ludHNbaV0gPSB7eCA6IHRoaXMucG9pbnRzW2ldLngsIHkgOiB0aGlzLnBvaW50c1tpXS55fTtcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIEdldCBhIG5ldyBwb2x5Z29uIHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgdHJhbnNmb3JtaW5nIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uIHdpdGggdGhlIGdpdmVuIGFmZmluZSB0cmFuc2Zvcm0uXG4gKlxuICogQHBhcmFtIHtDUFRyYW5zZm9ybX0gYWZmaW5lVHJhbnNmb3JtXG4gKiBAcmV0dXJucyB7Q1BQb2x5Z29ufVxuICovXG5DUFBvbHlnb24ucHJvdG90eXBlLmdldFRyYW5zZm9ybWVkID0gZnVuY3Rpb24oYWZmaW5lVHJhbnNmb3JtKSB7XG5cdHZhclxuXHRcdHJlc3VsdCA9IG5ldyBDUFBvbHlnb24obmV3IEFycmF5KHRoaXMucG9pbnRzLmxlbmd0aCkpO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcblx0XHRyZXN1bHQucG9pbnRzW2ldID0gYWZmaW5lVHJhbnNmb3JtLmdldFRyYW5zZm9ybWVkUG9pbnQodGhpcy5wb2ludHNbaV0pO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG5cbkNQUG9seWdvbi5wcm90b3R5cGUuZ2V0Q2VudGVyID0gZnVuY3Rpb24oKSB7XG5cdHZhclxuXHRcdGNlbnRlclggPSB0aGlzLnBvaW50c1swXS54LFxuXHRcdGNlbnRlclkgPSB0aGlzLnBvaW50c1swXS55O1xuXG5cdGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcblx0XHRjZW50ZXJYICs9IHRoaXMucG9pbnRzW2ldLng7XG5cdFx0Y2VudGVyWSArPSB0aGlzLnBvaW50c1tpXS55O1xuXHR9XG5cblx0cmV0dXJuIHt4OiBjZW50ZXJYIC8gdGhpcy5wb2ludHMubGVuZ3RoLCB5OiBjZW50ZXJZIC8gdGhpcy5wb2ludHMubGVuZ3RofTtcbn07XG5cbi8qKlxuICogRnJvbSBodHRwczovL3d3dy5lY3NlLnJwaS5lZHUvSG9tZXBhZ2VzL3dyZi9SZXNlYXJjaC9TaG9ydF9Ob3Rlcy9wbnBvbHkuaHRtbFxuICpcbiAqIEBwYXJhbSBwb2ludFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkNQUG9seWdvbi5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uKHBvaW50KSB7XG5cdHZhciBpLCBqLCBjb250YWluZWQgPSBmYWxzZTtcblxuXHRmb3IgKGkgPSAwLCBqID0gdGhpcy5wb2ludHMubGVuZ3RoIC0gMTsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgaiA9IGkrKykge1xuXHRcdGlmICgoKHRoaXMucG9pbnRzW2ldLnkgPiBwb2ludC55KSAhPSAodGhpcy5wb2ludHNbal0ueSA+IHBvaW50LnkpKSAmJlxuXHRcdFx0XHQocG9pbnQueCA8ICh0aGlzLnBvaW50c1tqXS54IC0gdGhpcy5wb2ludHNbaV0ueCkgKiAocG9pbnQueSAtIHRoaXMucG9pbnRzW2ldLnkpIC8gKHRoaXMucG9pbnRzW2pdLnkgLSB0aGlzLnBvaW50c1tpXS55KSArIHRoaXMucG9pbnRzW2ldLngpKSB7XG5cdFx0XHRjb250YWluZWQgPSAhY29udGFpbmVkO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjb250YWluZWQ7XG59OyIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUFJhbmRvbSgpIHtcbiAgICB2YXIgXG4gICAgICAgIG5leHROZXh0R2F1c3NpYW4sIFxuICAgICAgICBoYXZlTmV4dE5leHRHYXVzc2lhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogRGVmaW5pdGlvbiBmcm9tIEphdmEsIG1lYW4gb2YgMC4wIGFuZCBzdGFuZGFyZCBkZXZpYXRpb24gMS4wLlxuICAgICAqL1xuICAgIHRoaXMubmV4dEdhdXNzaWFuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChoYXZlTmV4dE5leHRHYXVzc2lhbikge1xuICAgICAgICAgICAgaGF2ZU5leHROZXh0R2F1c3NpYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0TmV4dEdhdXNzaWFuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICB2MSwgdjIsIHM7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB2MSA9IDIgKiBNYXRoLnJhbmRvbSgpIC0gMTsgLy8gYmV0d2VlbiAtMS4wIGFuZCAxLjBcbiAgICAgICAgICAgICAgICB2MiA9IDIgKiBNYXRoLnJhbmRvbSgpIC0gMTsgLy8gYmV0d2VlbiAtMS4wIGFuZCAxLjBcbiAgICAgICAgICAgICAgICBzID0gdjEgKiB2MSArIHYyICogdjI7XG4gICAgICAgICAgICB9IHdoaWxlIChzID49IDEgfHwgcyA9PSAwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgbXVsdGlwbGllciA9IE1hdGguc3FydCgtMiAqIE1hdGgubG9nKHMpIC8gcyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5leHROZXh0R2F1c3NpYW4gPSB2MiAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgICBoYXZlTmV4dE5leHRHYXVzc2lhbiA9IHRydWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB2MSAqIG11bHRpcGxpZXI7XG4gICAgICAgIH1cbiAgICB9O1xufTsiLCIvKlxuICAgIENoaWNrZW5QYWludFxuICAgIFxuICAgIENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcbiAgICBieSBOaWNob2xhcyBTaGVybG9jayAvIENoaWNrZW4gU21vb3RoaWUuXG4gICAgXG4gICAgQ2hpYmlQYWludCBpcyBDb3B5cmlnaHQgKGMpIDIwMDYtMjAwOCBNYXJjIFNjaGVmZXJcblxuICAgIENoaWNrZW5QYWludCBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIENoaWNrZW5QYWludC4gSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ1BSZWN0KGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbSkge1xuICAgIC8qXG4gICAgaWYgKGxlZnQgPT09IHVuZGVmaW5lZCB8fCB0b3AgPT09IHVuZGVmaW5lZCB8fCByaWdodCA9PT0gdW5kZWZpbmVkIHx8IGJvdHRvbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IFwiQmFkIHJlY3RcIjtcbiAgICB9XG4gICAgXG4gICAgaWYgKH5+bGVmdCAhPT0gbGVmdCB8fCB+fnRvcCAhPT0gdG9wIHx8IH5+cmlnaHQgIT09IHJpZ2h0IHx8IH5+Ym90dG9tICE9PSBib3R0b20pIHtcbiAgICAgICAgdGhyb3cgXCJCYWQgcmVjdFwiO1xuICAgIH1cbiAgICAqL1xuICAgIFxuICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgdGhpcy50b3AgPSB0b3A7XG4gICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgIHRoaXMuYm90dG9tID0gYm90dG9tO1xufVxuXG5DUFJlY3QucHJvdG90eXBlLm1ha2VFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubGVmdCA9IDA7XG4gICAgdGhpcy50b3AgPSAwO1xuICAgIHRoaXMucmlnaHQgPSAwO1xuICAgIHRoaXMuYm90dG9tID0gMDtcbn07XG5cbkNQUmVjdC5wcm90b3R5cGUudW5pb24gPSBmdW5jdGlvbih0aGF0KSB7XG4gICAgaWYgKHRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgIHRoaXMuc2V0KHRoYXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGVmdCA9IE1hdGgubWluKHRoaXMubGVmdCwgdGhhdC5sZWZ0KTtcbiAgICAgICAgdGhpcy50b3AgPSBNYXRoLm1pbih0aGlzLnRvcCwgdGhhdC50b3ApO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gTWF0aC5tYXgodGhpcy5yaWdodCwgdGhhdC5yaWdodCk7XG4gICAgICAgIHRoaXMuYm90dG9tID0gTWF0aC5tYXgodGhpcy5ib3R0b20sIHRoYXQuYm90dG9tKTtcbiAgICB9XG59O1xuXG5DUFJlY3QucHJvdG90eXBlLmdldFVuaW9uID0gZnVuY3Rpb24odGhhdCkge1xuICAgIHZhclxuICAgICAgICByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG5cbiAgICByZXN1bHQudW5pb24odGhhdCk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBDbGlwIHRoaXMgcmVjdGFuZ2xlIHRvIGZpdCB3aXRoaW4gYHRoYXRgLlxuICogXG4gKiBAcmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGlzIHJlY3RhbmdsZSBmb3IgY2hhaW5pbmdcbiAqL1xuQ1BSZWN0LnByb3RvdHlwZS5jbGlwID0gZnVuY3Rpb24odGhhdCkge1xuICAgIGlmICghdGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgaWYgKHRoYXQuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1ha2VFbXB0eSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sZWZ0ID0gTWF0aC5tYXgodGhpcy5sZWZ0LCB0aGF0LmxlZnQpO1xuICAgICAgICAgICAgdGhpcy50b3AgPSBNYXRoLm1heCh0aGlzLnRvcCwgdGhhdC50b3ApO1xuICAgICAgICAgICAgdGhpcy5yaWdodCA9IE1hdGgubWluKHRoaXMucmlnaHQsIHRoYXQucmlnaHQpO1xuICAgICAgICAgICAgdGhpcy5ib3R0b20gPSBNYXRoLm1pbih0aGlzLmJvdHRvbSwgdGhhdC5ib3R0b20pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0aGlzO1xufTtcblxuQ1BSZWN0LnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhKHAueCA8IHRoaXMubGVmdCB8fCBwLnkgPCB0aGlzLnRvcCB8fCBwLnggPj0gdGhpcy5yaWdodCB8fCBwLnkgPj0gdGhpcy5ib3R0b20pO1xufTtcblxuQ1BSZWN0LnByb3RvdHlwZS5pc0luc2lkZSA9IGZ1bmN0aW9uKHRoYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sZWZ0ID49IHRoYXQubGVmdCAmJiB0aGlzLnRvcCA+PSB0aGF0LnRvcCAmJiB0aGlzLnJpZ2h0IDw9IHRoYXQucmlnaHQgJiYgdGhpcy5ib3R0b20gPD0gdGhhdC5ib3R0b207XG59O1xuXG4vKipcbiAqIFVzZSB0aGlzIHJlY3RhbmdsZSBhcyBib3VuZHMgdG8gY2xpcCB0aGUgcGxhY2VtZW50IG9mIHRoZSBhcmVhIG9mIHNyY1JlY3QgYXQgdGhlIHBvc2l0aW9uIG9mIGRzdFJlY3QgaW5zaWRlXG4gKiBvdXIgYm91bmRzLlxuICpcbiAqIGRzdFJlY3QgaGFzIGl0cyByaWdodCBhbmQgYm90dG9tIHNldCBieSB0aGlzIG9wZXJhdGlvbiB0byBtYXRjaCB0aGUgYXJlYSB0aGF0IHdvdWxkIGJlIGNvcGllZCBmcm9tIHRoZSBzb3VyY2UuXG4gKiBzcmNSZWN0IGhhcyBpdHMgY29vcmRpbmF0ZXMgdHdlYWtlZCB0byBtYXRjaCB0aGUgYXJlYSB0aGF0IHdpbGwgYmUgY29waWVkLlxuICovXG5DUFJlY3QucHJvdG90eXBlLmNsaXBTb3VyY2VEZXN0ID0gZnVuY3Rpb24oc3JjUmVjdCwgZHN0UmVjdCkge1xuICAgIGRzdFJlY3QucmlnaHQgPSBkc3RSZWN0LmxlZnQgKyBzcmNSZWN0LmdldFdpZHRoKCk7XG4gICAgZHN0UmVjdC5ib3R0b20gPSBkc3RSZWN0LnRvcCArIHNyY1JlY3QuZ2V0SGVpZ2h0KCk7XG5cbiAgICBpZiAodGhpcy5pc0VtcHR5KCkgfHwgZHN0UmVjdC5sZWZ0ID49IHRoaXMucmlnaHQgfHwgZHN0UmVjdC50b3AgPj0gdGhpcy5ib3R0b20gfHwgZHN0UmVjdC5yaWdodCA8PSB0aGlzLmxlZnQgfHwgZHN0UmVjdC5ib3R0b20gPD0gdGhpcy50b3ApIHtcbiAgICAgICAgc3JjUmVjdC5tYWtlRW1wdHkoKTtcbiAgICAgICAgZHN0UmVjdC5tYWtlRW1wdHkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBib3R0b20vcmlnaHRcbiAgICAgICAgaWYgKGRzdFJlY3QucmlnaHQgPiB0aGlzLnJpZ2h0KSB7XG4gICAgICAgICAgICBzcmNSZWN0LnJpZ2h0IC09IGRzdFJlY3QucmlnaHQgLSB0aGlzLnJpZ2h0O1xuICAgICAgICAgICAgZHN0UmVjdC5yaWdodCA9IHRoaXMucmlnaHQ7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKGRzdFJlY3QuYm90dG9tID4gdGhpcy5ib3R0b20pIHtcbiAgICAgICAgICAgIHNyY1JlY3QuYm90dG9tIC09IGRzdFJlY3QuYm90dG9tIC0gdGhpcy5ib3R0b207XG4gICAgICAgICAgICBkc3RSZWN0LmJvdHRvbSA9IHRoaXMuYm90dG9tO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIHRvcC9sZWZ0XG4gICAgICAgIGlmIChkc3RSZWN0LmxlZnQgPCB0aGlzLmxlZnQpIHtcbiAgICAgICAgICAgIHNyY1JlY3QubGVmdCArPSB0aGlzLmxlZnQgLSBkc3RSZWN0LmxlZnQ7XG4gICAgICAgICAgICBkc3RSZWN0LmxlZnQgPSB0aGlzLmxlZnQ7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKGRzdFJlY3QudG9wIDwgdGhpcy50b3ApIHtcbiAgICAgICAgICAgIHNyY1JlY3QudG9wICs9IHRoaXMudG9wIC0gZHN0UmVjdC50b3A7XG4gICAgICAgICAgICBkc3RSZWN0LnRvcCA9IHRoaXMudG9wO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuQ1BSZWN0LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnJpZ2h0IC0gdGhpcy5sZWZ0O1xufTtcblxuQ1BSZWN0LnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5ib3R0b20gLSB0aGlzLnRvcDtcbn07XG5cbkNQUmVjdC5wcm90b3R5cGUuZ2V0QXJlYSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpO1xufTtcblxuQ1BSZWN0LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucmlnaHQgPD0gdGhpcy5sZWZ0IHx8IHRoaXMuYm90dG9tIDw9IHRoaXMudG9wO1xufTtcblxuQ1BSZWN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihyKSB7XG4gICAgdGhpcy5sZWZ0ID0gci5sZWZ0O1xuICAgIHRoaXMudG9wID0gci50b3A7XG4gICAgdGhpcy5yaWdodCA9IHIucmlnaHQ7XG4gICAgdGhpcy5ib3R0b20gPSByLmJvdHRvbTtcbn07XG5cbkNQUmVjdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IENQUmVjdCh0aGlzLmxlZnQsIHRoaXMudG9wLCB0aGlzLnJpZ2h0LCB0aGlzLmJvdHRvbSk7XG59O1xuXG5DUFJlY3QucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICB0aGlzLmxlZnQgKz0geDtcbiAgICB0aGlzLnJpZ2h0ICs9IHg7XG4gICAgdGhpcy50b3AgKz0geTtcbiAgICB0aGlzLmJvdHRvbSArPSB5O1xufTtcblxuQ1BSZWN0LnByb3RvdHlwZS5tb3ZlVG8gPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgdGhpcy50cmFuc2xhdGUoeCAtIHRoaXMubGVmdCwgeSAtIHRoaXMudG9wKTtcbn07XG5cbkNQUmVjdC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24odGhhdCkge1xuICAgIHJldHVybiB0aGlzLmxlZnQgPT0gdGhhdC5sZWZ0ICYmIHRoaXMucmlnaHQgPT0gdGhhdC5yaWdodCAmJiB0aGlzLnRvcCA9PSB0aGF0LnRvcCAmJiB0aGlzLmJvdHRvbSA9PSB0aGF0LmJvdHRvbTtcbn07XG5cbi8qKlxuICogQWRkIGggcGl4ZWxzIHRvIGJvdGggdGhlIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIG9mIHRoZSByZWN0YW5nbGUsIGFuZCB2IHBpeGVscyB0byBib3RoIHRoZSB0b3AgYW5kIGJvdHRvbSBzaWRlcy5cbiAqICBcbiAqIEBwYXJhbSBoXG4gKiBAcGFyYW0gdlxuICovXG5DUFJlY3QucHJvdG90eXBlLmdyb3cgPSBmdW5jdGlvbihoLCB2KSB7XG4gICAgLy8gVE9ETyBjaGVja3MgZm9yIHJlY3RhbmdsZXMgd2l0aCB6ZXJvLWV4dGVudFxuICAgIHRoaXMubGVmdCAtPSBoO1xuICAgIHRoaXMucmlnaHQgKz0gaDtcbiAgICB0aGlzLnRvcCAtPSB2O1xuICAgIHRoaXMuYm90dG9tICs9IHY7XG59O1xuXG5DUFJlY3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiKFwiICsgdGhpcy5sZWZ0ICsgXCIsXCIgKyB0aGlzLnRvcCArIFwiLFwiICsgdGhpcy5yaWdodCArIFwiLFwiICsgdGhpcy5ib3R0b20gKyBcIilcIjtcbn07XG5cbi8qKlxuICogQ29udmVydCB0aGUgcmVjdGFuZ2xlIGludG8gYW4gYXJyYXkgb2YgcG9pbnRzIG9mIHRoZSBjb3JuZXJzIG9mIHRoZSByZWN0YW5nbGUgKGNsb2Nrd2lzZSBzdGFydGluZyBmcm9tIHRoZSB0b3AgbGVmdFxuICogcG9pbnQpLlxuICovXG5DUFJlY3QucHJvdG90eXBlLnRvUG9pbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAge3g6IHRoaXMubGVmdCwgeTogdGhpcy50b3B9LFxuICAgICAgICB7eDogdGhpcy5yaWdodCwgeTogdGhpcy50b3B9LFxuICAgICAgICB7eDogdGhpcy5yaWdodCwgeTogdGhpcy5ib3R0b219LFxuICAgICAgICB7eDogdGhpcy5sZWZ0LCB5OiB0aGlzLmJvdHRvbX1cbiAgICBdO1xufTtcblxuLyoqXG4gKiBSb3VuZCB0aGUgcmVjdGFuZ2xlIGNvb3JkaW5hdGVzIHRvIHRoZSBuZWFyZXN0IGludGVnZXIuXG4gKi9cbkNQUmVjdC5wcm90b3R5cGUucm91bmROZWFyZXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sZWZ0ID0gTWF0aC5yb3VuZCh0aGlzLmxlZnQpO1xuICAgIHRoaXMudG9wID0gTWF0aC5yb3VuZCh0aGlzLnRvcCk7XG4gICAgdGhpcy5yaWdodCA9IE1hdGgucm91bmQodGhpcy5yaWdodCk7XG4gICAgdGhpcy5ib3R0b20gPSBNYXRoLnJvdW5kKHRoaXMuYm90dG9tKTtcbn07XG5cbi8qKlxuICogUm91bmQgdGhlIHJlY3RhbmdsZSBjb29yZGluYXRlcyB0byBpbnRlZ2VycyBzbyB0aGF0IHRoZSBvbGQgcmVjdGFuZ2xlIGlzIGNvbnRhaW5lZCBieSB0aGUgbmV3IG9uZS5cbiAqL1xuQ1BSZWN0LnByb3RvdHlwZS5yb3VuZENvbnRhaW4gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxlZnQgPSBNYXRoLmZsb29yKHRoaXMubGVmdCk7XG4gICAgdGhpcy50b3AgPSBNYXRoLmZsb29yKHRoaXMudG9wKTtcbiAgICB0aGlzLnJpZ2h0ID0gTWF0aC5jZWlsKHRoaXMucmlnaHQpO1xuICAgIHRoaXMuYm90dG9tID0gTWF0aC5jZWlsKHRoaXMuYm90dG9tKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuIEFBQkIgQ1BSZWN0IHdoaWNoIGVuY2xvc2VzIHRoZSBnaXZlbiBhcnJheSBvZiBwb2ludHMuXG4gKi9cbkNQUmVjdC5jcmVhdGVCb3VuZGluZ0JveCA9IGZ1bmN0aW9uKHBvaW50cykge1xuICAgIHZhclxuICAgICAgICByZXN1bHQgPSBuZXcgQ1BSZWN0KHBvaW50c1swXS54LCBwb2ludHNbMF0ueSwgcG9pbnRzWzBdLngsIHBvaW50c1swXS55KTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdC5sZWZ0ID0gTWF0aC5taW4ocmVzdWx0LmxlZnQsIHBvaW50c1tpXS54KTtcbiAgICAgICAgcmVzdWx0LnRvcCA9IE1hdGgubWluKHJlc3VsdC50b3AsIHBvaW50c1tpXS55KTtcbiAgICAgICAgcmVzdWx0LnJpZ2h0ID0gTWF0aC5tYXgocmVzdWx0LnJpZ2h0LCBwb2ludHNbaV0ueCk7XG4gICAgICAgIHJlc3VsdC5ib3R0b20gPSBNYXRoLm1heChyZXN1bHQuYm90dG9tLCBwb2ludHNbaV0ueSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qIFxuICogQ2hyb21lIGlzIGluaXRpYWxseSBlYWdlciB0byBvcHRpbWl6ZSBDUFJlY3QgYW5kIHVzZXJzIGFzc3VtaW5nIHRoYXQgYWxsIHRoZSBmaWVsZHMgYXJlIFNNSXMsIHRoZW4gbGF0ZXIgb24gZGVjaWRlc1xuICogdGhhdCB0aGV5IHNob3VsZCBiZSB0YWdnZWQgbnVtYmVycyBhZnRlciBhbGwuIFRoaXMgY2F1c2VzIGFsbCB0aGUgYmxlbmRpbmcgb3BlcmF0aW9uIGZ1bmN0aW9ucyB0byBiZSByZW9wdGltaXplZFxuICogYSBjb3VwbGUgb2YgdGltZXMuIFxuICogXG4gKiBBdm9pZCB0aGF0IG1lc3MgYnkgc3RhcnRpbmcgdGhpbmdzIG9mZiB3aXRoIGZsb2F0cyBpbiB0aGUgbWVtYmVycy4gIFxuICovXG53aW5kb3cuY3BSZWN0R2FyYmFnZSA9IG5ldyBDUFJlY3QoMS41LCAyLjUsIDMuNSwgNC41KTsiLCIvLyBNb2RpZmljYXRpb25zIGJ5IE5pY2hvbGFzIFNoZXJsb2NrLiBPcmlnaW5hbCBkb2NzIGJlbG93OlxuXG4vLyBMYXN0IHVwZGF0ZWQgTm92ZW1iZXIgMjAxMVxuLy8gQnkgU2ltb24gU2FycmlzXG4vLyB3d3cuc2ltb25zYXJyaXMuY29tXG4vLyBzYXJyaXNAYWNtLm9yZ1xuLy9cbi8vIEZyZWUgdG8gdXNlIGFuZCBkaXN0cmlidXRlIGF0IHdpbGxcbi8vIFNvIGxvbmcgYXMgeW91IGFyZSBuaWNlIHRvIHBlb3BsZSwgZXRjXG5cbi8vIFNpbXBsZSBjbGFzcyBmb3Iga2VlcGluZyB0cmFjayBvZiB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcblxuLy8gRm9yIGluc3RhbmNlOlxuLy8gICAgdmFyIHQgPSBuZXcgVHJhbnNmb3JtKCk7XG4vLyAgICB0LnJvdGF0ZSg1KTtcbi8vICAgIHZhciBtID0gdC5tO1xuLy8gICAgY3R4LnNldFRyYW5zZm9ybShtWzBdLCBtWzFdLCBtWzJdLCBtWzNdLCBtWzRdLCBtWzVdKTtcblxuLy8gSXMgZXF1aXZhbGVudCB0bzpcbi8vICAgIGN0eC5yb3RhdGUoNSk7XG5cbi8vIEJ1dCBub3cgeW91IGNhbiByZXRyaWV2ZSBpdCA6KVxuXG4vLyBSZW1lbWJlciB0aGF0IHRoaXMgZG9lcyBub3QgYWNjb3VudCBmb3IgYW55IENTUyB0cmFuc2Zvcm1zIGFwcGxpZWQgdG8gdGhlIGNhbnZhc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUFRyYW5zZm9ybSgpIHtcbiAgICB0aGlzLnNldFRvSWRlbnRpdHkoKTtcbn1cblxuQ1BUcmFuc2Zvcm0ucHJvdG90eXBlLnNldFRvSWRlbnRpdHkgPSBmdW5jdGlvbigpIHtcbiAgICAvKiBNYXRyaXggY29tcG9uZW50cyBhcmUgc3RvcmVkIGluIHRoaXMgb3JkZXIgaW4gJ20nOlxuICAgICAqIFswIDIgNF1cbiAgICAgKiBbMSAzIDVdXG4gICAgICogW3ggeCB4XVxuICAgICAqXG4gICAgICogTGFzdCByb3cgaXMgYWx3YXlzIDAsIDAsIDEgc28gd2UgZG9uJ3Qgc3RvcmUgaXQuXG4gICAgICovXG4gICAgdGhpcy5tID0gWyAxLCAwLCAwLCAxLCAwLCAwIF07XG59O1xuXG4vKipcbiAqIE11bHRpcGx5IHRoaXMgbWF0cml4IHdpdGggdGhlIGdpdmVuIHRyYW5zZm9ybWF0aW9uIG9uZSBsaWtlIHNvOlxuICpcbiAqIFt0aGlzXSA9IFt0aGlzXSAqIFttYXRyaXhdXG4gKlxuICogQHBhcmFtIHtDUFRyYW5zZm9ybX0gbWF0cml4XG4gKi9cbkNQVHJhbnNmb3JtLnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uKG1hdHJpeCkge1xuICAgIHZhciBcbiAgICAgICAgbTExID0gdGhpcy5tWzBdICogbWF0cml4Lm1bMF0gKyB0aGlzLm1bMl0gKiBtYXRyaXgubVsxXSxcbiAgICAgICAgbTEyID0gdGhpcy5tWzFdICogbWF0cml4Lm1bMF0gKyB0aGlzLm1bM10gKiBtYXRyaXgubVsxXSxcblxuICAgICAgICBtMjEgPSB0aGlzLm1bMF0gKiBtYXRyaXgubVsyXSArIHRoaXMubVsyXSAqIG1hdHJpeC5tWzNdLFxuICAgICAgICBtMjIgPSB0aGlzLm1bMV0gKiBtYXRyaXgubVsyXSArIHRoaXMubVszXSAqIG1hdHJpeC5tWzNdLFxuXG4gICAgICAgIGR4ID0gdGhpcy5tWzBdICogbWF0cml4Lm1bNF0gKyB0aGlzLm1bMl0gKiBtYXRyaXgubVs1XSArIHRoaXMubVs0XSxcbiAgICAgICAgZHkgPSB0aGlzLm1bMV0gKiBtYXRyaXgubVs0XSArIHRoaXMubVszXSAqIG1hdHJpeC5tWzVdICsgdGhpcy5tWzVdO1xuXG4gICAgdGhpcy5tWzBdID0gbTExO1xuICAgIHRoaXMubVsxXSA9IG0xMjtcbiAgICB0aGlzLm1bMl0gPSBtMjE7XG4gICAgdGhpcy5tWzNdID0gbTIyO1xuICAgIHRoaXMubVs0XSA9IGR4O1xuICAgIHRoaXMubVs1XSA9IGR5O1xufTtcblxuLyoqXG4gKiBNdWx0aXBseSB0aGlzIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiB0cmFuc2Zvcm1hdGlvbiBvbmUgbGlrZSBzbzpcbiAqXG4gKiBbdGhpc10gPSBbbWF0cml4XSAqIFt0aGlzXVxuICpcbiAqIEBwYXJhbSB7Q1BUcmFuc2Zvcm19IG1hdHJpeFxuICovXG5DUFRyYW5zZm9ybS5wcm90b3R5cGUucHJlTXVsdGlwbHkgPSBmdW5jdGlvbihtYXRyaXgpIHtcbiAgICB2YXJcbiAgICAgICAgbTExID0gbWF0cml4Lm1bMF0gKiB0aGlzLm1bMF0gKyBtYXRyaXgubVsyXSAqIHRoaXMubVsxXSxcbiAgICAgICAgbTEyID0gbWF0cml4Lm1bMV0gKiB0aGlzLm1bMF0gKyBtYXRyaXgubVszXSAqIHRoaXMubVsxXSxcblxuICAgICAgICBtMjEgPSBtYXRyaXgubVswXSAqIHRoaXMubVsyXSArIG1hdHJpeC5tWzJdICogdGhpcy5tWzNdLFxuICAgICAgICBtMjIgPSBtYXRyaXgubVsxXSAqIHRoaXMubVsyXSArIG1hdHJpeC5tWzNdICogdGhpcy5tWzNdLFxuXG4gICAgICAgIGR4ID0gbWF0cml4Lm1bMF0gKiB0aGlzLm1bNF0gKyBtYXRyaXgubVsyXSAqIHRoaXMubVs1XSArIG1hdHJpeC5tWzRdLFxuICAgICAgICBkeSA9IG1hdHJpeC5tWzFdICogdGhpcy5tWzRdICsgbWF0cml4Lm1bM10gKiB0aGlzLm1bNV0gKyBtYXRyaXgubVs1XTtcblxuICAgIHRoaXMubVswXSA9IG0xMTtcbiAgICB0aGlzLm1bMV0gPSBtMTI7XG4gICAgdGhpcy5tWzJdID0gbTIxO1xuICAgIHRoaXMubVszXSA9IG0yMjtcbiAgICB0aGlzLm1bNF0gPSBkeDtcbiAgICB0aGlzLm1bNV0gPSBkeTtcbn07XG5cbkNQVHJhbnNmb3JtLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgXG4gICAgICAgIGQgPSAxIC8gKHRoaXMubVswXSAqIHRoaXMubVszXSAtIHRoaXMubVsxXSAqIHRoaXMubVsyXSksXG4gICAgICAgIG0wID0gdGhpcy5tWzNdICogZCxcbiAgICAgICAgbTEgPSAtdGhpcy5tWzFdICogZCxcbiAgICAgICAgbTIgPSAtdGhpcy5tWzJdICogZCxcbiAgICAgICAgbTMgPSB0aGlzLm1bMF0gKiBkLFxuICAgICAgICBtNCA9IGQgKiAodGhpcy5tWzJdICogdGhpcy5tWzVdIC0gdGhpcy5tWzNdICogdGhpcy5tWzRdKSxcbiAgICAgICAgbTUgPSBkICogKHRoaXMubVsxXSAqIHRoaXMubVs0XSAtIHRoaXMubVswXSAqIHRoaXMubVs1XSk7XG4gICAgXG4gICAgdGhpcy5tWzBdID0gbTA7XG4gICAgdGhpcy5tWzFdID0gbTE7XG4gICAgdGhpcy5tWzJdID0gbTI7XG4gICAgdGhpcy5tWzNdID0gbTM7XG4gICAgdGhpcy5tWzRdID0gbTQ7XG4gICAgdGhpcy5tWzVdID0gbTU7XG59O1xuXG5DUFRyYW5zZm9ybS5wcm90b3R5cGUuZ2V0SW52ZXJ0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXJcbiAgICAgICAgcmVzdWx0ID0gbmV3IENQVHJhbnNmb3JtKCk7XG4gICAgXG4gICAgcmVzdWx0Lm1bMF0gPSB0aGlzLm1bMF07XG4gICAgcmVzdWx0Lm1bMV0gPSB0aGlzLm1bMV07XG4gICAgcmVzdWx0Lm1bMl0gPSB0aGlzLm1bMl07XG4gICAgcmVzdWx0Lm1bM10gPSB0aGlzLm1bM107XG4gICAgcmVzdWx0Lm1bNF0gPSB0aGlzLm1bNF07XG4gICAgcmVzdWx0Lm1bNV0gPSB0aGlzLm1bNV07XG4gICAgXG4gICAgcmVzdWx0LmludmVydCgpO1xuICAgIFxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIE11bHRpcGx5IHRoaXMgdHJhbnNmb3JtIGJ5IGEgcm90YXRpb24gbWF0cml4IGZvciB0aGUgZ2l2ZW4gYW5nbGU6XG4gKlxuICogWyBjb3MoYSkgLXNpbihhKSAwXVxuICogWyBzaW4oYSkgIGNvcyhhKSAwXVxuICogWyAgIDAgICAgICAgMCAgICAxXVxuICovXG5DUFRyYW5zZm9ybS5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24ocmFkKSB7XG4gICAgdmFyIFxuICAgICAgICBjID0gTWF0aC5jb3MocmFkKSxcbiAgICAgICAgcyA9IE1hdGguc2luKHJhZCksXG5cbiAgICAgICAgbTExID0gdGhpcy5tWzBdICogYyArIHRoaXMubVsyXSAqIHMsXG4gICAgICAgIG0xMiA9IHRoaXMubVsxXSAqIGMgKyB0aGlzLm1bM10gKiBzLFxuICAgICAgICBtMjEgPSB0aGlzLm1bMF0gKiAtcyArIHRoaXMubVsyXSAqIGMsXG4gICAgICAgIG0yMiA9IHRoaXMubVsxXSAqIC1zICsgdGhpcy5tWzNdICogYztcbiAgICBcbiAgICB0aGlzLm1bMF0gPSBtMTE7XG4gICAgdGhpcy5tWzFdID0gbTEyO1xuICAgIHRoaXMubVsyXSA9IG0yMTtcbiAgICB0aGlzLm1bM10gPSBtMjI7XG59O1xuXG5DUFRyYW5zZm9ybS5wcm90b3R5cGUucm90YXRlQXJvdW5kUG9pbnQgPSBmdW5jdGlvbihyYWQsIHgsIHkpIHtcbiAgICB0aGlzLnRyYW5zbGF0ZSh4LCB5KTtcbiAgICB0aGlzLnJvdGF0ZShyYWQpO1xuICAgIHRoaXMudHJhbnNsYXRlKC14LCAteSk7XG59O1xuXG4vKipcbiAqIE11bHRpcGx5IHRoaXMgdHJhbnNmb3JtIGJ5IGEgdHJhbnNsYXRpb24gbWF0cml4OlxuICpcbiAqIFsxICAwICB4XVxuICogWzAgIDEgIHldXG4gKiBbMCAgMCAgMV1cbiAqXG4gKiBAcGFyYW0geFxuICogQHBhcmFtIHlcbiAqL1xuQ1BUcmFuc2Zvcm0ucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICB0aGlzLm1bNF0gKz0gdGhpcy5tWzBdICogeCArIHRoaXMubVsyXSAqIHk7XG4gICAgdGhpcy5tWzVdICs9IHRoaXMubVsxXSAqIHggKyB0aGlzLm1bM10gKiB5O1xufTtcblxuLyoqXG4gKiBNdWx0aXBseSB0aGlzIHRyYW5zZm9ybSBieSBhIHNjYWxlIG1hdHJpeDpcbiAqXG4gKiBbc3ggMCAgMF1cbiAqIFswICBzeSAwXVxuICogWzAgIDAgIDFdXG4gKlxuICogQHBhcmFtIHN4XG4gKiBAcGFyYW0gc3lcbiAqL1xuQ1BUcmFuc2Zvcm0ucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24oc3gsIHN5KSB7XG4gICAgdGhpcy5tWzBdICo9IHN4O1xuICAgIHRoaXMubVsxXSAqPSBzeDtcbiAgICB0aGlzLm1bMl0gKj0gc3k7XG4gICAgdGhpcy5tWzNdICo9IHN5O1xufTtcblxuQ1BUcmFuc2Zvcm0ucHJvdG90eXBlLnNjYWxlQXJvdW5kUG9pbnQgPSBmdW5jdGlvbihzeCwgc3ksIHB4LCBweSkge1xuICAgIHRoaXMudHJhbnNsYXRlKHB4LCBweSk7XG4gICAgdGhpcy5zY2FsZShzeCwgc3kpO1xuICAgIHRoaXMudHJhbnNsYXRlKC1weCwgLXB5KTtcbn07XG5cbi8qKlxuICogTXVsdGlwbHkgdGhpcyB0cmFuc2Zvcm0gYnkgYSBzaGVhciBtYXRyaXg6XG4gKlxuICogWzEgIHN4IDBdXG4gKiBbc3kgMSAgMF1cbiAqIFswICAwICAxXVxuICpcbiAqIEBwYXJhbSBzeFxuICogQHBhcmFtIHN5XG4gKi9cbkNQVHJhbnNmb3JtLnByb3RvdHlwZS5zaGVhciA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgdmFyXG4gICAgICBtMTEgPSB0aGlzLm1bMF0gKyB0aGlzLm1bMl0gKiB5LFxuICAgICAgbTEyID0gdGhpcy5tWzFdICsgdGhpcy5tWzNdICogeSxcbiAgICAgIG0yMSA9IHRoaXMubVsyXSArIHRoaXMubVswXSAqIHgsXG4gICAgICBtMjIgPSB0aGlzLm1bM10gKyB0aGlzLm1bMV0gKiB4O1xuXG4gICAgdGhpcy5tWzBdID0gbTExO1xuICAgIHRoaXMubVsxXSA9IG0xMjtcbiAgICB0aGlzLm1bMl0gPSBtMjE7XG4gICAgdGhpcy5tWzNdID0gbTIyO1xufTtcblxuQ1BUcmFuc2Zvcm0ucHJvdG90eXBlLmdldFRyYW5zZm9ybWVkUG9pbnQgPSBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogcC54ICogdGhpcy5tWzBdICsgcC55ICogdGhpcy5tWzJdICsgdGhpcy5tWzRdLFxuICAgICAgICB5OiBwLnggKiB0aGlzLm1bMV0gKyBwLnkgKiB0aGlzLm1bM10gKyB0aGlzLm1bNV1cbiAgICB9O1xufTtcblxuQ1BUcmFuc2Zvcm0ucHJvdG90eXBlLnRyYW5zZm9ybVBvaW50cyA9IGZ1bmN0aW9uKHBvaW50cykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBvaW50c1tpXSA9IHRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludChwb2ludHNbaV0pO1xuICAgIH1cbn07XG5cbkNQVHJhbnNmb3JtLnByb3RvdHlwZS5nZXRUcmFuc2xhdGVYID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubVs0XTtcbn07XG5cbkNQVHJhbnNmb3JtLnByb3RvdHlwZS5nZXRUcmFuc2xhdGVZID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubVs1XTtcbn07XG5cbkNQVHJhbnNmb3JtLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhclxuICAgICAgICByZXN1bHQgPSBuZXcgQ1BUcmFuc2Zvcm0oKTtcbiAgICBcbiAgICByZXN1bHQubVswXSA9IHRoaXMubVswXTtcbiAgICByZXN1bHQubVsxXSA9IHRoaXMubVsxXTtcbiAgICByZXN1bHQubVsyXSA9IHRoaXMubVsyXTtcbiAgICByZXN1bHQubVszXSA9IHRoaXMubVszXTtcbiAgICByZXN1bHQubVs0XSA9IHRoaXMubVs0XTtcbiAgICByZXN1bHQubVs1XSA9IHRoaXMubVs1XTtcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuQ1BUcmFuc2Zvcm0ucHJvdG90eXBlLmdldERldGVybWluYW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubVswXSAqIHRoaXMubVszXSAtIHRoaXMubVsxXSAqIHRoaXMubVsyXTtcbn07XG5cbi8qKlxuICogQnJlYWsgZG93biB0aGUgbWF0cml4IGludG8gYSB0cmFuc2xhdGlvbiwgc2NhbGUsIHJvdGF0aW9uLCB0aGVuIHNoZWFyIG9wZXJhdGlvbi5cbiAqXG4gKiB4IG9yIHkgc2NhbGUgbXVzdCBub3QgYmUgemVyby5cbiAqXG4gKiBodHRwOi8vd3d3Lm1hdGhzLWluZm9ybWF0aXF1ZS1qZXV4LmNvbS9ibG9nL2ZyZWRlcmljLz9wb3N0LzIwMTMvMTIvMDEvRGVjb21wb3NpdGlvbi1vZi0yRC10cmFuc2Zvcm0tbWF0cmljZXNcbiAqL1xuQ1BUcmFuc2Zvcm0ucHJvdG90eXBlLmRlY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhclxuICAgICAgICBkZXRlcm1pbmFudCA9IHRoaXMuZ2V0RGV0ZXJtaW5hbnQoKSxcbiAgICAgICAgciA9IE1hdGguc3FydCh0aGlzLm1bMF0gKiB0aGlzLm1bMF0gKyB0aGlzLm1bMV0gKiB0aGlzLm1bMV0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNsYXRlOiB7eDogdGhpcy5tWzRdLCB5OiB0aGlzLm1bNV19LFxuICAgICAgICByb3RhdGU6IE1hdGguc2lnbih0aGlzLm1bMV0pICogTWF0aC5hY29zKHRoaXMubVswXSAvIHIpLFxuICAgICAgICBzY2FsZToge3g6IHIsIHk6IGRldGVybWluYW50IC8gcn0sXG4gICAgICAgIHNoZWFyOiB7eDogTWF0aC5hdGFuKCh0aGlzLm1bMF0gKiB0aGlzLm1bMl0gKyB0aGlzLm1bMV0gKiB0aGlzLm1bM10pIC8gKHIgKiByKSksIHk6IDB9XG4gICAgfTtcbn07XG5cbkNQVHJhbnNmb3JtLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0XG4gICAgICAgIFBMQUNFUyA9IDI7XG5cbiAgICByZXR1cm4gKFwiW1wiICsgdGhpcy5tWzBdLnRvRml4ZWQoUExBQ0VTKSArIFwiIFwiICsgdGhpcy5tWzJdLnRvRml4ZWQoUExBQ0VTKSArIFwiIFwiICsgdGhpcy5tWzRdLnRvRml4ZWQoUExBQ0VTKSArIFwiXVxcblwiICtcbiAgICAgICAgICAgXCJbXCIgKyB0aGlzLm1bMV0udG9GaXhlZChQTEFDRVMpICsgXCIgXCIgKyB0aGlzLm1bM10udG9GaXhlZChQTEFDRVMpICsgXCIgXCIgKyB0aGlzLm1bNV0udG9GaXhlZChQTEFDRVMpICsgXCJdXFxuXCIgK1xuICAgICAgICAgICBcIlswLjAwIDAuMDAgMS4wMF1cIik7XG59O1xuXG5NYXRoLnNpZ24gPSBNYXRoLnNpZ24gfHwgZnVuY3Rpb24oeCkge1xuICAgIHggPSAreDsgLy8gY29udmVydCB0byBhIG51bWJlclxuICAgIGlmICh4ID09PSAwIHx8IGlzTmFOKHgpKSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgICByZXR1cm4geCA+IDAgPyAxIDogLTE7XG59OyIsIi8qXG5cdENoaWNrZW5QYWludFxuXG5cdENoaWNrZW5QYWludCBpcyBhIHRyYW5zbGF0aW9uIG9mIENoaWJpUGFpbnQgZnJvbSBKYXZhIHRvIEphdmFTY3JpcHRcblx0YnkgTmljaG9sYXMgU2hlcmxvY2sgLyBDaGlja2VuIFNtb290aGllLlxuXG5cdENoaWJpUGFpbnQgaXMgQ29weXJpZ2h0IChjKSAyMDA2LTIwMDggTWFyYyBTY2hlZmVyXG5cblx0Q2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcblx0aXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcblx0dGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3Jcblx0KGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuXHRDaGlja2VuUGFpbnQgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcblx0YnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2Zcblx0TUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuXHRHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG5cdFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5cdGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUFZlY3Rvcih4LCB5KSB7XG5cdHRoaXMueCA9IHg7XG5cdHRoaXMueSA9IHk7XG59XG5cbkNQVmVjdG9yLnByb3RvdHlwZS5nZXRMZW5ndGggPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xufTtcblxuLyoqXG4gKlxuICogQHJldHVybnMge0NQVmVjdG9yfSBUaGlzIHZlY3RvciBmb3IgY2hhaW5pbmdcbiAqL1xuQ1BWZWN0b3IucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXJcblx0XHRsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpO1xuXG5cdHRoaXMueCAvPSBsZW5ndGg7XG5cdHRoaXMueSAvPSBsZW5ndGg7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0NQVmVjdG9yfSB0aGF0XG4gKi9cbkNQVmVjdG9yLnByb3RvdHlwZS5nZXREb3RQcm9kdWN0ID0gZnVuY3Rpb24odGhhdCkge1xuXHRyZXR1cm4gdGhpcy54ICogdGhhdC54ICsgdGhpcy55ICogdGhhdC55O1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHNjYWxlRmFjdG9yXG4gKiBAcmV0dXJucyB7Q1BWZWN0b3J9IFRoaXMgdmVjdG9yIGZvciBjaGFpbmluZ1xuICovXG5DUFZlY3Rvci5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbihzY2FsZUZhY3Rvcikge1xuXHR0aGlzLnggKj0gc2NhbGVGYWN0b3I7XG5cdHRoaXMueSAqPSBzY2FsZUZhY3RvcjtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbkNQVmVjdG9yLnByb3RvdHlwZS5nZXRTY2FsZWQgPSBmdW5jdGlvbihzY2FsZUZhY3Rvcikge1xuXHR2YXJcblx0XHRyZXN1bHQgPSBuZXcgQ1BWZWN0b3IodGhpcy54LCB0aGlzLnkpO1xuXG5cdHJlc3VsdC5zY2FsZShzY2FsZUZhY3Rvcik7XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG5cbkNQVmVjdG9yLnByb3RvdHlwZS5nZXRSb3VuZGVkID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBuZXcgQ1BWZWN0b3IoTWF0aC5yb3VuZCh0aGlzLngpLCBNYXRoLnJvdW5kKHRoaXMueSkpO1xufTtcblxuQ1BWZWN0b3IucHJvdG90eXBlLmdldFRydW5jYXRlZCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gbmV3IENQVmVjdG9yKH5+dGhpcy54LCB+fnRoaXMueSk7XG59O1xuXG5DUFZlY3Rvci5wcm90b3R5cGUuZ2V0UGVycGVuZGljdWxhciA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gbmV3IENQVmVjdG9yKC10aGlzLnksIHRoaXMueCk7XG59O1xuXG4vKipcbiAqIEFkZCB0aGF0IHZlY3RvciB0byB0aGlzIG9uZVxuICpcbiAqIEBwYXJhbSB7Q1BWZWN0b3J9IHRoYXRcbiAqIEByZXR1cm5zIHtDUFZlY3Rvcn0gVGhpcyB2ZWN0b3IgZm9yIGNoYWluaW5nXG4gKi9cbkNQVmVjdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih0aGF0KSB7XG5cdHRoaXMueCArPSB0aGF0Lng7XG5cdHRoaXMueSArPSB0aGF0Lnk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFN1YnRyYWN0IHRoYXQgdmVjdG9yIGZyb20gdGhpcyBvbmVcbiAqXG4gKiBAcGFyYW0ge0NQVmVjdG9yfSB0aGF0XG4gKiBAcmV0dXJucyB7Q1BWZWN0b3J9IFRoaXMgdmVjdG9yIGZvciBjaGFpbmluZ1xuICovXG5DUFZlY3Rvci5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbih0aGF0KSB7XG5cdHRoaXMueCAtPSB0aGF0Lng7XG5cdHRoaXMueSAtPSB0aGF0Lnk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogR2V0IHRoZSBzdW0gb2YgdGhpcyB2ZWN0b3IgYW5kIHRoYXQgb25lLlxuICpcbiAqIEBwYXJhbSB7Q1BWZWN0b3J9IHRoYXRcbiAqIEByZXR1cm5zIHtDUFZlY3Rvcn1cbiAqL1xuQ1BWZWN0b3IucHJvdG90eXBlLmdldFN1bSA9IGZ1bmN0aW9uKHRoYXQpIHtcblx0cmV0dXJuIG5ldyBDUFZlY3Rvcih0aGlzLnggKyB0aGF0LngsIHRoaXMueSArIHRoYXQueSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyB2ZWN0b3IgYnkgcDEgLSBwMlxuICpcbiAqIEBwYXJhbSBwMVxuICogQHBhcmFtIHAyXG4gKlxuICogQHJldHVybnMge0NQVmVjdG9yfVxuICovXG5DUFZlY3Rvci5zdWJ0cmFjdFBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikge1xuXHRyZXR1cm4gbmV3IENQVmVjdG9yKHAxLnggLSBwMi54LCBwMS55IC0gcDIueSk7XG59OyIsIi8qXG4gICAgQ2hpY2tlblBhaW50XG4gICAgXG4gICAgQ2hpY2tlblBhaW50IGlzIGEgdHJhbnNsYXRpb24gb2YgQ2hpYmlQYWludCBmcm9tIEphdmEgdG8gSmF2YVNjcmlwdFxuICAgIGJ5IE5pY2hvbGFzIFNoZXJsb2NrIC8gQ2hpY2tlbiBTbW9vdGhpZS5cbiAgICBcbiAgICBDaGliaVBhaW50IGlzIENvcHlyaWdodCAoYykgMjAwNi0yMDA4IE1hcmMgU2NoZWZlclxuXG4gICAgQ2hpY2tlblBhaW50IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIENoaWNrZW5QYWludCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggQ2hpY2tlblBhaW50LiBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDUFdhY29tVGFibGV0KCkge1xuICAgIHZhciBcbiAgICAgICAgcGVuQVBJID0gbnVsbCxcbiAgICAgICAgcGx1Z2luT2JqZWN0LFxuICAgICAgICBcbiAgICAgICAgdGhhdCA9IHRoaXM7XG5cbiAgICAvKipcbiAgICAgKiBJcyB0aGUgcGVuIGN1cnJlbnRseSBpbnRlcmFjdGluZyB3aXRoIHRoZSB0YWJsZXQgc3VyZmFjZT9cbiAgICAgKi9cbiAgICB0aGlzLmlzUGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgICAgcG9pbnRlclR5cGU7XG5cbiAgICAgICAgaWYgKHBlbkFQSSkge1xuICAgICAgICAgICAgcG9pbnRlclR5cGUgPSBwZW5BUEkucG9pbnRlclR5cGU7XG5cbiAgICAgICAgICAgIHJldHVybiBwb2ludGVyVHlwZSA9PSAxIC8qIFBlbiAqLyB8fCBwb2ludGVyVHlwZSA9PSAzIC8qIEVyYXNlciAqLztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRQcmVzc3VyZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocGVuQVBJKSB7XG4gICAgICAgICAgICByZXR1cm4gcGVuQVBJLnByZXNzdXJlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gMS4wO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5wbHVnaW5Mb2FkZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJXYWNvbSB0YWJsZXQgc3VwcG9ydCBsb2FkZWQhXCIpO1xuXG4gICAgICAgIHBlbkFQSSA9IHBsdWdpbk9iamVjdC5wZW5BUEk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmlzVGFibGV0UHJlc2VudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gISFwZW5BUEk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGwgYWZ0ZXIgdGhlIGRvY3VtZW50IGJvZHkgaXMgcmVhZHkgKG5lZWRzIERPTSB0byBiZSByZWFkeSBmb3IgbG9hZGluZyB0aGUgV2Fjb20gcGx1Z2luKS5cbiAgICAgKi9cbiAgICB0aGlzLmRldGVjdFRhYmxldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBDaHJvbWUgaGFzIGRyb3BwZWQgTlBBUEkgc3VwcG9ydCwgc28gdGhlIFdhY29tIHBsdWdpbiBjYW5ub3QgYmUgaW5zdGFsbGVkXG4gICAgICAgIGlmICgvQ2hyb21lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhL09QUi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgICAgLy8gUHJldmVudCBhbiB1Z2x5IFwidGhpcyBwYWdlIGhhcyB0cmllZCB0byBsb2FkIGEgcGx1Z2luIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWRcIiBlcnJvciBtZXNzYWdlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vdCBhdHRlbXB0aW5nIHRvIGxvYWQgV2Fjb20gdGFibGV0IHBsdWdpbiwgc2luY2UgdGhpcyBpcyBDaHJvbWVcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyB0byBsb2FkIFdhY29tIHRhYmxldCBzdXBwb3J0Li4uXCIpO1xuICAgICAgICBcbiAgICAgICAgcGx1Z2luT2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9iamVjdFwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChcImNsYXNzaWRcIiBpbiBwbHVnaW5PYmplY3QpIHsgLy8gSUVcbiAgICAgICAgICAgIHBsdWdpbk9iamVjdC5jbGFzc2lkID0gXCJDTFNJRDowOTJkZmE4Ni01ODA3LTVhOTQtYmYzYi01YTUzYmE5ZTUzMDhcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIHBhcmFtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBhcmFtXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYXJhbS5uYW1lID0gXCJvbmxvYWRcIjtcbiAgICAgICAgICAgIHBhcmFtLnZhbHVlID0gXCJvbldhY29tUGx1Z2luTG9hZGVkXCI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBsdWdpbk9iamVjdC5hcHBlbmRDaGlsZChwYXJhbSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBsdWdpbk9iamVjdC50eXBlID0gXCJhcHBsaWNhdGlvbi94LXdhY29tdGFibGV0cGx1Z2luXCI7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHBsdWdpbk9iamVjdC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgcGx1Z2luT2JqZWN0LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICBwbHVnaW5PYmplY3Qub25sb2FkID0gXCJvbldhY29tUGx1Z2luTG9hZGVkXCI7XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBsdWdpbk9iamVjdCk7XG4gICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCF0aGF0LmlzVGFibGV0UHJlc2VudCgpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb29rcyBsaWtlIHRoZSBXYWNvbSBwbHVnaW4gaXNuJ3QgaW5zdGFsbGVkLCBvciBmYWlsZWQgdG8gbG9hZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMDApO1xuICAgIH07XG59XG5cbkNQV2Fjb21UYWJsZXQuZ2V0UmVmID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKENQV2Fjb21UYWJsZXQuaW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgICBDUFdhY29tVGFibGV0Lmluc3RhbmNlID0gbmV3IENQV2Fjb21UYWJsZXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIENQV2Fjb21UYWJsZXQuaW5zdGFuY2U7XG59XG5cbndpbmRvdy5vbldhY29tUGx1Z2luTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgQ1BXYWNvbVRhYmxldC5nZXRSZWYoKS5wbHVnaW5Mb2FkZWQoKTtcbn0iLCIvKiFcbiAqIGpRdWVyeSB0aHJvdHRsZSAvIGRlYm91bmNlIC0gdjEuMSAtIDMvNy8yMDEwXG4gKiBodHRwOi8vYmVuYWxtYW4uY29tL3Byb2plY3RzL2pxdWVyeS10aHJvdHRsZS1kZWJvdW5jZS1wbHVnaW4vXG4gKiBcbiAqIENvcHlyaWdodCAoYykgMjAxMCBcIkNvd2JveVwiIEJlbiBBbG1hblxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXG4gKiBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvXG4gKi9cblxuLy8gU2NyaXB0OiBqUXVlcnkgdGhyb3R0bGUgLyBkZWJvdW5jZTogU29tZXRpbWVzLCBsZXNzIGlzIG1vcmUhXG4vL1xuLy8gKlZlcnNpb246IDEuMSwgTGFzdCB1cGRhdGVkOiAzLzcvMjAxMCpcbi8vIFxuLy8gUHJvamVjdCBIb21lIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktdGhyb3R0bGUtZGVib3VuY2UtcGx1Z2luL1xuLy8gR2l0SHViICAgICAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS10aHJvdHRsZS1kZWJvdW5jZS9cbi8vIFNvdXJjZSAgICAgICAtIGh0dHA6Ly9naXRodWIuY29tL2Nvd2JveS9qcXVlcnktdGhyb3R0bGUtZGVib3VuY2UvcmF3L21hc3Rlci9qcXVlcnkuYmEtdGhyb3R0bGUtZGVib3VuY2UuanNcbi8vIChNaW5pZmllZCkgICAtIGh0dHA6Ly9naXRodWIuY29tL2Nvd2JveS9qcXVlcnktdGhyb3R0bGUtZGVib3VuY2UvcmF3L21hc3Rlci9qcXVlcnkuYmEtdGhyb3R0bGUtZGVib3VuY2UubWluLmpzICgwLjdrYilcbi8vIFxuLy8gQWJvdXQ6IExpY2Vuc2Vcbi8vIFxuLy8gQ29weXJpZ2h0IChjKSAyMDEwIFwiQ293Ym95XCIgQmVuIEFsbWFuLFxuLy8gRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXG4vLyBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvXG4vLyBcbi8vIEFib3V0OiBFeGFtcGxlc1xuLy8gXG4vLyBUaGVzZSB3b3JraW5nIGV4YW1wbGVzLCBjb21wbGV0ZSB3aXRoIGZ1bGx5IGNvbW1lbnRlZCBjb2RlLCBpbGx1c3RyYXRlIGEgZmV3XG4vLyB3YXlzIGluIHdoaWNoIHRoaXMgcGx1Z2luIGNhbiBiZSB1c2VkLlxuLy8gXG4vLyBUaHJvdHRsZSAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktdGhyb3R0bGUtZGVib3VuY2UvZXhhbXBsZXMvdGhyb3R0bGUvXG4vLyBEZWJvdW5jZSAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktdGhyb3R0bGUtZGVib3VuY2UvZXhhbXBsZXMvZGVib3VuY2UvXG4vLyBcbi8vIEFib3V0OiBTdXBwb3J0IGFuZCBUZXN0aW5nXG4vLyBcbi8vIEluZm9ybWF0aW9uIGFib3V0IHdoYXQgdmVyc2lvbiBvciB2ZXJzaW9ucyBvZiBqUXVlcnkgdGhpcyBwbHVnaW4gaGFzIGJlZW5cbi8vIHRlc3RlZCB3aXRoLCB3aGF0IGJyb3dzZXJzIGl0IGhhcyBiZWVuIHRlc3RlZCBpbiwgYW5kIHdoZXJlIHRoZSB1bml0IHRlc3RzXG4vLyByZXNpZGUgKHNvIHlvdSBjYW4gdGVzdCBpdCB5b3Vyc2VsZikuXG4vLyBcbi8vIGpRdWVyeSBWZXJzaW9ucyAtIG5vbmUsIDEuMy4yLCAxLjQuMlxuLy8gQnJvd3NlcnMgVGVzdGVkIC0gSW50ZXJuZXQgRXhwbG9yZXIgNi04LCBGaXJlZm94IDItMy42LCBTYWZhcmkgMy00LCBDaHJvbWUgNC01LCBPcGVyYSA5LjYtMTAuMS5cbi8vIFVuaXQgVGVzdHMgICAgICAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktdGhyb3R0bGUtZGVib3VuY2UvdW5pdC9cbi8vIFxuLy8gQWJvdXQ6IFJlbGVhc2UgSGlzdG9yeVxuLy8gXG4vLyAxLjEgLSAoMy83LzIwMTApIEZpeGVkIGEgYnVnIGluIDxqUXVlcnkudGhyb3R0bGU+IHdoZXJlIHRyYWlsaW5nIGNhbGxiYWNrc1xuLy8gICAgICAgZXhlY3V0ZWQgbGF0ZXIgdGhhbiB0aGV5IHNob3VsZC4gUmV3b3JrZWQgYSBmYWlyIGFtb3VudCBvZiBpbnRlcm5hbFxuLy8gICAgICAgbG9naWMgYXMgd2VsbC5cbi8vIDEuMCAtICgzLzYvMjAxMCkgSW5pdGlhbCByZWxlYXNlIGFzIGEgc3RhbmQtYWxvbmUgcHJvamVjdC4gTWlncmF0ZWQgb3ZlclxuLy8gICAgICAgZnJvbSBqcXVlcnktbWlzYyByZXBvIHYwLjQgdG8ganF1ZXJ5LXRocm90dGxlIHJlcG8gdjEuMCwgYWRkZWQgdGhlXG4vLyAgICAgICBub190cmFpbGluZyB0aHJvdHRsZSBwYXJhbWV0ZXIgYW5kIGRlYm91bmNlIGZ1bmN0aW9uYWxpdHkuXG5cbi8vIE1ldGhvZDogdGhyb3R0bGVcbi8vXG4vLyBUaHJvdHRsZSBleGVjdXRpb24gb2YgYSBmdW5jdGlvbi4gRXNwZWNpYWxseSB1c2VmdWwgZm9yIHJhdGUgbGltaXRpbmdcbi8vIGV4ZWN1dGlvbiBvZiBoYW5kbGVycyBvbiBldmVudHMgbGlrZSByZXNpemUgYW5kIHNjcm9sbC4gSWYgeW91IHdhbnQgdG9cbi8vIHJhdGUtbGltaXQgZXhlY3V0aW9uIG9mIGEgZnVuY3Rpb24gdG8gYSBzaW5nbGUgdGltZSwgc2VlIHRoZVxuLy8gPGpRdWVyeS5kZWJvdW5jZT4gbWV0aG9kLlxuLy9cbi8vIEluIHRoaXMgdmlzdWFsaXphdGlvbiwgfCBpcyBhIHRocm90dGxlZC1mdW5jdGlvbiBjYWxsIGFuZCBYIGlzIHRoZSBhY3R1YWxcbi8vIGNhbGxiYWNrIGV4ZWN1dGlvbjpcbi8vXG4vLyA+IFRocm90dGxlZCB3aXRoIGBub190cmFpbGluZ2Agc3BlY2lmaWVkIGFzIGZhbHNlIG9yIHVuc3BlY2lmaWVkOlxuLy8gPiB8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8IChwYXVzZSkgfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fFxuLy8gPiBYICAgIFggICAgWCAgICBYICAgIFggICAgWCAgICAgICAgWCAgICBYICAgIFggICAgWCAgICBYICAgIFhcbi8vID5cbi8vID4gVGhyb3R0bGVkIHdpdGggYG5vX3RyYWlsaW5nYCBzcGVjaWZpZWQgYXMgdHJ1ZTpcbi8vID4gfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fCAocGF1c2UpIHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHxcbi8vID4gWCAgICBYICAgIFggICAgWCAgICBYICAgICAgICAgICAgIFggICAgWCAgICBYICAgIFggICAgWFxuLy9cbi8vIFVzYWdlOlxuLy9cbi8vID4gdmFyIHRocm90dGxlZCA9IGpRdWVyeS50aHJvdHRsZSggZGVsYXksIFsgbm9fdHJhaWxpbmcsIF0gY2FsbGJhY2sgKTtcbi8vID5cbi8vID4galF1ZXJ5KCdzZWxlY3RvcicpLmJpbmQoICdzb21lZXZlbnQnLCB0aHJvdHRsZWQgKTtcbi8vID4galF1ZXJ5KCdzZWxlY3RvcicpLnVuYmluZCggJ3NvbWVldmVudCcsIHRocm90dGxlZCApO1xuLy9cbi8vIFRoaXMgYWxzbyB3b3JrcyBpbiBqUXVlcnkgMS40Kzpcbi8vXG4vLyA+IGpRdWVyeSgnc2VsZWN0b3InKS5iaW5kKCAnc29tZWV2ZW50JywgalF1ZXJ5LnRocm90dGxlKCBkZWxheSwgWyBub190cmFpbGluZywgXSBjYWxsYmFjayApICk7XG4vLyA+IGpRdWVyeSgnc2VsZWN0b3InKS51bmJpbmQoICdzb21lZXZlbnQnLCBjYWxsYmFjayApO1xuLy9cbi8vIEFyZ3VtZW50czpcbi8vXG4vLyAgZGVsYXkgLSAoTnVtYmVyKSBBIHplcm8tb3ItZ3JlYXRlciBkZWxheSBpbiBtaWxsaXNlY29uZHMuIEZvciBldmVudFxuLy8gICAgY2FsbGJhY2tzLCB2YWx1ZXMgYXJvdW5kIDEwMCBvciAyNTAgKG9yIGV2ZW4gaGlnaGVyKSBhcmUgbW9zdCB1c2VmdWwuXG4vLyAgbm9fdHJhaWxpbmcgLSAoQm9vbGVhbikgT3B0aW9uYWwsIGRlZmF1bHRzIHRvIGZhbHNlLiBJZiBub190cmFpbGluZyBpc1xuLy8gICAgdHJ1ZSwgY2FsbGJhY2sgd2lsbCBvbmx5IGV4ZWN1dGUgZXZlcnkgYGRlbGF5YCBtaWxsaXNlY29uZHMgd2hpbGUgdGhlXG4vLyAgICB0aHJvdHRsZWQtZnVuY3Rpb24gaXMgYmVpbmcgY2FsbGVkLiBJZiBub190cmFpbGluZyBpcyBmYWxzZSBvclxuLy8gICAgdW5zcGVjaWZpZWQsIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgb25lIGZpbmFsIHRpbWUgYWZ0ZXIgdGhlIGxhc3Rcbi8vICAgIHRocm90dGxlZC1mdW5jdGlvbiBjYWxsLiAoQWZ0ZXIgdGhlIHRocm90dGxlZC1mdW5jdGlvbiBoYXMgbm90IGJlZW5cbi8vICAgIGNhbGxlZCBmb3IgYGRlbGF5YCBtaWxsaXNlY29uZHMsIHRoZSBpbnRlcm5hbCBjb3VudGVyIGlzIHJlc2V0KVxuLy8gIGNhbGxiYWNrIC0gKEZ1bmN0aW9uKSBBIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGRlbGF5IG1pbGxpc2Vjb25kcy5cbi8vICAgIFRoZSBgdGhpc2AgY29udGV4dCBhbmQgYWxsIGFyZ3VtZW50cyBhcmUgcGFzc2VkIHRocm91Z2gsIGFzLWlzLCB0b1xuLy8gICAgYGNhbGxiYWNrYCB3aGVuIHRoZSB0aHJvdHRsZWQtZnVuY3Rpb24gaXMgZXhlY3V0ZWQuXG4vL1xuLy8gUmV0dXJuczpcbi8vXG4vLyAgKEZ1bmN0aW9uKSBBIG5ldywgdGhyb3R0bGVkLCBmdW5jdGlvbi5cblxuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKGRlbGF5LCBub190cmFpbGluZywgY2FsbGJhY2ssIGRlYm91bmNlX21vZGUpIHtcblx0Ly8gQWZ0ZXIgd3JhcHBlciBoYXMgc3RvcHBlZCBiZWluZyBjYWxsZWQsIHRoaXMgdGltZW91dCBlbnN1cmVzIHRoYXRcblx0Ly8gYGNhbGxiYWNrYCBpcyBleGVjdXRlZCBhdCB0aGUgcHJvcGVyIHRpbWVzIGluIGB0aHJvdHRsZWAgYW5kIGBlbmRgXG5cdC8vIGRlYm91bmNlIG1vZGVzLlxuXHR2YXIgdGltZW91dF9pZCxcblxuXHQvLyBLZWVwIHRyYWNrIG9mIHRoZSBsYXN0IHRpbWUgYGNhbGxiYWNrYCB3YXMgZXhlY3V0ZWQuXG5cdFx0bGFzdF9leGVjID0gMDtcblxuXHQvLyBgbm9fdHJhaWxpbmdgIGRlZmF1bHRzIHRvIGZhbHN5LlxuXHRpZiAodHlwZW9mIG5vX3RyYWlsaW5nICE9PSAnYm9vbGVhbicpIHtcblx0XHRkZWJvdW5jZV9tb2RlID0gY2FsbGJhY2s7XG5cdFx0Y2FsbGJhY2sgPSBub190cmFpbGluZztcblx0XHRub190cmFpbGluZyA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdC8vIFRoZSBgd3JhcHBlcmAgZnVuY3Rpb24gZW5jYXBzdWxhdGVzIGFsbCBvZiB0aGUgdGhyb3R0bGluZyAvIGRlYm91bmNpbmdcblx0Ly8gZnVuY3Rpb25hbGl0eSBhbmQgd2hlbiBleGVjdXRlZCB3aWxsIGxpbWl0IHRoZSByYXRlIGF0IHdoaWNoIGBjYWxsYmFja2Bcblx0Ly8gaXMgZXhlY3V0ZWQuXG5cdGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0ZWxhcHNlZCA9ICtuZXcgRGF0ZSgpIC0gbGFzdF9leGVjLFxuXHRcdFx0YXJncyA9IGFyZ3VtZW50cztcblxuXHRcdC8vIEV4ZWN1dGUgYGNhbGxiYWNrYCBhbmQgdXBkYXRlIHRoZSBgbGFzdF9leGVjYCB0aW1lc3RhbXAuXG5cdFx0ZnVuY3Rpb24gZXhlYygpIHtcblx0XHRcdGxhc3RfZXhlYyA9ICtuZXcgRGF0ZSgpO1xuXHRcdFx0Y2FsbGJhY2suYXBwbHkodGhhdCwgYXJncyk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgYGRlYm91bmNlX21vZGVgIGlzIHRydWUgKGF0X2JlZ2luKSB0aGlzIGlzIHVzZWQgdG8gY2xlYXIgdGhlIGZsYWdcblx0XHQvLyB0byBhbGxvdyBmdXR1cmUgYGNhbGxiYWNrYCBleGVjdXRpb25zLlxuXHRcdGZ1bmN0aW9uIGNsZWFyKCkge1xuXHRcdFx0dGltZW91dF9pZCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRpZiAoZGVib3VuY2VfbW9kZSAmJiAhdGltZW91dF9pZCkge1xuXHRcdFx0Ly8gU2luY2UgYHdyYXBwZXJgIGlzIGJlaW5nIGNhbGxlZCBmb3IgdGhlIGZpcnN0IHRpbWUgYW5kXG5cdFx0XHQvLyBgZGVib3VuY2VfbW9kZWAgaXMgdHJ1ZSAoYXRfYmVnaW4pLCBleGVjdXRlIGBjYWxsYmFja2AuXG5cdFx0XHRleGVjKCk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVvdXQuXG5cdFx0dGltZW91dF9pZCAmJiBjbGVhclRpbWVvdXQodGltZW91dF9pZCk7XG5cblx0XHRpZiAoZGVib3VuY2VfbW9kZSA9PT0gdW5kZWZpbmVkICYmIGVsYXBzZWQgPiBkZWxheSkge1xuXHRcdFx0Ly8gSW4gdGhyb3R0bGUgbW9kZSwgaWYgYGRlbGF5YCB0aW1lIGhhcyBiZWVuIGV4Y2VlZGVkLCBleGVjdXRlXG5cdFx0XHQvLyBgY2FsbGJhY2tgLlxuXHRcdFx0ZXhlYygpO1xuXG5cdFx0fSBlbHNlIGlmIChub190cmFpbGluZyAhPT0gdHJ1ZSkge1xuXHRcdFx0Ly8gSW4gdHJhaWxpbmcgdGhyb3R0bGUgbW9kZSwgc2luY2UgYGRlbGF5YCB0aW1lIGhhcyBub3QgYmVlblxuXHRcdFx0Ly8gZXhjZWVkZWQsIHNjaGVkdWxlIGBjYWxsYmFja2AgdG8gZXhlY3V0ZSBgZGVsYXlgIG1zIGFmdGVyIG1vc3Rcblx0XHRcdC8vIHJlY2VudCBleGVjdXRpb24uXG5cdFx0XHQvL1xuXHRcdFx0Ly8gSWYgYGRlYm91bmNlX21vZGVgIGlzIHRydWUgKGF0X2JlZ2luKSwgc2NoZWR1bGUgYGNsZWFyYCB0byBleGVjdXRlXG5cdFx0XHQvLyBhZnRlciBgZGVsYXlgIG1zLlxuXHRcdFx0Ly9cblx0XHRcdC8vIElmIGBkZWJvdW5jZV9tb2RlYCBpcyBmYWxzZSAoYXQgZW5kKSwgc2NoZWR1bGUgYGNhbGxiYWNrYCB0b1xuXHRcdFx0Ly8gZXhlY3V0ZSBhZnRlciBgZGVsYXlgIG1zLlxuXHRcdFx0dGltZW91dF9pZCA9IHNldFRpbWVvdXQoZGVib3VuY2VfbW9kZSA/IGNsZWFyIDogZXhlYywgZGVib3VuY2VfbW9kZSA9PT0gdW5kZWZpbmVkID8gZGVsYXkgLSBlbGFwc2VkIDogZGVsYXkpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgd3JhcHBlciBmdW5jdGlvbi5cblx0cmV0dXJuIHdyYXBwZXI7XG59XG5cbi8vIE1ldGhvZDogalF1ZXJ5LmRlYm91bmNlXG4vL1xuLy8gRGVib3VuY2UgZXhlY3V0aW9uIG9mIGEgZnVuY3Rpb24uIERlYm91bmNpbmcsIHVubGlrZSB0aHJvdHRsaW5nLFxuLy8gZ3VhcmFudGVlcyB0aGF0IGEgZnVuY3Rpb24gaXMgb25seSBleGVjdXRlZCBhIHNpbmdsZSB0aW1lLCBlaXRoZXIgYXQgdGhlXG4vLyB2ZXJ5IGJlZ2lubmluZyBvZiBhIHNlcmllcyBvZiBjYWxscywgb3IgYXQgdGhlIHZlcnkgZW5kLiBJZiB5b3Ugd2FudCB0b1xuLy8gc2ltcGx5IHJhdGUtbGltaXQgZXhlY3V0aW9uIG9mIGEgZnVuY3Rpb24sIHNlZSB0aGUgPGpRdWVyeS50aHJvdHRsZT5cbi8vIG1ldGhvZC5cbi8vXG4vLyBJbiB0aGlzIHZpc3VhbGl6YXRpb24sIHwgaXMgYSBkZWJvdW5jZWQtZnVuY3Rpb24gY2FsbCBhbmQgWCBpcyB0aGUgYWN0dWFsXG4vLyBjYWxsYmFjayBleGVjdXRpb246XG4vL1xuLy8gPiBEZWJvdW5jZWQgd2l0aCBgYXRfYmVnaW5gIHNwZWNpZmllZCBhcyBmYWxzZSBvciB1bnNwZWNpZmllZDpcbi8vID4gfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fCAocGF1c2UpIHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHxcbi8vID4gICAgICAgICAgICAgICAgICAgICAgICAgIFggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYXG4vLyA+XG4vLyA+IERlYm91bmNlZCB3aXRoIGBhdF9iZWdpbmAgc3BlY2lmaWVkIGFzIHRydWU6XG4vLyA+IHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHwgKHBhdXNlKSB8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8XG4vLyA+IFggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYXG4vL1xuLy8gVXNhZ2U6XG4vL1xuLy8gPiB2YXIgZGVib3VuY2VkID0galF1ZXJ5LmRlYm91bmNlKCBkZWxheSwgWyBhdF9iZWdpbiwgXSBjYWxsYmFjayApO1xuLy8gPlxuLy8gPiBqUXVlcnkoJ3NlbGVjdG9yJykuYmluZCggJ3NvbWVldmVudCcsIGRlYm91bmNlZCApO1xuLy8gPiBqUXVlcnkoJ3NlbGVjdG9yJykudW5iaW5kKCAnc29tZWV2ZW50JywgZGVib3VuY2VkICk7XG4vL1xuLy8gVGhpcyBhbHNvIHdvcmtzIGluIGpRdWVyeSAxLjQrOlxuLy9cbi8vID4galF1ZXJ5KCdzZWxlY3RvcicpLmJpbmQoICdzb21lZXZlbnQnLCBqUXVlcnkuZGVib3VuY2UoIGRlbGF5LCBbIGF0X2JlZ2luLCBdIGNhbGxiYWNrICkgKTtcbi8vID4galF1ZXJ5KCdzZWxlY3RvcicpLnVuYmluZCggJ3NvbWVldmVudCcsIGNhbGxiYWNrICk7XG4vL1xuLy8gQXJndW1lbnRzOlxuLy9cbi8vICBkZWxheSAtIChOdW1iZXIpIEEgemVyby1vci1ncmVhdGVyIGRlbGF5IGluIG1pbGxpc2Vjb25kcy4gRm9yIGV2ZW50XG4vLyAgICBjYWxsYmFja3MsIHZhbHVlcyBhcm91bmQgMTAwIG9yIDI1MCAob3IgZXZlbiBoaWdoZXIpIGFyZSBtb3N0IHVzZWZ1bC5cbi8vICBhdF9iZWdpbiAtIChCb29sZWFuKSBPcHRpb25hbCwgZGVmYXVsdHMgdG8gZmFsc2UuIElmIGF0X2JlZ2luIGlzIGZhbHNlIG9yXG4vLyAgICB1bnNwZWNpZmllZCwgY2FsbGJhY2sgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIGBkZWxheWAgbWlsbGlzZWNvbmRzIGFmdGVyXG4vLyAgICB0aGUgbGFzdCBkZWJvdW5jZWQtZnVuY3Rpb24gY2FsbC4gSWYgYXRfYmVnaW4gaXMgdHJ1ZSwgY2FsbGJhY2sgd2lsbCBiZVxuLy8gICAgZXhlY3V0ZWQgb25seSBhdCB0aGUgZmlyc3QgZGVib3VuY2VkLWZ1bmN0aW9uIGNhbGwuIChBZnRlciB0aGVcbi8vICAgIHRocm90dGxlZC1mdW5jdGlvbiBoYXMgbm90IGJlZW4gY2FsbGVkIGZvciBgZGVsYXlgIG1pbGxpc2Vjb25kcywgdGhlXG4vLyAgICBpbnRlcm5hbCBjb3VudGVyIGlzIHJlc2V0KVxuLy8gIGNhbGxiYWNrIC0gKEZ1bmN0aW9uKSBBIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGRlbGF5IG1pbGxpc2Vjb25kcy5cbi8vICAgIFRoZSBgdGhpc2AgY29udGV4dCBhbmQgYWxsIGFyZ3VtZW50cyBhcmUgcGFzc2VkIHRocm91Z2gsIGFzLWlzLCB0b1xuLy8gICAgYGNhbGxiYWNrYCB3aGVuIHRoZSBkZWJvdW5jZWQtZnVuY3Rpb24gaXMgZXhlY3V0ZWQuXG4vL1xuLy8gUmV0dXJuczpcbi8vXG4vLyAgKEZ1bmN0aW9uKSBBIG5ldywgZGVib3VuY2VkLCBmdW5jdGlvbi5cblxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlKGRlbGF5LCBhdF9iZWdpbiwgY2FsbGJhY2spIHtcblx0cmV0dXJuIGNhbGxiYWNrID09PSB1bmRlZmluZWRcblx0XHQ/IHRocm90dGxlKGRlbGF5LCBhdF9iZWdpbiwgZmFsc2UpXG5cdFx0OiB0aHJvdHRsZShkZWxheSwgY2FsbGJhY2ssIGF0X2JlZ2luICE9PSBmYWxzZSk7XG59XG4iXX0=
